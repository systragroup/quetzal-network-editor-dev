{"version":3,"file":"267.build.js","mappings":"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","sources":["webpack://quetzal-network-editor/./src/components/microservices/MatrixRoadCaster.vue?7a4e","webpack://quetzal-network-editor/./src/components/microservices/MatrixRoadCaster.vue?67ca","webpack://quetzal-network-editor/src/components/microservices/MatrixRoadCaster.vue","webpack://quetzal-network-editor/./src/components/microservices/MatrixRoadCaster.vue?ca81","webpack://quetzal-network-editor/./src/components/microservices/MatrixRoadCaster.vue?2012","webpack://quetzal-network-editor/./src/components/microservices/MatrixRoadCaster.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.card[data-v-1c21ddff]{height:95%;overflow-y:auto;padding:2.5rem}.card2[data-v-1c21ddff]{height:95%;overflow-y:auto;padding:2.5rem;margin-right:3rem}.row[data-v-1c21ddff]{height:100%}.col[data-v-1c21ddff]{max-height:100%}.title[data-v-1c21ddff]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-1c21ddff]{font-size:2em;color:var(--v-secondary-dark);font-weight:bold;margin:10px;margin-left:0px}.card button[data-v-1c21ddff]{margin-top:0px}.background[data-v-1c21ddff]{background-color:var(--v-background-base)}div.gallery[data-v-1c21ddff]{margin:5px;background-color:var(--v-white-base);border:1px solid var(--v-lightgrey-base);float:left;width:50rem}div.gallery[data-v-1c21ddff]:hover{border:1px solid var(--v-darkgrey-base)}div.gallery img[data-v-1c21ddff]{width:100%;height:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/microservices/MatrixRoadCaster.vue\"],\"names\":[],\"mappings\":\"AAGA,uBACE,UAAA,CACA,eAAA,CACA,cAAA,CAEF,wBACE,UAAA,CACA,eAAA,CACA,cAAA,CACA,iBAAA,CAEF,sBACE,WAAA,CAEF,sBACE,eAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,6BAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CAEF,8BACE,cAAA,CAEF,6BACE,yCAAA,CAGF,6BACE,UAAA,CACA,oCAAA,CACA,wCAAA,CACA,UAAA,CACA,WAAA,CAGF,mCACE,uCAAA,CAGF,iCACE,UAAA,CACA,WAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.card {\\n  height: 95%;\\n  overflow-y: auto;\\n  padding: 2.5rem;\\n}\\n.card2 {\\n  height: 95%;\\n  overflow-y: auto;\\n  padding: 2.5rem;\\n  margin-right: 3rem;\\n}\\n.row {\\n  height: 100%\\n}\\n.col {\\n  max-height: 100%;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:var(--v-secondary-dark);\\n  font-weight: bold;\\n  margin: 10px;\\n  margin-left: 0px;\\n}\\n.card button {\\n  margin-top: 0px;\\n}\\n.background {\\n  background-color:var(--v-background-base);\\n}\\n\\ndiv.gallery {\\n  margin: 5px;\\n  background-color: var(--v-white-base);\\n  border: 1px solid var(--v-lightgrey-base);\\n  float: left;\\n  width: 50rem;\\n}\\n\\ndiv.gallery:hover {\\n  border: 1px solid var(--v-darkgrey-base);\\n}\\n\\ndiv.gallery img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-row\",\n    { staticClass: \"ma-0 pa-2 background\" },\n    [\n      _c(\n        \"v-col\",\n        [\n          _c(\n            \"v-card\",\n            { staticClass: \"card\" },\n            [\n              _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"ML Matrix Road Caster\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"1) Find n zones centroids using a Kmean clustering on the nodes\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"2) Call the Here Matrix API on random OD ( around 1% is sufficient )\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"3) Interpolate every other OD time with an hybrid Machine learning model\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"4) ajust the speed on the road network to match the routing time with the OD time using an iterative algorithm\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-form\",\n                {\n                  ref: \"form\",\n                  attrs: { \"lazy-validation\": \"\" },\n                  model: {\n                    value: _vm.validForm,\n                    callback: function ($$v) {\n                      _vm.validForm = $$v\n                    },\n                    expression: \"validForm\",\n                  },\n                },\n                _vm._l(_vm.parameters, function (item, key) {\n                  return _c(\n                    \"div\",\n                    { key: key },\n                    [\n                      typeof item.items === \"undefined\"\n                        ? _c(\"v-text-field\", {\n                            attrs: {\n                              type: item.type,\n                              label: _vm.$gettext(item.text),\n                              suffix: item.units,\n                              hint: _vm.showHint ? _vm.$gettext(item.hint) : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: item.rules.map((rule) => _vm.rules[rule]),\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: item.value,\n                              callback: function ($$v) {\n                                _vm.$set(item, \"value\", $$v)\n                              },\n                              expression: \"item.value\",\n                            },\n                          })\n                        : _c(\"v-select\", {\n                            attrs: {\n                              type: item.type,\n                              items: item.items,\n                              label: _vm.$gettext(item.text),\n                              suffix: item.units,\n                              hint: _vm.showHint ? _vm.$gettext(item.hint) : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: item.rules.map((rule) => _vm.rules[rule]),\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: item.value,\n                              callback: function ($$v) {\n                                _vm.$set(item, \"value\", $$v)\n                              },\n                              expression: \"item.value\",\n                            },\n                          }),\n                    ],\n                    1\n                  )\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: {\n                        color: \"success\",\n                        loading: _vm.running || _vm.importStatus === \"RUNNING\",\n                        disabled:\n                          _vm.running ||\n                          _vm.importStatus === \"RUNNING\" ||\n                          !_vm.validForm,\n                      },\n                      on: {\n                        click: function ($event) {\n                          return _vm.run()\n                        },\n                      },\n                    },\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          staticStyle: { \"margin-right\": \"10px\" },\n                          attrs: { small: \"\" },\n                        },\n                        [_vm._v(\"\\n            fa-solid fa-play\\n          \")]\n                      ),\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Run\")) +\n                          \"\\n        \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.importStatus == \"RUNNING\",\n                          expression: \"importStatus == 'RUNNING'\",\n                        },\n                      ],\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.stopRun()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Abort\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-text\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.importStatus == \"RUNNING\",\n                          expression: \"importStatus == 'RUNNING'\",\n                        },\n                      ],\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          ~ \" +\n                          _vm._s(\n                            _vm.timer > 0\n                              ? Math.ceil(_vm.timer / 60)\n                              : _vm.$gettext(\"less than 1\")\n                          ) +\n                          _vm._s(_vm.$gettext(\" minutes remaining\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { icon: \"\", small: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showHint = !_vm.showHint\n                        },\n                      },\n                    },\n                    [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-col\",\n        [\n          _c(\n            \"v-card\",\n            { staticClass: \"card2\" },\n            [\n              _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Calibration Results\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.imgs.length > 0,\n                      expression: \"imgs.length>0\",\n                    },\n                  ],\n                  attrs: { loading: _vm.applying, disabled: _vm.applying },\n                  on: { click: _vm.ApplyResults },\n                },\n                [\n                  _c(\n                    \"v-icon\",\n                    {\n                      staticStyle: { \"margin-right\": \"10px\" },\n                      attrs: { small: \"\" },\n                    },\n                    [_vm._v(\"\\n          fa-solid fa-upload\\n        \")]\n                  ),\n                  _vm._v(\n                    \"\\n        \" +\n                      _vm._s(_vm.$gettext(\"Apply Road links to project\")) +\n                      \"\\n      \"\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.imgs.length > 0,\n                      expression: \"imgs.length>0\",\n                    },\n                  ],\n                  attrs: { loading: _vm.exporting, disabled: _vm.exporting },\n                  on: { click: _vm.download },\n                },\n                [\n                  _c(\n                    \"v-icon\",\n                    {\n                      staticStyle: { \"margin-right\": \"10px\" },\n                      attrs: { small: \"\" },\n                    },\n                    [_vm._v(\"\\n          fa-solid fa-download\\n        \")]\n                  ),\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Download\")) + \"\\n      \"\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm.error\n                ? _c(\n                    \"v-alert\",\n                    {\n                      attrs: {\n                        dense: \"\",\n                        outlined: \"\",\n                        text: \"\",\n                        type: \"error\",\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(\n                            _vm.$gettext(\n                              \"Service ended with an execution error or have been aborted. \\\n          Please retry. If the problem persist, contact us.\"\n                            )\n                          ) +\n                          \"\\n        \"\n                      ),\n                      _vm._l(Object.keys(_vm.errorMessage), function (key) {\n                        return _c(\"p\", { key: key }, [\n                          _c(\"b\", [_vm._v(_vm._s(key) + \": \")]),\n                          _vm._v(_vm._s(_vm.errorMessage[key]) + \"\\n        \"),\n                        ])\n                      }),\n                    ],\n                    2\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm._l(_vm.imgs, function (img, key) {\n                return _c(\n                  \"div\",\n                  { key: key, staticClass: \"gallery\" },\n                  [\n                    _c(\"v-img\", {\n                      attrs: { src: img, alt: \"image\", contain: \"\" },\n                    }),\n                  ],\n                  1\n                )\n              }),\n            ],\n            2\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport s3 from '@src/AWSClient'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'MatrixRoadCaster',\n  components: {\n  },\n\n  data () {\n    return {\n      imgs: [],\n      exporting: false,\n      applying: false,\n      validForm: true,\n\n      parameters: [{\n        name: 'num_zones',\n        text: 'number of zones',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'number of zones. road nodes will be aggregate to form centroids',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'train_size',\n        text: 'number of OD (api call)',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'number of OD to get from the API, the rest will be interpolated with ML',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'date_time',\n        text: 'date Time',\n        value: null,\n        type: 'String',\n        units: '',\n        hint: 'DateTime in the past. (YYYY-MM-DDTHH:MM:SS(UTC-timezone) (-04:00 for montreal))',\n        rules: [\n          'required', 'dateTimeRule',\n        ],\n      },\n      {\n        name: 'ff_time_col',\n        text: 'freeflow time on roads',\n        value: null,\n        items: this.$store.getters.rlineAttributes,\n        type: 'String',\n        units: '',\n        hint: 'road links time (link length / speed) to use as a first approximation. this is the freeflow speed, or speed limit',\n        rules: [\n          'required',\n        ],\n      },\n      {\n        name: 'max_speed',\n        text: 'max speed on road',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'Maximum allowed speed on a road. applying an OD matrix on the road network could result il unrealistic speed if not used.',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'num_random_od',\n        text: 'number of OD to plot',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'number of OD calibration plot to produce. those are random OD.',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'hereApiKey',\n        text: 'HERE api key',\n        value: null,\n        type: 'String',\n        units: '',\n        hint: 'HERE api key to download a set of OD',\n        rules: [\n          'required',\n        ],\n      },\n      ],\n\n      showHint: false,\n      // eslint-disable-next-line max-len, no-useless-escape\n      re: /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/,\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        largerThanZero: v => v > 0 || $gettext('should be larger than 0'),\n        nonNegative: v => v >= 0 || $gettext('should be larger or equal to 0'),\n        dateTimeRule: v => this.re.test(v) || $gettext('invalid date time'),\n      },\n\n    }\n  },\n  computed: {\n    bucket () { return this.$store.getters['runMRC/bucket'] },\n    callID () { return this.$store.getters['runMRC/callID'] },\n    timer () { return this.$store.getters['runMRC/timer'] },\n    importStatus () { return this.$store.getters['runMRC/status'] },\n    running () { return this.$store.getters['runMRC/running'] },\n    error () { return this.$store.getters['runMRC/error'] },\n    errorMessage () { return this.$store.getters['runMRC/errorMessage'] },\n\n  },\n  watch: {\n    importStatus (val) {\n      if (val === 'SUCCEEDED') {\n        this.getImagesURL()\n      }\n    },\n  },\n  created () {\n    // init params to the store ones.\n    const storeParams = this.$store.getters['runMRC/parameters']\n    // eslint-disable-next-line no-return-assign\n    this.parameters.forEach(param => param.value = storeParams[param.name])\n    // this.callID = '7617f433-b80e-4570-bacd-9b26dc1c1311'\n    // if null, we create a uuid. else we fetch the data on S3\n    if (this.callID) {\n      this.getImagesURL()\n    }\n  },\n  methods: {\n    run () {\n      if (!this.$refs.form.validate()) { return }\n      this.$store.commit('runMRC/setCallID')\n      const inputs = { callID: this.callID }\n      this.parameters.forEach(item => {\n        inputs[item.name] = item.value\n      })\n      this.$store.dispatch('runMRC/startExecution', {\n        rlinks: this.$store.getters.rlinks,\n        rnodes: this.$store.getters.rnodes,\n        parameters: inputs,\n      })\n    },\n    stopRun () { this.$store.dispatch('runMRC/stopExecution') },\n\n    async ApplyResults () {\n      this.applying = true\n      const rlinks = await s3.readJson(this.bucket, this.callID.concat('/road_links.geojson'))\n      this.$store.commit('loadrLinks', rlinks)\n      const rnodes = await s3.readJson(this.bucket, this.callID.concat('/road_nodes.geojson'))\n      this.$store.commit('loadrNodes', rnodes)\n      this.applying = false\n      this.$store.commit('changeNotification',\n        { text: $gettext('Road links applied!'), autoClose: true, color: 'success' })\n    },\n    async getImagesURL () {\n      const outputsFiles = await s3.listFiles(this.bucket, this.callID + '/')\n      const filesNames = outputsFiles.filter(name => name.endsWith('.png'))\n      for (const file of filesNames) {\n        const url = await s3.getImagesURL(this.bucket, file)\n        this.imgs.push(url)\n      }\n    },\n    async download () {\n      this.exporting = true\n      await s3.downloadFolder(this.bucket, this.callID.concat('/'))\n      this.exporting = false\n    },\n\n  },\n}\n</script>\n<template>\n  <v-row class=\"ma-0 pa-2 background\">\n    <v-col>\n      <v-card class=\"card\">\n        <v-card-title class=\"subtitle\">\n          {{ $gettext('ML Matrix Road Caster') }}\n        </v-card-title>\n        <p> {{ $gettext('1) Find n zones centroids using a Kmean clustering on the nodes') }}</p>\n        <p> {{ $gettext('2) Call the Here Matrix API on random OD ( around 1% is sufficient )') }}</p>\n        <p> {{ $gettext('3) Interpolate every other OD time with an hybrid Machine learning model') }}</p>\n        <p> {{ $gettext('4) ajust the speed on the road network to match the routing time with the OD time using an iterative algorithm') }}</p>\n\n        <v-form\n          ref=\"form\"\n          v-model=\"validForm\"\n          lazy-validation\n        >\n          <div\n            v-for=\"(item, key) in parameters\"\n            :key=\"key\"\n          >\n            <v-text-field\n              v-if=\"typeof item.items === 'undefined'\"\n              v-model=\"item.value\"\n              :type=\"item.type\"\n              :label=\"$gettext(item.text)\"\n              :suffix=\"item.units\"\n              :hint=\"showHint? $gettext(item.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"item.rules.map((rule) => rules[rule])\"\n              required\n              @wheel=\"()=>{}\"\n            />\n            <v-select\n              v-else\n              v-model=\"item.value\"\n              :type=\"item.type\"\n              :items=\"item.items\"\n              :label=\"$gettext(item.text)\"\n              :suffix=\"item.units\"\n              :hint=\"showHint? $gettext(item.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"item.rules.map((rule) => rules[rule])\"\n              required\n              @wheel=\"()=>{}\"\n            />\n          </div>\n        </v-form>\n        <v-card-actions>\n          <v-btn\n            color=\"success\"\n            :loading=\"running || importStatus === 'RUNNING'\"\n            :disabled=\"running || importStatus === 'RUNNING' || !validForm\"\n            @click=\"run()\"\n          >\n            <v-icon\n              small\n              style=\"margin-right: 10px;\"\n            >\n              fa-solid fa-play\n            </v-icon>\n            {{ $gettext(\"Run\") }}\n          </v-btn>\n          <v-btn\n            v-show=\"importStatus == 'RUNNING'\"\n            color=\"grey\"\n            text\n            @click=\"stopRun()\"\n          >\n            {{ $gettext(\"Abort\") }}\n          </v-btn>\n          <v-card-text v-show=\"importStatus == 'RUNNING'\">\n            ~ {{ timer>0? Math.ceil(timer/60): $gettext('less than 1') }}{{ $gettext(' minutes remaining') }}\n          </v-card-text>\n          <v-spacer />\n          <v-btn\n            icon\n            small\n            @click=\"showHint = !showHint\"\n          >\n            <v-icon>far fa-question-circle small</v-icon>\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-col>\n    <v-col>\n      <v-card class=\"card2\">\n        <v-card-title class=\"subtitle\">\n          {{ $gettext('Calibration Results') }}\n        </v-card-title>\n        <v-btn\n          v-show=\"imgs.length>0\"\n          :loading=\"applying\"\n          :disabled=\"applying\"\n          @click=\"ApplyResults\"\n        >\n          <v-icon\n            small\n            style=\"margin-right: 10px;\"\n          >\n            fa-solid fa-upload\n          </v-icon>\n          {{ $gettext('Apply Road links to project') }}\n        </v-btn>\n        <v-btn\n          v-show=\"imgs.length>0\"\n          :loading=\"exporting\"\n          :disabled=\"exporting\"\n          @click=\"download\"\n        >\n          <v-icon\n            small\n            style=\"margin-right: 10px;\"\n          >\n            fa-solid fa-download\n          </v-icon>\n          {{ $gettext('Download') }}\n        </v-btn>\n        <v-alert\n          v-if=\"error\"\n          dense\n          outlined\n          text\n          type=\"error\"\n        >\n          {{ $gettext(\"Service ended with an execution error or have been aborted. \\\n            Please retry. If the problem persist, contact us.\") }}\n          <p\n            v-for=\"key in Object.keys(errorMessage)\"\n            :key=\"key\"\n          >\n            <b>{{ key }}: </b>{{ errorMessage[key] }}\n          </p>\n        </v-alert>\n        <div\n          v-for=\"(img,key) in imgs\"\n          :key=\"key\"\n          class=\"gallery\"\n        >\n          <v-img\n            :src=\"img\"\n            :alt=\"'image'\"\n            contain\n          />\n        </div>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<style lang=\"scss\" scoped>\n\n.card {\n  height: 95%;\n  overflow-y: auto;\n  padding: 2.5rem;\n}\n.card2 {\n  height: 95%;\n  overflow-y: auto;\n  padding: 2.5rem;\n  margin-right: 3rem;\n}\n.row {\n  height: 100%\n}\n.col {\n  max-height: 100%;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:var(--v-secondary-dark);\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0px;\n}\n.card button {\n  margin-top: 0px;\n}\n.background {\n  background-color:var(--v-background-base);\n}\n\ndiv.gallery {\n  margin: 5px;\n  background-color: var(--v-white-base);\n  border: 1px solid var(--v-lightgrey-base);\n  float: left;\n  width: 50rem;\n}\n\ndiv.gallery:hover {\n  border: 1px solid var(--v-darkgrey-base);\n}\n\ndiv.gallery img {\n  width: 100%;\n  height: auto;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=style&index=0&id=1c21ddff&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=style&index=0&id=1c21ddff&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MatrixRoadCaster.vue?vue&type=template&id=1c21ddff&scoped=true&\"\nimport script from \"./MatrixRoadCaster.vue?vue&type=script&lang=js&\"\nexport * from \"./MatrixRoadCaster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MatrixRoadCaster.vue?vue&type=style&index=0&id=1c21ddff&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c21ddff\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_c","_self","staticClass","_v","_s","$gettext","ref","attrs","model","value","validForm","callback","$$v","expression","_l","parameters","item","key","items","type","label","text","suffix","units","hint","showHint","rules","map","rule","required","on","wheel","$set","color","loading","running","importStatus","disabled","click","$event","run","staticStyle","small","directives","name","rawName","stopRun","timer","Math","ceil","icon","imgs","length","applying","ApplyResults","exporting","download","error","dense","outlined","Object","keys","errorMessage","_e","img","src","alt","contain","_withStripped","components","data","$store","getters","rlineAttributes","re","v","largerThanZero","nonNegative","dateTimeRule","test","computed","bucket","callID","watch","val","getImagesURL","created","storeParams","forEach","param","methods","$refs","form","validate","commit","inputs","dispatch","rlinks","rnodes","async","readJson","concat","autoClose","filesNames","listFiles","filter","endsWith","file","url","downloadFolder","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}