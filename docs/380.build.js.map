{"version":3,"file":"380.build.js","mappings":"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","sources":["webpack://quetzal-network-editor/./src/components/results/ResultsSettings.vue?0124","webpack://quetzal-network-editor/./src/components/results/ResultsSidePanel.vue?4c12","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?ac79","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?aa4d","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?231d","webpack://quetzal-network-editor/./src/components/results/ResultsSidePanel.vue?7b20","webpack://quetzal-network-editor/src/components/results/ResultsSidePanel.vue","webpack://quetzal-network-editor/./src/components/results/ResultsSidePanel.vue?9131","webpack://quetzal-network-editor/./src/components/results/ResultsSidePanel.vue?596a","webpack://quetzal-network-editor/./src/components/results/ResultsSidePanel.vue","webpack://quetzal-network-editor/./src/components/results/MapResults.vue?e5ae","webpack://quetzal-network-editor/./node_modules/@turf/centroid/dist/es/index.js","webpack://quetzal-network-editor/./src/components/results/MapResults.vue?f074","webpack://quetzal-network-editor/src/components/results/MapResults.vue","webpack://quetzal-network-editor/./src/components/results/MapResults.vue","webpack://quetzal-network-editor/./src/components/results/ResultsSettings.vue?64ca","webpack://quetzal-network-editor/src/components/results/ResultsSettings.vue","webpack://quetzal-network-editor/./src/components/results/ResultsSettings.vue?b2ea","webpack://quetzal-network-editor/./src/components/results/ResultsSettings.vue?c14d","webpack://quetzal-network-editor/./src/components/results/ResultsSettings.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?7ca6","webpack://quetzal-network-editor/src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?631d","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?8a2f","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?fec0","webpack://quetzal-network-editor/src/pages/ResultMap.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?7f10","webpack://quetzal-network-editor/./src/pages/ResultMap.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.gradient[data-v-353c3f70]{width:60%;white-space:nowrap;position:relative;display:inline-block;padding-top:10px;padding-bottom:10px}.gradient .domain-title[data-v-353c3f70]{position:absolute;padding-left:.5rem;padding-top:.5rem;text-align:center;font-size:16px}.grad-step[data-v-353c3f70]{display:inline-block;height:40px;width:1%}.subtitle[data-v-353c3f70]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.setting[data-v-353c3f70]{left:98%;width:0px;z-index:2;display:flex;position:relative;align-items:center;justify-content:center;height:50px}.setting-card[data-v-353c3f70]{overflow-y:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/results/ResultsSettings.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CAIJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA,CAGJ,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAIF,0BACE,QAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CAEF,+BACA,eAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 60%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    padding-left:0.5rem;\\n    padding-top:0.5rem;\\n    text-align: center;\\n    font-size: 16px;\\n\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 40px;\\n    width: 1%;\\n}\\n\\n.subtitle {\\n  font-size: 2em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n\\n.setting {\\n  left: 98%;\\n  width: 0px;\\n  z-index: 2;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n}\\n.setting-card {\\noverflow-y:auto;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-5540706d]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.title[data-v-5540706d]{color:#fff}.crop[data-v-5540706d]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.preset[data-v-5540706d]{padding:.5rem .5rem .5rem 1rem;border-bottom:solid var(--v-primarydark-base);background-color:var(--v-secondary-base);display:flex;justify-content:space-between}.layer[data-v-5540706d]{padding:.5rem .5rem .5rem .5rem;background-color:var(--v-secondary-base);display:flex;justify-content:space-between}.left-panel-close[data-v-5540706d]{transition:.3s}.left-panel-content[data-v-5540706d]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-5540706d]{padding:0}.left-panel-toggle-btn[data-v-5540706d]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-5540706d]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.scrollable[data-v-5540706d]{overflow-y:scroll}.drawer-list-item[data-v-5540706d]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-5540706d]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/results/ResultsSidePanel.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAEF,wBACE,UAAA,CAEF,uBACE,kBAAA,CACA,eAAA,CACA,sBAAA,CAEF,yBACE,8BAAA,CACA,6CAAA,CACA,wCAAA,CACA,YAAA,CACA,6BAAA,CAEF,wBACE,+BAAA,CACA,wCAAA,CACA,YAAA,CACA,6BAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color: var(--v-primarydark-base);\\n  transition: 0.3s;\\n  position: absolute;\\n  display: flex;\\n  z-index: 20;\\n}\\n.title  {\\n  color:white;\\n}\\n.crop {\\n  white-space: nowrap;     /* Prevents text from wrapping to the next line */\\n  overflow: hidden;        /* Hides any overflowed content */\\n  text-overflow: ellipsis; /* Displays an ellipsis (...) when text overflows */\\n}\\n.preset {\\n  padding: 0.5rem 0.5rem 0.5rem 1rem;\\n  border-bottom: solid var(--v-primarydark-base);;\\n  background-color: var(--v-secondary-base);\\n  display:flex;\\n  justify-content: space-between;\\n}\\n.layer {\\n  padding: 0.5rem 0.5rem 0.5rem 0.5rem;\\n  background-color: var(--v-secondary-base);\\n  display:flex;\\n  justify-content: space-between;\\n}\\n\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: var(--v-primarydark-base);\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.gradient[data-v-77d246dd]{width:85%;white-space:nowrap;position:relative;display:inline-block;padding-top:20px;padding-bottom:15px}.gradient .domain-title[data-v-77d246dd]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;top:6px}.gradient .domain-min[data-v-77d246dd]{position:absolute;left:0;font-size:11px;bottom:5px}.gradient .domain-med[data-v-77d246dd]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;bottom:5px}.gradient .domain-max[data-v-77d246dd]{position:absolute;right:0;font-size:11px;bottom:5px}.grad-step[data-v-77d246dd]{display:inline-block;height:20px;width:1%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/MapLegend.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,OAAA,CAIJ,uCACI,iBAAA,CACA,MAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,OAAA,CACA,cAAA,CACA,UAAA,CAGJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 85%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 20px;\\n    padding-bottom: 15px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    top: 6px;\\n\\n}\\n\\n.gradient .domain-min {\\n    position: absolute;\\n    left: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-med {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-max {\\n    position: absolute;\\n    right: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 20px;\\n    width: 1%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-view[data-v-b07f7508]{height:calc(100% - 50px);width:100%;display:flex}.left-panel[data-v-b07f7508]{height:100%;position:absolute}.legend-open[data-v-b07f7508]{left:350px;width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-white-base);border:thin solid var(--v-mediumgrey-base)}.legend-close[data-v-b07f7508]{left:50px;width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-lightgrey);border:thin solid #c4c4c4}.hist[data-v-b07f7508]{position:relative;bottom:-10px;flex-grow:1;height:20px;background-color:#e71111;text-align:center;width:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultMap.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA,CAGF,6BACE,WAAA,CACA,iBAAA,CAGF,8BACE,UAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,oCAAA,CACA,0CAAA,CAEF,+BACE,SAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,mCAAA,CACA,yBAAA,CAGF,uBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n\\n}\\n.left-panel {\\n  height: 100%;\\n  position: absolute;\\n\\n}\\n.legend-open {\\n  left: 350px;\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-white-base);\\n  border: thin solid var(--v-mediumgrey-base);\\n}\\n.legend-close {\\n  left: 50px;\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-lightgrey);\\n  border: thin solid rgb(196, 196, 196);\\n}\\n\\n.hist {\\n  position: relative;\\n  bottom: -10px;\\n  flex-grow: 1;\\n  height: 20px;\\n  background-color: rgba(231, 17, 17);\\n  text-align: center;\\n  width:10px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\"ResultsSidePanel\", {\n        ref: \"sidePanel\",\n        attrs: {\n          \"selected-category\": _vm.selectedCategory,\n          \"selected-filter\": _vm.selectedFilter,\n          \"layer-choices\": _vm.availableLayers,\n          \"selected-layer\": _vm.selectedLayer,\n          \"filter-choices\": _vm.filterChoices,\n          \"filtered-cat\": _vm.filteredCategory,\n          \"preset-choices\": _vm.availablePresets,\n          \"selected-preset\": _vm.selectedPreset,\n        },\n        on: {\n          \"update-selectedCategory\": _vm.updateSelectedCategory,\n          \"update-selectedFilter\": _vm.updateSelectedFilter,\n          \"select-layer\": _vm.changeLayer,\n          \"select-preset\": _vm.changePreset,\n          \"delete-preset\": _vm.clickDeletePreset,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"ResultsSettings\", {\n        attrs: {\n          \"display-settings\": _vm.displaySettings,\n          \"feature-choices\": _vm.filterChoices,\n        },\n        on: { submit: _vm.applySettings, \"save-preset\": _vm.clickSavePreset },\n        model: {\n          value: _vm.showSettings,\n          callback: function ($$v) {\n            _vm.showSettings = $$v\n          },\n          expression: \"showSettings\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"left-panel\" }, [\n        _c(\n          \"div\",\n          {\n            class: _vm.$store.getters.showLeftPanel\n              ? \"legend-open elevation-4\"\n              : \"legend-close elevation-4\",\n            style: { top: `${_vm.windowHeight}px` },\n          },\n          [\n            _c(\"MapLegend\", {\n              attrs: {\n                \"color-scale\": _vm.colorScale,\n                \"display-settings\": _vm.displaySettings,\n              },\n            }),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"MapResults\", {\n        key: _vm.$store.getters[\"results/type\"],\n        attrs: {\n          links: _vm.visibleLinks,\n          \"selected-feature\": _vm.displaySettings.selectedFeature,\n          opacity: _vm.displaySettings.opacity,\n          offset: _vm.displaySettings.offset,\n        },\n        on: { selectClick: _vm.featureClicked },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { scrollable: \"\", persistent: \"\", \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.showDialog = false\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"60rem\" } },\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"link Properties\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\n                    \"v-list\",\n                    _vm._l(_vm.form, function (value, key) {\n                      return _c(\"v-text-field\", {\n                        key: key,\n                        attrs: {\n                          value: value,\n                          label: key,\n                          filled: \"\",\n                          readonly: \"\",\n                        },\n                      })\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"success\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"ok\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"400\" },\n          on: {\n            keydown: function ($event) {\n              if (\n                !$event.type.indexOf(\"key\") &&\n                _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])\n              )\n                return null\n              _vm.showPresetDialog = false\n            },\n          },\n          model: {\n            value: _vm.showPresetDialog,\n            callback: function ($$v) {\n              _vm.showPresetDialog = $$v\n            },\n            expression: \"showPresetDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Create or modify preset\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        { attrs: { cols: \"12\" } },\n                        [\n                          _c(\n                            \"v-form\",\n                            {\n                              ref: \"form\",\n                              attrs: { \"lazy-validation\": \"\" },\n                              on: {\n                                submit: function ($event) {\n                                  $event.preventDefault()\n                                  return _vm.createPreset.apply(null, arguments)\n                                },\n                              },\n                            },\n                            [\n                              _c(\"v-text-field\", {\n                                attrs: {\n                                  autofocus: \"\",\n                                  rules: [(value) => !!value || \"Required.\"],\n                                  label: _vm.$gettext(\"name\"),\n                                },\n                                model: {\n                                  value: _vm.inputName,\n                                  callback: function ($$v) {\n                                    _vm.inputName = $$v\n                                  },\n                                  expression: \"inputName\",\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showPresetDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: { click: _vm.createPreset },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"ok\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"400\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDeleteDialog = false\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.deletePreset.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDeleteDialog,\n            callback: function ($$v) {\n              _vm.showDeleteDialog = $$v\n            },\n            expression: \"showDeleteDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(\n                      _vm.$gettext(\"Delete\") + \" \" + _vm.presetToDelete + \" ?\"\n                    ) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDeleteDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"error\", text: \"\" },\n                      on: { click: _vm.deletePreset },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"delete\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? \"350px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondarydark\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n            ],\n            staticClass: \"left-panel-content\",\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"div\",\n                    { staticClass: \"preset\" },\n                    [\n                      _c(\n                        \"v-tooltip\",\n                        {\n                          attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"v-icon\",\n                                    _vm._g(\n                                      _vm._b(\n                                        {\n                                          style: { color: \"white\" },\n                                          attrs: { dark: \"\" },\n                                        },\n                                        \"v-icon\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [\n                                      _vm._v(\n                                        \"\\n                  fas fa-sliders-h\\n                \"\n                                      ),\n                                    ]\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"Presets\")))]),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-menu\",\n                        {\n                          attrs: {\n                            \"close-delay\": \"100\",\n                            \"offset-y\": \"\",\n                            transition: \"slide-y-transition\",\n                          },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"span\",\n                                    _vm._g(\n                                      _vm._b(\n                                        { staticClass: \"title crop\" },\n                                        \"span\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.selectedPreset ||\n                                            _vm.$gettext(\"Presets\")\n                                        )\n                                      ),\n                                    ]\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                          model: {\n                            value: _vm.presetsMenu,\n                            callback: function ($$v) {\n                              _vm.presetsMenu = $$v\n                            },\n                            expression: \"presetsMenu\",\n                          },\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list\",\n                            _vm._l(_vm.presetChoices, function (preset, key) {\n                              return _c(\n                                \"v-list-item\",\n                                {\n                                  key: key,\n                                  attrs: { link: \"\" },\n                                  on: {\n                                    click: () =>\n                                      _vm.$emit(\"select-preset\", preset),\n                                  },\n                                },\n                                [\n                                  _c(\"v-list-item-title\", [\n                                    _vm._v(\n                                      \"\\n                    \" +\n                                        _vm._s(preset.name) +\n                                        \"\\n                  \"\n                                    ),\n                                  ]),\n                                  _vm._v(\" \"),\n                                  _c(\n                                    \"v-btn\",\n                                    {\n                                      staticClass: \"ml-10\",\n                                      attrs: { icon: \"\" },\n                                      on: {\n                                        click: function ($event) {\n                                          $event.stopPropagation()\n                                          return (() =>\n                                            _vm.$emit(\n                                              \"delete-preset\",\n                                              preset\n                                            )).apply(null, arguments)\n                                        },\n                                      },\n                                    },\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { attrs: { small: \"\", color: \"grey\" } },\n                                        [\n                                          _vm._v(\n                                            \"\\n                      fas fa-trash\\n                    \"\n                                          ),\n                                        ]\n                                      ),\n                                    ],\n                                    1\n                                  ),\n                                ],\n                                1\n                              )\n                            }),\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          style: { color: \"white\" },\n                          attrs: { icon: \"\", dark: \"\" },\n                          on: {\n                            click: function ($event) {\n                              _vm.presetsMenu = !_vm.presetsMenu\n                            },\n                          },\n                        },\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\n                              \" \" +\n                                _vm._s(\n                                  _vm.presetsMenu\n                                    ? \"fas fa-chevron-left\"\n                                    : \"fas fa-chevron-down\"\n                                )\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"layer\" },\n                    [\n                      _c(\n                        \"v-tooltip\",\n                        {\n                          attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"v-btn\",\n                                    _vm._g(\n                                      _vm._b(\n                                        {\n                                          style: { color: \"white\" },\n                                          attrs: { icon: \"\" },\n                                          on: {\n                                            click: function ($event) {\n                                              return _vm.showAll()\n                                            },\n                                          },\n                                        },\n                                        \"v-btn\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { staticClass: \"list-item-icon\" },\n                                        [\n                                          _vm._v(\n                                            \"\\n                    \" +\n                                              _vm._s(\n                                                _vm.selectedCat.length > 0\n                                                  ? \"fa-eye fa\"\n                                                  : \"fa-eye-slash fa\"\n                                              ) +\n                                              \"\\n                  \"\n                                          ),\n                                        ]\n                                      ),\n                                    ],\n                                    1\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\"span\", [\n                            _vm._v(\n                              _vm._s(\n                                _vm.selectedCat.length > 0\n                                  ? _vm.$gettext(\"Hide All\")\n                                  : _vm.$gettext(\"Show All\")\n                              )\n                            ),\n                          ]),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-menu\",\n                        {\n                          attrs: {\n                            \"close-delay\": \"100\",\n                            \"offset-y\": \"\",\n                            transition: \"slide-y-transition\",\n                          },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"span\",\n                                    _vm._g(\n                                      _vm._b(\n                                        { staticClass: \"title crop\" },\n                                        \"span\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [_vm._v(_vm._s(_vm.selectedLayer))]\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                          model: {\n                            value: _vm.openMenu,\n                            callback: function ($$v) {\n                              _vm.openMenu = $$v\n                            },\n                            expression: \"openMenu\",\n                          },\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list\",\n                            _vm._l(_vm.layerChoices, function (layer, key) {\n                              return _c(\n                                \"v-list-item\",\n                                {\n                                  key: key,\n                                  attrs: { link: \"\" },\n                                  on: {\n                                    click: () =>\n                                      _vm.$emit(\"select-layer\", layer),\n                                  },\n                                },\n                                [\n                                  _c(\"v-list-item-title\", [\n                                    _vm._v(\n                                      \"\\n                    \" +\n                                        _vm._s(layer) +\n                                        \"\\n                  \"\n                                    ),\n                                  ]),\n                                ],\n                                1\n                              )\n                            }),\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          style: { color: \"white\" },\n                          attrs: { icon: \"\", dark: \"\" },\n                          on: {\n                            click: function ($event) {\n                              _vm.openMenu = !_vm.openMenu\n                            },\n                          },\n                        },\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\n                              \" \" +\n                                _vm._s(\n                                  _vm.openMenu\n                                    ? \"fas fa-chevron-left\"\n                                    : \"fas fa-chevron-down\"\n                                )\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card\",\n                    {\n                      staticClass: \"mx-auto\",\n                      attrs: {\n                        \"max-width\": \"100%\",\n                        \"min-width\": \"100%\",\n                        height: _vm.windowHeight,\n                      },\n                    },\n                    [\n                      _c(\n                        \"v-list-item\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.filterChoices,\n                              \"prepend-icon\": \"fas fa-filter\",\n                              label: _vm.$gettext(\"filter\"),\n                              \"item-color\": \"secondarydark\",\n                              color: \"secondarydark\",\n                            },\n                            model: {\n                              value: _vm.vmodelSelectedFilter,\n                              callback: function ($$v) {\n                                _vm.vmodelSelectedFilter = $$v\n                              },\n                              expression: \"vmodelSelectedFilter\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-virtual-scroll\", {\n                        attrs: {\n                          items: _vm.filteredCat,\n                          \"item-height\": 45,\n                          height: _vm.windowHeight - 80,\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"default\",\n                            fn: function ({ item }) {\n                              return [\n                                _c(\n                                  \"v-list-item\",\n                                  {\n                                    key: _vm.vmodelSelectedFilter.concat(item),\n                                    staticClass: \"pl-2\",\n                                  },\n                                  [\n                                    _c(\n                                      \"v-list-item-action\",\n                                      [\n                                        _c(\"v-checkbox\", {\n                                          staticClass: \"pl-2\",\n                                          attrs: {\n                                            \"on-icon\": \"fa-eye fa\",\n                                            \"off-icon\": \"fa-eye-slash fa\",\n                                            color: \"primary\",\n                                            value: item,\n                                            size: \"10\",\n                                            \"hide-details\": \"\",\n                                          },\n                                          model: {\n                                            value: _vm.selectedCat,\n                                            callback: function ($$v) {\n                                              _vm.selectedCat = $$v\n                                            },\n                                            expression: \"selectedCat\",\n                                          },\n                                        }),\n                                      ],\n                                      1\n                                    ),\n                                    _vm._v(\" \"),\n                                    _c(\"v-list-item-title\", [\n                                      _vm._v(\n                                        \"\\n                    \" +\n                                          _vm._s(item) +\n                                          \"\\n                  \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'SidePanel',\n  components: {\n\n  },\n\n  props: ['selectedCategory', 'selectedFilter', 'filterChoices', 'filteredCat', 'layerChoices', 'selectedLayer', 'presetChoices', 'selectedPreset'],\n  events: ['update-selectedCategory', 'select-layer', 'update-selected-filter', 'select-preset', 'delete-preset'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      openMenu: false,\n      presetsMenu: false,\n      selectedCat: [],\n      vmodelSelectedFilter: '',\n    }\n  },\n\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n    windowHeight () { return this.$store.getters.windowHeight - 130 },\n    running () { return this.$store.getters['run/running'] },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n    selectedCat (val) {\n      this.$emit('update-selectedCategory', val)\n    },\n    selectedFilter (val) {\n      // when we change seledted filter from other component (changing layer.)\n      if (val !== this.vmodelSelectedFilter) {\n        this.vmodelSelectedFilter = val\n        // this.selectedCat = this.selectedCategory\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      if (oldVal) { // when created, we dont want to emit\n        this.$emit('update-selectedFilter', newVal)\n        this.selectedCat = this.selectedCategory // show all. when we change layer\n      }\n    },\n  },\n\n  created () {\n    this.selectedCat = this.selectedCategory\n  },\n\n  methods: {\n    init (payload) {\n      this.selectedCat = payload.selectedCategory\n    },\n    showAll () {\n      if (this.selectedCat.length === this.filteredCat.length) {\n        this.selectedCat = []\n      } else {\n        this.selectedCat = this.filteredCat\n      }\n    },\n  },\n}\n</script>\n<template>\n  <section\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{'width': showLeftPanel ? '350px' : '0px'}\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondarydark\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <div class=\"preset\">\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-icon\n                    dark\n                    v-bind=\"attrs\"\n                    :style=\"{color: 'white'}\"\n                    v-on=\"on\"\n                  >\n                    fas fa-sliders-h\n                  </v-icon>\n                </template>\n                <span>{{ $gettext(\"Presets\") }}</span>\n              </v-tooltip>\n\n              <v-menu\n                v-model=\"presetsMenu\"\n                close-delay=\"100\"\n                offset-y\n                transition=\"slide-y-transition\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <span\n                    class=\"title crop\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >{{ selectedPreset || $gettext(\"Presets\") }}</span>\n                </template>\n                <v-list>\n                  <v-list-item\n                    v-for=\"(preset,key) in presetChoices\"\n                    :key=\"key\"\n                    link\n                    @click=\"()=>$emit('select-preset', preset)\"\n                  >\n                    <v-list-item-title>\n                      {{ preset.name }}\n                    </v-list-item-title>\n                    <v-btn\n                      icon\n                      class=\"ml-10\"\n                      @click.stop=\"()=>$emit('delete-preset', preset)\"\n                    >\n                      <v-icon\n                        small\n                        color=\"grey\"\n                      >\n                        fas fa-trash\n                      </v-icon>\n                    </v-btn>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n              <v-btn\n                :style=\"{color: 'white'}\"\n                icon\n                dark\n                @click=\"presetsMenu=!presetsMenu\"\n              >\n                <v-icon> {{ presetsMenu ? 'fas fa-chevron-left' : 'fas fa-chevron-down' }}</v-icon>\n              </v-btn>\n            </div>\n            <div class=\"layer\">\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    :style=\"{color: 'white'}\"\n                    icon\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    @click=\"showAll()\"\n                  >\n                    <v-icon class=\"list-item-icon\">\n                      {{ selectedCat.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ selectedCat.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n              </v-tooltip>\n\n              <v-menu\n                v-model=\"openMenu\"\n                close-delay=\"100\"\n                offset-y\n                transition=\"slide-y-transition\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <span\n                    class=\"title crop\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >{{ selectedLayer }}</span>\n                </template>\n                <v-list>\n                  <v-list-item\n                    v-for=\"(layer,key) in layerChoices\"\n                    :key=\"key\"\n                    link\n                    @click=\"()=>$emit('select-layer',layer)\"\n                  >\n                    <v-list-item-title>\n                      {{ layer }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n\n              <v-btn\n                :style=\"{color: 'white'}\"\n                icon\n                dark\n                @click=\"openMenu=!openMenu\"\n              >\n                <v-icon> {{ openMenu ? 'fas fa-chevron-left' : 'fas fa-chevron-down' }}</v-icon>\n              </v-btn>\n            </div>\n            <v-card\n              max-width=\"100%\"\n              min-width=\"100%\"\n              :height=\"windowHeight\"\n              class=\"mx-auto \"\n            >\n              <v-list-item>\n                <v-select\n                  v-model=\"vmodelSelectedFilter\"\n                  :items=\"filterChoices\"\n                  prepend-icon=\"fas fa-filter\"\n                  :label=\"$gettext('filter')\"\n                  item-color=\"secondarydark\"\n                  color=\"secondarydark\"\n                />\n              </v-list-item>\n\n              <v-virtual-scroll\n                :items=\"filteredCat\"\n                :item-height=\"45\"\n                :height=\"windowHeight-80\"\n              >\n                <template v-slot=\"{ item }\">\n                  <v-list-item\n                    :key=\"vmodelSelectedFilter.concat(item)\"\n                    class=\"pl-2\"\n                  >\n                    <v-list-item-action>\n                      <v-checkbox\n                        v-model=\"selectedCat\"\n                        class=\"pl-2\"\n                        :on-icon=\"'fa-eye fa'\"\n                        :off-icon=\"'fa-eye-slash fa'\"\n                        :color=\"'primary'\"\n                        :value=\"item\"\n                        size=\"10\"\n                        hide-details\n                      />\n                    </v-list-item-action>\n\n                    <v-list-item-title>\n                      {{ item }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </template>\n              </v-virtual-scroll>\n            </v-card>\n            <!--\n          </div>\n        </div>\n        -->\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color: var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display: flex;\n  z-index: 20;\n}\n.title  {\n  color:white;\n}\n.crop {\n  white-space: nowrap;     /* Prevents text from wrapping to the next line */\n  overflow: hidden;        /* Hides any overflowed content */\n  text-overflow: ellipsis; /* Displays an ellipsis (...) when text overflows */\n}\n.preset {\n  padding: 0.5rem 0.5rem 0.5rem 1rem;\n  border-bottom: solid var(--v-primarydark-base);;\n  background-color: var(--v-secondary-base);\n  display:flex;\n  justify-content: space-between;\n}\n.layer {\n  padding: 0.5rem 0.5rem 0.5rem 0.5rem;\n  background-color: var(--v-secondary-base);\n  display:flex;\n  justify-content: space-between;\n}\n\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=style&index=0&id=5540706d&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=style&index=0&id=5540706d&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultsSidePanel.vue?vue&type=template&id=5540706d&scoped=true&\"\nimport script from \"./ResultsSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsSidePanel.vue?vue&type=style&index=0&id=5540706d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5540706d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      key: _vm.mapStyle,\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": _vm.mapStyle,\n        center: _vm.$store.getters.mapCenter,\n        zoom: _vm.$store.getters.mapZoom,\n      },\n      on: { load: _vm.onMapLoaded },\n    },\n    [\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm.layerType == \"LineString\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"line-offset\": [\n                    \"*\",\n                    _vm.offsetValue * 0.5,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                  \"line-opacity\": _vm.opacity / 100,\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"has\", \"display_width\"],\n                    [\"get\", \"display_width\"],\n                    4,\n                  ],\n                },\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.zoneClick,\n              contextmenu: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"Point\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"nodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"nodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"has\", \"display_width\"],\n                    [\"get\", \"display_width\"],\n                    3,\n                  ],\n                  \"circle-opacity\": _vm.opacity / 100,\n                },\n                layout: {\n                  \"circle-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.zoneClick,\n              contextmenu: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"LineString\"\n        ? _c(\"MglImageLayer\", {\n            attrs: {\n              \"source-id\": \"links\",\n              type: \"symbol\",\n              source: \"links\",\n              \"layer-id\": \"arrow\",\n              layer: {\n                type: \"symbol\",\n                minzoom: _vm.minZoom.nodes,\n                layout: {\n                  \"symbol-placement\": \"line\",\n                  \"symbol-spacing\": 200,\n                  \"icon-ignore-placement\": true,\n                  \"icon-image\": \"arrow\",\n                  \"icon-size\": [\n                    \"*\",\n                    0.1,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                  \"icon-rotate\": 90,\n                  \"icon-offset\": [_vm.offsetValue * 5, 5],\n                },\n                paint: {\n                  \"icon-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"icon-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType === \"Polygon\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"polygon\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"zones\",\n              layer: {\n                interactive: true,\n                type: \"fill\",\n                paint: {\n                  \"fill-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"fill-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n            on: { click: _vm.zoneClick, contextmenu: _vm.selectClick },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType === \"Polygon\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"NaNPolygon\",\n              source: {\n                type: \"geojson\",\n                data: _vm.NaNLinks,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"NaNZones\",\n              layer: {\n                interactive: true,\n                type: \"fill\",\n                paint: {\n                  \"fill-outline-color\": \"#cccccc\",\n                  \"fill-color\": \"rgba(0, 0, 0, 0)\",\n                },\n              },\n            },\n            on: { click: _vm.zoneClick, contextmenu: _vm.selectClick },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { coordEach } from \"@turf/meta\";\nimport { point } from \"@turf/helpers\";\n/**\n * Takes one or more features and calculates the centroid using the mean of all vertices.\n * This lessens the effect of small islands and artifacts when calculating the centroid of a set of polygons.\n *\n * @name centroid\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the centroid of the input features\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var centroid = turf.centroid(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, centroid]\n */\nfunction centroid(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coordEach(geojson, function (coord) {\n        xSum += coord[0];\n        ySum += coord[1];\n        len++;\n    }, true);\n    return point([xSum / len, ySum / len], options.properties);\n}\nexport default centroid;\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapResults.vue?vue&type=script&lang=js&\"","<script>\n\nimport mapboxgl from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer, MglImageLayer } from 'vue-mapbox'\nimport arrowImage from '@static/arrow.png'\nimport centroid from '@turf/centroid'\nconst mapboxPublicKey = process.env.VUE_APP_MAPBOX_PUBLIC_KEY\n\nexport default {\n  name: 'ResultMap',\n\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    MglImageLayer,\n\n  },\n  props: ['links', 'selectedFeature', 'opacity', 'offset'],\n  events: ['selectClick'],\n\n  data () {\n    return {\n      mapIsLoaded: false,\n      mapboxPublicKey: null,\n      selectedLinks: [],\n      minZoom: {\n        nodes: 14,\n        links: 2,\n      },\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    layerType () { return this.$store.getters['results/type'] },\n    offsetValue () { return this.offset ? -1 : 1 },\n    NaNLinks () { return this.$store.getters['results/NaNLinks'] },\n\n  },\n  watch: {\n    mapStyle (val) {\n      if (this.map) {\n        if (this.map.getLayer('arrow')) this.map.removeLayer('arrow')\n        if (this.map.getLayer('links')) this.map.removeLayer('links')\n        if (this.map.getLayer('zones')) this.map.removeLayer('zones')\n        if (this.map.getLayer('nodes')) this.map.removeLayer('nodes')\n        this.mapIsLoaded = false\n        this.saveMapPosition()\n      }\n    },\n\n  },\n  created () {\n    this.mapboxPublicKey = mapboxPublicKey\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    if (this.map.getLayer('arrow')) {\n      this.map.removeLayer('arrow')\n    }\n    this.saveMapPosition()\n  },\n\n  methods: {\n    saveMapPosition () {\n      const center = this.map.getCenter()\n      this.$store.commit('saveMapPosition', {\n        mapCenter: [center.lng, center.lat],\n        mapZoom: this.map.getZoom(),\n      })\n    },\n    onMapLoaded (event) {\n      if (this.map) this.mapIsLoaded = false\n      const bounds = new mapboxgl.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      if (this.layerType === 'Polygon') {\n        this.links.features.forEach(link => {\n          try { // try, so NaN will not crash\n            if (link.geometry.type === 'Polygon') {\n              bounds.extend([link.geometry.coordinates[0][0],\n                link.geometry.coordinates[0][link.geometry.coordinates.length - 1]])\n            } else {\n              bounds.extend([link.geometry.coordinates[0][0][0],\n                link.geometry.coordinates[0][0][link.geometry.coordinates.length - 1]])\n            }\n          } catch (err) { }\n        })\n      } else {\n        this.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      }\n\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      if (this.selectedFeature.length > 0 && this.layerType !== 'Polygon') { // do not show popup if nothing is selected\n        const val = this.selectedLinks[0].properties[this.selectedFeature]\n        this.popup = new mapboxgl.Popup({ closeButton: false })\n          .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n          .setHTML(`${this.selectedFeature}: <br> ${val}`)\n          .addTo(event.map)\n      }\n    },\n    leaveLink (event) {\n      this.selectedLinks = []\n      if (this.popup?.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    selectClick (event) {\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.selectedLinks?.length > 0) {\n        this.$emit('selectClick', { feature: this.selectedLinks[0].properties, action: 'featureClick' })\n      }\n    },\n    zoneClick (event) {\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.selectedLinks?.length > 0) {\n        this.$emit('selectClick', { feature: this.selectedLinks[0].properties, action: 'zoneClick' })\n      }\n    },\n    zoneHover (event) {\n      if (this.selectedLinks[0]?.id !== event.mapboxEvent.features[0].id) {\n        // event.map.getCanvas().style.cursor = 'pointer'\n        this.selectedLinks = event.mapboxEvent.features\n        if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n        if (this.selectedFeature.length > 0) { // do not show popup if nothing is selected\n          const val = this.selectedLinks[0].properties[this.selectedFeature]\n          this.popup = new mapboxgl.Popup({ closeButton: false })\n            .setLngLat(centroid(this.selectedLinks[0].geometry).geometry.coordinates)\n            .setHTML(`${this.selectedFeature}: <br> ${val}`)\n            .addTo(event.map)\n        }\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <MglMap\n    :key=\"mapStyle\"\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    :map-style=\"mapStyle\"\n    :center=\"$store.getters.mapCenter\"\n    :zoom=\"$store.getters.mapZoom\"\n    @load=\"onMapLoaded\"\n  >\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n\n    <MglGeojsonLayer\n      v-if=\"layerType == 'LineString'\"\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'display_color'],['get', 'display_color'], '#B5E0D6'],\n          'line-offset': ['*',offsetValue*0.5,['to-number', ['get', 'display_width']]],\n          'line-opacity':opacity/100,\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0],\n          'line-width':['case', ['has', 'display_width'], ['get', 'display_width'], 4],\n\n        },\n        layout: {\n          'line-sort-key': ['to-number',['get', 'display_width']],\n          'line-cap': 'round',\n        }\n\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType == 'Point'\"\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.links,\n        paint: {\n          'circle-color': ['case', ['has', 'display_color'],['get', 'display_color'], '#B5E0D6'],\n\n          'circle-radius':['case', ['has', 'display_width'], ['get', 'display_width'], 3],\n          'circle-opacity':opacity/100,\n        },\n        layout: {\n          'circle-sort-key': ['to-number',['get', 'display_width']],\n        }\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n\n    <MglImageLayer\n      v-if=\"layerType == 'LineString'\"\n      source-id=\"links\"\n      type=\"symbol\"\n      source=\"links\"\n      layer-id=\"arrow\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.nodes,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ['*',0.1,['to-number', ['get', 'display_width']]],\n          'icon-rotate': 90,\n          'icon-offset': [offsetValue*5,5],\n\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'display_color'], ['get', 'display_color'], '#B5E0D6'],\n          'icon-opacity':opacity/100,\n\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType === 'Polygon'\"\n      source-id=\"polygon\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        promoteId: 'index',\n      }\"\n      layer-id=\"zones\"\n      :layer=\"{\n        interactive: true,\n        type: 'fill',\n        'paint': {\n          'fill-color':['case', ['has', 'display_color'],['get', 'display_color'],\n                        $vuetify.theme.currentTheme.linksprimary],\n          'fill-opacity': opacity/100,\n\n        }\n      }\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType === 'Polygon'\"\n      source-id=\"NaNPolygon\"\n      :source=\"{\n        type: 'geojson',\n        data: NaNLinks,\n        promoteId: 'index',\n      }\"\n      layer-id=\"NaNZones\"\n      :layer=\"{\n        interactive: true,\n        type: 'fill',\n        'paint': {\n          'fill-outline-color':'#cccccc',\n          'fill-color':'rgba(0, 0, 0, 0)',\n        }\n      }\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import { render, staticRenderFns } from \"./MapResults.vue?vue&type=template&id=abef94c2&scoped=true&\"\nimport script from \"./MapResults.vue?vue&type=script&lang=js&\"\nexport * from \"./MapResults.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abef94c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"close-on-click\": false,\n        origin: \"top right\",\n        transition: \"scale-transition\",\n        \"position-y\": 30,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"div\",\n                { staticClass: \"setting\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        { attrs: { fab: \"\", small: \"\" } },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          attrs: {\n                            color: !isFinite(_vm.displaySettings.maxVal)\n                              ? \"error\"\n                              : \"regular\",\n                          },\n                        },\n                        [_vm._v(\"\\n          fa-solid fa-cog\\n        \")]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.showDialog,\n        callback: function ($$v) {\n          _vm.showDialog = $$v\n        },\n        expression: \"showDialog\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"setting-card\",\n          attrs: { width: \"20rem\", \"max-height\": _vm.windowHeight },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.submit(\"apply\")\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n        },\n        [\n          _c(\n            \"v-card-title\",\n            { staticClass: \"subtitle\" },\n            [\n              _vm._v(\n                \"\\n      \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n      \"\n              ),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { icon: \"\", small: \"\" },\n                  on: {\n                    click: function ($event) {\n                      _vm.showHint = !_vm.showHint\n                    },\n                  },\n                },\n                [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-text\",\n            [\n              _c(\n                \"v-form\",\n                { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.featureChoices,\n                              label: _vm.$gettext(_vm.parameters[0].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[0].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.parameters[0].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[0], \"value\", $$v)\n                              },\n                              expression: \"parameters[0].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-row\",\n                            _vm._l(_vm.parameters.slice(1, 3), function (item) {\n                              return _c(\n                                \"v-col\",\n                                { key: item.name },\n                                [\n                                  _c(\"v-text-field\", {\n                                    attrs: {\n                                      type: item.type,\n                                      label: _vm.$gettext(item.name),\n                                      suffix: item.units,\n                                      hint: _vm.showHint\n                                        ? _vm.$gettext(item.hint)\n                                        : \"\",\n                                      \"persistent-hint\": _vm.showHint,\n                                      required: \"\",\n                                    },\n                                    on: { wheel: () => {} },\n                                    model: {\n                                      value: item.value,\n                                      callback: function ($$v) {\n                                        _vm.$set(item, \"value\", $$v)\n                                      },\n                                      expression: \"item.value\",\n                                    },\n                                  }),\n                                ],\n                                1\n                              )\n                            }),\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.parameters[3].type,\n                              label: _vm.$gettext(_vm.parameters[3].name),\n                              suffix: _vm.parameters[3].units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[3].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: _vm.parameters[3].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[3], \"value\", $$v)\n                              },\n                              expression: \"parameters[3].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.parameters[5].choices,\n                              label: _vm.$gettext(_vm.parameters[5].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[5].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.parameters[5].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[5], \"value\", $$v)\n                              },\n                              expression: \"parameters[5].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.parameters[6].choices,\n                              label: _vm.$gettext(_vm.parameters[6].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[6].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            scopedSlots: _vm._u([\n                              {\n                                key: \"item\",\n                                fn: function ({ item }) {\n                                  return [\n                                    _c(\n                                      \"div\",\n                                      { staticClass: \"gradient\" },\n                                      [\n                                        _vm._l(\n                                          _vm.getColor(item),\n                                          function (color, key) {\n                                            return _c(\"span\", {\n                                              key: key,\n                                              staticClass: \"grad-step\",\n                                              style: { backgroundColor: color },\n                                            })\n                                          }\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"span\",\n                                          { staticClass: \"domain-title\" },\n                                          [_vm._v(_vm._s(item))]\n                                        ),\n                                      ],\n                                      2\n                                    ),\n                                  ]\n                                },\n                              },\n                            ]),\n                            model: {\n                              value: _vm.parameters[6].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[6], \"value\", $$v)\n                              },\n                              expression: \"parameters[6].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-slider\", {\n                            staticClass: \"align-center\",\n                            attrs: {\n                              \"inverse-label\": \"\",\n                              label: _vm.$gettext(_vm.parameters[4].name),\n                              \"track-color\": \"secondary\",\n                              max: 100,\n                              \"thumb-label\": \"\",\n                              min: 0,\n                              \"hide-details\": \"\",\n                            },\n                            scopedSlots: _vm._u([\n                              {\n                                key: \"thumb-label\",\n                                fn: function ({ value }) {\n                                  return [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(value + \"%\") +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                },\n                              },\n                            ]),\n                            model: {\n                              value: _vm.parameters[4].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[4], \"value\", $$v)\n                              },\n                              expression: \"parameters[4].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[12].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[12].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[12].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            model: {\n                              value: _vm.parameters[12].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[12], \"value\", $$v)\n                              },\n                              expression: \"parameters[12].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[7].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[7].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[7].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            model: {\n                              value: _vm.parameters[7].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[7], \"value\", $$v)\n                              },\n                              expression: \"parameters[7].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[8].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[8].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[7].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            model: {\n                              value: _vm.parameters[8].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[8], \"value\", $$v)\n                              },\n                              expression: \"parameters[8].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[11].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[11].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[11].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            on: {\n                              click: function ($event) {\n                                return _vm.toggleFixScale(\n                                  _vm.parameters[11].name\n                                )\n                              },\n                            },\n                            model: {\n                              value: _vm.parameters[11].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[11], \"value\", $$v)\n                              },\n                              expression: \"parameters[11].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _vm._l(_vm.parameters.slice(9, 11), function (item) {\n                            return _c(\"v-text-field\", {\n                              directives: [\n                                {\n                                  name: \"show\",\n                                  rawName: \"v-show\",\n                                  value: _vm.showFixScale,\n                                  expression: \"showFixScale\",\n                                },\n                              ],\n                              key: item.name,\n                              attrs: {\n                                type: item.type,\n                                label: _vm.$gettext(item.name),\n                                suffix: item.units,\n                                hint: _vm.showHint\n                                  ? _vm.$gettext(item.hint)\n                                  : \"\",\n                                \"persistent-hint\": _vm.showHint,\n                                required: \"\",\n                              },\n                              on: { wheel: () => {} },\n                              model: {\n                                value: item.value,\n                                callback: function ($$v) {\n                                  _vm.$set(item, \"value\", $$v)\n                                },\n                                expression: \"item.value\",\n                              },\n                            })\n                          }),\n                        ],\n                        2\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", text: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", text: \"\" },\n                  on: {\n                    click: function ($event) {\n                      return _vm.submit(\"apply\")\n                    },\n                  },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Apply\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", text: \"\" },\n                  on: {\n                    click: function ($event) {\n                      return _vm.submit(\"save\")\n                    },\n                  },\n                },\n                [\n                  _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                    _vm._v(\"\\n          fas fa-sliders-h\\n        \"),\n                  ]),\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"save\")) + \"\\n      \"\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport chroma from 'chroma-js'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultsSettings',\n  model: {\n    prop: 'show',\n    event: 'update-show',\n  },\n  props: ['show', 'displaySettings', 'featureChoices'],\n  events: ['update-show', 'submit', 'save-preset'],\n\n  data () {\n    return {\n      parameters: [{\n        name: $gettext('selectedFeature'),\n        type: 'String',\n        value: this.displaySettings.selectedFeature,\n        units: '',\n        hint: $gettext('selectedFeature'),\n      },\n      {\n        name: $gettext('minWidth'),\n        type: 'Number',\n        value: this.displaySettings.minWidth,\n        units: 'a.u.',\n        hint: $gettext('minWidth'),\n      },\n      {\n        name: $gettext('maxWidth'),\n        type: 'Number',\n        value: this.displaySettings.maxWidth,\n        units: 'a.u.',\n        hint: $gettext('maxWidth'),\n      },\n      {\n        name: $gettext('numStep'),\n        type: 'Number',\n        value: this.displaySettings.numStep,\n        units: 'int',\n        hint: $gettext('numStep'),\n      },\n      {\n        name: $gettext('opacity'),\n        type: 'Number',\n        value: this.displaySettings.opacity,\n        units: 'number',\n        hint: $gettext('opacity'),\n      },\n      {\n        name: $gettext('scale'),\n        type: 'String',\n        value: this.displaySettings.scale,\n        choices: ['linear', 'sqrt', 'log'],\n        units: '',\n        hint: $gettext('scale'),\n      },\n      {\n        name: $gettext('color map'),\n        type: 'String',\n        choices: Object.keys(chroma.brewer).slice(0, 36),\n        value: this.displaySettings.cmap,\n        units: '',\n        hint: $gettext('cmap to use'),\n      },\n      {\n        name: $gettext('show NaN'),\n        value: this.displaySettings.showNaN,\n        hint: $gettext('Hide NaN on map and color map'),\n      },\n      {\n        name: $gettext('reverse color'),\n        value: this.displaySettings.reverseColor,\n        hint: $gettext('reverse color scale'),\n      },\n      {\n        name: $gettext('scale min'),\n        type: 'Number',\n        value: this.displaySettings.minVal,\n        units: 'a.u.',\n        hint: $gettext('mininum value on the color Map'),\n      },\n      {\n        name: $gettext('scale max'),\n        type: 'Number',\n        value: this.displaySettings.maxVal,\n        units: 'a.u.',\n        hint: $gettext('maximum value on the color Map'),\n      },\n      {\n        name: $gettext('custom scale'),\n        value: this.displaySettings.fixScale,\n        hint: $gettext('customize to inputs values'),\n      },\n      {\n        name: $gettext('Left side driving'),\n        value: this.displaySettings.offset,\n        hint: $gettext('Select which side of the road the links are display'),\n      },\n\n      ],\n      errorMessage: null,\n      showHint: false,\n      showFixScale: false,\n      shake: false,\n\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        largerThanZero: v => v > 0 || $gettext('should be larger than 0'),\n        nonNegative: v => v >= 0 || $gettext('should be larger or equal to 0'),\n      },\n      showDialog: false,\n    }\n  },\n  computed: {\n    windowHeight () { return this.$store.getters.windowHeight - 100 },\n  },\n  watch: {\n    showDialog (val) {\n      this.refresh()\n      this.showFixScale = this.parameters[11].value\n      this.$emit('update-show', val)\n    },\n    // when we change layer\n    featureChoices () { this.refresh() },\n  },\n  created () {\n    this.showDialog = this.show\n  },\n\n  methods: {\n    toggleFixScale () {\n      if (this.parameters[11].value) {\n        this.showFixScale = true\n        // refresh min max value when displayed\n        this.parameters[9].value = this.displaySettings.minVal\n        this.parameters[10].value = this.displaySettings.maxVal\n      } else { this.showFixScale = false }\n    },\n    getColor (scale) {\n      const arr = []\n      const colorScale = chroma.scale(scale).padding([0.2, 0])\n        .domain([0, 100]).classes(25)\n      for (let i = 0; i < 100; i++) {\n        arr.push(colorScale(i).hex())\n      }\n      return arr\n    },\n    refresh () {\n      this.parameters[0].value = this.displaySettings.selectedFeature\n      this.parameters[1].value = this.displaySettings.minWidth\n      this.parameters[2].value = this.displaySettings.maxWidth\n      this.parameters[3].value = this.displaySettings.numStep\n      this.parameters[4].value = this.displaySettings.opacity\n      this.parameters[5].value = this.displaySettings.scale\n      this.parameters[6].value = this.displaySettings.cmap\n      this.parameters[7].value = this.displaySettings.showNaN\n      this.parameters[8].value = this.displaySettings.reverseColor\n      this.parameters[9].value = this.displaySettings.minVal\n      this.parameters[10].value = this.displaySettings.maxVal\n      this.parameters[11].value = this.displaySettings.fixScale\n      this.parameters[12].value = this.displaySettings.offset\n    },\n    submit (method) {\n      if (this.$refs.form.validate()) {\n        const payload = {\n          selectedFeature: this.parameters[0].value,\n          minWidth: Number(this.parameters[1].value),\n          maxWidth: Number(this.parameters[2].value),\n          numStep: Number(this.parameters[3].value),\n          opacity: Number(this.parameters[4].value),\n          scale: this.parameters[5].value,\n          cmap: this.parameters[6].value,\n          showNaN: this.parameters[7].value,\n          reverseColor: this.parameters[8].value,\n          minVal: Number(this.parameters[9].value),\n          maxVal: Number(this.parameters[10].value),\n          fixScale: this.parameters[11].value,\n          offset: this.parameters[12].value,\n        }\n        if (method === 'apply') {\n          this.$emit('submit', payload)\n        } else if (method === 'save') {\n          this.$emit('save-preset', payload)\n        }\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () {\n      this.showDialog = false\n    },\n  },\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"showDialog\"\n    :close-on-content-click=\"false\"\n    :close-on-click=\"false\"\n    :origin=\"'top right'\"\n    transition=\"scale-transition\"\n    :position-y=\"30\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <div class=\"setting\">\n        <v-btn\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            :color=\"!isFinite(displaySettings.maxVal)?'error':'regular'\"\n          >\n            fa-solid fa-cog\n          </v-icon>\n        </v-btn>\n      </div>\n    </template>\n    <v-card\n      :width=\"'20rem'\"\n      class=\"setting-card\"\n\n      :max-height=\"windowHeight\"\n      @keydown.enter=\"submit('apply')\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card-title class=\"subtitle\">\n        {{ $gettext('Settings') }}\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"showHint = !showHint\"\n        >\n          <v-icon>far fa-question-circle small</v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-card-text>\n        <v-form\n          ref=\"form\"\n          lazy-validation\n        >\n          <v-container>\n            <v-col>\n              <v-select\n                v-model=\"parameters[0].value\"\n                :items=\"featureChoices\"\n                :label=\"$gettext(parameters[0].name)\"\n                :hint=\"showHint? $gettext(parameters[0].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              />\n              <v-row>\n                <v-col\n                  v-for=\"item in parameters.slice(1,3)\"\n                  :key=\"item.name\"\n                >\n                  <v-text-field\n                    v-model=\"item.value\"\n                    :type=\"item.type\"\n                    :label=\"$gettext(item.name)\"\n                    :suffix=\"item.units\"\n                    :hint=\"showHint? $gettext(item.hint): ''\"\n                    :persistent-hint=\"showHint\"\n                    required\n                    @wheel=\"()=>{}\"\n                  />\n                </v-col>\n              </v-row>\n              <v-text-field\n                v-model=\"parameters[3].value\"\n                :type=\"parameters[3].type\"\n                :label=\"$gettext(parameters[3].name)\"\n                :suffix=\"parameters[3].units\"\n                :hint=\"showHint? $gettext(parameters[3].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-select\n                v-model=\"parameters[5].value\"\n                :items=\"parameters[5].choices\"\n                :label=\"$gettext(parameters[5].name)\"\n                :hint=\"showHint? $gettext(parameters[5].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              />\n\n              <v-select\n                v-model=\"parameters[6].value\"\n                :items=\"parameters[6].choices\"\n                :label=\"$gettext(parameters[6].name)\"\n                :hint=\"showHint? $gettext(parameters[6].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              >\n                <template v-slot:item=\"{item}\">\n                  <div class=\"gradient\">\n                    <span\n                      v-for=\"(color,key) in getColor(item)\"\n                      :key=\"key\"\n                      class=\"grad-step\"\n                      :style=\"{'backgroundColor':color}\"\n                    />\n                    <span class=\"domain-title\">{{ item }}</span>\n                  </div>\n                </template>\n              </v-select>\n\n              <v-slider\n                v-model=\"parameters[4].value\"\n                class=\"align-center\"\n                inverse-label\n                :label=\"$gettext(parameters[4].name)\"\n                track-color=\"secondary\"\n                :max=\"100\"\n                thumb-label\n                :min=\"0\"\n                hide-details\n              >\n                <template v-slot:thumb-label=\"{ value }\">\n                  {{ value +'%' }}\n                </template>\n              </v-slider>\n              <v-switch\n                :key=\"parameters[12].name\"\n                v-model=\"parameters[12].value\"\n                :label=\"$gettext(parameters[12].name)\"\n                :hint=\"showHint? $gettext(parameters[12].hint): ''\"\n                :persistent-hint=\"showHint\"\n              />\n              <v-switch\n                :key=\"parameters[7].name\"\n                v-model=\"parameters[7].value\"\n                :label=\"$gettext(parameters[7].name)\"\n                :hint=\"showHint? $gettext(parameters[7].hint): ''\"\n                :persistent-hint=\"showHint\"\n              />\n              <v-switch\n                :key=\"parameters[8].name\"\n                v-model=\"parameters[8].value\"\n                :label=\"$gettext(parameters[8].name)\"\n                :hint=\"showHint? $gettext(parameters[7].hint): ''\"\n                :persistent-hint=\"showHint\"\n              />\n              <v-switch\n                :key=\"parameters[11].name\"\n                v-model=\"parameters[11].value\"\n                :label=\"$gettext(parameters[11].name)\"\n                :hint=\"showHint? $gettext(parameters[11].hint): ''\"\n                :persistent-hint=\"showHint\"\n                @click=\"toggleFixScale(parameters[11].name)\"\n              />\n              <v-text-field\n                v-for=\"item in parameters.slice(9,11)\"\n                v-show=\"showFixScale\"\n                :key=\"item.name\"\n                v-model=\"item.value\"\n                :type=\"item.type\"\n\n                :label=\"$gettext(item.name)\"\n                :suffix=\"item.units\"\n                :hint=\"showHint? $gettext(item.hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n                @wheel=\"()=>{}\"\n              />\n            </v-col>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          color=\"grey\"\n          text\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"Cancel\") }}\n        </v-btn>\n\n        <v-btn\n          color=\"green darken-1\"\n          text\n          @click=\"submit('apply')\"\n        >\n          {{ $gettext(\"Apply\") }}\n        </v-btn>\n\n        <v-spacer />\n        <v-btn\n          color=\"grey\"\n          text\n          @click=\"submit('save')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-sliders-h\n          </v-icon>\n          {{ $gettext(\"save\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 60%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 10px;\n    padding-bottom: 10px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    padding-left:0.5rem;\n    padding-top:0.5rem;\n    text-align: center;\n    font-size: 16px;\n\n}\n\n.grad-step {\n    display: inline-block;\n    height: 40px;\n    width: 1%;\n}\n\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n\n.setting {\n  left: 98%;\n  width: 0px;\n  z-index: 2;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n}\n.setting-card {\noverflow-y:auto;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=style&index=0&id=353c3f70&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=style&index=0&id=353c3f70&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultsSettings.vue?vue&type=template&id=353c3f70&scoped=true&\"\nimport script from \"./ResultsSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsSettings.vue?vue&type=style&index=0&id=353c3f70&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"353c3f70\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"gradient\" },\n    [\n      _vm._l(_vm.colorScale, function (color, key) {\n        return _c(\"span\", {\n          key: key,\n          staticClass: \"grad-step\",\n          style: { backgroundColor: color },\n        })\n      }),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-title\" }, [\n        _vm._v(_vm._s(_vm.displaySettings.selectedFeature)),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-min\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.minVal))),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-med\" }, [\n        _vm._v(\n          _vm._s(\n            Math.round(\n              (_vm.displaySettings.maxVal + _vm.displaySettings.minVal) / 2\n            )\n          )\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-max\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.maxVal))),\n      ]),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'MapLegend',\n  components: {\n  },\n  props: {\n    colorScale: {\n      type: Array,\n      default: () => [],\n    },\n    displaySettings: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data () {\n    return {\n\n    }\n  },\n  watch: {\n\n  },\n\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <div class=\"gradient\">\n    <span\n      v-for=\"(color,key) in colorScale\"\n      :key=\"key\"\n      class=\"grad-step\"\n      :style=\"{'backgroundColor':color}\"\n    />\n    <span class=\"domain-title\">{{ displaySettings.selectedFeature }}</span>\n    <span class=\"domain-min\">{{ Math.round(displaySettings.minVal) }}</span>\n    <span class=\"domain-med\">{{ Math.round((displaySettings.maxVal+displaySettings.minVal)/2) }}</span>\n    <span class=\"domain-max\">{{ Math.round(displaySettings.maxVal) }}</span>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 85%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 20px;\n    padding-bottom: 15px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    top: 6px;\n\n}\n\n.gradient .domain-min {\n    position: absolute;\n    left: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-med {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-max {\n    position: absolute;\n    right: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n\n.grad-step {\n    display: inline-block;\n    height: 20px;\n    width: 1%;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=77d246dd&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=77d246dd&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MapLegend.vue?vue&type=template&id=77d246dd&scoped=true&\"\nimport script from \"./MapLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLegend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLegend.vue?vue&type=style&index=0&id=77d246dd&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77d246dd\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=script&lang=js&\"","<script>\n\nimport ResultsSidePanel from '@comp/results/ResultsSidePanel.vue'\nimport MapResults from '@comp/results/MapResults.vue'\nimport ResultsSettings from '@comp/results/ResultsSettings.vue'\nimport MapLegend from '@comp/utils/MapLegend.vue'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultMap',\n  components: {\n    ResultsSidePanel,\n    MapResults,\n    ResultsSettings,\n    MapLegend,\n\n  },\n\n  data () {\n    return {\n      mapIsLoaded: false,\n      minZoom: {\n        nodes: 14,\n        links: 8,\n      },\n      showSettings: false,\n      selectedLayer: 'links',\n      selectedPreset: null,\n      form: {},\n      showDialog: false,\n      showPresetDialog: false,\n      showDeleteDialog: false,\n      inputName: '', //  preset Name in dialog\n      tempDisplaySettings: {}, // put display settings to save them if click yes on dialog\n      presetToDelete: '', // name of the preset to delete. use in dialog to confirm.\n\n    }\n  },\n  computed: {\n    windowHeight () { return this.$store.getters.windowHeight - 100 },\n    availableLayers () { return this.$store.getters.availableLayers },\n    availablePresets () { return this.$store.getters.styles },\n    links () { return this.$store.getters['results/links'] },\n    visibleLinks () { return this.$store.getters['results/visibleLinks'] },\n    filterChoices () { return this.$store.getters['results/lineAttributes'] },\n    displaySettings () { return this.$store.getters['results/displaySettings'] },\n    selectedFilter () { return this.$store.getters['results/selectedFilter'] },\n    selectedCategory () { return this.$store.getters['results/selectedCategory'] },\n    colorScale () { return this.$store.getters['results/colorScale'] },\n    filteredCategory () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.links.features.map(\n        item => item.properties[this.selectedFilter])))\n      return val\n    },\n  },\n  created () {\n    this.changeLayer(this.selectedLayer)\n  },\n  beforeDestroy () {\n    this.$store.commit('results/unload')\n  },\n\n  methods: {\n    applySettings (payload) {\n      this.$store.commit('results/applySettings', payload)\n    },\n    updateSelectedFilter (val) {\n      this.$store.commit('results/changeSelectedFilter', val)\n      this.$store.commit('results/updateSelectedFeature')\n    },\n    updateSelectedCategory (val) {\n      this.$store.commit('results/changeSelectedCategory', val)\n      this.$store.commit('results/updateSelectedFeature')\n    },\n    changeLayer (layer) {\n      this.selectedLayer = layer\n      switch (layer) {\n        case 'links':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.links,\n            type: 'LineString',\n            selectedFeature: 'headway',\n          })\n          break\n        case 'rlinks':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.rlinks,\n            type: 'LineString',\n            selectedFeature: 'speed',\n          })\n          break\n        case 'nodes':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.nodes,\n            type: 'Point',\n            selectedFeature: 'boardings',\n          })\n          break\n        case 'rnodes':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.rnodes,\n            type: 'Point',\n            selectedFeature: 'boardings',\n          })\n          break\n        case 'od':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters['od/layer'],\n            type: 'LineString',\n            selectedFeature: 'volume',\n          })\n          break\n        default:\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters[`${layer}/layer`],\n            type: this.$store.getters[`${layer}/type`],\n          })\n          break\n      }\n      // update sidePanel if its mounted with the selected cat (eyes)\n      if (Object.keys(this.$refs).length > 0) {\n        this.$refs.sidePanel.init({\n          selectedCategory: this.$store.getters['results/selectedCategory'],\n        })\n      }\n    },\n    changePreset (preset) {\n      this.selectedPreset = preset.name\n      if (this.availableLayers.includes(preset.layer)) {\n        // change layer if it exist\n        this.changeLayer(preset.layer)\n        if (this.filterChoices.includes(preset?.selectedFilter)) {\n          // if preset contain a filter. apply it if it exist.\n          this.$store.commit('results/changeSelectedFilter', preset.selectedFilter)\n          // if there is a list of cat. apply them, else its everything\n          if (Object.keys(preset).includes('selectedCategory')) {\n            this.$refs.sidePanel.init({\n              selectedCategory: preset.selectedCategory,\n            })\n          } else {\n            // we dont save everything. so if its empty we show all.\n            this.$refs.sidePanel.init({\n              selectedCategory: this.$store.getters['results/selectedCategory'],\n            })\n          }\n        } else {\n          // just show all. (all eyes)\n          this.$refs.sidePanel.init({\n            selectedCategory: this.$store.getters['results/selectedCategory'],\n          })\n          // if the filter is in the preset but not the the layer. just put a warning.\n          if (Object.keys(preset).includes('selectedFilter')) {\n            this.$store.commit('changeNotification',\n              {\n                text: preset.selectedFilter + ' ' + $gettext('filter does not exist. use default one'),\n                autoClose: true,\n                color: 'error',\n              })\n          }\n        }\n      } else {\n        this.$store.commit('changeNotification',\n          { text: $gettext('Preset Layer does not exist'), autoClose: true, color: 'error' })\n      }\n      this.applySettings(preset.displaySettings)\n    },\n    featureClicked (event) {\n      if (event.action === 'featureClick') {\n        this.form = event.feature\n        this.showDialog = true\n        // OD click.\n      } else if (this.$store.getters[`${this.selectedLayer}/hasOD`]) {\n        const prop = this.displaySettings.selectedFeature\n        this.$store.commit(`${this.selectedLayer}/changeZone`, { index: event.feature.index, selectedProperty: prop })\n        this.$store.commit('results/updateLinks', this.$store.getters[`${this.selectedLayer}/layer`])\n      }\n    },\n    clickSavePreset (event) {\n      // open a dialog to chose the name and accept\n      this.tempDisplaySettings = event\n      this.inputName = this.selectedPreset\n      this.showPresetDialog = true\n    },\n    clickDeletePreset (event) {\n      // open a dialog to make sure we want to delete\n      this.presetToDelete = event.name\n      this.showDeleteDialog = true\n    },\n    createPreset () {\n      if (this.$refs.form.validate()) {\n        this.showPresetDialog = false\n        const style = {\n          name: structuredClone(this.inputName),\n          layer: structuredClone(this.selectedLayer),\n          displaySettings: structuredClone(this.tempDisplaySettings),\n          selectedFilter: structuredClone(this.selectedFilter),\n        }\n        // only add the list of category (eyes) if its not everything.\n        // first filter to only get possible cat. we way load a style with non existing cat (ex highway=quenedi)\n        const filteredCat = this.selectedCategory.filter(val => this.filteredCategory.includes(val))\n        if (filteredCat.length < this.filteredCategory.length) {\n          style.selectedCategory = structuredClone(this.selectedCategory)\n        }\n        this.$store.commit('addStyle', style)\n        this.$store.commit('changeNotification',\n          { text: $gettext('Preset Saved'), autoClose: true, color: 'success' })\n\n        this.selectedPreset = this.inputName\n      }\n    },\n    deletePreset () {\n      this.$store.commit('deleteStyle', this.presetToDelete)\n      this.showDeleteDialog = false\n      if (this.presetToDelete === this.selectedPreset) {\n        // if it was selected. unselect it\n        this.selectedPreset = null\n      }\n      this.$store.commit('changeNotification',\n        { text: $gettext('Preset deleted'), autoClose: true, color: 'success' })\n      this.presetToDelete = ''\n    },\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <ResultsSidePanel\n      ref=\"sidePanel\"\n      :selected-category=\"selectedCategory\"\n      :selected-filter=\"selectedFilter\"\n      :layer-choices=\"availableLayers\"\n      :selected-layer=\"selectedLayer\"\n      :filter-choices=\"filterChoices\"\n      :filtered-cat=\"filteredCategory\"\n      :preset-choices=\"availablePresets\"\n      :selected-preset=\"selectedPreset\"\n      @update-selectedCategory=\"updateSelectedCategory\"\n      @update-selectedFilter=\"updateSelectedFilter\"\n      @select-layer=\"changeLayer\"\n      @select-preset=\"changePreset\"\n      @delete-preset=\"clickDeletePreset\"\n    />\n\n    <ResultsSettings\n      v-model=\"showSettings\"\n      :display-settings=\"displaySettings\"\n      :feature-choices=\"filterChoices\"\n      @submit=\"applySettings\"\n      @save-preset=\"clickSavePreset\"\n    />\n    <div class=\"left-panel\">\n      <div\n        :class=\"$store.getters.showLeftPanel ? 'legend-open elevation-4' : 'legend-close elevation-4'\"\n        :style=\"{'top':`${windowHeight}px`}\"\n      >\n        <MapLegend\n          :color-scale=\"colorScale\"\n          :display-settings=\"displaySettings\"\n        />\n      </div>\n    </div>\n\n    <MapResults\n      :key=\"$store.getters['results/type']\"\n      :links=\"visibleLinks\"\n      :selected-feature=\"displaySettings.selectedFeature\"\n      :opacity=\"displaySettings.opacity\"\n      :offset=\"displaySettings.offset\"\n      @selectClick=\"featureClicked\"\n    />\n\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      max-width=\"300\"\n      @keydown.enter=\"showDialog=false\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card max-height=\"60rem\">\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"link Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text>\n          <v-list>\n            <v-text-field\n              v-for=\"(value, key) in form\"\n              :key=\"key\"\n              :value=\"value\"\n              :label=\"key\"\n              filled\n              readonly\n            />\n          </v-list>\n        </v-card-text>\n        <v-divider />\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"showDialog=false\"\n          >\n            {{ $gettext(\"ok\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog\n      v-model=\"showPresetDialog\"\n      persistent\n      max-width=\"400\"\n      @keydown.esc=\"showPresetDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Create or modify preset\") }}\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-col cols=\"12\">\n              <v-form\n                ref=\"form\"\n                lazy-validation\n                @submit.prevent=\"createPreset\"\n              >\n                <v-text-field\n                  v-model=\"inputName\"\n                  autofocus\n                  :rules=\"[value => !!value || 'Required.']\"\n                  :label=\"$gettext('name')\"\n                />\n              </v-form>\n            </v-col>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"showPresetDialog=false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"createPreset\"\n          >\n            {{ $gettext(\"ok\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog\n      v-model=\"showDeleteDialog\"\n      persistent\n      max-width=\"400\"\n      @keydown.esc=\"showDeleteDialog=false\"\n      @keydown.enter=\"deletePreset\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Delete\") + ' ' + presetToDelete + ' ?' }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"showDeleteDialog=false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-btn\n            color=\"error\"\n            text\n            @click=\"deletePreset\"\n          >\n            {{ $gettext(\"delete\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n\n}\n.left-panel {\n  height: 100%;\n  position: absolute;\n\n}\n.legend-open {\n  left: 350px;\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-white-base);\n  border: thin solid var(--v-mediumgrey-base);\n}\n.legend-close {\n  left: 50px;\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-lightgrey);\n  border: thin solid rgb(196, 196, 196);\n}\n\n.hist {\n  position: relative;\n  bottom: -10px;\n  flex-grow: 1;\n  height: 20px;\n  background-color: rgba(231, 17, 17);\n  text-align: center;\n  width:10px;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=style&index=0&id=b07f7508&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=style&index=0&id=b07f7508&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultMap.vue?vue&type=template&id=b07f7508&scoped=true&\"\nimport script from \"./ResultMap.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultMap.vue?vue&type=style&index=0&id=b07f7508&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b07f7508\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_c","_self","staticClass","ref","attrs","selectedCategory","selectedFilter","availableLayers","selectedLayer","filterChoices","filteredCategory","availablePresets","selectedPreset","on","updateSelectedCategory","updateSelectedFilter","changeLayer","changePreset","clickDeletePreset","_v","displaySettings","submit","applySettings","clickSavePreset","model","value","showSettings","callback","$$v","expression","class","$store","getters","showLeftPanel","style","top","windowHeight","colorScale","key","links","visibleLinks","selectedFeature","opacity","offset","selectClick","featureClicked","scrollable","persistent","keydown","$event","type","indexOf","_k","keyCode","showDialog","_s","$gettext","_l","form","label","filled","readonly","color","text","click","showPresetDialog","cols","preventDefault","createPreset","apply","arguments","autofocus","rules","inputName","showDeleteDialog","deletePreset","presetToDelete","_withStripped","width","commit","small","name","directives","rawName","showLeftPanelContent","bottom","scopedSlots","_u","fn","_g","_b","dark","transition","presetsMenu","presetChoices","preset","link","$emit","icon","stopPropagation","showAll","selectedCat","length","openMenu","layerChoices","layer","height","items","vmodelSelectedFilter","filteredCat","item","concat","size","components","props","events","data","computed","running","watch","val","setTimeout","newVal","oldVal","created","methods","init","payload","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","mapStyle","mapboxPublicKey","center","mapCenter","zoom","mapZoom","load","onMapLoaded","position","layerType","source","buffer","promoteId","interactive","minzoom","minZoom","paint","offsetValue","layout","mouseenter","enterLink","mouseleave","leaveLink","zoneClick","contextmenu","_e","nodes","$vuetify","theme","currentTheme","linksprimary","NaNLinks","MglMap","MglNavigationControl","MglScaleControl","MglGeojsonLayer","MglImageLayer","mapIsLoaded","selectedLinks","map","getLayer","removeLayer","saveMapPosition","beforeDestroy","getCenter","lng","lat","getZoom","event","bounds","features","forEach","geometry","extend","coordinates","err","Object","keys","fitBounds","padding","loadImage","arrow","image","console","error","addImage","sdf","dragRotate","disable","getCanvas","cursor","mapboxEvent","popup","isOpen","remove","properties","closeButton","setLngLat","lngLat","setHTML","addTo","feature","action","zoneHover","geojson","xSum","ySum","len","coord","origin","fab","isFinite","maxVal","cancel","showHint","featureChoices","parameters","hint","required","$set","slice","suffix","units","wheel","choices","getColor","backgroundColor","max","min","toggleFixScale","showFixScale","left","prop","minWidth","maxWidth","numStep","scale","cmap","showNaN","reverseColor","minVal","fixScale","errorMessage","shake","v","largerThanZero","nonNegative","refresh","show","arr","domain","classes","i","hex","method","$refs","validate","Number","Math","round","Array","default","ResultsSidePanel","MapResults","ResultsSettings","MapLegend","tempDisplaySettings","styles","from","Set","rlinks","rnodes","sidePanel","includes","autoClose","index","selectedProperty","structuredClone","filter"],"sourceRoot":""}