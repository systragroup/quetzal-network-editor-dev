{"version":3,"file":"build.js","mappings":"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","sources":["webpack://quetzal-network-editor/webpack/runtime/chunk loaded","webpack://quetzal-network-editor/webpack/runtime/create fake namespace object","webpack://quetzal-network-editor/./src/scss/app.scss","webpack://quetzal-network-editor/./src/App.vue?eddb","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?0c5f","webpack://quetzal-network-editor/./src/components/Map.vue?6274","webpack://quetzal-network-editor/./src/components/MatrixRoadCaster.vue?d78f","webpack://quetzal-network-editor/./src/components/OSMImporter.vue?6d69","webpack://quetzal-network-editor/./src/components/ParamForm.vue?c4c5","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?66af","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?620a","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?289c","webpack://quetzal-network-editor/./src/components/ScenariosExplorer.vue?e90f","webpack://quetzal-network-editor/./src/components/Settings.vue?97f4","webpack://quetzal-network-editor/./src/components/SidePanel.vue?fc3a","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?60b3","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?b1bf","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?c0e6","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?ac79","webpack://quetzal-network-editor/./src/pages/Home.vue?3501","webpack://quetzal-network-editor/./src/pages/Import.vue?e0b8","webpack://quetzal-network-editor/./src/pages/Microservices.vue?82eb","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?9270","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?768d","webpack://quetzal-network-editor/./src/pages/Run.vue?7806","webpack://quetzal-network-editor/./src/scss/app.scss?d10e","webpack://quetzal-network-editor/./src/store/links.js","webpack://quetzal-network-editor/./src/store/rlinks.js","webpack://quetzal-network-editor/./src/store/results.js","webpack://quetzal-network-editor/./src/store/layer.js","webpack://quetzal-network-editor/./src/axiosClient.js","webpack://quetzal-network-editor/./src/AWSClient.js","webpack://quetzal-network-editor/./src/components/utils/utils.js","webpack://quetzal-network-editor/./src/store/api/run.js","webpack://quetzal-network-editor/./src/store/api/MatrixRoadCaster.js","webpack://quetzal-network-editor/./src/pages/Import.vue?89cd","webpack://quetzal-network-editor/src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/Import.vue?c377","webpack://quetzal-network-editor/./src/pages/Import.vue?e12a","webpack://quetzal-network-editor/./src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?a770","webpack://quetzal-network-editor/src/pages/ResultPicture.vue","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?549e","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?3070","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue","webpack://quetzal-network-editor/./src/auth.js","webpack://quetzal-network-editor/./src/pages/Home.vue?71ec","webpack://quetzal-network-editor/./src/components/SidePanel.vue?de18","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?3263","webpack://quetzal-network-editor/src/components/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?2735","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?2566","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?5140","webpack://quetzal-network-editor/src/components/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?da18","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?686e","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/SidePanel.vue?3af0","webpack://quetzal-network-editor/src/components/SidePanel.vue","webpack://quetzal-network-editor/./src/components/SidePanel.vue?c8d0","webpack://quetzal-network-editor/./src/components/SidePanel.vue","webpack://quetzal-network-editor/./src/components/Map.vue?c169","webpack://quetzal-network-editor/./src/components/Settings.vue?6db7","webpack://quetzal-network-editor/src/components/Settings.vue","webpack://quetzal-network-editor/./src/components/Settings.vue?e34e","webpack://quetzal-network-editor/./src/components/Settings.vue?146f","webpack://quetzal-network-editor/./src/components/Settings.vue","webpack://quetzal-network-editor/./src/components/StaticLinks.vue?92e6","webpack://quetzal-network-editor/src/components/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/StaticLinks.vue?2fc3","webpack://quetzal-network-editor/./src/components/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/EditorLinks.vue?81ee","webpack://quetzal-network-editor/src/components/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/EditorLinks.vue?80e2","webpack://quetzal-network-editor/./src/components/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/RoadLinks.vue?15f3","webpack://quetzal-network-editor/src/components/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/RoadLinks.vue?4ca6","webpack://quetzal-network-editor/./src/components/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue?66d8","webpack://quetzal-network-editor/src/components/utils/StaticLayer.vue","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue?2a6b","webpack://quetzal-network-editor/./src/components/utils/StaticLayer.vue","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?aa27","webpack://quetzal-network-editor/src/components/utils/LayerSelector.vue","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?2c38","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue?e814","webpack://quetzal-network-editor/./src/components/utils/LayerSelector.vue","webpack://quetzal-network-editor/./src/components/Map.vue?eaca","webpack://quetzal-network-editor/src/components/Map.vue","webpack://quetzal-network-editor/./src/components/Map.vue?fc51","webpack://quetzal-network-editor/./src/components/Map.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?120e","webpack://quetzal-network-editor/src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?6c63","webpack://quetzal-network-editor/./src/pages/Home.vue?e983","webpack://quetzal-network-editor/src/pages/Home.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/pages/Home.vue?ef39","webpack://quetzal-network-editor/./src/pages/Home.vue","webpack://quetzal-network-editor/./src/pages/Run.vue?e821","webpack://quetzal-network-editor/./src/components/ParamForm.vue?734f","webpack://quetzal-network-editor/src/components/ParamForm.vue","webpack://quetzal-network-editor/./src/components/ParamForm.vue?1a54","webpack://quetzal-network-editor/./src/components/ParamForm.vue?7290","webpack://quetzal-network-editor/./src/components/ParamForm.vue","webpack://quetzal-network-editor/./src/pages/Run.vue?d0c9","webpack://quetzal-network-editor/src/pages/Run.vue","webpack://quetzal-network-editor/./src/pages/Run.vue?43fc","webpack://quetzal-network-editor/./src/pages/Run.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?3e82","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?9dc2","webpack://quetzal-network-editor/src/components/ResultsSidePanel.vue","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?0669","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?6e02","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue","webpack://quetzal-network-editor/./src/components/MapResults.vue?289c","webpack://quetzal-network-editor/src/components/MapResults.vue","webpack://quetzal-network-editor/./src/components/MapResults.vue?ec49","webpack://quetzal-network-editor/./src/components/MapResults.vue","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?720a","webpack://quetzal-network-editor/src/components/ResultsSettings.vue","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?c070","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?b6d3","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?7ca6","webpack://quetzal-network-editor/src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?631d","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?8a2f","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?fec0","webpack://quetzal-network-editor/src/pages/ResultMap.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?a953","webpack://quetzal-network-editor/./src/pages/ResultMap.vue","webpack://quetzal-network-editor/./src/pages/Microservices.vue?20ef","webpack://quetzal-network-editor/./src/components/MatrixRoadCaster.vue?3f47","webpack://quetzal-network-editor/src/components/MatrixRoadCaster.vue","webpack://quetzal-network-editor/./src/components/MatrixRoadCaster.vue?09eb","webpack://quetzal-network-editor/./src/components/MatrixRoadCaster.vue?b0d5","webpack://quetzal-network-editor/./src/components/MatrixRoadCaster.vue","webpack://quetzal-network-editor/./src/components/OSMImporter.vue?c593","webpack://quetzal-network-editor/src/components/OSMImporter.vue","webpack://quetzal-network-editor/./src/components/OSMImporter.vue?63f8","webpack://quetzal-network-editor/./src/components/OSMImporter.vue?69e6","webpack://quetzal-network-editor/./src/components/OSMImporter.vue","webpack://quetzal-network-editor/./src/pages/Microservices.vue?2709","webpack://quetzal-network-editor/src/pages/Microservices.vue","webpack://quetzal-network-editor/./src/pages/Microservices.vue?c099","webpack://quetzal-network-editor/./src/pages/Microservices.vue","webpack://quetzal-network-editor/./src/router/index.js","webpack://quetzal-network-editor/./src/store/api/OSMImporter.js","webpack://quetzal-network-editor/./src/store/user.js","webpack://quetzal-network-editor/./static/links_base.geojson","webpack://quetzal-network-editor/./static/nodes_base.geojson","webpack://quetzal-network-editor/./src/store/index.js","webpack://quetzal-network-editor/./src/App.vue?2b98","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?a4db","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?7f8e","webpack://quetzal-network-editor/src/components/utils/Profile.vue","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?8f3a","webpack://quetzal-network-editor/./src/components/utils/Profile.vue","webpack://quetzal-network-editor/./src/components/ScenariosExplorer.vue?fd29","webpack://quetzal-network-editor/src/components/ScenariosExplorer.vue","webpack://quetzal-network-editor/./src/components/ScenariosExplorer.vue?1751","webpack://quetzal-network-editor/./src/components/ScenariosExplorer.vue?fc4d","webpack://quetzal-network-editor/./src/components/ScenariosExplorer.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?41be","webpack://quetzal-network-editor/src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?7ef1","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?f10d","webpack://quetzal-network-editor/src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1673","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?d7ce","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/utils/Alert.vue?037b","webpack://quetzal-network-editor/src/components/utils/Alert.vue","webpack://quetzal-network-editor/./src/components/utils/Alert.vue?6bcc","webpack://quetzal-network-editor/./src/App.vue?32cf","webpack://quetzal-network-editor/src/App.vue","webpack://quetzal-network-editor/./src/components/utils/Alert.vue","webpack://quetzal-network-editor/./src/App.vue?76cf","webpack://quetzal-network-editor/./src/App.vue","webpack://quetzal-network-editor/./src/main.js","webpack://quetzal-network-editor/webpack/bootstrap","webpack://quetzal-network-editor/webpack/runtime/compat get default export","webpack://quetzal-network-editor/webpack/runtime/define property getters","webpack://quetzal-network-editor/webpack/runtime/global","webpack://quetzal-network-editor/webpack/runtime/hasOwnProperty shorthand","webpack://quetzal-network-editor/webpack/runtime/make namespace object","webpack://quetzal-network-editor/webpack/runtime/node module decorator","webpack://quetzal-network-editor/webpack/runtime/publicPath","webpack://quetzal-network-editor/webpack/runtime/jsonp chunk loading","webpack://quetzal-network-editor/webpack/runtime/nonce","webpack://quetzal-network-editor/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body{font-family:\"Roboto\",sans-serif;height:100vh}body::-webkit-scrollbar{display:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-clip:padding-box;background-color:#9e9e9e;border-radius:8px}::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#2c3e4e;border-radius:8px}.v-application--wrap{flex-direction:row}.theme--light.v-application{color:#2c3e4e}.theme--light.v-icon{color:inherit !important}.theme--dark.v-label{color:#fff}.v-toolbar__content{display:flex;align-items:center;justify-content:space-between;height:100% !important;width:100%}.v-input__icon>i{font-size:14px !important;margin-right:10px}.v-navigation-drawer--fixed{z-index:200}.v-btn.primary>span{color:#2c3e4e !important}.v-snack__wrapper{margin:20px}.v-snack__content{color:#2c3e4e !important}.snackbar-error>.v-snack__wrapper{border-bottom:5px solid #e42626 !important}.snackbar-warning>.v-snack__wrapper{border-bottom:5px solid #ff7b30 !important}.snackbar-positive>.v-snack__wrapper{border-bottom:5px solid #4caf50 !important}.v-card__subtitle,.v-card__text,.v-card__title{padding:0}.v-card__title{line-height:normal}.mapboxgl-ctrl-bottom-right{right:10px;bottom:10px}.mapboxgl-popup-content{padding:10px;color:#fff;background-color:#2c3e4e}.mapboxgl-popup-tip{border-bottom-color:#2c3e4e !important;border-top-color:#2c3e4e !important}.mapboxgl-popup-close-button{right:20px;top:20px;font-size:1.5em}.mapboxgl-ctrl-attrib-inner>a{color:#2c3e4e !important}.view{padding:20px;height:calc(100% - 50px);width:100%;display:flex}.card{background-color:#fff;border-radius:5px;box-shadow:0px 5px 10px rgba(0,0,0,.05);padding:20px}.card-hover:hover{box-shadow:0px 5px 10px rgba(0,0,0,.1)}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(300px)}.fade-leave-active{display:none !important}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0 !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/scss/generic.scss\",\"webpack://./src/scss/variables.scss\",\"webpack://./src/scss/vuetify.scss\",\"webpack://./src/scss/mapboxgl.scss\",\"webpack://./src/scss/util.scss\",\"webpack://./src/scss/animations.scss\"],\"names\":[],\"mappings\":\"AAAA,KACE,+BAAA,CACA,YAAA,CAEF,wBACE,YAAA,CAEF,oBACE,SAAA,CAEF,0BACE,2BAAA,CACA,wBCJkB,CDKlB,iBAAA,CAEF,0BACE,2BAAA,CACA,wBCfkB,CDgBlB,iBAAA,CElBF,qBACE,kBAAA,CAEF,4BACE,aDFkB,CCIpB,qBACE,wBAAA,CAEF,qBACE,UAAA,CAEF,oBACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,sBAAA,CACA,UAAA,CAEF,iBACE,yBAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CAEF,oBACE,wBAAA,CAEF,kBACE,WAAA,CAEF,kBACE,wBAAA,CAEF,kCACE,0CAAA,CAEF,oCACE,0CAAA,CAEF,qCACE,0CAAA,CAEF,+CACE,SAAA,CAEF,eACE,kBAAA,CChDF,4BACE,UAAA,CACA,WAAA,CAEF,wBACE,YAAA,CACA,UAAA,CACA,wBFLkB,CEOpB,oBACE,sCAAA,CACA,mCAAA,CAEF,6BACE,UAAA,CACA,QAAA,CACA,eAAA,CAEF,8BACE,wBAAA,CCnBF,MACE,YAAA,CACA,wBAAA,CACA,UAAA,CACA,YAAA,CAEF,MACE,qBAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CAEF,kBACE,sCAAA,CCbF,sCACE,iBAAA,CAEF,2BACE,SAAA,CACA,2BAAA,CAEF,mBACE,uBAAA,CAEF,sCACE,sBAAA,CAEF,2BACE,oBAAA\",\"sourcesContent\":[\"body {\\n  font-family: 'Roboto', sans-serif;\\n  height: 100vh;\\n}\\nbody::-webkit-scrollbar {\\n  display: none;\\n}\\n::-webkit-scrollbar {\\n  width: 8px;\\n}\\n::-webkit-scrollbar-track {\\n  background-clip: padding-box;\\n  background-color: $grey-medium;\\n  border-radius: 8px;\\n}\\n::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: $secondary;\\n  border-radius: 8px;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\",\".v-application--wrap {\\n  flex-direction: row;\\n}\\n.theme--light.v-application {\\n  color: $secondary;\\n}\\n.theme--light.v-icon {\\n  color: inherit !important;\\n}\\n.theme--dark.v-label {\\n  color: white;\\n}\\n.v-toolbar__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  height: 100% !important;\\n  width: 100%;\\n}\\n.v-input__icon > i {\\n  font-size: 14px !important;\\n  margin-right: 10px;\\n}\\n.v-navigation-drawer--fixed {\\n  z-index: 200;\\n}\\n.v-btn.primary > span {\\n  color: $secondary !important;\\n}\\n.v-snack__wrapper {\\n  margin: 20px;\\n}\\n.v-snack__content {\\n  color: $secondary !important;\\n}\\n.snackbar-error > .v-snack__wrapper {\\n  border-bottom: 5px solid $negative !important;\\n}\\n.snackbar-warning > .v-snack__wrapper {\\n  border-bottom: 5px solid $warning !important;\\n}\\n.snackbar-positive > .v-snack__wrapper {\\n  border-bottom: 5px solid $positive !important;\\n}\\n.v-card__subtitle, .v-card__text, .v-card__title {\\n  padding: 0;\\n}\\n.v-card__title {\\n  line-height: normal;\\n}\\n\",\".mapboxgl-ctrl-bottom-right {\\n  right: 10px;\\n  bottom: 10px;\\n}\\n.mapboxgl-popup-content {\\n  padding: 10px;\\n  color: white;\\n  background-color: $secondary;\\n}\\n.mapboxgl-popup-tip {\\n  border-bottom-color: $secondary !important;\\n  border-top-color: $secondary !important;\\n}\\n.mapboxgl-popup-close-button {\\n  right: 20px;\\n  top: 20px;\\n  font-size: 1.5em;\\n}\\n.mapboxgl-ctrl-attrib-inner > a {\\n  color: $secondary !important;\\n}\\n\",\".view {\\n  padding: 20px;\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n.card {\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\\n  padding: 20px;\\n}\\n.card-hover:hover {\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.10);\\n}\\n\",\".list-enter-active, .list-leave-active {\\n  transition: all 1s;\\n}\\n.list-enter, .list-leave-to {\\n  opacity: 0;\\n  transform: translateX(300px);\\n}\\n.fade-leave-active {\\n  display: none !important;\\n}\\n.fade-enter-active, .fade-leave-active {\\n  transition: opacity 0.5s;\\n}\\n.fade-enter, .fade-leave-to {\\n  opacity: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app[data-v-65f09c9a]{background-color:#f5f5f5 !important;width:100%;height:100%;overflow:hidden}.snackbar-text[data-v-65f09c9a]{color:var(--v-secondarydark-base)}.container[data-v-65f09c9a]{height:100%;margin-left:50px;width:calc(100% - 50px);max-width:calc(100% - 50px);padding:0}.container.login[data-v-65f09c9a]{margin-left:0;width:100%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.vue\"],\"names\":[],\"mappings\":\"AAEA,sBACE,mCAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEF,gCACE,iCAAA,CAEF,4BACE,WAAA,CACA,gBAAA,CACA,uBAAA,CACA,2BAAA,CACA,SAAA,CAEF,kCACE,aAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app {\\n  background-color: $grey-ultralight !important;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.snackbar-text{\\n  color:var(--v-secondarydark-base);\\n}\\n.container {\\n  height: 100%;\\n  margin-left: 50px;\\n  width: calc(100% - 50px);\\n  max-width: calc(100% - 50px);\\n  padding: 0;\\n}\\n.container.login {\\n  margin-left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-993af73a]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-993af73a]{transition:.3s}.left-panel-content[data-v-993af73a]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-993af73a]{padding:0}.left-panel-toggle-btn[data-v-993af73a]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-993af73a]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-993af73a]{height:height;padding-left:20px}.scrollable[data-v-993af73a]{overflow-y:scroll}.drawer-list-item[data-v-993af73a]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-993af73a]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/LinksSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-view[data-v-44df042a]{width:100%}.my-custom-dialog[data-v-44df042a]{position:absolute !important;top:10px !important;right:20px !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Map.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,UAAA,CAGF,mCACE,4BAAA,CACA,mBAAA,CACA,qBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  width: 100%;\\n\\n}\\n.my-custom-dialog {\\n  position: absolute !important;\\n  top: 10px !important;\\n  right: 20px !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.container[data-v-e0ded876]{width:100%;overflow:hidden;margin-left:0 auto;margin-right:0 auto;padding:0 0 0 0}.layout[data-v-e0ded876]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-e0ded876]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-e0ded876]{height:100%;overflow-y:auto;padding:2.5rem}.card2[data-v-e0ded876]{height:100%;overflow-y:auto;padding:2.5rem;margin-right:3rem}.v-card__text[data-v-e0ded876]{max-height:80%;overflow-y:auto}.row[data-v-e0ded876]{height:calc(100% - 38px)}.col[data-v-e0ded876]{max-height:100%}.title[data-v-e0ded876]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-e0ded876]{font-size:2em;color:var(--v-secondary-dark);font-weight:bold;margin:10px;margin-left:0px}.card button[data-v-e0ded876]{margin-top:0px}.background[data-v-e0ded876]{background-color:var(--v-background-base)}div.gallery[data-v-e0ded876]{margin:5px;background-color:var(--v-white-base);border:1px solid var(--v-lightgrey-base);float:left;width:50rem}div.gallery[data-v-e0ded876]:hover{border:1px solid var(--v-darkgrey-base)}div.gallery img[data-v-e0ded876]{width:100%;height:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MatrixRoadCaster.vue\"],\"names\":[],\"mappings\":\"AAEA,4BACE,UAAA,CACA,eAAA,CACA,kBAAA,CACA,mBAAA,CACA,eAAA,CAEF,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,cAAA,CAEF,wBACE,WAAA,CACA,eAAA,CACA,cAAA,CACA,iBAAA,CAGF,+BACE,cAAA,CACA,eAAA,CAEF,sBACE,wBAAA,CAEF,sBACE,eAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,6BAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CAEF,8BACE,cAAA,CAEF,6BACE,yCAAA,CAGF,6BACE,UAAA,CACA,oCAAA,CACA,wCAAA,CACA,UAAA,CACA,WAAA,CAGF,mCACE,uCAAA,CAGF,iCACE,UAAA,CACA,WAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.container {\\n  width: 100%;\\n  overflow: hidden;\\n  margin-left: 0 auto;\\n  margin-right: 0 auto;\\n  padding: 0 0 0 0;\\n}\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  height: 100%;\\n  overflow-y: auto;\\n  padding: 2.5rem;\\n}\\n.card2 {\\n  height: 100%;\\n  overflow-y: auto;\\n  padding: 2.5rem;\\n  margin-right: 3rem;\\n}\\n\\n.v-card__text {\\n  max-height: 80%;\\n  overflow-y: auto;\\n}\\n.row {\\n  height: calc(100% - 38px)\\n}\\n.col {\\n  max-height: 100%;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:var(--v-secondary-dark);\\n  font-weight: bold;\\n  margin: 10px;\\n  margin-left: 0px;\\n}\\n.card button {\\n  margin-top: 0px;\\n}\\n.background {\\n  background-color:var(--v-background-base);\\n}\\n\\ndiv.gallery {\\n  margin: 5px;\\n  background-color: var(--v-white-base);\\n  border: 1px solid var(--v-lightgrey-base);\\n  float: left;\\n  width: 50rem;\\n}\\n\\ndiv.gallery:hover {\\n  border: 1px solid var(--v-darkgrey-base);\\n}\\n\\ndiv.gallery img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.card[data-v-24e4dd51]{height:100%;overflow-y:auto;padding:2.5rem}.map[data-v-24e4dd51]{max-width:100rem;width:50rem;height:40rem}.v-card__text[data-v-24e4dd51]{padding:0px 24px 0px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/OSMImporter.vue\"],\"names\":[],\"mappings\":\"AAGA,uBACE,WAAA,CACA,eAAA,CACA,cAAA,CAEF,sBACE,gBAAA,CACA,WAAA,CACA,YAAA,CAEF,+BACI,oBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.card {\\n  height: 100%;\\n  overflow-y: auto;\\n  padding: 2.5rem;\\n}\\n.map {\\n  max-width: 100rem;\\n  width:50rem;\\n  height: 40rem;\\n}\\n.v-card__text {\\n    padding: 0px 24px 0px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-539eabe3]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-539eabe3]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.subtitle[data-v-539eabe3]{font-size:2em;color:var(--v-secondary-dark);font-weight:bold;margin:10px;margin-left:0px}.title[data-v-539eabe3]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.v-card__text[data-v-539eabe3]{max-height:80%;overflow-y:auto}.v-form[data-v-539eabe3]{max-height:80%}.categorie[data-v-539eabe3]{font-size:1.5em;font-weight:bold;background:var(--v-background-lighten3)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ParamForm.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,2BACE,aAAA,CACA,6BAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,+BACE,cAAA,CACA,eAAA,CAEF,yBACE,cAAA,CAEF,4BACE,eAAA,CACA,gBAAA,CACA,uCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:var(--v-secondary-dark);\\n  font-weight: bold;\\n  margin: 10px;\\n  margin-left: 0px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.v-card__text {\\n  max-height: 80%;\\n  overflow-y: auto;\\n}\\n.v-form {\\n  max-height: 80%;\\n}\\n.categorie {\\n  font-size: 1.5em;\\n  font-weight: bold;\\n  background:var(--v-background-lighten3);\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.gradient[data-v-1cd25eb7]{width:60%;white-space:nowrap;position:relative;display:inline-block;padding-top:10px;padding-bottom:10px}.gradient .domain-title[data-v-1cd25eb7]{position:absolute;padding-left:.5rem;padding-top:.5rem;text-align:center;font-size:16px}.grad-step[data-v-1cd25eb7]{display:inline-block;height:40px;width:1%}.subtitle[data-v-1cd25eb7]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.setting[data-v-1cd25eb7]{left:98%;width:0px;z-index:2;display:flex;position:relative;align-items:center;justify-content:center;height:50px}.shake[data-v-1cd25eb7]{animation:shake-1cd25eb7 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-1cd25eb7{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ResultsSettings.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CAIJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA,CAGJ,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAIF,0BACE,QAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 60%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    padding-left:0.5rem;\\n    padding-top:0.5rem;\\n    text-align: center;\\n    font-size: 16px;\\n\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 40px;\\n    width: 1%;\\n}\\n\\n.subtitle {\\n  font-size: 2em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n\\n.setting {\\n  left: 98%;\\n  width: 0px;\\n  z-index: 2;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-e64f5be4]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.title[data-v-e64f5be4]{color:#fff}.left-panel-close[data-v-e64f5be4]{transition:.3s}.left-panel-content[data-v-e64f5be4]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-e64f5be4]{padding:0}.left-panel-toggle-btn[data-v-e64f5be4]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-e64f5be4]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-e64f5be4]{height:height;padding-left:20px}.scrollable[data-v-e64f5be4]{overflow-y:scroll}.drawer-list-item[data-v-e64f5be4]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-e64f5be4]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ResultsSidePanel.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAEF,wBACE,UAAA,CAEF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color: var(--v-primarydark-base);\\n  transition: 0.3s;\\n  position: absolute;\\n  display: flex;\\n  z-index: 20;\\n}\\n.title  {\\n  color:white;\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: var(--v-primarydark-base);\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-1083de55]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-1083de55]{transition:.3s}.left-panel-content[data-v-1083de55]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-1083de55]{padding:0}.left-panel-toggle-btn[data-v-1083de55]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-1083de55]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-1083de55]{height:height;padding-left:20px}.scrollable[data-v-1083de55]{overflow-y:scroll}.drawer-list-item[data-v-1083de55]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-1083de55]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RoadSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.title[data-v-630c0760]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.is-active[data-v-630c0760]{opacity:1;background-color:var(--v-primary-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ScenariosExplorer.vue\"],\"names\":[],\"mappings\":\"AAEA,wBACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,SAAA,CACA,sCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.title {\\n  font-size: 1.2em;\\n  padding-left: 1.2rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.is-active{\\n  opacity:1;\\n  background-color:var(--v-primary-base);\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.setting[data-v-2c89ae11]{position:absolute;top:10px;right:20px}.layout[data-v-2c89ae11]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-2c89ae11]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-2c89ae11]{width:500px;overflow-y:auto;padding:40px}.title[data-v-2c89ae11]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-2c89ae11]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.card button[data-v-2c89ae11]{margin-top:40px}.shake[data-v-2c89ae11]{animation:shake-2c89ae11 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-2c89ae11{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Settings.vue\"],\"names\":[],\"mappings\":\"AAEA,0BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAGF,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,8BACE,eAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.setting {\\n  position: absolute;\\n  top: 10px;\\n  right: 20px;\\n}\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.left-panel[data-v-e349a9f8]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-e349a9f8]{transition:.3s}.left-panel-content[data-v-e349a9f8]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-e349a9f8]{padding:0}.left-panel-toggle-btn[data-v-e349a9f8]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-e349a9f8]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-e349a9f8]{height:height;padding-left:20px}.scrollable[data-v-e349a9f8]{overflow-y:scroll}.drawer-list-item[data-v-e349a9f8]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-e349a9f8]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SidePanel.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color:var(--v-primarydark-base);\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: var(--v-primarydark-base);\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.drawer[data-v-d19f7092]{background-color:var(--v-secondary-base) !important}.drawer-header[data-v-d19f7092]{width:100%;height:50px;border-bottom:1px solid #fff;background-color:var(--v-secondary-base);color:#fff;display:flex;align-items:center;padding-left:18px;cursor:pointer}.drawer-list[data-v-d19f7092]{height:calc(100% - 50px);display:flex;flex-direction:column;padding:20px 0}.drawer-list-item[data-v-d19f7092]{padding:0 13px !important;justify-content:flex-start !important;color:#fff;flex:0;transition:.3s}.version-number[data-v-d19f7092]{justify-content:flex-start;color:#fff !important;margin-bottom:-1rem;flex:0}.drawer-list-item-icon[data-v-d19f7092]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.drawer-list-item-icon-disabled[data-v-d19f7092]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;opacity:.4}.drawer-list-item-selected[data-v-d19f7092]{background-color:var(--v-secondarydarkfix-base)}.drawer-list-item[data-v-d19f7092]:hover{background-color:var(--v-secondary-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/NavigationDrawer.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,mDAAA,CAEF,gCACE,UAAA,CACA,WAAA,CACA,4BAAA,CACA,wCAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAEF,8BACE,wBAAA,CACA,YAAA,CAEA,qBAAA,CACA,cAAA,CAEF,mCACE,yBAAA,CACA,qCAAA,CACA,UAAA,CACA,MAAA,CACA,cAAA,CAEF,iCACE,0BAAA,CACA,qBAAA,CACA,mBAAA,CACA,MAAA,CAEF,wCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,iDACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,4CACE,+CAAA,CAEF,yCACE,wCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.drawer {\\n  background-color: var(--v-secondary-base) !important;\\n}\\n.drawer-header {\\n  width: 100%;\\n  height: 50px;\\n  border-bottom: 1px solid white;\\n  background-color: var(--v-secondary-base);\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  padding-left: 18px;\\n  cursor: pointer;\\n}\\n.drawer-list {\\n  height: calc(100% - 50px);\\n  display: flex;\\n\\n  flex-direction: column;\\n  padding: 20px 0;\\n}\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  color:white ;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n.version-number {\\n  justify-content: flex-start ;\\n  color:white !important;\\n  margin-bottom:-1rem;\\n  flex: 0;\\n}\\n.drawer-list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n.drawer-list-item-icon-disabled {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  opacity: 0.4;\\n}\\n.drawer-list-item-selected {\\n  background-color: var(--v-secondarydarkfix-base);\\n}\\n.drawer-list-item:hover {\\n  background-color: var(--v-secondary-base);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app-toolbar[data-v-5d14ce84]{z-index:100;height:50px !important;display:flex;color:#2c3e4e !important;position:relative}.login[data-v-5d14ce84]{padding-left:50px}.project-name[data-v-5d14ce84]{font-size:1.3em}.app-name[data-v-5d14ce84]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.copyright[data-v-5d14ce84]{font-size:.9rem;padding-left:5px;padding-top:1rem;color:var(--v-secondarydark-base)}.languages-container[data-v-5d14ce84]{display:flex}.switch[data-v-5d14ce84]{display:flex;padding-top:1rem;padding-left:1rem;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer}.language[data-v-5d14ce84]{width:50px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-5d14ce84],.language[data-v-5d14ce84]:hover{color:var(--v-secondarydark-base)}.language[data-v-5d14ce84]:last-child{border-right:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/Toolbar.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,8BACE,WAAA,CACA,sBAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAEF,wBACE,iBAAA,CAEF,+BACE,eAAA,CAEF,2BACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,iCAAA,CAEF,sCACE,YAAA,CAEF,yBACE,YAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,aC5BkB,CD6BlB,cAAA,CAEF,2BACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aCpCkB,CDqClB,cAAA,CACA,cAAA,CAEF,mEACE,iCAAA,CAEF,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app-toolbar {\\n  z-index: 100;\\n  height: 50px !important;\\n  display: flex;\\n  color: $secondary !important;\\n  position: relative;\\n}\\n.login {\\n  padding-left: 50px;\\n}\\n.project-name {\\n  font-size: 1.3em;\\n}\\n.app-name {\\n  font-size: 1.2em;\\n  padding-left: 1.2rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.copyright {\\n  font-size: 0.9rem;\\n  padding-left: 5px;\\n  padding-top: 1rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.switch {\\n  display: flex;\\n  padding-top: 1rem;\\n  padding-left:1rem;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n}\\n.language {\\n  width: 50px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color:var(--v-secondarydark-base);\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layer-button[data-v-1a6c8be4]{position:absolute;top:60px;right:20px}.card[data-v-1a6c8be4]{width:500px;overflow-y:auto;padding:40px}.subtitle[data-v-1a6c8be4]{font-size:1.5em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.title[data-v-1a6c8be4]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/LayerSelector.vue\"],\"names\":[],\"mappings\":\"AAEA,+BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,2BACE,eAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layer-button {\\n  position: absolute;\\n  top: 60px;\\n  right: 20px;\\n}\\n.card {\\n  width: 500px;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.subtitle {\\n  font-size: 1.5em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.gradient[data-v-77d246dd]{width:85%;white-space:nowrap;position:relative;display:inline-block;padding-top:20px;padding-bottom:15px}.gradient .domain-title[data-v-77d246dd]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;top:6px}.gradient .domain-min[data-v-77d246dd]{position:absolute;left:0;font-size:11px;bottom:5px}.gradient .domain-med[data-v-77d246dd]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;bottom:5px}.gradient .domain-max[data-v-77d246dd]{position:absolute;right:0;font-size:11px;bottom:5px}.grad-step[data-v-77d246dd]{display:inline-block;height:20px;width:1%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/MapLegend.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,OAAA,CAIJ,uCACI,iBAAA,CACA,MAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,OAAA,CACA,cAAA,CACA,UAAA,CAGJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 85%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 20px;\\n    padding-bottom: 15px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    top: 6px;\\n\\n}\\n\\n.gradient .domain-min {\\n    position: absolute;\\n    left: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-med {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-max {\\n    position: absolute;\\n    right: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 20px;\\n    width: 1%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-view[data-v-173cd065]{height:calc(100% - 50px);width:100%;display:flex}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Home.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-3aeed8cc]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-3aeed8cc]{height:100%;width:100%;background-color:var(--v-background-base);position:absolute}.card[data-v-3aeed8cc]{width:500px;max-height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-3aeed8cc]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:var(--v-primary-base);font-weight:bold}.subtitle[data-v-3aeed8cc]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;margin:40px}.card button[data-v-3aeed8cc]{margin-top:40px}.animate-login[data-v-3aeed8cc]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-3aeed8cc]{opacity:0;transition:1s}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Import.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,yCAAA,CAEA,iBAAA,CAEF,uBACE,WAAA,CACA,2BAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,2BAAA,CAEA,gBAAA,CAEF,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color:var(--v-background-base);\\n\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  max-height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: var(--v-primary-base);\\n\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-fb2ac9b2]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-fb2ac9b2]{height:100%;width:100%;background-color:var(--v-background-base);position:absolute}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Microservices.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,yCAAA,CAEA,iBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color:var(--v-background-base);\\n\\n  position: absolute;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.map-view[data-v-89c266de]{height:calc(100% - 50px);width:100%;display:flex}.left-panel[data-v-89c266de]{height:100%;position:absolute}.legend-open[data-v-89c266de]{left:350px;width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-white-base);border:thin solid var(--v-mediumgrey-base)}.legend-close[data-v-89c266de]{left:50px;width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-lightgrey);border:thin solid #c4c4c4}.hist[data-v-89c266de]{position:relative;bottom:-10px;flex-grow:1;height:20px;background-color:#e71111;text-align:center;width:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultMap.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA,CAGF,6BACE,WAAA,CACA,iBAAA,CAGF,8BACE,UAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,oCAAA,CACA,0CAAA,CAEF,+BACE,SAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,mCAAA,CACA,yBAAA,CAGF,uBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n\\n}\\n.left-panel {\\n  height: 100%;\\n  position: absolute;\\n\\n}\\n.legend-open {\\n  left: 350px;\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-white-base);\\n  border: thin solid var(--v-mediumgrey-base);\\n}\\n.legend-close {\\n  left: 50px;\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-lightgrey);\\n  border: thin solid rgb(196, 196, 196);\\n}\\n\\n.hist {\\n  position: relative;\\n  bottom: -10px;\\n  flex-grow: 1;\\n  height: 20px;\\n  background-color: rgba(231, 17, 17);\\n  text-align: center;\\n  width:10px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-a5327b98]{background-color:var(--v-white-base);display:flex;height:100%;align-items:center;flex-direction:column;overflow-y:scroll;padding-top:15px;padding-bottom:60px}div.gallery[data-v-a5327b98]{margin:5px;background-color:var(--v-white-base);border:1px solid var(--v-lightgrey-base);float:left;width:50rem}div.gallery[data-v-a5327b98]:hover{border:1px solid var(--v-darkgrey-base)}div.gallery img[data-v-a5327b98]{width:100%;height:auto}div.desc[data-v-a5327b98]{padding:15px;text-align:center}.image-fit[data-v-a5327b98]{height:100%;width:100%;object-fit:cover}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultPicture.vue\"],\"names\":[],\"mappings\":\"AAGA,yBACE,oCAAA,CACA,YAAA,CACA,WAAA,CACA,kBAAA,CACA,qBAAA,CACA,iBAAA,CACA,gBAAA,CACA,mBAAA,CAEF,6BACE,UAAA,CACA,oCAAA,CACA,wCAAA,CACA,UAAA,CACA,WAAA,CAGF,mCACE,uCAAA,CAGF,iCACE,UAAA,CACA,WAAA,CAGF,0BACE,YAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CACA,UAAA,CACA,gBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.layout {\\n  background-color:var(--v-white-base);\\n  display: flex;\\n  height: 100%;\\n  align-items: center;\\n  flex-direction: column;\\n  overflow-y: scroll;\\n  padding-top: 15px;\\n  padding-bottom: 60px;\\n}\\ndiv.gallery {\\n  margin: 5px;\\n  background-color: var(--v-white-base);\\n  border: 1px solid var(--v-lightgrey-base);\\n  float: left;\\n  width: 50rem;\\n}\\n\\ndiv.gallery:hover {\\n  border: 1px solid var(--v-darkgrey-base);\\n}\\n\\ndiv.gallery img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\ndiv.desc {\\n  padding: 15px;\\n  text-align: center;\\n}\\n.image-fit{\\n  height: 100%;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.container[data-v-e8d4783a]{width:100%;overflow:hidden;margin-left:0 auto;margin-right:0 auto;padding:0 0 0 0}.layout[data-v-e8d4783a]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-e8d4783a]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-e8d4783a]{height:100%;overflow-y:auto;padding:40px}.v-card__text[data-v-e8d4783a]{max-height:80%;overflow-y:auto}.row[data-v-e8d4783a]{height:calc(100% - 38px)}.col[data-v-e8d4783a]{max-height:100%}.title[data-v-e8d4783a]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-e8d4783a]{font-size:2em;color:var(--v-secondary-dark);font-weight:bold;margin:10px;margin-left:0px}.card button[data-v-e8d4783a]{margin-top:0px}.v-stepper__content[data-v-e8d4783a]{border-left:4px solid rgba(0,0,0,.12)}.v-sheet.v-stepper[data-v-e8d4783a]:not(.v-sheet--outlined){box-shadow:none}.background[data-v-e8d4783a]{background-color:var(--v-background-base)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Run.vue\"],\"names\":[],\"mappings\":\"AAEA,4BACE,UAAA,CACA,eAAA,CACA,kBAAA,CACA,mBAAA,CACA,eAAA,CAEF,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAGF,+BACE,cAAA,CACA,eAAA,CAEF,sBACE,wBAAA,CAEF,sBACE,eAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,6BAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CAEF,8BACE,cAAA,CAEF,qCACE,qCAAA,CAEF,4DACE,eAAA,CAEF,6BACE,yCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.container {\\n  width: 100%;\\n  overflow: hidden;\\n  margin-left: 0 auto;\\n  margin-right: 0 auto;\\n  padding: 0 0 0 0;\\n}\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  height: 100%;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n\\n.v-card__text {\\n  max-height: 80%;\\n  overflow-y: auto;\\n}\\n.row {\\n  height: calc(100% - 38px)\\n}\\n.col {\\n  max-height: 100%;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:var(--v-secondary-dark);\\n  font-weight: bold;\\n  margin: 10px;\\n  margin-left: 0px;\\n}\\n.card button {\\n  margin-top: 0px;\\n}\\n.v-stepper__content {\\n  border-left: 4px solid rgba(0,0,0,.12);\\n}\\n.v-sheet.v-stepper:not(.v-sheet--outlined) {\\n  box-shadow: none;\\n}\\n.background {\\n  background-color:var(--v-background-base);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    links: {},\n    editorTrip: null,\n    editorNodes: {},\n    editorLinks: {},\n    editorLineInfo: {},\n    nodes: {},\n    nodesHeader: {},\n    linksHeader: {},\n    tripId: [],\n    selectedTrips: [],\n    newLink: {},\n    newNode: {},\n    changeBounds: true,\n    linkSpeed: 20, // 20KmH for time (speed/distance)\n    linksDefaultColor: '2196F3',\n    lineAttributes: [],\n    nodeAttributes: [],\n    defaultAttributes: [\n      { name: 'index', type: 'String' },\n      { name: 'a', type: 'String' },\n      { name: 'b', type: 'String' },\n      { name: 'trip_id', type: 'String' },\n      { name: 'route_id', type: 'String' },\n      { name: 'agency_id', type: 'String' },\n      { name: 'route_short_name', type: 'String' },\n      { name: 'route_type', type: 'String' },\n      { name: 'route_color', type: 'String' },\n      { name: 'length', type: 'Number' }, // float\n      { name: 'time', type: 'Number' }, // float\n      { name: 'headway', type: 'Number' }, // float\n      { name: 'route_width', type: 'Number' }, // float\n      { name: 'pickup_type', type: 'Number' }, // float\n      { name: 'drop_off_type', type: 'Number' }, // int\n      { name: 'link_sequence', type: 'Number' }, // int\n      { name: 'direction_id', type: 'Number' }, // int\n    ],\n  },\n\n  mutations: {\n    loadLinks (state, payload) {\n      state.links = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n\n        state.editorLinks = linksHeader\n        // limit geometry precision to 6 digit\n        state.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('applyPropertiesTypes')\n        this.commit('getTripId')\n        // set all trips visible\n        this.commit('changeSelectedTrips', state.tripId)\n\n        this.commit('getLinksProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadNodes (state, payload) {\n      state.nodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.nodes.crs.properties.name)) {\n        const nodesHeader = { ...state.nodes }\n        nodesHeader.features = []\n        state.nodesHeader = nodesHeader\n        state.editorNodes = nodesHeader\n        // limit geometry precision to 6 digit\n        state.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    unloadFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.links.features = []\n      state.nodes.features = []\n      state.editorTrip = null\n      state.tripId = []\n      state.selectedTrips = []\n    },\n\n    getLinksProperties (state) {\n      let header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = state.defaultAttributes.map(attr => attr.name)\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.lineAttributes = header\n    },\n    getNodesProperties (state) {\n      let header = new Set([])\n      state.nodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index',\n        'stop_code',\n        'stop_name']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.nodeAttributes = header\n    },\n\n    addPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'links') {\n        state.links.features.map(link => link.properties[payload.name] = null)\n        state.editorLinks.features.map(link => link.properties[payload.name] = null)\n        state.lineAttributes.push(payload.name) // could put that at applied. so we can cancel\n      } else {\n        state.nodes.features.map(node => node.properties[payload.name] = null)\n        state.editorNodes.features.map(node => node.properties[payload.name] = null)\n      }\n    },\n    deletePropertie (state, payload) {\n      // when a link property is deleted\n      console.log(payload)\n      if (payload.table === 'links') {\n        state.links.features.filter(link => delete link.properties[payload.name])\n        state.editorLinks.features.filter(link => delete link.properties[payload.name])\n        state.lineAttributes = state.lineAttributes.filter(item => item !== payload.name)\n      } else {\n        state.nodes.features.filter(node => delete node.properties[payload.name])\n        state.editorNodes.features.filter(node => delete node.properties[payload.name])\n      }\n    },\n    changeSelectedTrips (state, payload) {\n      // trips list of visible trip_id.\n      state.selectedTrips = payload\n    },\n\n    setEditorTrip (state, payload) {\n      // set Trip Id\n      state.editorTrip = payload.tripId\n      state.changeBounds = payload.changeBounds\n      // set editor links corresponding to trip id\n      // var filtered = {...state.links}\n      const filtered = JSON.parse(JSON.stringify(state.links))\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      state.editorLinks = filtered\n      // get the corresponding nodes\n      this.commit('getEditorNodes', { nodes: state.nodes })\n      this.commit('getEditorLineInfo')\n    },\n\n    cloneTrip (state, payload) {\n      // clone and reversed a trip.\n      const cloned = structuredClone(state.links)\n      cloned.features = cloned.features.filter(link => link.properties.trip_id === payload.tripId)\n\n      let linkSequence = cloned.features.length\n      for (const link of cloned.features) {\n        link.properties.trip_id = payload.name\n        // mettre dans l'autre sens » inverser 0 et 1 et leur coordonées\n        link.geometry.coordinates.reverse()//\n        // inverser node a et b (propriétés)\n        link.properties.a = [link.properties.b, link.properties.b = link.properties.a][0]\n        // changer le link-sequence de tous les objets\n        link.properties.link_sequence = linkSequence\n        linkSequence -= 1\n        // changer la direction\n        if (link.properties.direction_id === 0) {\n          link.properties.direction_id = 1\n        } else {\n          link.properties.direction_id = 0\n        }\n        // changer nom de l'index\n        link.properties.index = 'link_' + short.generate()\n      }\n      // inverser l'ordre des features\n      cloned.features.reverse()\n      state.links.features.push(...cloned.features)\n      this.commit('getTripId')\n    },\n    getEditorNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      const a = state.editorLinks.features.map(item => item.properties.a)\n      const b = state.editorLinks.features.map(item => item.properties.b)\n      const editorNodesList = new Set([...a, ...b])\n      // set nodes corresponding to trip id\n      const filtered = JSON.parse(JSON.stringify(payload.nodes))\n      filtered.features = filtered.features.filter(node => editorNodesList.has(node.properties.index))\n      state.editorNodes = filtered\n    },\n\n    getEditorLineInfo (state) {\n      const form = {}\n      const uneditable = ['index', 'length', 'a', 'b', 'link_sequence']\n      // empty trip, when its a newLine\n      if (state.editorLinks.features.length === 0) {\n        const defaultValue = {\n          route_id: 'Q1',\n          agency_id: 'QUENEDI',\n          route_short_name: 'Q1',\n          route_type: 'quenedi',\n          route_color: state.linksDefaultColor,\n          route_width: 3,\n          headway: 600,\n          pickup_type: 0,\n          drop_off_type: 0,\n          direction_id: 0,\n        }\n\n        state.lineAttributes.forEach(key => {\n          form[key] = {\n            value: defaultValue[key],\n            disabled: uneditable.includes(key),\n            placeholder: false,\n          }\n        })\n\n        form.trip_id = { value: state.editorTrip, disabled: false, placeholder: false }\n      } else {\n        const features = state.editorLinks.features\n\n        state.lineAttributes.forEach(key => {\n          const val = new Set(features.map(link => link.properties[key]))\n          form[key] = {\n            value: val.size > 1 ? '' : [...val][0],\n            disabled: uneditable.includes(key),\n            placeholder: val.size > 1,\n          }\n        })\n      }\n      state.editorLineInfo = form\n    },\n\n    getTripId (state) {\n      state.tripId = Array.from(new Set(state.links.features.map(item => item.properties.trip_id)))\n    },\n\n    setNewLink (state, payload) {\n      // copy editor links geoJSON, only take first (or last) link.\n      // delete some properties like id and index.\n      const uncopiedPropeties = {\n        index: null,\n        length: null,\n        time: null,\n        pickup_type: 0,\n        drop_off_type: 0,\n      }\n      // create link\n      const tempLink = structuredClone(state.editorLinks)\n      // if there is no link to copy, create one. (new Line)\n      if (tempLink.features.length === 0) {\n        // copy Line properties.\n        const linkProperties = {}\n        Object.keys(state.editorLineInfo).forEach((key) => {\n          linkProperties[key] = state.editorLineInfo[key].value\n        })\n        // set default links values\n        const defaultValue = {\n          index: 'link_' + short.generate(),\n          a: state.editorNodes.features[0].properties.index,\n          b: state.editorNodes.features[0].properties.index,\n          length: null,\n          time: null,\n          pickup_type: 0,\n          drop_off_type: 0,\n          link_sequence: 0,\n        }\n        Object.keys(defaultValue).forEach((key) => {\n          linkProperties[key] = defaultValue[key]\n        })\n\n        const linkGeometry = {\n          coordinates: [state.editorNodes.features[0].geometry.coordinates,\n            state.editorNodes.features[0].geometry.coordinates],\n          type: 'LineString',\n        }\n        const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n        tempLink.features = [linkFeature]\n      }\n\n      if (payload.action === 'Extend Line Upward') {\n        // Take last link and copy properties\n        // eslint-disable-next-line no-var\n        var features = tempLink.features[tempLink.features.length - 1]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence +1\n        features.properties.link_sequence = features.properties.link_sequence + 1\n        // replace node a by b and delete node a\n        features.properties.a = features.properties.b\n        features.geometry.coordinates[0] = features.geometry.coordinates.slice(-1)[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.a\n        this.commit('setNewNode', payload)\n\n        features.properties.b = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      } else if (payload.action === 'Extend Line Downward') {\n        // Take first link and copy properties\n        // eslint-disable-next-line no-var, no-redeclare\n        var features = tempLink.features[0]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence + 1\n        features.properties.link_sequence = features.properties.link_sequence - 1\n        //  replace node b by a and delete node b\n        features.properties.b = features.properties.a\n        features.geometry.coordinates[1] = features.geometry.coordinates[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.b\n        this.commit('setNewNode', payload)\n        features.properties.a = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      }\n      tempLink.features = [features]\n      state.newLink = tempLink\n      state.newLink.action = payload.action\n    },\n    createNewNode (state, payload) {\n      const nodeProperties = {}\n      state.nodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'node_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified nodenewNode\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      state.editorNodes.features = [nodeFeatures]\n    },\n\n    setNewNode (state, payload) {\n      const { coordinates = [null, null] } = payload\n      const uncopiedPropeties = {}\n      state.nodeAttributes.forEach(key => {\n        uncopiedPropeties[key] = null\n      })\n      // Copy specified node\n      const tempNode = JSON.parse(JSON.stringify(state.editorNodes))\n      const features = tempNode.features.filter(node => node.properties.index === payload.nodeCopyId)[0]\n      Object.assign(features.properties, uncopiedPropeties)\n      features.properties.index = 'node_' + short.generate()\n      features.geometry.coordinates = coordinates\n      tempNode.features = [features]\n      state.newNode = tempNode\n    },\n\n    editNewLink (state, payload) {\n      // for realtime viz. this method change the linestring to the payload (mouse position)\n      // for some reason, it doesnt work when i only apply payload to coordinates[1]\n      state.newNode.features[0].geometry.coordinates = payload\n      if (state.newLink.action === 'Extend Line Upward') {\n        state.newLink.features[0].geometry.coordinates = [state.newLink.features[0].geometry.coordinates[0], payload]\n      } else {\n        state.newLink.features[0].geometry.coordinates = [payload, state.newLink.features[0].geometry.coordinates[1]]\n      }\n    },\n\n    applyNewLink (state, payload) {\n      // nodeId: this.selectedNodeId, geom: pointGeom, action: Extend Line Upward\n      // get linestring length in km\n      this.commit('setNewLink', { action: payload.action })\n      this.commit('editNewLink', payload.geom)\n\n      const distance = length(state.newLink)\n      state.newLink.features[0].properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n\n      state.newLink.features[0].properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n\n      const action = state.newLink.action\n      if (action === 'Extend Line Upward') {\n        state.editorLinks.features.push(state.newLink.features[0])\n        state.editorNodes.features.push(state.newNode.features[0])\n      } else if (action === 'Extend Line Downward') {\n        state.editorLinks.features.splice(0, 0, state.newLink.features[0])\n        state.editorNodes.features.splice(0, 0, state.newNode.features[0])\n        state.editorLinks.features.forEach(link => link.properties.link_sequence += 1)\n      }\n    },\n\n    deleteNode (state, payload) {\n      const nodeIndex = payload.selectedNode.index\n      // remove node\n      state.editorNodes.features = state.editorNodes.features.filter(node => node.properties.index !== nodeIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0] // link is extented\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0] // link is deleted\n      // if the last or first node is selected, there is only one link. The node and the link are deleted.\n      if (!link1) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n        // a link was remove, link_sequence -1\n        state.editorLinks.features.forEach(link => link.properties.link_sequence -= 1)\n      } else if (!link2) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link1.properties.index)\n        // the node is inbetween 2 links. 1 link is deleted, and the other is extented.\n      } else {\n        link1.geometry.coordinates = [\n          ...link1.geometry.coordinates.slice(0, -1),\n          ...link2.geometry.coordinates.slice(1)]\n        link1.properties.b = link2.properties.b\n        link1.properties.length = Number(link1.properties.length) + Number(link2.properties.length)\n        link1.properties.time = Number(link1.properties.time) + Number(link2.properties.time)\n        // find removed link index. drop everylinks link_sequence after by 1\n        const featureIndex = state.editorLinks.features.findIndex(\n          link => link.properties.index === link2.properties.index)\n        state.editorLinks.features.slice(featureIndex).forEach(\n          link => link.properties.link_sequence -= 1)\n        // delete link2\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n      }\n    },\n\n    splitLink (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features[featureIndex] // this link is extented\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'link_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.editorLinks.features.splice(featureIndex + 1, 0, link2)\n      state.editorNodes.features.push(state.newNode.features[0])\n\n      // add +1 to every link sequence afer link1\n      const seq = link1.properties.link_sequence\n      // everything after link1 except link2\n      state.editorLinks.features.filter(link => link.properties.link_sequence > seq).forEach(\n        link => link.properties.link_sequence += 1)\n      // add link2 sequence after.\n      link2.properties.link_sequence += 1\n    },\n\n    addNodeInline (state, payload) {\n      // payload contain selectedLink and event.lngLat (clicked point)\n      let linkGeom = state.editorLinks.features.filter((link) => link.properties.index === payload.selectedLink.index)\n      const nodeCopyId = linkGeom[0].properties.a\n      linkGeom = Linestring(linkGeom[0].geometry.coordinates)\n      const clickedPoint = Point(Object.values(payload.lngLat))\n      const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n      const dist = length(linkGeom, { units: 'kilometers' }) // dist\n      // for multiString, gives the index of the closest one, add +1 for the slice.\n      const sliceIndex = snapped.properties.index + 1\n      const offset = snapped.properties.location / dist\n      if (payload.nodes === 'editorNodes') {\n        this.commit('setNewNode', { coordinates: snapped.geometry.coordinates, nodeCopyId: nodeCopyId })\n        this.commit('splitLink', { selectedLink: payload.selectedLink, offset: offset, sliceIndex: sliceIndex })\n      // Anchor Nodes\n      } else {\n        this.commit('addAnchorNode', {\n          selectedLink: payload.selectedLink,\n          coordinates: snapped.geometry.coordinates,\n          sliceIndex: sliceIndex,\n        })\n      }\n\n      // this.commit('setNewNode', null) // init new node to null\n    },\n    addAnchorNode (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change editorLinks as it is an observer.\n      const link = state.editorLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    deleteAnchorNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    moveAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n\n    moveNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.editorNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0]\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0]\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      if (link1) {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link1.geometry.coordinates = [...link1.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link1)\n        link1.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link1.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n      if (link2) {\n        link2.geometry.coordinates = [payload.lngLat, ...link2.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link2)\n        link2.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link2.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n    },\n\n    cutLineFromNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.b === nodeId) {\n          toDelete = state.editorLinks.features.slice(i + 1)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    cutLineAtNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.a === nodeId) {\n          toDelete = state.editorLinks.features.slice(0, i)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    editLineInfo (state, payload) {\n      state.editorLineInfo = payload\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(payload).filter(key =>\n        ((payload[key].value !== '') || !payload[key].placeholder) && (!payload[key].disabled))\n      // add new line info to each links of each trips.\n      state.editorLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = payload[key].value))\n    },\n\n    editLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      const props = Object.keys(info)\n      state.editorLinks.features.filter(\n        function (link) {\n          if (link.properties.index === selectedLinkId) {\n            props.forEach((key) => link.properties[key] = info[key].value)\n          }\n        },\n      )\n      this.commit('getEditorLineInfo')\n    },\n\n    editNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.editorNodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    appendNewLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      payload.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n      // state.links.features.push(...payload.links.features) will crash with large array (stack size limit)\n      payload.links.features.forEach(link => state.links.features.push(link))\n      payload.nodes.features.forEach(node => state.nodes.features.push(node))\n      this.commit('applyPropertiesTypes')\n      this.commit('getLinksProperties')\n      this.commit('getNodesProperties')\n      this.commit('getTripId')\n      this.commit('changeSelectedTrips', state.tripId)\n    },\n\n    editGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const editorGroupInfo = payload.info\n      const groupTripIds = payload.groupTripIds\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(editorGroupInfo).filter(key =>\n        ((editorGroupInfo[key].value !== '') || !editorGroupInfo[key].placeholder))\n      // add new line info to each links of each trips.\n      const tempLinks = state.links.features.filter(link => groupTripIds.includes(link.properties.trip_id))\n      tempLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = editorGroupInfo[key].value))\n      // get tripId list\n      this.commit('getTripId')\n    },\n    deleteUnusedNodes (state) {\n      // delete every every nodes not in links\n      const a = state.links.features.map(item => item.properties.a)\n      const b = state.links.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.nodes.features = state.nodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    confirmChanges (state) { // apply change to Links\n      const filtered = { ...state.links }\n\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      const toDelete = filtered.features.filter(item => !state.editorLinks.features.includes(item))\n      // find index of soon to be deleted links\n      if (state.tripId.includes(state.editorTrip)) {\n        // eslint-disable-next-line no-var\n        var index = state.links.features.findIndex(link => link.properties.trip_id === state.editorTrip)\n      } else {\n        // eslint-disable-next-line no-var, no-redeclare\n        var index = 0\n      }\n      // delete links that were edited.\n      state.links.features = state.links.features.filter(item => !toDelete.includes(item))\n      // add edited links to links.\n\n      state.links.features.splice(index, 0, ...state.editorLinks.features)\n      // all new nodes.\n      const nodesList = state.nodes.features.map(item => item.properties.index)\n      const newNodes = { ...state.editorNodes }\n      newNodes.features = newNodes.features.filter(node => !nodesList.includes(node.properties.index))\n      state.nodes.features.push(...newNodes.features)\n\n      // for each editor nodes, apply new properties.\n      state.nodes.features.filter(\n        function (node) {\n          state.editorNodes.features.forEach(\n            function (eNode) {\n              if (node.properties.index === eNode.properties.index) {\n                node.properties = eNode.properties\n                node.geometry = eNode.geometry\n              }\n            })\n        })\n\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n\n      // For every Links containing an editor Nodes. update Geometry.\n      // (this is necessary when we move a node that is share between multiplde lines)\n      // get a list of all links (excluding editorLinks) that contain the selected node\n      const editorNodesList = new Set(state.editorNodes.features.map(item => item.properties.index))\n      // get list of link with a node A modifieed\n      const linksA = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.a))\n      // apply new node geometry\n      linksA.forEach(link => link.geometry.coordinates = [\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.a)[0].geometry.coordinates,\n        ...link.geometry.coordinates.slice(1),\n      ])\n      // same for nodes b\n      const linksB = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.b))\n      linksB.forEach(link => link.geometry.coordinates = [\n        ...link.geometry.coordinates.slice(0, -1),\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.b)[0].geometry.coordinates,\n      ])\n\n      state.newLink = {}\n      state.newNode = {}\n\n      // get tripId list\n      this.commit('getTripId')\n      this.commit('getLinksProperties')\n    },\n\n    deleteTrip (state, payload) {\n      // payload = a single trip_id or a list or trips_id\n      // if its a list : delete all of them. else: delete single trip\n      if (typeof payload === 'object') {\n        state.links.features = state.links.features.filter(link => !payload.includes(link.properties.trip_id))\n      } else {\n        state.links.features = state.links.features.filter(link => link.properties.trip_id !== payload)\n      }\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n      // get tripId list\n      this.commit('getTripId')\n    },\n    applyPropertiesTypes (state) {\n      state.defaultAttributes.forEach(attr => {\n        if (attr.type === 'String') {\n          state.links.features.forEach(link => link.properties[attr.name] = String(link.properties[attr.name]))\n        } else if (attr.type === 'Number') {\n          state.links.features.forEach(link => link.properties[attr.name] = Number(link.properties[attr.name]))\n        }\n      })\n    },\n  },\n\n  getters: {\n    links: (state) => state.links,\n    nodes: (state) => state.nodes,\n    linkSpeed: (state) => state.linkSpeed,\n    linksIsEmpty: (state) => state.links.features.length === 0,\n    route_id: (state) => state.route_id,\n    editorTrip: (state) => state.editorTrip,\n    editorLinks: (state) => state.editorLinks,\n    editorNodes: (state) => state.editorNodes,\n    tripId: (state) => state.tripId,\n    selectedTrips: (state) => state.selectedTrips,\n    editorLineInfo: (state) => state.editorLineInfo,\n    newLink: (state) => state.newLink,\n    newNode: (state) => state.newNode,\n    firstNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features[0].properties.a\n      : state.editorNodes.features[0].properties.index,\n    lastNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features.slice(-1)[0].properties.b\n      : state.editorNodes.features[0].properties.index,\n    firstNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.firstNodeId)[0]\n      : null,\n    lastNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.lastNodeId)[0]\n      : null,\n    lineAttributes: (state) => state.lineAttributes.sort(),\n    nodeAttributes: (state) => state.nodeAttributes,\n    changeBounds: (state) => state.changeBounds,\n    nodesHeader: (state) => state.nodesHeader,\n    linksHeader: (state) => state.linksHeader,\n    anchorNodes: (state) => {\n      const nodes = structuredClone(state.nodesHeader)\n      state.editorLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push({\n              properties: { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n              geometry: { coordinates: point, type: 'Point' },\n            }),\n          )\n        },\n      )\n\n      return nodes\n    },\n    // this return the attribute type, of undefined.\n    attributeType: (state) => (name) => state.defaultAttributes.filter(attr => attr.name === name)[0]?.type,\n    defaultAttributesNames: (state) => state.defaultAttributes.map(attr => attr.name),\n  },\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\nimport bearing from '@turf/bearing'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    rlinks: {},\n    rnodes: {},\n    rlinksHeader: {},\n    rnodesHeader: {},\n    selectedrFilter: '',\n    selectedrGroup: [],\n    filteredrCategory: [],\n    rlineAttributes: [],\n    rnodeAttributes: [],\n    newrNode: {},\n    visiblerLinks: {},\n    visiblerNodes: {},\n    connectedLinks: [],\n    defaultHighway: 'quenedi',\n    roadSpeed: 20,\n    rlinksDefaultColor: '2196F3',\n    cstAttributes: ['a', 'b', 'index', 'length', 'route_color', 'oneway', 'route_width', 'highway'],\n    rundeletable: ['index', 'a', 'b', 'length', 'route_color', 'oneway', 'time', 'speed', 'time_r', 'speed_r'],\n    reversedAttributes: [],\n  },\n\n  mutations: {\n    loadrLinks (state, payload) {\n      state.rlinks = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rlinks.crs.properties.name)) {\n        const rlinksHeader = { ...state.rlinks }\n        rlinksHeader.features = []\n        state.rlinksHeader = rlinksHeader\n        state.visiblerLinks = structuredClone(rlinksHeader)\n        // limit geometry precision to 6 digit\n        state.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('getrLinksProperties')\n        this.commit('splitOneway')\n        // set all trips visible\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadrNodes (state, payload) {\n      state.rnodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rnodes.crs.properties.name)) {\n        const rnodesHeader = { ...state.rnodes }\n        rnodesHeader.features = []\n        state.rnodesHeader = rnodesHeader\n        state.visiblerNodes = structuredClone(rnodesHeader)\n        // limit geometry precision to 6 digit\n        state.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getrNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    appendNewrLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      payload.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n      // state.rlinks.features.push(...payload.rlinks.features) will crash with large array (stack size limit)\n      payload.rlinks.features.forEach(link => state.rlinks.features.push(link))\n      payload.rnodes.features.forEach(node => state.rnodes.features.push(node))\n      this.commit('getrLinksProperties')\n      this.commit('splitOneway')\n      this.commit('getrNodesProperties')\n      this.commit('getFilteredrCat')\n      // state.selectedrGroup = Array.from(new Set(state.rlinks.features.map(\n      //  item => item.properties[this.selectedrFilter])))\n      // state.visiblerLinks = state.rlinks\n      // state.visiblerNodes = state.rnodes\n    },\n    unloadrFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.rlinks.features = []\n      state.rnodes.features = []\n      state.visiblerLinks.features = []\n      state.visiblerNodes.features = []\n      state.selectedrGroup = []\n    },\n    getrLinksProperties (state) {\n      let header = new Set([])\n      state.rlinks.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => { if (!key.endsWith('_r')) header.add(key) })\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = [\n        'index', 'a', 'b', 'route_color']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rlineAttributes = header\n      if (header.includes('highway')) {\n        state.selectedrFilter = 'highway'\n      } else {\n        state.selectedrFilter = header[0]\n      }\n    },\n    getrNodesProperties (state) {\n      let header = new Set([])\n      state.rnodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = ['index']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rnodeAttributes = header\n    },\n    addRoadPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'rlinks') {\n        state.rlinks.features.map(link => link.properties[payload.name] = null)\n        state.visiblerLinks.features.map(link => link.properties[payload.name] = null)\n        state.rlineAttributes.push(payload.name) // could put that at applied. so we can cancel\n        // add reverse attribute if its not one we dont want to duplicated (ex: route_width)\n        if (!state.cstAttributes.includes(payload.name)) {\n          state.reversedAttributes.push(payload.name + '_r')\n        }\n      } else {\n        state.rnodes.features.map(node => node.properties[payload.name] = null)\n        state.visiblerNodes.features.map(node => node.properties[payload.name] = null)\n      }\n    },\n    deleteRoadPropertie (state, payload) {\n      if (payload.table === 'rlinks') {\n        state.rlinks.features.filter(link => delete link.properties[payload.name])\n        state.rlinks.features.filter(link => delete link.properties[payload.name + '_r'])\n        state.visiblerLinks.features.filter(link => delete link.properties[payload.name])\n        state.visiblerLinks.features.filter(link => delete link.properties[payload.name + '_r'])\n\n        state.rlineAttributes = state.rlineAttributes.filter(item => item !== payload.name)\n        state.reversedAttributes = state.reversedAttributes.filter(item => item !== payload.name + '_r')\n      } else {\n        state.rnodes.features.filter(node => delete node.properties[payload.name])\n        state.visiblerNodes.features.filter(node => delete node.properties[payload.name])\n      }\n    },\n\n    changeSelectedrFilter (state, payload) {\n      state.selectedrFilter = payload\n      this.commit('getFilteredrCat')\n    },\n    getFilteredrCat (state) {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(state.rlinks.features.map(\n        item => item.properties[state.selectedrFilter])))\n      state.filteredrCategory = val\n    },\n    splitOneway (state) {\n      if (state.rlineAttributes.includes('oneway')) {\n        state.rlinks.features.forEach(link => {\n          if ([true, 'true', '1', 1].includes(link.properties.oneway)) {\n            link.properties.oneway = '1'\n          } else {\n            link.properties.oneway = '0'\n          }\n        })\n        // const oneways = state.rlinks.features.filter(link => !link.properties.oneway)\n        state.reversedAttributes = state.rlineAttributes.filter(\n          attr => !state.cstAttributes.includes(attr)).map(\n          attr => attr + '_r')\n        state.rlinks.features.forEach(link => {\n          if (link.properties.oneway === '0') {\n            state.reversedAttributes.forEach(attr => {\n              if (!link.properties[attr]) link.properties[attr] = link.properties[attr.slice(0, -2)]\n            })\n          }\n        },\n        )\n      }\n    },\n\n    changeVisibleRoads (state, payload) {\n      // trips list of visible trip_id.\n      const method = payload.method\n      const data = payload.data\n      const cat = payload.category\n      state.selectedrFilter = cat\n      let tempLinks = null\n      switch (method) {\n        case 'showAll':\n          state.selectedrGroup = data\n          // need to slice. so it doest change if we append to rlinks.\n          state.visiblerLinks.features = state.rlinks.features.slice()\n          break\n        case 'hideAll':\n          state.selectedrGroup = data\n          state.visiblerLinks.features = []\n          break\n        case 'add':\n          if (!state.selectedrGroup.includes(data[0])) {\n            state.selectedrGroup.push(data[0])\n          }\n          tempLinks = state.rlinks.features.filter(\n            link => link.properties[cat] === data[0])\n          state.visiblerLinks.features.push(...tempLinks)\n          break\n        case 'remove':\n          state.selectedrGroup = state.selectedrGroup.filter(el => el !== data[0])\n          tempLinks = new Set(state.visiblerLinks.features.filter(\n            link => link.properties[cat] === data[0]))\n          state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !tempLinks.has(link))\n          break\n      }\n      this.commit('getVisiblerNodes', { method: method })\n    },\n\n    refreshVisibleRoads (state) {\n      const group = new Set(state.selectedrGroup)\n      const cat = state.selectedrFilter\n      state.visiblerLinks.features = state.rlinks.features.filter(link => group.has(link.properties[cat]))\n      this.commit('getVisiblerNodes', { method: 'add' })\n      // when we rename a group (highway => test), are rename many group.\n      // remove nonexistant group in the selected group.\n      const possibleGroups = new Set(state.visiblerLinks.features.map(\n        item => item.properties[cat]))\n      state.selectedrGroup = [...possibleGroups].filter(x => group.has(x))\n    },\n    getVisiblerNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      let a = []\n      let b = []\n      let rNodesList = []\n      switch (payload.method) {\n        case 'showAll':\n          state.visiblerNodes.features = state.rnodes.features\n          break\n        case 'hideAll':\n          state.visiblerNodes.features = []\n          break\n        case 'add':\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use rnodes as they are new to visiblerNodes\n          state.visiblerNodes.features = state.rnodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        case 'remove' :\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use visibleRnodes, as they are already inside of it.\n          state.visiblerNodes.features = state.visiblerNodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        // case 'refresh'\n      }\n    },\n\n    editrLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      for (let i = 0; i < selectedLinkId.length; i++) {\n        const props = Object.keys(info[i])\n        const link = state.visiblerLinks.features.filter((link) => link.properties.index === selectedLinkId[i])[0]\n        // if we change a one way to a 2 way, copy one way properties to the reverse one.\n        if ((info[i].oneway?.value !== link.properties.oneway) && (info[i].oneway?.value === '0')) {\n          state.reversedAttributes.forEach(\n            (rkey) => link.properties[rkey] = info[i][rkey.slice(0, -2)].value)\n        } else if ((info[i].oneway?.value !== link.properties.oneway) && (info[i].oneway?.value === '1')) {\n          state.reversedAttributes.forEach(\n            (rkey) => delete link.properties[rkey])\n        }\n        // applied all properties.\n        props.forEach((key) => link.properties[key] = info[i][key].value)\n      }\n\n      this.commit('getEditorLineInfo')\n    },\n\n    editrNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.rnodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    createNewrNode (state, payload) {\n      const newNode = structuredClone(state.rnodesHeader)\n      const nodeProperties = {}\n      state.rnodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'rnode_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified node\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      newNode.features = [nodeFeatures]\n      state.newrNode = newNode\n    },\n    splitrLink (state, payload) {\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = payload.selectedFeature\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newrNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newrNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n      if (link1.properties.length_r) link1.properties.length_r = link1.properties.length\n      if (link1.properties.time_r) link1.properties.time_r = link1.properties.time\n\n      link2.properties.a = state.newrNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newrNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'rlink_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n      if (link2.properties.length_r) link2.properties.length_r = link2.properties.length\n      if (link2.properties.time_r) link2.properties.time_r = link2.properties.time\n\n      state.visiblerLinks.features.push(link2)\n      // update actual rlinks and rnodes\n      state.rlinks.features.filter((link) => link.properties.index === link1.properties.index)[0] = link1\n      state.rlinks.features.push(link2)\n    },\n\n    addRoadNodeInline (state, payload) {\n      // selectedLink : list of links index\n      // lngLat : object wit click geometry\n      // nodes : str. name of node to add (rnode, anchorrNodeS)\n      const selectedFeatures = state.visiblerLinks.features\n        .filter((link) => payload.selectedIndex.includes(link.properties.index))\n      // for loop. for each selectedc links add the node and split.\n      for (let i = 0; i < selectedFeatures.length; i++) {\n        const linkGeom = Linestring(selectedFeatures[i].geometry.coordinates)\n        const clickedPoint = Point(Object.values(payload.lngLat))\n        const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n        const dist = length(linkGeom, { units: 'kilometers' }) // dist\n        // for multiString, gives the index of the closest one, add +1 for the slice.\n        const sliceIndex = snapped.properties.index + 1\n        const offset = snapped.properties.location / dist\n        if (payload.nodes === 'rnodes') {\n          // only add one node, takes the first one.\n          if (i === 0) {\n            this.commit('createNewrNode', snapped.geometry.coordinates)\n            state.visiblerNodes.features.push(state.newrNode.features[0])\n            state.rnodes.features.push(state.newrNode.features[0])\n          }\n          this.commit('splitrLink', { selectedFeature: selectedFeatures[i], offset: offset, sliceIndex: sliceIndex })\n\n        // Anchor Nodes\n        } else {\n          this.commit('addAnchorrNode', {\n            selectedLink: selectedFeatures[i],\n            coordinates: snapped.geometry.coordinates,\n            sliceIndex: sliceIndex,\n          })\n        }\n      }\n    },\n    addAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedLink.properties.index\n      const featureIndex = state.visiblerLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change visible rLinks as it is an observer.\n      const link = state.visiblerLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    createrLink (state, payload) {\n      // nodeIdA: node id, nodeIdB: node id, geom: array geom where we clicked, layerId: str. the layer id rnodes, rlinks\n      // 3 cases.\n      // 1) click on the map. create a node b then connect.\n      // 2) click on a node. create a link between node a and b\n      // 3) click on a link. create node inline b then create link a to b.\n      // create a node if we click on the map (case 1)\n      if (!payload.nodeIdB) {\n        this.commit('createNewrNode', payload.geom)\n        state.visiblerNodes.features.push(state.newrNode.features[0])\n        state.rnodes.features.push(state.newrNode.features[0])\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      } else if (payload.layerId === 'rlinks') {\n        // create a node inline and then the new link\n        this.commit('addRoadNodeInline', { selectedIndex: payload.nodeIdB, lngLat: payload.geom, nodes: 'rnodes' })\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      }\n      const rnodeA = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdA)[0]\n      const rnodeB = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdB)[0]\n\n      const linkGeometry = {\n        coordinates: [rnodeA.geometry.coordinates, rnodeB.geometry.coordinates],\n        type: 'LineString',\n      }\n\n      const linkProperties = {}\n      // set default links values\n      state.rlineAttributes.forEach((key) => linkProperties[key] = null)\n      linkProperties.index = 'rlink_' + short.generate()\n      linkProperties.a = payload.nodeIdA\n      linkProperties.b = payload.nodeIdB\n      linkProperties.highway = state.defaultHighway // quenedi\n      linkProperties.route_color = state.rlinksDefaultColor\n      // add length, speed, time now that we have a geometry.\n      const distance = length(linkGeometry)\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      linkProperties.length = Number((distance * 1000).toFixed(0)) // metres\n      linkProperties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      linkProperties.speed = Number(state.roadSpeed) // rounded to 0 decimals\n      if (state.rlineAttributes.includes('oneway')) {\n        linkProperties.oneway = '0'\n        state.reversedAttributes.forEach(\n          (rkey) => linkProperties[rkey] = linkProperties[rkey.slice(0, -2)])\n      }\n\n      const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n      state.rlinks.features.push(linkFeature)\n\n      // add newly generated group (i.e. highway == quenedi), to visibles checked groups.\n      const newLinkGroup = linkProperties[state.selectedrFilter]\n      if (!state.filteredrCategory.includes(newLinkGroup)) {\n        state.filteredrCategory.push(newLinkGroup)\n      }\n      if (!state.selectedrGroup.includes(newLinkGroup)) {\n        // if its not already selected, push it.\n        state.selectedrGroup.push(newLinkGroup)\n      } else {\n        state.visiblerLinks.features.push(linkFeature)\n      }\n    },\n\n    getConnectedLinks (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // get links connected to the node\n      // use rLinks as we could moidified links that are not visible moving a node.\n      state.connectedLinks = {\n        b: state.rlinks.features.filter(link => link.properties.b === nodeIndex),\n        a: state.rlinks.features.filter(link => link.properties.a === nodeIndex),\n      }\n    },\n    moverNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.visiblerNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      state.connectedLinks.b.forEach(link => {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link.geometry.coordinates = [...link.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n        // add reverse direction time and length if it exist on the link\n        if (link.properties.time_r) {\n          const rtime = distance / link.properties.speed_r * 3600\n          link.properties.time_r = Number(rtime.toFixed(0)) // rounded to 0 decimals\n        }\n        if (link.properties.length_r) link.properties.length_r = link.properties.length\n      })\n      state.connectedLinks.a.forEach(link => {\n        link.geometry.coordinates = [payload.lngLat, ...link.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n        // add reverse direction time and length if it exist on the link\n        if (link.properties.time_r) {\n          const rtime = distance / link.properties.speed_r * 3600\n          link.properties.time_r = Number(rtime.toFixed(0)) // rounded to 0 decimals\n        }\n        if (link.properties.length_r) link.properties.length_r = link.properties.length\n      })\n    },\n    moverAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n    deleteAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    deleterLink (state, payload) {\n      const linkArr = new Set(payload.selectedIndex)\n      state.rlinks.features = state.rlinks.features.filter(link => !linkArr.has(link.properties.index))\n      state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !linkArr.has(link.properties.index))\n      this.commit('getVisiblerNodes', { method: 'remove' })\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleterGroup (state, payload) {\n      const group = payload\n      const cat = state.selectedrFilter\n      state.rlinks.features = state.rlinks.features.filter(link => link.properties[cat] !== group)\n      this.commit('refreshVisibleRoads')\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleteUnusedrNodes (state) {\n      // delete every every nodes not in links\n      const a = state.rlinks.features.map(item => item.properties.a)\n      const b = state.rlinks.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.rnodes.features = state.rnodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    editrGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      const selectedLinks = payload.selectedLinks // observer of state.links\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n\n      // if we change everything to 2 way. init links thats were one way with thoses values (ex:speed_r = speed)\n      if (groupInfo.oneway?.value === '0') {\n        const linksToSplit = selectedLinks.filter(link => link.properties.oneway === '1')\n        linksToSplit.forEach(link => {\n          state.reversedAttributes.forEach(\n            (rkey) => link.properties[rkey] = link.properties[rkey.slice(0, -2)])\n        })\n        // delete reverse attribute for links going from 2 ways to one way\n      } else if (groupInfo.oneway?.value === '1') {\n        const linksToSplit = selectedLinks.filter(link => link.properties.oneway === '0')\n        linksToSplit.forEach(link => {\n          state.reversedAttributes.forEach(\n            (rkey) => delete link.properties[rkey])\n        })\n      }\n\n      // this is an oberver. modification will be applied to state.links.\n      selectedLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n      //  apply the group modification to the reverse links too (ex: speed = 10 and speed_r = 10)\n      if (state.rlineAttributes.includes('oneway')) {\n        const reversedProps = state.reversedAttributes.filter(rkey => props.includes(rkey.slice(0, -2)))\n        selectedLinks.filter(link => link.properties.oneway === '0').forEach(\n          (features) => reversedProps.forEach((rkey) => features.properties[rkey] = groupInfo[rkey.slice(0, -2)].value),\n        )\n      }\n      this.commit('refreshVisibleRoads')\n      this.commit('getFilteredrCat')\n    },\n\n  },\n\n  getters: {\n    rlinks: (state) => state.rlinks,\n    rnodes: (state) => state.rnodes,\n    roadSpeed: (state) => state.roadSpeed,\n    rlinksHeader: (state) => state.rlinksHeader,\n    rnodesHeader: (state) => state.rnodesHeader,\n    rlineAttributes: (state) => state.rlineAttributes.sort(),\n    selectedrGroup: (state) => state.selectedrGroup,\n    selectedrFilter: (state) => state.selectedrFilter,\n    filteredrCategory: (state) => state.filteredrCategory,\n    visiblerLinks: (state) => state.visiblerLinks,\n    visiblerNodes: (state) => state.visiblerNodes,\n    defaultHighway: (state) => state.defaultHighway,\n    rlinksIsEmpty: (state) => state.rlinks.features.length === 0,\n    rcstAttributes: (state) => state.cstAttributes,\n    newrNode: (state) => state.newrNode,\n    rundeletable: (state) => state.rundeletable,\n\n    anchorrNodes: (state) => (renderedLinks) => {\n      const nodes = structuredClone(state.rnodesHeader)\n      renderedLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push(Point(\n              point,\n              { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n            ),\n            ),\n\n          )\n        },\n      )\n\n      return nodes\n    },\n    rlinkDirection: (state) => (indexList, reversed = false) => {\n      const links = state.rlinks.features.filter(link => indexList.includes(link.properties.index))\n      const res = []\n      links.forEach(link => {\n        const geom = link.geometry.coordinates\n        if (reversed) {\n          res.push(bearing(geom[geom.length - 1], geom[0]))\n        } else {\n          res.push(bearing(geom[0], geom[geom.length - 1]))\n        }\n      })\n      return res\n    },\n    grouprLinks: (state) => (category, group) => {\n      return state.rlinks.features.filter(link => group === link.properties[category])\n    },\n    onewayIndex: (state) => {\n      return new Set(state.rlinks.features.filter(\n        link => link.properties.oneway === '0').map(\n        link => link.properties.index))\n    },\n    rlinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.rlineAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n    reversedrLinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.reversedAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\n\nimport chroma from 'chroma-js'\n\nfunction remap (val, minVal, maxVal, reverse, scale) {\n  let res = 0\n  if (reverse) {\n    res = (-val + maxVal) / (maxVal - minVal)\n  } else {\n    res = (val - minVal) / (maxVal - minVal)\n  }\n  if (scale === 'sqrt') {\n    res = Math.sqrt(res)\n  } else if (scale === 'log') {\n    res = res >= 0 ? Math.log10(10 * res) : 0\n  }\n  return res\n}\nexport default {\n  namespaced: true,\n  state: {\n    type: 'links',\n    links: {},\n    visibleLinks: {},\n    linksHeader: {},\n    lineAttributes: [],\n    selectedFilter: '',\n    selectedCategory: [],\n    displaySettings: {\n      selectedFeature: 'volume',\n      maxWidth: 10,\n      minWidth: 1,\n      numStep: 100,\n      scale: 'linear', // 'log', 'sqrt'\n      fixScale: false,\n      minVal: 0, // option to blocked them. so its an input and its not recompute\n      maxVal: 1,\n      cmap: 'OrRd',\n      opacity: 100,\n      offset: false,\n      showNaN: true,\n      reverseColor: false,\n    },\n\n  },\n\n  mutations: {\n    loadLinks (state, payload) {\n      state.links = payload.geojson\n      state.type = payload.type\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n        state.visibleLinks = structuredClone(linksHeader)\n        // set all trips visible\n        // this.commit('results/changeSelectedTrips', state.tripId)\n        this.commit('results/getLinksProperties')\n\n        if (payload.selectedFeature) {\n          state.displaySettings.selectedFeature = payload.selectedFeature\n        }\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    updateLinks (state, payload) {\n      state.links = payload\n      this.commit('results/refreshVisibleLinks')\n      this.commit('results/updateSelectedFeature')\n    },\n    changeSelectedFilter (state, payload) {\n      state.selectedFilter = payload\n      this.commit('results/refreshVisibleLinks')\n    },\n    changeSelectedCategory (state, payload) {\n      state.selectedCategory = payload\n      this.commit('results/refreshVisibleLinks')\n    },\n\n    getLinksProperties (state) {\n      const header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      state.lineAttributes = Array.from(header)\n      state.selectedFilter = header.has('route_type') ? 'route_type' : header.has('highway') ? 'highway' : state.lineAttributes[0]\n      state.selectedCategory = Array.from(new Set(state.links.features.map(\n        item => item.properties[state.selectedFilter])))\n    },\n    applySettings (state, payload) {\n      state.displaySettings.selectedFeature = payload.selectedFeature\n      state.displaySettings.maxWidth = payload.maxWidth\n      state.displaySettings.minWidth = payload.minWidth\n      state.displaySettings.numStep = payload.numStep\n      state.displaySettings.scale = payload.scale\n      state.displaySettings.cmap = payload.cmap\n      state.displaySettings.opacity = payload.opacity\n      state.displaySettings.showNaN = payload.showNaN\n      state.displaySettings.reverseColor = payload.reverseColor\n      state.displaySettings.minVal = payload.minVal\n      state.displaySettings.maxVal = payload.maxVal\n      state.displaySettings.fixScale = payload.fixScale\n      state.displaySettings.offset = payload.offset\n      this.commit('results/refreshVisibleLinks')\n\n      this.commit('results/updateSelectedFeature')\n    },\n\n    updateSelectedFeature (state) {\n      const key = state.displaySettings.selectedFeature\n      const maxWidth = state.displaySettings.maxWidth\n      const minWidth = state.displaySettings.minWidth\n      const scale = state.displaySettings.scale\n      const numStep = state.displaySettings.numStep\n      const cmap = state.displaySettings.cmap\n      const featureArr = state.visibleLinks.features.filter(\n        link => link.properties[key]).map(\n        link => link.properties[key])\n      if (!state.displaySettings.fixScale) {\n        const arrayMinMax = (arr) =>\n          arr.reduce(([min, max], val) => [Math.min(min, val), Math.max(max, val)], [\n            Number.POSITIVE_INFINITY,\n            Number.NEGATIVE_INFINITY,\n          ])\n\n        const [minV, maxV] = arrayMinMax(featureArr)\n        state.displaySettings.minVal = Math.round(minV * 100) / 100\n        state.displaySettings.maxVal = Math.round(maxV * 100) / 100\n      }\n      const minVal = state.displaySettings.minVal\n      const maxVal = state.displaySettings.maxVal\n\n      state.visibleLinks.features.forEach(\n        link => {\n          const val = link.properties[key]\n          if (val < minVal) {\n            link.properties.display_width = minWidth\n          } else if (val > maxVal) {\n            link.properties.display_width = maxWidth\n          } else {\n            link.properties.display_width =\n        ((maxWidth - minWidth) * ((val - minVal) /\n         (maxVal - minVal))) + minWidth\n          }\n        },\n      )\n\n      const colorScale = chroma.scale(cmap).padding([0.1, 0])\n        .domain([0, 1], scale).classes(numStep)\n      const reverse = state.displaySettings.reverseColor\n\n      state.visibleLinks.features.forEach(\n        link => link.properties.display_color = colorScale(\n          remap(link.properties[key], minVal, maxVal, reverse, scale)).hex(),\n      )\n    },\n    refreshVisibleLinks (state) {\n      const group = new Set(state.selectedCategory)\n      const cat = state.selectedFilter\n      state.visibleLinks.features = state.links.features.filter(link => group.has(link.properties[cat]))\n      if (!state.displaySettings.showNaN) {\n        const key = state.displaySettings.selectedFeature\n        state.visibleLinks.features = state.visibleLinks.features.filter(link => link.properties[key])\n      }\n    },\n  },\n\n  getters: {\n    type: (state) => state.type,\n    links: (state) => state.links,\n    visibleLinks: (state) => state.visibleLinks,\n    linksHeader: (state) => state.linksHeader,\n    selectedTrips: (state) => state.selectedTrips,\n    lineAttributes: (state) => state.lineAttributes.sort(),\n    selectedFilter: (state) => state.selectedFilter,\n    selectedCategory: (state) => state.selectedCategory,\n    displaySettings: (state) => state.displaySettings,\n    selectedFeature: (state) => state.displaySettings.selectedFeature,\n    maxWidth: (state) => state.displaySettings.maxWidth,\n    minWidth: (state) => state.displaySettings.minWidth,\n    numStep: (state) => state.displaySettings.numStep,\n    scale: (state) => state.displaySettings.scale,\n    opacity: (state) => state.displaySettings.opacity,\n    colorScale: (state) => {\n      const arr = []\n      const colorScale = chroma.scale(state.displaySettings.cmap).padding([0.1, 0])\n        .domain([0, 1]).classes(state.displaySettings.numStep)\n      for (let i = 0; i < 100; i++) {\n        arr.push(colorScale(remap(i, 0, 100, state.displaySettings.reverseColor, state.displaySettings.scale)))\n      }\n      return arr\n    },\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    layer: {},\n    mat: {},\n    properties: [],\n    type: null,\n  }),\n\n  mutations: {\n    createLayer (state, payload) {\n      state.type = payload.type\n      state.layer = structuredClone(payload.data)\n      Object.keys(payload.mat).forEach(\n        key => { state.mat[key + ' (OD)'] = payload.mat[key] })\n      state.properties = Object.keys(state.mat)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        // if init with nothing, do nothing.\n        if (state.layer.features.length > 0) {\n          // for each properties in matrix, init the zones to null.\n          state.properties.forEach(\n            prop =>\n              state.layer.features.forEach(\n                zone => zone.properties[prop] = null,\n              ),\n          )\n        }\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadLinks (state, payload) {\n      state.type = 'links'\n      state.layer = structuredClone(payload.data)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        state.layer.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    loadNodes (state, payload) {\n      state.layer = structuredClone(payload.data)\n      state.type = 'nodes'\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        state.layer.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        // this.commit('getNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    changeZone (state, payload) {\n      const selectedProperty = payload.selectedProperty\n\n      if (state.properties.includes(selectedProperty)) {\n        const index = payload.index\n        const row = state.mat[selectedProperty][index]\n        // apply new value to each zone. (zone_1 is selected, apply time to zone_1 to every zone)\n        // if there is no data, put null (ex: sparse matrix)\n        state.layer.features.forEach(\n          zone => zone.properties[selectedProperty] = row ? row[zone.properties.index] : null)\n      }\n    },\n\n  },\n\n  getters: {\n    layer: (state) => state.layer,\n    type: (state) => state.type,\n    properties: (state) => state.properties,\n    hasOD: (state) => state.properties.length > 0,\n    mat: (state) => {\n      // remove OD in matrix names.\n      // return null if there is no od.\n      const keys = Object.keys(state.mat)\n      if (keys.length > 0) {\n        const res = {}\n        keys.forEach(\n          key => { res[key.slice(0, -5)] = state.mat[key] })\n        return res\n      } else return null\n    },\n  },\n}\n","import axios from 'axios'\n\nconst quetzalClient = {\n  client: null,\n  login (idToken) {\n    this.client = axios.create({\n      baseURL: 'https://z0i1paj50k.execute-api.ca-central-1.amazonaws.com/dev',\n      withCredentials: false,\n      headers: {\n        'Accept': '*/*',\n        'Content-Type': 'text/plain',\n        'Authorization': idToken,\n      },\n    })\n  },\n}\n\nconst axiosClient = {\n  loginAll (idToken) {\n    quetzalClient.login(idToken)\n  },\n}\n\nexport { quetzalClient, axiosClient }\n","import { store } from '@src/store/index.js'\nimport AWS from 'aws-sdk'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\n\nconst USERPOOL_ID = process.env.VUE_APP_COGNITO_USERPOOL_ID\nconst IDENTITY_POOL_ID = process.env.VUE_APP_COGNITO_IDENTITY_POOL_ID\nconst REGION = process.env.VUE_APP_COGNITO_REGION\n\nAWS.config.region = REGION\nconst s3Client = new AWS.S3({\n  apiVersion: '2006-03-01',\n  signatureVersion: 'v4',\n  params: { region: REGION },\n})\n\nasync function readJson (bucket, key) {\n  const params = { Bucket: bucket, Key: key, ResponseCacheControl: 'no-cache' }\n  // const params = { Bucket: bucket, Key: key }\n\n  const response = await s3Client.getObject(params).promise() // await the promise\n  const fileContent = JSON.parse(response.Body.toString('utf-8').trim()) // can also do 'base64' here if desired\n  return fileContent\n}\nasync function downloadFolder (bucket, prefix) {\n  // zip everything in a folder. keep filename. Folder structure will not work.\n  const zip = new JSZip()\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  if (response.Contents.length === 0) throw new Error('no params.json in base scenario')\n  for (const file of response.Contents) {\n    const fileName = file.Key.split('/').slice(-1)[0]\n    const params = { Bucket: bucket, Key: file.Key, ResponseCacheControl: 'no-cache' }\n    const response = await s3Client.getObject(params).promise()\n    zip.file(fileName, response.Body)\n  }\n\n  zip.generateAsync({ type: 'blob' }).then(function (content) {\n    saveAs(content, 'example.zip')\n  })\n}\n\nasync function getBucketList () {\n  // from the cognito group name. get the list of available buckets on quetzal-config.\n  const bucketList = await this.readJson('quetzal-config', 'cognito_group_access.json')\n  store.commit('setBucketList', bucketList[store.getters.cognitoGroup])\n}\nasync function listFiles (bucket, prefix) {\n  if (Array.isArray(prefix)) {\n    const paths = []\n    prefix.forEach(async pref => {\n      const params = { Bucket: bucket, Prefix: prefix }\n      const Content = await s3Client.listObjectsV2(params).promise()\n      paths.push(...Content.Contents.map(item => item.Key))\n    })\n    return paths\n  } else {\n    const params = { Bucket: bucket, Prefix: prefix }\n    const Content = await s3Client.listObjectsV2(params).promise()\n    return Content.Contents.map(item => item.Key)\n  }\n}\nasync function getImagesURL (bucket, key) {\n  const presignedGETURL = s3Client.getSignedUrl('getObject', {\n    Bucket: bucket,\n    Key: key, // filename\n    Expires: 100, // time to expire in seconds\n  })\n  return presignedGETURL\n}\n\nasync function copyFolder (bucket, prefix, newName) {\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  if (response.Contents.length === 0) throw new Error('no params.json in base scenario')\n  for (const file of response.Contents) {\n    let newFile = file.Key.split('/')\n    newFile[0] = newName\n    newFile = newFile.join('/')\n    const copyParams = {\n      Bucket: bucket,\n      CopySource: bucket + '/' + file.Key,\n      Key: newFile,\n    }\n    s3Client.copyObject(copyParams, function (err, data) {\n      if (err) return err // an error occurred\n    })\n  }\n}\nasync function deleteFolder (bucket, prefix) {\n  const params = { Bucket: bucket, Prefix: prefix }\n  const response = await s3Client.listObjectsV2(params).promise()\n  const arr = []\n  response.Contents.forEach(file => arr.push({ Key: file.Key }))\n  const deleteParams = { Bucket: bucket, Delete: { Objects: arr } }\n  return s3Client.deleteObjects(deleteParams).promise()\n}\n\nasync function createFolder (bucket, key) {\n  // create an empty folder\n  if (key.slice(-1) !== '/') key = key + '/'\n  const params = { Bucket: bucket, Key: key, Body: '' }\n\n  s3Client.upload(params, function (err, data) {\n    if (err) {\n      console.log('Error creating the folder: ', err)\n    } else {\n      console.log('Successfully created a folder on S3')\n    }\n  })\n}\nasync function putObject (bucket, key, body = '') {\n  const params = {\n    Bucket: bucket,\n    Key: key,\n    Body: body,\n    Metadata: { user_email: store.getters.cognitoInfo.email },\n    ContentType: ' application/json',\n  }\n  const resp = await s3Client.putObject(params).promise()\n  return resp\n}\n\nasync function getScenario (bucket) {\n  // list all files in bucket\n  const params = { Bucket: bucket }\n  let moreToLoad = true\n  const list = []\n  try {\n    while (moreToLoad) {\n      const { Contents, IsTruncated, NextContinuationToken } = await s3Client.listObjectsV2(params).promise()\n      list.push(...Contents)\n      moreToLoad = IsTruncated\n      params.ContinuationToken = NextContinuationToken\n    }\n  } catch (err) { return [] }\n\n  // get list of scenarios (unique prefix)\n  let scenarios = Array.from(new Set(list.map(name => name.Key.split('/')[0])))\n  scenarios = scenarios.filter(scen => scen !== 'quenedi.config.json')\n  const scenList = []\n  for (const scen of scenarios) {\n    const dates = list.filter(item => item.Key.startsWith(scen))\n    // let maxDate = new Date(Math.max.apply(null, dates))\n    const maxDateObj = dates.reduce((prev, current) => (prev.LastModified > current.LastModified) ? prev : current, [])\n    const maxDate = maxDateObj.LastModified.toLocaleDateString() + ' ' + maxDateObj.LastModified.toLocaleTimeString()\n    // get user email metadata on newest object. undefined if empty or error.\n    let userEmail // this = undefined\n    try {\n      const resp = await s3Client.headObject({ Bucket: bucket, Key: maxDateObj.Key }).promise()\n      userEmail = resp.Metadata.user_email\n    } catch (err) { store.commit('changeAlert', err) }\n    scenList.push({ model: bucket, scenario: scen, lastModified: maxDate, userEmail: userEmail })\n  }\n  return scenList\n}\n\nexport default {\n  s3: s3Client,\n  async login () {\n    AWS.config.region = REGION\n    AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n      IdentityPoolId: IDENTITY_POOL_ID,\n      Logins: {\n        [`cognito-idp.${REGION}.amazonaws.com/${USERPOOL_ID}`]: store.getters.idToken,\n      },\n    })\n    s3Client.config.credentials = AWS.config.credentials\n    await this.getBucketList()\n  },\n\n  getScenario,\n  readJson,\n  getBucketList,\n  listFiles,\n  copyFolder,\n  deleteFolder,\n  createFolder,\n  putObject,\n  getImagesURL,\n  downloadFolder,\n\n}\n","import JSZip from 'jszip'\nimport { store } from '../../store/index.js'\n\nfunction classFile (name, content) {\n  if (name.slice(-7) === 'geojson') {\n    if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(content.crs?.properties.name)) {\n      alert('invalid CRS or undefined. use CRS84 / EPSG:4326')\n    }\n\n    if (content.features[0].geometry.type === 'LineString') {\n      if (name.includes('road')) {\n        return { data: content, type: 'road_links', fileName: name }\n      } else if (name.slice(0, 5) === 'links') {\n        return { data: content, type: 'links', fileName: name }\n      } else {\n        return { data: content, type: 'layerLinks', fileName: name }\n      }\n    } else if (content.features[0].geometry.type === 'Point') {\n      if (name.includes('road')) {\n        return { data: content, type: 'road_nodes', fileName: name }\n      } else if (name.slice(0, 5) === 'nodes') {\n        return { data: content, type: 'nodes', fileName: name }\n      } else {\n        return { data: content, type: 'layerNodes', fileName: name }\n      }\n    } else if (['MultiPolygon', 'Polygon'].includes(content.features[0].geometry.type)) {\n      return { data: content, type: 'zones', fileName: name }\n    }\n  } else {\n    return { data: content, type: 'json', fileName: name }\n  }\n}\nfunction classFile2 (name, content, inputFolder = 'inputs/', outputFolder = 'outputs/') {\n  // class Files with inputs outputs quenedi fileStructure.\n  // everything in inputs is name sensitive. everythin in output is read as a static layer.\n  if (name.endsWith('geojson')) {\n    if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(content.crs?.properties.name)) {\n      alert('invalid CRS or undefined. use CRS84 / EPSG:4326')\n    }\n\n    if (name.includes(inputFolder)) {\n      switch (name.split('/').slice(-1)[0]) {\n        case 'links.geojson':\n          return { data: content, type: 'links', fileName: name }\n        case 'nodes.geojson':\n          return { data: content, type: 'nodes', fileName: name }\n        case 'road_links.geojson':\n          return { data: content, type: 'road_links', fileName: name }\n        case 'road_nodes.geojson':\n          return { data: content, type: 'road_nodes', fileName: name }\n      }\n    } else if (name.includes(outputFolder)) {\n      switch (content.features[0].geometry.type) {\n        case 'LineString':\n          return { data: content, type: 'layerLinks', fileName: name }\n        case 'Point':\n          return { data: content, type: 'layerNodes', fileName: name }\n        case 'MultiPolygon':\n          return { data: content, type: 'zones', fileName: name }\n        case 'Polygon':\n          return { data: content, type: 'zones', fileName: name }\n      }\n    }\n  } else if (name.endsWith('json')) {\n    if (name.slice(-11) === 'params.json') {\n      return { data: content, type: 'params.json', fileName: name }\n    } else {\n      return { data: content, type: 'json', fileName: name }\n    }\n  } else {\n    return { data: content, type: 'others', fileName: name }\n  }\n}\n\nasync function extractZip (file) {\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  let filesNames = Object.keys(zip.files)\n  filesNames = filesNames.filter(name => !name.match(/^__MACOSX\\//))\n  filesNames = filesNames.filter(name => !name.endsWith('/'))\n  // process ZIP file content here\n  const result = { zipName: file.name, files: [] }\n  for (let i = 0; i < filesNames.length; i++) {\n    const str = await zip.file(filesNames[i]).async('string')\n    let content = {}\n    try { content = JSON.parse(str) } catch (err) {} // for PNG, no content\n    if (filesNames[0].includes('inputs/') || filesNames[0].includes('outputs/')) {\n      // import with new fileStructure (inputs, outputs folder in zip)\n      result.files.push(classFile2(filesNames[i], content))\n    } else {\n      // legacy import, all in root.\n      result.files.push(classFile(filesNames[i], content))\n    }\n  }\n  return result\n}\n\nfunction getGroupForm (features, lineAttributes, uneditable) {\n  const form = {}\n  lineAttributes.forEach(key => {\n    const val = new Set(features.map(link => link.properties[key]))\n    form[key] = {\n      value: val.size > 1 ? '' : [...val][0],\n      disabled: uneditable.includes(key),\n      placeholder: val.size > 1,\n    }\n  })\n  return form\n}\n\nfunction indexAreUnique (geojson) {\n  // check if all index are unique in a geojson (links or nodes)\n  // return true if they are unique\n  let indexArr = []\n  if (geojson?.features.length > 0) {\n    indexArr = geojson.features.map(item => item.properties.index)\n    return (new Set(indexArr).size === indexArr.length)\n  } else { return true } // if its empty, return true\n}\n\nfunction IndexAreDifferent (geojsonA, geojsonB) {\n  // check if index are duplicated between geojsons (to append new links or nodes) (links or nodes)\n  // return true if they are all unique\n  const linksIndex = new Set(geojsonA.features.map(item => item.properties.index))\n  const newLinksIndex = new Set(geojsonB.features.map(item => item.properties.index))\n  return (new Set([...linksIndex, ...newLinksIndex]).size === (linksIndex.size + newLinksIndex.size))\n}\n\nfunction createIndex (geojson, type, prefix) {\n  // not done. we should check links and node as there is nodes index in links (a,b)\n  switch (type) {\n    case 'PT':\n      // eslint-disable-next-line no-case-declarations\n      const len = store.getters.links.features.length\n      // eslint-disable-next-line no-return-assign\n      geojson.features.forEach((feat, index) => feat.properties.index = prefix + (index + len))\n      break\n    case 'road':\n      break\n  }\n}\n\nfunction geojsonVerification (geojson, type) {}\n\nasync function unzip (file) {\n  // unzip a file and return a json (solo json zipped)\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  const str = await zip.file(filesNames[0]).async('string')\n  const content = JSON.parse(str)\n  return content\n}\n\nexport { extractZip, getGroupForm, indexAreUnique, createIndex, IndexAreDifferent, geojsonVerification, unzip, classFile, classFile2 }\n","import { quetzalClient } from '@src/axiosClient.js'\nimport s3 from '@src/AWSClient'\nimport { classFile2 } from '@src/components/utils/utils.js'\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArnBase: 'arn:aws:states:ca-central-1:142023388927:stateMachine:',\n    steps: [{ name: 'Loading Steps...' }],\n    running: false,\n    executionArn: '',\n    currentStep: 0,\n    error: false,\n    synchronized: true,\n    parameters: [],\n  },\n  mutations: {\n    cleanRun (state) {\n      state.steps = [{ name: 'Loading Steps...' }]\n      state.running = false\n      state.executionArn = ''\n      state.currentStep = 0\n      state.error = false\n      state.synchronized = true\n      state.parameters = []\n    },\n    setSteps (state, payload) {\n      state.steps = payload\n      state.steps.splice(0, 0, { name: 'Saving Networks' })\n      state.steps.push({ name: 'Loading Results' })\n    },\n    startExecution (state) {\n      state.error = false\n      state.running = true\n      state.currentStep = 1\n    },\n    terminateExecution (state) {\n      state.running = false\n      state.error = true\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.currentStep = state.steps.length + 1\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('simulation executed successfully!'), autoClose: false, color: 'success' })\n    },\n    updateCurrentStep (state, payload) {\n      const stepNames = state.steps.map(a => a.name)\n      state.currentStep = stepNames.indexOf(payload.name) + 1\n    },\n    getLocalParameters (state, payload) {\n      state.parameters = payload\n    },\n  },\n  actions: {\n    async getParameters ({ state, commit }, payload) {\n      try {\n        const params = await s3.readJson(payload.model, payload.path)\n        state.parameters = params\n      } catch (err) {\n        commit('changeAlert', err, { root: true })\n        state.parameters = []\n      }\n    },\n    async getOutputs (context) {\n      const model = context.rootState.user.model\n      const scenario = context.rootState.user.scenario\n      const path = scenario + '/' + context.rootState.user.config.output_paths\n      let filesNames = await s3.listFiles(model, path)\n      filesNames = filesNames.filter(name => name !== path)\n      filesNames = filesNames.filter(name => !name.endsWith('.png'))\n      const files = []\n      for (const file of filesNames) {\n        const content = await s3.readJson(model, file)\n        const name = file.split('/').slice(1).join('/')\n        files.push(classFile2(name, content))\n      }\n      if (files.length > 0) {\n        context.commit('unloadLayers', null, { root: true })\n        files.filter(file => (['layerLinks', 'links', 'road_links'].includes(file.type))).forEach(\n          file => {\n            const data = file.data\n            const fileName = file.fileName.slice(0, -8)\n            let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n            matData = matData || {}\n            const matDataExist = Object.keys(matData).length > 0\n            if (!Object.keys(file.data.features[0].properties).includes('index') && matDataExist) {\n              this.error($gettext(fileName + ' there is no index. Import aborted'))\n              return\n            }\n\n            context.commit('loadLayer', {\n              fileName: fileName,\n              type: 'links',\n              data: data,\n              mat: matData,\n            }, { root: true })\n          })\n        files.filter(file => (['layerNodes', 'nodes', 'road_nodes'].includes(file.type))).forEach(\n          file => {\n            const data = file.data\n            const fileName = file.fileName.slice(0, -8)\n            let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n            matData = matData || {}\n            const matDataExist = Object.keys(matData).length > 0\n            if (!Object.keys(file.data.features[0].properties).includes('index') && matDataExist) {\n              this.error($gettext(fileName + ' there is no index. Import aborted'))\n              return\n            }\n            context.commit('loadLayer', {\n              fileName: fileName,\n              type: 'nodes',\n              data: data,\n              mat: matData,\n            }, { root: true })\n          })\n        // for zones. find the corresponding json file (mat) or nothing.\n        files.filter(file => (file.type === 'zones')).forEach(\n          file => {\n            const zoneData = file.data\n            const fileName = file.fileName.slice(0, -8)\n            let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n            matData = matData || {}\n            const matDataExist = Object.keys(matData).length > 0\n            if (!Object.keys(file.data.features[0].properties).includes('index') && matDataExist) {\n              this.error($gettext(fileName + ' there is no index. Import aborted'))\n              return\n            }\n            context.commit('loadLayer', {\n              fileName: fileName,\n              type: 'zones',\n              data: zoneData,\n              mat: matData,\n            }, { root: true })\n          })\n      }\n    },\n    getSteps ({ state, commit, rootState }) {\n      let data = { stateMachineArn: state.stateMachineArnBase + rootState.user.model }\n      quetzalClient.client.post('/describe/model',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          const def = JSON.parse(response.data.definition)\n          const steps = [{ name: def.StartAt }]\n          if (def.States[def.StartAt].Next !== undefined) {\n            let next = def.States[def.StartAt].Next\n            while (true) {\n              steps.push({ name: next })\n              if (def.States[next].Next === undefined) break\n              next = def.States[next].Next\n            }\n          }\n          commit('setSteps', steps)\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n    startExecution ({ state, commit, dispatch, rootState }, payload) {\n      const paramsDict = state.parameters.reduce((acc, { category, params }) => {\n        acc[category] = params.reduce((paramAcc, { text, value }) => {\n          paramAcc[text] = value\n          return paramAcc\n        }, {})\n        return acc\n      }, {})\n      let data = {\n        // eslint-disable-next-line no-useless-escape\n        input: JSON.stringify({\n          scenario_path_S3: payload.scenario + '/',\n          launcher_arg: {\n            scenario: 'base',\n            training_folder: '/tmp',\n            params: paramsDict,\n          },\n          metadata: {\n            user_email: rootState.user.cognitoInfo.email,\n          },\n        }),\n        stateMachineArn: state.stateMachineArnBase + rootState.user.model,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n    pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            this.status = response.data.status\n            if (this.status === 'SUCCEEDED') {\n              dispatch('getOutputs').then(\n                () => {\n                  commit('succeedExecution')\n                  clearInterval(intervalId)\n                },\n              ).catch(err => alert(err))\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(this.status)) {\n              commit('terminateExecution')\n              clearInterval(intervalId)\n            }\n          }).catch(\n          err => {\n            commit('changeAlert', err, { root: true })\n          })\n        data = { executionArn: state.executionArn, includeExecutionData: false, reverseOrder: true }\n        quetzalClient.client.post('/history',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            for (const e in response.data.events) {\n              const event = response.data.events[e]\n              if (event.type === 'TaskStateEntered') {\n                commit('updateCurrentStep', event.stateEnteredEventDetails)\n                break\n              }\n            }\n          }).catch(\n          err => {\n            console.log(err)\n          })\n      }, 5000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          console.log(err)\n        })\n    },\n  },\n  getters: {\n    steps: (state) => state.steps,\n    running: (state) => state.running,\n    currentStep: (state) => state.currentStep,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    synchronized: (state) => state.synchronized,\n    parameters: (state) => state.parameters,\n  },\n}\n","import { quetzalClient } from '@src/axiosClient.js'\nimport s3 from '@src/AWSClient'\nimport { v4 as uuid } from 'uuid'\n\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArn: 'arn:aws:states:ca-central-1:142023388927:stateMachine:ML_MatrixRoadCaster',\n    bucket: 'matrixroadcaster',\n    callID: '',\n    status: '',\n    timer: 0,\n    running: false,\n    executionArn: '',\n    error: false,\n    parameters: {\n      callID: 'test',\n      num_zones: 100,\n      train_size: 100,\n      date_time: '2022-12-13T08:00:21-04:00',\n      ff_time_col: 'time',\n      max_speed: 100,\n      num_cores: 1,\n      num_random_od: 1,\n      create_zone: true,\n      hereApiKey: '',\n    },\n  },\n  mutations: {\n    cleanRun (state) {\n      state.running = false\n      state.executionArn = ''\n      state.error = false\n    },\n    setCallID (state) { state.callID = uuid() },\n    setParameters (state, payload) { state.parameters = payload },\n    startExecution (state) {\n      state.error = false\n      state.running = true\n    },\n    terminateExecution (state) {\n      state.running = false\n      state.error = true\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n    getApproxTimer (state, payload) {\n      // payload is number of road links\n      const numZones = state.parameters.num_zones\n      const trainSize = state.parameters.train_size\n      const numPlotOD = state.parameters.num_random_od\n      // API call time (1.8sec per call), 15 iteration X number of links, loadning saving, plotting 15sec.\n      state.timer = Math.min(numZones, trainSize) * 1.8 + payload * 0.002 + 15\n      state.timer += 10 * numPlotOD // 10 sec per plots\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('Matrix Road Caster executed successfully!'), autoClose: false, color: 'success' })\n    },\n\n  },\n  actions: {\n    async startExecution ({ state, commit, dispatch }, payload) {\n      commit('getApproxTimer', payload.rlinks.features.length)\n      commit('setParameters', payload.parameters)\n      console.log('exporting roads to s3')\n      state.running = true\n      try {\n        await s3.putObject(\n          state.bucket,\n          state.callID.concat('/road_links.geojson'),\n          JSON.stringify(payload.rlinks))\n        await s3.putObject(\n          state.bucket,\n          state.callID.concat('/road_nodes.geojson'),\n          JSON.stringify(payload.rnodes))\n      } catch (err) { commit('changeAlert', err, { root: true }) }\n      let data = {\n        input: JSON.stringify(state.parameters),\n        name: state.callID,\n        stateMachineArn: state.stateMachineArn,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(err => {\n        commit('changeAlert', err, { root: true })\n        state.running = false\n        state.status = 'FAILED'\n      })\n    },\n    pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        state.timer = state.timer - 2\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            state.status = response.data.status\n            console.log(state.status)\n            if (state.status === 'SUCCEEDED') {\n              commit('succeedExecution')\n              clearInterval(intervalId)\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(state.status)) {\n              commit('terminateExecution')\n              clearInterval(intervalId)\n            }\n          }).catch(err => { commit('changeAlert', err, { root: true }) })\n      }, 2000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n  },\n  getters: {\n    running: (state) => state.running,\n    status: (state) => state.status,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    callID: (state) => state.callID,\n    bucket: (state) => state.bucket,\n    timer: (state) => state.timer,\n    parameters: (state) => state.parameters,\n  },\n}\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { staticClass: \"layout\" },\n        [\n          _c(\"div\", {\n            staticClass: \"layout-overlay\",\n            class: { \"animate-layer\": _vm.loggedIn },\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-card\",\n            { staticClass: \"card\", class: { \"animate-login\": _vm.loggedIn } },\n            [\n              _c(\"v-card-title\", { staticClass: \"title\" }, [\n                _vm._v(\"\\n        Quetzal Network Editor\\n      \"),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-card-text\", { style: { textAlign: \"center\" } }, [\n                _c(\"div\", { staticClass: \"subtitle\" }, [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(_vm.$gettext(\"Load Files\")) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Load multiple Transit or road network. Each network will be added to the current project\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Links and Nodes files must be geojson in EPSG:4326.\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"text-xs-center\" },\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          color: !_vm.localLinksLoaded ? \"primary\" : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"links\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Links\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          color: !_vm.localNodesLoaded ? \"primary\" : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"nodes\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Nodes\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { color: \"normal\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\"zip\")\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\n                                      \"v-icon\",\n                                      { attrs: { small: \"\", left: \"\" } },\n                                      [\n                                        _vm._v(\n                                          \"\\n                  fas fa-file-archive\\n                \"\n                                        ),\n                                      ]\n                                    ),\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(\"zip\") +\n                                        \"\\n              \"\n                                    ),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(_vm.$gettext(\"Load zip files containing\"))\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"nodes.geojson and links.geojson or\")\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"road_nodes.geojson and road_links.geojson\"\n                              )\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"or both the PT and road geojsons\")\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"fileInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { id: \"file-input\", type: \"file\", accept: \".geojson\" },\n                  on: { change: _vm.onFilePicked },\n                }),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"zipInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: {\n                    id: \"zip-input\",\n                    type: \"file\",\n                    accept: \".zip\",\n                    multiple: \"multiple\",\n                  },\n                  on: { change: _vm.readZip },\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { small: \"\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\n                                              \"newProject\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"New Project\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"Delete all network and start from scratch\"\n                              )\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-menu\",\n                      {\n                        attrs: {\n                          \"offset-y\": \"\",\n                          \"nudge-left\": \"70\",\n                          \"close-delay\": \"100\",\n                          transition: \"slide-y-transition\",\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on: on, attrs: attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      { attrs: { small: \"\" } },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"example\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-list\",\n                          [\n                            _c(\n                              \"v-list-item\",\n                              {\n                                attrs: { link: \"\" },\n                                on: {\n                                  click: () => _vm.buttonHandle(\"example1\"),\n                                },\n                              },\n                              [\n                                _c(\"v-list-item-title\", [\n                                  _vm._v(\n                                    \"\\n                  \" +\n                                      _vm._s(_vm.$gettext(\"PT & Road\")) +\n                                      \"\\n                \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"v-list-item\",\n                              {\n                                attrs: { link: \"\" },\n                                on: {\n                                  click: () => _vm.buttonHandle(\"example2\"),\n                                },\n                              },\n                              [\n                                _c(\"v-list-item-title\", [\n                                  _vm._v(\n                                    \"\\n                  \" +\n                                      _vm._s(\n                                        _vm.$gettext(\n                                          \"PT, Road, Zones, OD & Results\"\n                                        )\n                                      ) +\n                                      \"\\n                \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"div\"),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: { disabled: !_vm.filesAdded, color: \"primary\" },\n                        on: {\n                          click: function ($event) {\n                            return _vm.login()\n                          },\n                        },\n                      },\n                      [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Go!\")) +\n                            \"\\n          \"\n                        ),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"green\" } },\n                _vm._l(_vm.message, function (mess) {\n                  return _c(\"p\", { key: mess }, [\n                    _vm._v(\n                      \"\\n          \" + _vm._s(_vm.$gettext(mess)) + \"\\n        \"\n                    ),\n                  ])\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [\n                  _vm._v(\n                    \"\\n        \" +\n                      _vm._s(_vm.$gettext(_vm.errorMessage)) +\n                      \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Overwrite current Project ?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-case-declarations -->\n<script>\nimport s3 from '../AWSClient'\nimport { extractZip, IndexAreDifferent, unzip, classFile } from '../components/utils/utils.js'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'Import',\n\n  data () {\n    return {\n      loggedIn: false,\n      choice: null,\n      showDialog: false,\n      loadedLinks: {},\n      loadedNodes: {},\n      loadedType: '',\n      zipName: '',\n      message: [],\n      errorMessage: '',\n      filesAdded: false,\n    }\n  },\n\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    localLinksLoaded () { return Object.keys(this.loadedLinks).length === 0 },\n    localNodesLoaded () { return Object.keys(this.loadedNodes).length === 0 },\n    s3Path () { return this.$route.query.s3Path },\n    localFilesAreLoaded () {\n      return !(this.localLinksLoaded || this.localNodesLoaded)\n    },\n\n  },\n  watch: {\n    s3Path (val) {\n      if (val) this.loadFilesFromS3(val)\n    },\n    localFilesAreLoaded (val) {\n      if (val) {\n        this.loadNetwork(this.loadedLinks, this.loadedNodes, this.loadedType, 'individual files')\n        this.loadedLinks = {}\n        this.loadedNodes = {}\n        this.loadedType = ''\n      }\n    },\n\n  },\n  mounted () {\n    this.$store.commit('changeNotification', '')\n    if (this.s3Path) this.loadFilesFromS3(this.s3Path)\n  },\n  methods: {\n    login () {\n      // Leave time for animation to end (.animate-login and .animate-layer css rules)\n      setTimeout(() => {\n        this.$router.push('/Home').catch(() => {})\n      }, 300)\n    },\n    async loadFilesFromS3 (path) {\n      if (!this.projectIsEmpty) {\n        this.$store.commit('initNetworks')\n        this.$store.commit('unloadLayers')\n        this.message = []\n      }\n      this.$store.commit('changeLoading', true)\n      this.$router.replace({ query: null }) // remove query in url when page is load.\n      let links = {}\n      let nodes = {}\n      const scen = this.$store.getters.scenario + '/'\n\n      try {\n        let filesNames = await s3.listFiles(this.$store.getters.model, scen + path.network_paths.links)\n        if (filesNames.length > 0) {\n          links = await s3.readJson(this.$store.getters.model, scen + path.network_paths.links)\n          nodes = await s3.readJson(this.$store.getters.model, scen + path.network_paths.nodes)\n          this.loadNetwork(links, nodes, 'PT', 'DataBase')\n        }\n        filesNames = await s3.listFiles(this.$store.getters.model, scen + path.network_paths.rlinks)\n        if (filesNames.length > 0) {\n          links = await s3.readJson(this.$store.getters.model,\n            this.$store.getters.scenario + '/' + path.network_paths.rlinks)\n          nodes = await s3.readJson(this.$store.getters.model,\n            this.$store.getters.scenario + '/' + path.network_paths.rnodes)\n          this.loadNetwork(links, nodes, 'road', 'DataBase')\n        }\n        // then load results layers.\n        filesNames = await s3.listFiles(this.$store.getters.model, scen + path.output_paths)\n        filesNames = filesNames.filter(name => !name.endsWith('/'))\n        filesNames = filesNames.filter(name => !name.endsWith('.png'))\n        const files = []\n        for (const file of filesNames) {\n          const content = await s3.readJson(this.$store.getters.model, file)\n          const name = file.split('/').slice(1).join('/')\n          files.push(classFile(name, content))\n        }\n        if (filesNames.length > 0) this.loadStaticLayer(files, 'Database output')\n        // load rasters (static geojson layers.)\n        //\n        filesNames = await s3.listFiles(this.$store.getters.model, scen + path.raster_path)\n        filesNames = filesNames.filter(name => name.endsWith('.geojson'))\n        const rasterFiles = []\n        for (const file of filesNames) {\n          let type = await s3.readJson(this.$store.getters.model, file)\n          type = type.features[0].geometry.type\n          rasterFiles.push({ name: file, type: type })\n        }\n        this.$store.commit('setRasterFiles', rasterFiles)\n\n        this.loggedIn = true\n        this.login()\n        this.$store.commit('changeLoading', false)\n      } catch (err) {\n        this.$store.commit('changeAlert', err)\n        this.$store.commit('changeLoading', false)\n      }\n    },\n\n    loadNetwork (links, nodes, type, zipName) {\n      if (links.features.length > 0) {\n        if (!Object.keys(links.features[0].properties).includes('index')) {\n          this.error($gettext('there is no index in links. Import aborted'))\n          return\n        }\n      }\n      if (nodes.features.length > 0) {\n        if (!Object.keys(nodes.features[0].properties).includes('index')) {\n          this.error($gettext('there is no index in nodes. Import aborted'))\n          return\n        }\n      }\n\n      if (type === 'PT') {\n        if (IndexAreDifferent(links, this.$store.getters.links) &&\n            IndexAreDifferent(nodes, this.$store.getters.nodes)) {\n          this.$store.commit('appendNewLinks', { links: links, nodes: nodes })\n          this.filesAdded = true\n          if (zipName) this.message.push($gettext('PT Links and nodes Loaded from') + ' ' + zipName)\n        } else {\n          this.error($gettext('there is duplicated links or nodes index. Import aborted'))\n        }\n      } else if (type === 'road') {\n        if (IndexAreDifferent(links, this.$store.getters.rlinks) &&\n            IndexAreDifferent(nodes, this.$store.getters.rnodes)) {\n          this.$store.commit('appendNewrLinks', { rlinks: links, rnodes: nodes })\n          this.filesAdded = true\n          if (zipName) this.message.push($gettext('ROAD links and nodes Loaded from') + ' ' + zipName)\n        } else {\n          this.error($gettext('there is duplicated links or nodes index. Import aborted'))\n        }\n      }\n    },\n    loadStaticLayer (files, zipName) {\n      // filter links, road links and nodes if we dont want them before. in some case we want\n      // to load them as static links (if the loaded links are called links.geojson for example)\n      // load links and nodes geojson as static layers.\n      files.filter(file => (['layerLinks', 'links', 'road_links'].includes(file.type))).forEach(\n        file => {\n          const fileName = file.fileName.slice(0, -8)\n          let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n          matData = matData || {}\n          const matDataExist = Object.keys(matData).length > 0\n          if (!Object.keys(file.data.features[0].properties).includes('index') && matDataExist) {\n            this.error($gettext(fileName + ' there is no index. Import aborted'))\n            return\n          }\n\n          this.$store.commit('loadLayer', { fileName: fileName, type: 'links', data: file.data, mat: matData })\n          this.message.push(file.fileName + ' ' + $gettext('Loaded from') + ' ' + zipName)\n          if (matDataExist) this.message.push(fileName + '.json' + ' ' + $gettext('Loaded from') + ' ' + zipName)\n        })\n\n      files.filter(file => (['layerNodes', 'nodes', 'road_nodes'].includes(file.type))).forEach(\n        file => {\n          const fileName = file.fileName.slice(0, -8)\n          let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n          matData = matData || {}\n          const matDataExist = Object.keys(matData).length > 0\n          if (!Object.keys(file.data.features[0].properties).includes('index') && matDataExist) {\n            this.error($gettext(fileName + ' there is no index. Import aborted'))\n            return\n          }\n          this.$store.commit('loadLayer', { fileName: fileName, type: 'nodes', data: file.data, mat: matData })\n          this.message.push(file.fileName + ' ' + $gettext('Loaded from') + ' ' + zipName)\n          if (matDataExist) this.message.push(fileName + '.json' + ' ' + $gettext('Loaded from') + ' ' + zipName)\n        })\n\n      // for zones. find the corresponding json file (mat) or nothing.\n      files.filter(file => (file.type === 'zones')).forEach(\n        file => {\n          const fileName = file.fileName.slice(0, -8)\n          let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n          matData = matData || {}\n          const matDataExist = Object.keys(matData).length > 0\n          if (!Object.keys(file.data.features[0].properties).includes('index') && matDataExist) {\n            this.error($gettext(fileName + ' there is no index. Import aborted'))\n            return\n          }\n          this.$store.commit('loadLayer', { fileName: fileName, type: 'zones', data: file.data, mat: matData })\n          this.message.push(file.fileName + ' ' + $gettext('Loaded from') + ' ' + zipName)\n          if (matDataExist) this.message.push(fileName + '.json' + ' ' + $gettext('Loaded from') + ' ' + zipName)\n        })\n      // load parameters if provided in inputs.\n      const params = files.filter(file => file.type === 'params.json')\n      if (params.length > 0) this.$store.commit('run/getLocalParameters', params[0].data)\n    },\n\n    error (message) {\n      this.loadedNodes = {}\n      this.loadedLinks = {}\n      this.loadedType = ''\n      this.message = []\n      this.errorMessage = message\n      this.$store.commit('changeLoading', false)\n    },\n\n    buttonHandle (choice) {\n      this.choice = choice\n      this.errorMessage = ''\n      switch (this.choice) {\n        case 'zip':\n          this.$refs.zipInput.click()\n          document.getElementById('zip-input').value = '' // clean it for next file\n          break\n        case 'links':\n          this.$refs.fileInput.click()\n          document.getElementById('file-input').value = '' // clean it for next file\n          break\n        case 'nodes':\n          this.$refs.fileInput.click()\n          document.getElementById('file-input').value = '' // clean it for next file\n          break\n        case 'example1':\n          this.projectIsEmpty ? this.loadExample(['PT', 'road']) : this.showDialog = true\n          break\n        case 'example2':\n          this.projectIsEmpty ? this.loadExample(['PT', 'road', 'loaded', 'zones']) : this.showDialog = true\n          break\n        case 'newProject':\n          this.projectIsEmpty ? this.newProject() : this.showDialog = true\n      }\n    },\n    applyDialog () {\n      // this only happen when both files are loaded.\n      // remove links and nodes from store. (and filesAreLoaded)\n      this.$store.commit('initNetworks')\n      this.$store.commit('unloadLayers')\n      this.$store.commit('unloadProject')\n      this.$store.commit('run/cleanRun')\n\n      if (this.choice === 'example1') {\n        this.loadExample(['PT', 'road'])\n      } else if (this.choice === 'example2') {\n        this.loadExample(['PT', 'road', 'loaded', 'zones'])\n      } else if (this.choice === 'newProject') {\n        this.newProject()\n      }\n      this.showDialog = !this.showDialog\n    },\n\n    async loadExample (filesToLoads) {\n      this.$store.commit('changeLoading', true)\n      const url = 'https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/'\n      let links = {}\n      let nodes = {}\n      if (filesToLoads.includes('PT')) {\n        links = await fetch(url + 'links_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        nodes = await fetch(url + 'nodes_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n        this.loadNetwork(links, nodes, 'PT')\n      }\n      if (filesToLoads.includes('road')) {\n        links = await fetch(url + 'road_links_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        nodes = await fetch(url + 'road_nodes_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n        this.loadNetwork(links, nodes, 'road')\n      }\n      if (filesToLoads.includes('loaded')) {\n        links = await fetch(url + 'loaded_links.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        this.$store.commit('loadLayer', { fileName: 'loaded_links', type: 'links', data: links, mat: {} })\n\n        nodes = await fetch(url + 'loaded_nodes.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n\n        this.$store.commit('loadLayer', { fileName: 'loaded_nodes', type: 'nodes', data: nodes, mat: {} })\n      }\n      if (filesToLoads.includes('zones')) {\n        links = await fetch(url + 'zones.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        nodes = await fetch(url + 'zones.zip').then(res => unzip(res.blob()))\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n\n        this.$store.commit('loadLayer', { fileName: 'zones', type: 'zones', data: links, mat: nodes })\n      }\n      // this is zones and mat. reuse var to save memory\n\n      this.$store.commit('changeLoading', false)\n      this.loggedIn = true\n      this.login()\n    },\n    newProject () {\n      this.$store.commit('initNetworks')\n      this.$store.commit('unloadLayers')\n      this.$store.commit('unloadProject')\n      this.$store.commit('run/cleanRun')\n      this.$store.commit('changeNotification',\n        { text: $gettext('project overwrited'), autoClose: true, color: 'success' })\n      this.message = []\n    },\n\n    onFilePicked (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.$store.commit('changeLoading', false)\n        return\n      }\n      // it is a geojson\n      if (files[0].name.slice(-7) !== 'geojson') {\n        this.$store.commit('changeLoading', false)\n        this.error($gettext('file is not a geojson'))\n        return\n      }\n\n      const fileReader = new FileReader()\n      fileReader.readAsText(files[0])\n      if (this.choice === 'links') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              if (this.loadedType === 'PT') { this.error($gettext('road links loaded with PT nodes')); return }\n              this.loadedType = 'road'\n            } else {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              if (this.loadedType === 'road') { this.error($gettext('PT links loaded with road nodes')); return }\n              this.loadedType = 'PT'\n            }\n            this.$store.commit('changeLoading', false)\n          } catch (e) {\n            this.error(e.message)\n            this.$store.commit('changeLoading', false)\n          }\n        }\n      } else if (this.choice === 'nodes') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              if (this.loadedType === 'PT') { this.error($gettext('road nodes loaded for PT links')); return }\n              this.loadedType = 'road'\n            } else {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              if (this.loadedType === 'road') { this.error($gettext('PT nodes loaded for road links')); return }\n              this.loadedType = 'PT'\n            }\n            this.$store.commit('changeLoading', false)\n          } catch (e) {\n            this.error(e.message)\n            this.$store.commit('changeLoading', false)\n          }\n        }\n      }\n    },\n    async readZip (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.$store.commit('changeLoading', false)\n        return\n      }\n      // it is a zip\n      if (files[0].name.slice(-3) !== 'zip') {\n        this.$store.commit('changeLoading', false)\n        this.errorMessage = $gettext('file is not a zip')\n      }\n      // read every selected zip and create a list of promises.\n      // each promises contain {links, nodes}\n\n      const PromisesList = []\n      for (let i = 0; i < files.length; i++) {\n        const res = extractZip(files[i])\n        PromisesList.push(res)\n      }\n      // when all files are read\n      Promise.all(PromisesList).then(zipFiles => {\n        // asign first file to links and node var\n        // for each other files concat, concat to links and nodes\n        for (let i = 0; i < zipFiles.length; i++) {\n          const files = zipFiles[i].files\n          const zipName = zipFiles[i].zipName\n          const importPT = files.filter(file => ['links', 'nodes'].includes(file.type)).length === 2\n          const importRoad = files.filter(file => ['road_links', 'road_nodes'].includes(file.type)).length === 2\n          if (importPT) {\n            this.loadNetwork(\n              files.filter(file => file.type === 'links')[0].data,\n              files.filter(file => file.type === 'nodes')[0].data,\n              'PT',\n              zipName)\n          } if (importRoad) {\n            this.loadNetwork(\n              files.filter(file => file.type === 'road_links')[0].data,\n              files.filter(file => file.type === 'road_nodes')[0].data,\n              'road',\n              zipName)\n          }\n          this.loadStaticLayer(\n            files.filter(file => !['links', 'nodes', 'road_links', 'road_nodes'].includes(file.type)),\n            zipName)\n        }\n\n        this.$store.commit('changeLoading', false)\n      }).catch(err => {\n        this.$store.commit('changeLoading', false)\n        this.$store.commit('changeAlert', err)\n      })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <div class=\"layout\">\n      <div\n        class=\"layout-overlay\"\n        :class=\"{ 'animate-layer': loggedIn }\"\n      />\n      <v-card\n        class=\"card\"\n        :class=\"{ 'animate-login': loggedIn }\"\n      >\n        <v-card-title class=\"title\">\n          Quetzal Network Editor\n        </v-card-title>\n        <v-card-text :style=\"{textAlign: 'center'}\">\n          <div class=\"subtitle\">\n            {{ $gettext(\"Load Files\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Load multiple Transit or road network. Each network will be added to the current project\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Links and Nodes files must be geojson in EPSG:4326.\") }}\n          </div>\n          <div class=\" text-xs-center\">\n            <v-btn\n              :color=\" !localLinksLoaded? 'primary': 'normal'\"\n              @click=\"buttonHandle('links')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Links') }}\n            </v-btn>\n            <v-btn\n              :color=\" !localNodesLoaded? 'primary': 'normal'\"\n              @click=\"buttonHandle('nodes')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Nodes') }}\n            </v-btn>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  :color=\"'normal'\"\n                  v-on=\"on\"\n                  @click=\"buttonHandle('zip')\"\n                >\n                  <v-icon\n                    small\n                    left\n                  >\n                    fas fa-file-archive\n                  </v-icon>\n                  {{ 'zip' }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load zip files containing\") }}</span>\n              <br>\n              <span>{{ $gettext(\"nodes.geojson and links.geojson or\") }}</span>\n              <br>\n              <span>{{ $gettext(\"road_nodes.geojson and road_links.geojson\") }}</span>\n              <br>\n              <span>{{ $gettext(\"or both the PT and road geojsons\") }}</span>\n            </v-tooltip>\n          </div>\n          <input\n            id=\"file-input\"\n            ref=\"fileInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".geojson\"\n            @change=\"onFilePicked\"\n          >\n          <input\n            id=\"zip-input\"\n            ref=\"zipInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".zip\"\n            multiple=\"multiple\"\n            @change=\"readZip\"\n          >\n\n          <div>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  small\n                  v-bind=\"attrs\"\n                  @click=\"buttonHandle('newProject')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('New Project') }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete all network and start from scratch\") }}</span>\n            </v-tooltip>\n          </div>\n\n          <div>\n            <v-menu\n              offset-y\n              nudge-left=\"70\"\n              close-delay=\"100\"\n              transition=\"slide-y-transition\"\n            >\n              <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n                <v-btn\n                  small\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('example') }}\n                </v-btn>\n              </template>\n              <v-list>\n                <v-list-item\n                  link\n                  @click=\"()=>buttonHandle('example1')\"\n                >\n                  <v-list-item-title>\n                    {{ $gettext(\"PT & Road\") }}\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item\n                  link\n                  @click=\"()=>buttonHandle('example2')\"\n                >\n                  <v-list-item-title>\n                    {{ $gettext(\"PT, Road, Zones, OD & Results\") }}\n                  </v-list-item-title>\n                </v-list-item>\n              </v-list>\n            </v-menu>\n          </div>\n          <div />\n          <div>\n            <v-btn\n              :disabled=\"!filesAdded\"\n              color=\"primary\"\n              @click=\"login()\"\n            >\n              {{ $gettext('Go!') }}\n            </v-btn>\n          </div>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'green'}\">\n          <p\n            v-for=\"mess in message\"\n            :key=\"mess\"\n          >\n            {{ $gettext(mess) }}\n          </p>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ $gettext(errorMessage) }}\n        </v-card-text>\n      </v-card>\n    </div>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Overwrite current Project ?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color:var(--v-background-base);\n\n  position: absolute;\n}\n.card {\n  width: 500px;\n  max-height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: var(--v-primary-base);\n\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=3aeed8cc&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=3aeed8cc&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=3aeed8cc&scoped=true&\"\nimport script from \"./Import.vue?vue&type=script&lang=js&\"\nexport * from \"./Import.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Import.vue?vue&type=style&index=0&id=3aeed8cc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3aeed8cc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"layout\" },\n    [\n      _vm.imgs.length === 0\n        ? _c(\"p\", [\n            _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(_vm.message)) + \"\\n  \"),\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm._l(_vm.imgs, function (img, key) {\n        return _c(\n          \"div\",\n          { key: key, staticClass: \"gallery\" },\n          [_c(\"v-img\", { attrs: { src: img, alt: \"image\", contain: \"\" } })],\n          1\n        )\n      }),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport s3 from '../AWSClient'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultPicture',\n  components: {\n  },\n  data () {\n    return {\n      imgs: [],\n      message: '',\n    }\n  },\n  watch: {\n\n  },\n  async created () {\n    this.$store.commit('changeLoading', true)\n    const config = this.$store.getters.config\n    const model = this.$store.getters.model\n    const scenario = this.$store.getters.scenario\n    const outputsFiles = await s3.listFiles(model, scenario + '/' + config.output_paths)\n    const filesNames = outputsFiles.filter(name => name.endsWith('.png'))\n    for (const file of filesNames) {\n      const url = await s3.getImagesURL(this.$store.getters.model, file)\n      this.imgs.push(url)\n    }\n    this.$store.commit('changeLoading', false)\n    if (this.imgs.length === 0) {\n      this.message = $gettext('Nothing to display')\n    }\n  },\n\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <section class=\"layout\">\n    <p v-if=\"imgs.length===0\">\n      {{ $gettext(message) }}\n    </p>\n    <div\n      v-for=\"(img,key) in imgs\"\n      :key=\"key\"\n      class=\"gallery\"\n    >\n      <v-img\n\n        :src=\"img\"\n        :alt=\"'image'\"\n        contain\n      />\n    </div>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n.layout {\n  background-color:var(--v-white-base);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  flex-direction: column;\n  overflow-y: scroll;\n  padding-top: 15px;\n  padding-bottom: 60px;\n}\ndiv.gallery {\n  margin: 5px;\n  background-color: var(--v-white-base);\n  border: 1px solid var(--v-lightgrey-base);\n  float: left;\n  width: 50rem;\n}\n\ndiv.gallery:hover {\n  border: 1px solid var(--v-darkgrey-base);\n}\n\ndiv.gallery img {\n  width: 100%;\n  height: auto;\n}\n\ndiv.desc {\n  padding: 15px;\n  text-align: center;\n}\n.image-fit{\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=style&index=0&id=a5327b98&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=style&index=0&id=a5327b98&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultPicture.vue?vue&type=template&id=a5327b98&scoped=true&\"\nimport script from \"./ResultPicture.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultPicture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultPicture.vue?vue&type=style&index=0&id=a5327b98&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5327b98\",\n  null\n  \n)\n\nexport default component.exports","import { CognitoAuth, StorageHelper } from 'amazon-cognito-auth-js'\nimport router from './router'\nimport { store } from '@src/store/index.js'\nimport jwtDecode from 'jwt-decode'\n\nconst CLIENT_ID = process.env.VUE_APP_COGNITO_CLIENT_ID\nconst APP_DOMAIN = process.env.VUE_APP_COGNITO_APP_DOMAIN\nconst REDIRECT_URI = process.env.VUE_APP_COGNITO_REDIRECT_URI\nconst USERPOOL_ID = process.env.VUE_APP_COGNITO_USERPOOL_ID\nconst IDENTITY_POOL_ID = process.env.VUE_APP_COGNITO_IDENTITY_POOL_ID\nconst REDIRECT_URI_SIGNOUT = process.env.VUE_APP_COGNITO_REDIRECT_URI_SIGNOUT\n\nconst authData = {\n  ClientId: CLIENT_ID, // Your client id here\n  AppWebDomain: APP_DOMAIN,\n  TokenScopesArray: ['openid'],\n  RedirectUriSignIn: REDIRECT_URI,\n  RedirectUriSignOut: REDIRECT_URI_SIGNOUT,\n  UserPoolId: USERPOOL_ID,\n}\nconst auth = new CognitoAuth(authData)\n\nauth.userhandler = {\n  onSuccess: function (result) {\n    // console.log('On Success result', result)\n    const idToken = result.getIdToken().jwtToken\n    const sessionIdInfo = jwtDecode(idToken)\n    // TODO : trouver comment avoir une liste des bucket!!\n    store.commit('setIdToken', idToken)\n    store.commit('setAccessToken', result.accessToken.jwtToken)\n    store.commit('setCognitoInfo', sessionIdInfo)\n    store.commit('setCognitoGroup', sessionIdInfo['cognito:groups'][0])\n    store.commit('setLoggedIn', true)\n  },\n  onFailure: function (err) {\n    store.commit('setLoggedOut')\n    alert('Login failed due to ' + err)\n    router.go({ path: '/error', query: { message: 'Login failed due to ' + err } })\n  },\n}\n\nfunction getCognitoStorageKey () {\n  const keyPrefix = 'CognitoIdentityServiceProvider.' + auth.getClientId()\n  const tokenUserName = auth.signInUserSession.getAccessToken().getUsername()\n  const suffix = ['.userInfo', '.tokenScopesString', '.accessToken', '.idToken', '.refreshToken']\n  const keys = suffix.map(s => keyPrefix + '.' + tokenUserName + s)\n  keys.push(keyPrefix + '.LastAuthUser')\n  keys.push(`aws.cognito.identity-id.${IDENTITY_POOL_ID}`)\n  keys.push(`aws.cognito.identity-providers.${IDENTITY_POOL_ID}`)\n  return keys\n}\n\nconst storageHelper = new StorageHelper()\nconst storage = storageHelper.getStorage()\nexport default {\n  auth: auth,\n  login () {\n    auth.getSession()\n  },\n  logout () {\n    if (auth.isUserSignedIn()) {\n      const cognitoKeys = this.getCognitoStorageKey()\n      cognitoKeys.forEach(key => storage.removeItem(key))\n      auth.signOut()\n    }\n  },\n  getCognitoStorageKey,\n\n}\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\n        \"v-dialog\",\n        {\n          attrs: {\n            scrollable: \"\",\n            persistent: \"\",\n            \"max-width\": _vm.numLinks > 1 ? \"40rem\" : \"20rem\",\n          },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyAction.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelAction.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"55rem\" } },\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(\n                      [\"deleteTrip\", \"deleterGroup\"].includes(_vm.action)\n                        ? _vm.$gettext(\"Delete\") + \" \" + _vm.message + \"?\"\n                        : _vm.$gettext(\"Edit Properties\")\n                    ) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _vm.editForm\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\n                        \"v-row\",\n                        _vm._l(_vm.numLinks, function (n, idx) {\n                          return _c(\n                            \"v-col\",\n                            { key: idx },\n                            [\n                              _c(\n                                \"v-list\",\n                                [\n                                  _vm.numLinks > 1\n                                    ? _c(\n                                        \"v-list-item\",\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              style: {\n                                                \"align-items\": \"center\",\n                                                \"justify-content\": \"center\",\n                                                transform:\n                                                  \"rotate(\" +\n                                                  _vm.linkDir[idx] +\n                                                  \"deg)\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-long-arrow-alt-up\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      )\n                                    : _vm._e(),\n                                  _vm._v(\" \"),\n                                  _vm._l(\n                                    _vm.orderedForm(idx),\n                                    function (value, key) {\n                                      return _c(\"v-text-field\", {\n                                        key: key,\n                                        attrs: {\n                                          label: key,\n                                          hint: _vm.showHint\n                                            ? _vm.$gettext(_vm.hints[key])\n                                            : \"\",\n                                          \"persistent-hint\": _vm.showHint,\n                                          filled: !value[\"disabled\"],\n                                          type: _vm.$store.getters.attributeType(\n                                            key\n                                          ),\n                                          placeholder: value[\"placeholder\"]\n                                            ? _vm.$gettext(\"multiple Values\")\n                                            : \"\",\n                                          \"persistent-placeholder\": value[\n                                            \"placeholder\"\n                                          ]\n                                            ? true\n                                            : false,\n                                          disabled: value[\"disabled\"],\n                                        },\n                                        on: {\n                                          wheel: function ($event) {\n                                            return $event.target.blur()\n                                          },\n                                        },\n                                        scopedSlots: _vm._u(\n                                          [\n                                            key === \"route_color\"\n                                              ? {\n                                                  key: \"append\",\n                                                  fn: function () {\n                                                    return [\n                                                      _c(\"color-picker\", {\n                                                        model: {\n                                                          value: value[\"value\"],\n                                                          callback: function (\n                                                            $$v\n                                                          ) {\n                                                            _vm.$set(\n                                                              value,\n                                                              \"value\",\n                                                              $$v\n                                                            )\n                                                          },\n                                                          expression:\n                                                            \"value['value']\",\n                                                        },\n                                                      }),\n                                                    ]\n                                                  },\n                                                  proxy: true,\n                                                }\n                                              : null,\n                                            _vm.showDeleteOption\n                                              ? {\n                                                  key: \"prepend\",\n                                                  fn: function () {\n                                                    return [\n                                                      _c(\n                                                        \"v-btn\",\n                                                        {\n                                                          attrs: {\n                                                            icon: \"\",\n                                                            \"x-small\": \"\",\n                                                            disabled:\n                                                              _vm.attributeNonDeletable(\n                                                                key\n                                                              ),\n                                                            color: \"error\",\n                                                          },\n                                                          on: {\n                                                            click: () =>\n                                                              _vm.deleteField(\n                                                                key\n                                                              ),\n                                                          },\n                                                        },\n                                                        [\n                                                          _c(\"v-icon\", [\n                                                            _vm._v(\n                                                              \"fas fa-trash small\"\n                                                            ),\n                                                          ]),\n                                                        ],\n                                                        1\n                                                      ),\n                                                    ]\n                                                  },\n                                                  proxy: true,\n                                                }\n                                              : null,\n                                          ],\n                                          null,\n                                          true\n                                        ),\n                                        model: {\n                                          value: value[\"value\"],\n                                          callback: function ($$v) {\n                                            _vm.$set(value, \"value\", $$v)\n                                          },\n                                          expression: \"value['value']\",\n                                        },\n                                      })\n                                    }\n                                  ),\n                                ],\n                                2\n                              ),\n                            ],\n                            1\n                          )\n                        }),\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-row\",\n                        [\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              label: _vm.$gettext(\"add field\"),\n                              placeholder: _vm.$gettext(\"new field name\"),\n                              filled: \"\",\n                              rules: _vm.rules.newField,\n                            },\n                            on: {\n                              keydown: function ($event) {\n                                if (\n                                  !$event.type.indexOf(\"key\") &&\n                                  _vm._k(\n                                    $event.keyCode,\n                                    \"enter\",\n                                    13,\n                                    $event.key,\n                                    \"Enter\"\n                                  )\n                                )\n                                  return null\n                                $event.stopPropagation()\n                                return _vm.addField.apply(null, arguments)\n                              },\n                              wheel: function ($event) {\n                                return $event.target.blur()\n                              },\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"append-outer\",\n                                  fn: function () {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        {\n                                          staticClass: \"text--primary\",\n                                          attrs: {\n                                            color: \"primary\",\n                                            fab: \"\",\n                                            \"x-small\": \"\",\n                                          },\n                                          on: { click: _vm.addField },\n                                        },\n                                        [_c(\"v-icon\", [_vm._v(\"fas fa-plus\")])],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                  proxy: true,\n                                },\n                              ],\n                              null,\n                              false,\n                              941361224\n                            ),\n                            model: {\n                              value: _vm.newFieldName,\n                              callback: function ($$v) {\n                                _vm.newFieldName = $$v\n                              },\n                              expression: \"newFieldName\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              [\"cloneTrip\"].includes(_vm.action)\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\"v-text-field\", {\n                        attrs: { label: _vm.$gettext(\"New name\") },\n                        model: {\n                          value: _vm.cloneName,\n                          callback: function ($$v) {\n                            _vm.cloneName = $$v\n                          },\n                          expression: \"cloneName\",\n                        },\n                      }),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _vm.editForm\n                    ? _c(\n                        \"v-btn\",\n                        {\n                          attrs: { icon: \"\", \"x-small\": \"\" },\n                          on: { click: () => (_vm.showHint = !_vm.showHint) },\n                        },\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"far fa-question-circle small\"),\n                          ]),\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.editForm\n                    ? _c(\n                        \"v-btn\",\n                        {\n                          attrs: { icon: \"\", \"x-small\": \"\" },\n                          on: { click: _vm.ToggleDeleteOption },\n                        },\n                        [\n                          _vm.showDeleteOption\n                            ? _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-minus-circle fa-rotate-90\\n          \"\n                                ),\n                              ])\n                            : _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-minus-circle\\n          \"\n                                ),\n                              ]),\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"success\", text: \"\" },\n                      on: { click: _vm.applyAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.duplicate()\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelClone.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.cloneDialog,\n            callback: function ($$v) {\n              _vm.cloneDialog = $$v\n            },\n            expression: \"cloneDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", [\n                _c(\"span\", { staticClass: \"text-h5\" }, [\n                  _vm._v(_vm._s(_vm.$gettext(\"Duplicate and reverse\"))),\n                ]),\n                _vm._v(\" \"),\n                _c(\"span\", { staticClass: \"text-h5\" }, [\n                  _vm._v(_vm._s(_vm.message + \" ?\")),\n                ]),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\"v-text-field\", {\n                    attrs: { label: _vm.$gettext(\"New name\") },\n                    model: {\n                      value: _vm.cloneName,\n                      callback: function ($$v) {\n                        _vm.cloneName = $$v\n                      },\n                      expression: \"cloneName\",\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelClone },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.duplicate()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"SidePanel\", {\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"selectedr-group\": _vm.selectedrGroup,\n        },\n        on: {\n          \"update-tripList\": _vm.updateSelectedTrips,\n          confirmChanges: _vm.confirmChanges,\n          abortChanges: _vm.abortChanges,\n          deleteButton: _vm.deleteButton,\n          cloneButton: _vm.cloneButton,\n          propertiesButton: _vm.actionClick,\n          isRoadMode: (e) => (_vm.isRoadMode = e),\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"Map\", {\n        ref: \"mapref\",\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"is-road-mode\": _vm.isRoadMode,\n        },\n        on: { clickFeature: _vm.actionClick },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? \"400px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondary\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n            ],\n            ref: \"leftPanel\",\n            staticClass: \"left-panel-content\",\n            attrs: { id: \"left-panel\" },\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"v-tabs\",\n                    {\n                      attrs: {\n                        \"background-color\": \"secondary\",\n                        dark: \"\",\n                        grow: \"\",\n                      },\n                      model: {\n                        value: _vm.tab,\n                        callback: function ($$v) {\n                          _vm.tab = $$v\n                        },\n                        expression: \"tab\",\n                      },\n                    },\n                    [\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"PT Links\")))]),\n                      _vm._v(\" \"),\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"Road Links\")))]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"LinksSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: !_vm.roadMode,\n                        expression: \"!roadMode\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.windowHeight,\n                      \"selected-trips\": _vm.selectedTrips,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"links\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      cloneButton: (e) => _vm.$emit(\"cloneButton\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"RoadSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.roadMode,\n                        expression: \"roadMode\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.windowHeight,\n                      \"selectedr-goup\": _vm.selectedrGroup,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"rlinks\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList == _vm.tripId\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList == _vm.tripId\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.propertiesButton(_vm.tripList)\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Lines\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"visibles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: _vm.$gettext(\"filter\"),\n                  \"item-color\": \"secondarydark\",\n                  color: \"secondarydark\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm._l(_vm.classifiedTripId, function (value, key) {\n            return _c(\n              \"v-list-group\",\n              {\n                key: String(value.name) + String(key),\n                attrs: {\n                  color: \"secondarydark\",\n                  value: false,\n                  \"no-action\": \"\",\n                },\n                scopedSlots: _vm._u(\n                  [\n                    {\n                      key: \"activator\",\n                      fn: function () {\n                        return [\n                          _c(\n                            \"v-list-item-action\",\n                            [\n                              _c(\n                                \"v-tooltip\",\n                                {\n                                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                  scopedSlots: _vm._u(\n                                    [\n                                      {\n                                        key: \"activator\",\n                                        fn: function ({ on, attrs }) {\n                                          return [\n                                            _c(\n                                              \"v-btn\",\n                                              _vm._g(\n                                                _vm._b(\n                                                  {\n                                                    attrs: { icon: \"\" },\n                                                    on: {\n                                                      click: function ($event) {\n                                                        $event.stopPropagation()\n                                                        return _vm.showGroup(\n                                                          value.tripId\n                                                        )\n                                                      },\n                                                    },\n                                                  },\n                                                  \"v-btn\",\n                                                  attrs,\n                                                  false\n                                                ),\n                                                on\n                                              ),\n                                              [\n                                                _c(\n                                                  \"v-icon\",\n                                                  {\n                                                    staticClass:\n                                                      \"list-item-icon\",\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                  \" +\n                                                        _vm._s(\n                                                          value.tripId.some(\n                                                            (val) =>\n                                                              _vm.tripList.includes(\n                                                                val\n                                                              )\n                                                          )\n                                                            ? \"fa-eye fa\"\n                                                            : \"fa-eye-slash fa\"\n                                                        ) +\n                                                        \"\\n                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                          ]\n                                        },\n                                      },\n                                    ],\n                                    null,\n                                    true\n                                  ),\n                                },\n                                [\n                                  _vm._v(\" \"),\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(\n                                          value.tripId.some((val) =>\n                                            _vm.tripList.includes(val)\n                                          )\n                                            ? _vm.$gettext(\"Hide All\")\n                                            : _vm.$gettext(\"Show All\")\n                                        ) +\n                                        \"\\n            \"\n                                    ),\n                                  ]),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\"v-list-item-title\", [\n                                _c(\"strong\", [\n                                  _vm._v(\n                                    \"\\n              \" +\n                                      _vm._s(\n                                        value.name == \"undefined\"\n                                          ? _vm.$gettext(value.name)\n                                          : value.name\n                                      ) +\n                                      \"\\n            \"\n                                  ),\n                                ]),\n                              ]),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled:\n                                                    _vm.editorTrip != null\n                                                      ? true\n                                                      : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.propertiesButton(\n                                                      value.tripId\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              { attrs: { color: \"regular\" } },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-list\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(\n                                  _vm._s(_vm.$gettext(\"Edit Group Properties\"))\n                                ),\n                              ]),\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled: _vm.editorTrip\n                                                    ? true\n                                                    : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.deleteButton({\n                                                      trip: value.tripId,\n                                                      message: value.name,\n                                                      action: \"deleteTrip\",\n                                                    })\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              {\n                                                attrs: {\n                                                  small: \"\",\n                                                  color: \"regular\",\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-trash\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(_vm._s(_vm.$gettext(\"Delete Group\"))),\n                              ]),\n                            ]\n                          ),\n                        ]\n                      },\n                      proxy: true,\n                    },\n                  ],\n                  null,\n                  true\n                ),\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"v-virtual-scroll\", {\n                  attrs: {\n                    items: value.tripId,\n                    \"item-height\": 45,\n                    height: Math.min(\n                      _vm.height - 220,\n                      45 * value.tripId.length + 3\n                    ),\n                  },\n                  scopedSlots: _vm._u(\n                    [\n                      {\n                        key: \"default\",\n                        fn: function ({ item }) {\n                          return [\n                            _c(\n                              \"v-list-item\",\n                              { key: item, staticClass: \"pl-2\" },\n                              [\n                                _c(\n                                  \"v-list-item-action\",\n                                  [\n                                    _c(\"v-checkbox\", {\n                                      staticClass: \"pl-2\",\n                                      attrs: {\n                                        \"on-icon\": \"fa-eye fa\",\n                                        \"off-icon\": \"fa-eye-slash fa\",\n                                        color: \"primary\",\n                                        value: item,\n                                        size: \"10\",\n                                        \"hide-details\": \"\",\n                                      },\n                                      model: {\n                                        value: _vm.tripList,\n                                        callback: function ($$v) {\n                                          _vm.tripList = $$v\n                                        },\n                                        expression: \"tripList\",\n                                      },\n                                    }),\n                                  ],\n                                  1\n                                ),\n                                _vm._v(\" \"),\n                                item == _vm.editorTrip\n                                  ? _c(\"v-list-item-title\", [\n                                      _c(\"strong\", [_vm._v(_vm._s(item))]),\n                                    ])\n                                  : _c(\"v-list-item-title\", [\n                                      _vm._v(\n                                        \"\\n              \" +\n                                          _vm._s(item) +\n                                          \"\\n            \"\n                                      ),\n                                    ]),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.editButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-pen\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Edit Line\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.propertiesButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-list\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$gettext(\"Edit Line Properties\")\n                                        )\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.cloneButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-clone\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Duplicate\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled: _vm.editorTrip\n                                                          ? true\n                                                          : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.deleteButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                              action:\n                                                                \"deleteTrip\",\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        small: \"\",\n                                                        color: \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-trash\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(_vm.$gettext(\"Delete Line\"))\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ],\n                    null,\n                    true\n                  ),\n                }),\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          (_vm.editorTrip ? true : false)\n            ? _c(\n                \"v-list-item\",\n                [\n                  _c(\n                    \"v-tooltip\",\n                    {\n                      attrs: { right: \"\", \"open-delay\": \"500\" },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        staticClass: \"mx-2\",\n                                        attrs: {\n                                          color: _vm.$store.getters.anchorMode\n                                            ? \"grey\"\n                                            : \"regular\",\n                                        },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.$store.commit(\n                                              \"changeAnchorMode\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                      _vm._v(\n                                        \"\\n              fas fa-anchor\\n            \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ],\n                        null,\n                        false,\n                        3833012906\n                      ),\n                    },\n                    [\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          \" \" + _vm._s(_vm.$gettext(\"Edit Line geometry\")) + \" \"\n                        ),\n                        _c(\"b\", [_vm._v(\"(CTRL)\")]),\n                      ]),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"abortChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-times-circle\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Abort\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"confirmChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-save\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Confirm\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"v-list-item\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.editorTrip ? false : true,\n                  expression: \"editorTrip ? false: true\",\n                },\n              ],\n            },\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"text--primary\",\n                                  attrs: {\n                                    color: \"primary\",\n                                    fab: \"\",\n                                    small: \"\",\n                                  },\n                                  on: { click: _vm.createNewLine },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [_c(\"v-icon\", [_vm._v(\"fas fa-plus\")])],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"Create new Line\")))]),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nconst $gettext = s => s\nconst short = require('short-uuid')\n\nexport default {\n  name: 'LinksSidePanel',\n  components: {\n  },\n\n  props: ['selectedTrips', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'cloneButton', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: [],\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.lineAttributes },\n    editorTrip () { return this.$store.getters.editorTrip },\n    tripId () { return this.$store.getters.tripId },\n    arrayUniqueTripId () {\n      // drop duplicates links trips. each line is a trip here.\n      const arrayUniqueByKey = [...new Map(this.$store.getters.links.features.map(item =>\n        [item.properties.trip_id, item.properties])).values()]\n      return arrayUniqueByKey\n    },\n    filteredCat () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.arrayUniqueTripId.map(\n        item => item[this.selectedFilter])))\n      return val\n    },\n\n    classifiedTripId () {\n      // return this list of object, {cat_name, tripId list}\n      const classifiedTripId = []\n      const undefinedCat = { name: $gettext('undefined'), tripId: [] }\n      this.filteredCat.forEach(c => {\n        const arr = this.arrayUniqueTripId.filter(\n          item => item[this.selectedFilter] === c,\n        ).map((item) => item.trip_id)\n\n        // regroup all null values into a single list 'undefined'\n        if (c === null | c === '' | c === undefined) {\n          undefinedCat.tripId.push(...arr)\n        } else {\n          classifiedTripId.push({ name: c, tripId: arr })\n        }\n      })\n      // if there was undefined Categories, append it at the end.\n      if (undefinedCat.tripId.length > 0) {\n        classifiedTripId.push(undefinedCat)\n      }\n      return classifiedTripId\n    },\n  },\n\n  watch: {\n    tripList (val) {\n      this.$emit('update-tripList', val)\n    },\n    tripId (newVal, oldVal) {\n      if (newVal.length < oldVal.length) {\n        // if a trip is deleted. we remove it, no remapping.\n        this.tripList = this.tripList.filter((trip) => newVal.includes(trip))\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        const newTrip = newVal.filter(item => !oldVal.includes(item))[0]\n        this.tripList.push(newTrip)\n      } else {\n        // if a trip name changes.\n        // update TripList v-model when a trip_id is changed.\n        const dict = {}\n        oldVal.forEach(\n          function (key, i) {\n            dict[key] = newVal[i]\n          })\n        this.tripList = this.tripList.map((trip) => dict[trip])\n      }\n    },\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // prevent group larger than 500.\n      if (this.filteredCat.length > 500) {\n        // if it is larger, return to oldValue\n        this.selectedFilter = oldVal\n        // display error message\n        this.$store.commit('changeNotification',\n          {\n            text: $gettext('Cannot filter by this field. There is more than 500 groups'),\n            autoClose: true,\n            color: 'red darken-2',\n          })\n        // return the value in the v-select as the old Value\n        // eslint-disable-next-line no-return-assign\n        this.$nextTick(() => this.vmodelSelectedFilter = oldVal)\n      }\n    },\n\n  },\n  created () {\n    this.tripList = this.selectedTrips\n    this.selectedFilter = 'route_type'\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    editButton (value) {\n      if (this.editorTrip === value) {\n        this.showDialog = true\n      } else {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      if (typeof value === 'object') {\n        this.$emit('propertiesButton', { action: 'Edit Group Info', lingering: false, tripIds: value })\n      } else if (!this.editorTrip) {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: false })\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: false })\n        // just open dialog\n      } else {\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    createNewLine () {\n      const name = 'trip_' + short.generate()\n      this.$store.commit('setEditorTrip', { tripId: name, changeBounds: false })\n      this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n    },\n\n    cloneButton (obj) {\n      this.$emit('cloneButton', obj)\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList === this.tripId) {\n        this.tripList = []\n      } else {\n        this.tripList = this.tripId\n      }\n    },\n    showGroup (val) {\n      // at least one value is selected in the group : uncheck all\n      if (val.some(value => this.tripList.includes(value))) {\n        this.tripList = this.tripList.filter(trip => !val.includes(trip))\n      // none are selected : select All.\n      } else {\n        this.tripList = Array.from(new Set([...this.tripList, ...val]))\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList == tripId ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList == tripId? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-on=\"on\"\n            @click=\"propertiesButton(tripList)\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"Lines\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','visibles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          :label=\"$gettext('filter')\"\n          item-color=\"secondarydark\"\n          color=\"secondarydark\"\n        />\n      </v-list-item>\n      <v-list-group\n        v-for=\"(value, key) in classifiedTripId\"\n        :key=\"String(value.name) + String(key)\"\n        color=\"secondarydark\"\n        :value=\"false\"\n        no-action\n      >\n        <template v-slot:activator>\n          <v-list-item-action>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  @click.stop=\"showGroup(value.tripId)\"\n                >\n                  <v-icon class=\"list-item-icon\">\n                    {{ value.tripId.some(val => tripList.includes(val))\n                      ? 'fa-eye fa' :\n                        'fa-eye-slash fa' }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>\n                {{ value.tripId.some(val => tripList.includes(val))\n                  ? $gettext(\"Hide All\"):\n                    $gettext(\"Show All\") }}\n              </span>\n            </v-tooltip>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title>\n              <strong>\n                {{ value.name=='undefined'? $gettext(value.name): value.name }}\n              </strong>\n            </v-list-item-title>\n          </v-list-item-content>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip!=null? true: false\"\n                v-on=\"on\"\n                @click.stop=\"propertiesButton(value.tripId)\"\n              >\n                <v-icon color=\"regular\">\n                  fas fa-list\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Edit Group Properties\") }}</span>\n          </v-tooltip>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip ? true: false\"\n                v-on=\"on\"\n                @click.stop=\"deleteButton({trip:value.tripId, message:value.name,action:'deleteTrip'})\"\n              >\n                <v-icon\n                  small\n                  color=\"regular\"\n                >\n                  fas fa-trash\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Delete Group\") }}</span>\n          </v-tooltip>\n        </template>\n\n        <v-virtual-scroll\n          :items=\"value.tripId\"\n          :item-height=\"45\"\n          :height=\"Math.min(height-220, 45*value.tripId.length+3)\"\n        >\n          <template v-slot=\"{ item }\">\n            <v-list-item\n              :key=\"item\"\n              class=\"pl-2\"\n            >\n              <v-list-item-action>\n                <v-checkbox\n                  v-model=\"tripList\"\n                  class=\"pl-2\"\n                  :on-icon=\"'fa-eye fa'\"\n                  :off-icon=\"'fa-eye-slash fa'\"\n                  :color=\"'primary'\"\n                  :value=\"item\"\n                  size=\"10\"\n                  hide-details\n                />\n              </v-list-item-action>\n              <v-list-item-title v-if=\"item==editorTrip\">\n                <strong>{{ item }}</strong>\n              </v-list-item-title>\n              <v-list-item-title v-else>\n                {{ item }}\n              </v-list-item-title>\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"editButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-pen\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"propertiesButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-list\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"cloneButton({trip:item,message:item})\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-clone\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Duplicate\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"editorTrip ? true: false\"\n                    v-on=\"on\"\n                    @click=\"deleteButton({trip:item,message:item,action:'deleteTrip'})\"\n                  >\n                    <v-icon\n                      small\n                      color=\"regular\"\n                    >\n                      fas fa-trash\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Delete Line\") }}</span>\n              </v-tooltip>\n            </v-list-item>\n          </template>\n        </v-virtual-scroll>\n      </v-list-group>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item v-if=\"editorTrip ? true: false\">\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-anchor\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Edit Line geometry\") }} <b>(CTRL)</b></span>\n        </v-tooltip>\n\n        <v-btn\n          @click=\"$emit('abortChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-times-circle\n          </v-icon>\n          {{ $gettext(\"Abort\") }}\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          @click=\"$emit('confirmChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-save\n          </v-icon>\n          {{ $gettext(\"Confirm\") }}\n        </v-btn>\n      </v-list-item>\n      <v-list-item v-show=\"editorTrip ? false: true\">\n        <v-spacer />\n\n        <v-tooltip\n          bottom\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              color=\"primary\"\n              class=\"text--primary\"\n              fab\n              small\n              v-on=\"on\"\n              @click=\"createNewLine\"\n            >\n              <v-icon>fas fa-plus</v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $gettext(\"Create new Line\") }}</span>\n        </v-tooltip>\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=993af73a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=993af73a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LinksSidePanel.vue?vue&type=template&id=993af73a&scoped=true&\"\nimport script from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinksSidePanel.vue?vue&type=style&index=0&id=993af73a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"993af73a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList.length > 0\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList.length > 0\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.editVisible()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Roads\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"all\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"visible\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: _vm.$gettext(\"filter\"),\n                  \"item-color\": \"secondarydark\",\n                  color: \"secondarydark\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-virtual-scroll\", {\n            attrs: {\n              items: _vm.filteredCat,\n              \"item-height\": 45,\n              height: _vm.height - 71,\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function ({ item }) {\n                  return [\n                    _c(\n                      \"v-list-item\",\n                      {\n                        key: _vm.vmodelSelectedFilter.concat(item),\n                        staticClass: \"pl-2\",\n                      },\n                      [\n                        _c(\n                          \"v-list-item-action\",\n                          [\n                            _c(\"v-checkbox\", {\n                              staticClass: \"pl-2\",\n                              attrs: {\n                                \"on-icon\": \"fa-eye fa\",\n                                \"off-icon\": \"fa-eye-slash fa\",\n                                color: \"primary\",\n                                value: item,\n                                size: \"10\",\n                                \"hide-details\": \"\",\n                              },\n                              model: {\n                                value: _vm.tripList,\n                                callback: function ($$v) {\n                                  _vm.tripList = $$v\n                                },\n                                expression: \"tripList\",\n                              },\n                            }),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"v-list-item-title\", [\n                          _vm._v(\n                            \"\\n            \" + _vm._s(item) + \"\\n          \"\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.propertiesButton(\n                                                    item\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            { attrs: { color: \"regular\" } },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-list\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(\n                                _vm._s(_vm.$gettext(\"Edit Line Properties\"))\n                              ),\n                            ]),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.deleteButton({\n                                                    trip: item,\n                                                    group: _vm.selectedFilter,\n                                                    message: item,\n                                                    action: \"deleterGroup\",\n                                                  })\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              attrs: {\n                                                small: \"\",\n                                                color: \"regular\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-trash\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(_vm._s(_vm.$gettext(\"Delete Line\"))),\n                            ]),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ]\n                },\n              },\n            ]),\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { right: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"mx-2\",\n                                  attrs: {\n                                    color: _vm.$store.getters.anchorMode\n                                      ? \"grey\"\n                                      : \"regular\",\n                                  },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.$store.commit(\n                                        \"changeAnchorMode\"\n                                      )\n                                    },\n                                  },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [\n                              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-anchor\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [\n                    _vm._v(\n                      \" \" + _vm._s(_vm.$gettext(\"Edit Line geometry\")) + \" \"\n                    ),\n                    _c(\"b\", [_vm._v(\"(CTRL)\")]),\n                  ]),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'RoadSidePanel',\n  components: {\n  },\n  props: ['selectedrGoup', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: this.selectedrGoup,\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.rlineAttributes },\n    filteredCat () { return this.$store.getters.filteredrCategory },\n\n  },\n\n  watch: {\n    tripList (newVal, oldVal) {\n      let changes = ''\n      let method = 'add'\n      if (newVal === this.filteredCat) {\n        changes = newVal\n        method = 'showAll'\n      } else if (newVal.length === 0) {\n        changes = []\n        method = 'hideAll'\n      } else if (newVal.length < oldVal.length) {\n        // if a tripis unchecked. we remove it\n        changes = oldVal.filter(item => !newVal.includes(item))\n        method = 'remove'\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        changes = newVal.filter(item => !oldVal.includes(item))\n        method = 'add'\n      }\n      if (changes !== '') {\n        this.$emit('update-tripList', { category: this.vmodelSelectedFilter, data: changes, method: method })\n      }\n    },\n    selectedrGoup (newVal) {\n      // check selected group in store. if it changes from another component\n      const a = new Set(newVal)\n      const b = new Set(this.tripList)\n      if (!(a.size === b.size && new Set([...a, ...b]).size === a.size)) {\n        this.tripList = structuredClone(newVal)\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // only reset if we change the filter.\n      this.$store.commit('changeSelectedrFilter', this.selectedFilter)\n      // when the component is loaded, oldVal is null and we dont want to overwrite tripList to [].\n      if (oldVal) {\n        this.tripList = []\n      }\n    },\n\n  },\n  mounted () {\n    this.tripList = this.selectedrGoup\n    this.selectedFilter = this.$store.getters.selectedrFilter\n    this.vmodelSelectedFilter = this.selectedFilter\n    this.$store.commit('changeSelectedrFilter', this.selectedFilter)\n\n    if (this.$store.getters.links.features.length === 0 &&\n    !this.$store.getters.projectIsEmpty &&\n    this.selectedrGoup.length === 0) {\n      this.showAll()\n    }\n  },\n\n  methods: {\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      this.$emit('propertiesButton', {\n        action: 'Edit Road Group Info',\n        lingering: false,\n        category: this.vmodelSelectedFilter,\n        group: value,\n      })\n    },\n    editVisible () {\n      this.$emit('propertiesButton', {\n        action: 'Edit Visible Road Info',\n        lingering: false,\n      })\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList.length === this.filteredCat.length) {\n        this.tripList = []\n      } else {\n        this.tripList = this.filteredCat\n      }\n    },\n    showGroup (val) {\n      this.tripList = Array.from(new Set([...this.tripList, ...val]))\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"editVisible()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"Roads\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','all')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','visible')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          :label=\"$gettext('filter')\"\n          item-color=\"secondarydark\"\n          color=\"secondarydark\"\n        />\n      </v-list-item>\n\n      <v-virtual-scroll\n        :items=\"filteredCat\"\n        :item-height=\"45\"\n        :height=\"height-71\"\n      >\n        <template v-slot=\"{ item }\">\n          <v-list-item\n            :key=\"vmodelSelectedFilter.concat(item)\"\n            class=\"pl-2\"\n          >\n            <v-list-item-action>\n              <v-checkbox\n                v-model=\"tripList\"\n                class=\"pl-2\"\n                :on-icon=\"'fa-eye fa'\"\n                :off-icon=\"'fa-eye-slash fa'\"\n                :color=\"'primary'\"\n                :value=\"item\"\n                size=\"10\"\n                hide-details\n              />\n            </v-list-item-action>\n\n            <v-list-item-title>\n              {{ item }}\n            </v-list-item-title>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"propertiesButton(item)\"\n                >\n                  <v-icon :color=\"'regular' \">\n                    fas fa-list\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"deleteButton({trip:item,group:selectedFilter,message:item,action:'deleterGroup'})\"\n                >\n                  <v-icon\n                    small\n                    color=\"regular\"\n                  >\n                    fas fa-trash\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete Line\") }}</span>\n            </v-tooltip>\n          </v-list-item>\n        </template>\n      </v-virtual-scroll>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item>\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-anchor\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Edit Line geometry\") }} <b>(CTRL)</b></span>\n        </v-tooltip>\n        <v-spacer />\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=1083de55&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=1083de55&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RoadSidePanel.vue?vue&type=template&id=1083de55&scoped=true&\"\nimport script from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoadSidePanel.vue?vue&type=style&index=0&id=1083de55&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1083de55\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"","<script>\nimport LinksSidePanel from './LinksSidePanel.vue'\nimport RoadSidePanel from './RoadSidePanel.vue'\nexport default {\n  name: 'SidePanel',\n  components: {\n    LinksSidePanel,\n    RoadSidePanel,\n  },\n  props: ['selectedTrips', 'selectedrGroup'],\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'cloneButton', 'deleteButton', 'propertiesButton', 'newLine', 'isRoadMode'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      tab: 0,\n      roadMode: false,\n    }\n  },\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n    windowHeight () { return this.$store.getters.windowHeight - 200 },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n\n    tab (val) {\n      if (val === 1) {\n        this.roadMode = true\n      } else {\n        this.roadMode = false\n      }\n      this.$emit('isRoadMode', this.roadMode)\n    },\n  },\n  created () {\n    if (this.$store.getters.links.features.length === 0 && !this.$store.getters.projectIsEmpty) {\n      this.tab = 1\n    }\n  },\n\n}\n</script>\n<template>\n  <section\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{'width': showLeftPanel ? '400px' : '0px'}\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondary\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        id=\"left-panel\"\n        ref=\"leftPanel\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <v-tabs\n              v-model=\"tab\"\n              background-color=\"secondary\"\n              dark\n              grow\n            >\n              <v-tab>{{ $gettext(\"PT Links\") }}</v-tab>\n              <v-tab>{{ $gettext(\"Road Links\") }}</v-tab>\n            </v-tabs>\n            <LinksSidePanel\n              v-show=\"!roadMode\"\n              :height=\"windowHeight\"\n              :selected-trips=\"selectedTrips\"\n              @update-tripList=\"(e) => $emit('update-tripList', {type: 'links', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @cloneButton=\"(e) => $emit('cloneButton',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n            <RoadSidePanel\n              v-show=\"roadMode\"\n              :height=\"windowHeight\"\n              :selectedr-goup=\"selectedrGroup\"\n              @update-tripList=\"(e) => $emit('update-tripList',{type: 'rlinks', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color:var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=e349a9f8&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=e349a9f8&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SidePanel.vue?vue&type=template&id=e349a9f8&scoped=true&\"\nimport script from \"./SidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SidePanel.vue?vue&type=style&index=0&id=e349a9f8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e349a9f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      key: _vm.mapStyle,\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": _vm.mapStyle,\n        center: _vm.$store.getters.mapCenter,\n        zoom: _vm.$store.getters.mapZoom,\n      },\n      on: {\n        load: _vm.onMapLoaded,\n        mousemove: _vm.draw,\n        mouseout: function ($event) {\n          return _vm.resetDraw()\n        },\n        click: _vm.addPoint,\n        mouseup: _vm.rightClickMap,\n      },\n    },\n    [\n      _vm.mapIsLoaded ? [_c(\"Settings\")] : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded & (_vm.rasterFiles.length > 0)\n        ? [\n            _c(\"LayerSelector\", {\n              attrs: { choices: _vm.rasterFiles.map((item) => item.name) },\n            }),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm._l(_vm.rasterFiles, function (file) {\n        return _c(\n          \"div\",\n          { key: file.name },\n          [\n            _vm.mapIsLoaded\n              ? [\n                  _c(\"StaticLayer\", {\n                    attrs: {\n                      \"file-name\": file.name,\n                      type: file.type,\n                      visible: _vm.rasterLayers.includes(file.name),\n                    },\n                  }),\n                ]\n              : _vm._e(),\n          ],\n          2\n        )\n      }),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"RoadLinks\",\n              _vm._g(\n                {\n                  ref: \"roadref\",\n                  attrs: {\n                    map: _vm.map,\n                    \"is-editor-mode\": _vm.isEditorMode,\n                    \"is-road-mode\": _vm.isRoadMode,\n                    \"anchor-mode\": _vm.anchorMode,\n                  },\n                },\n                _vm.isEditorMode\n                  ? {}\n                  : _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHoverRoad,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\"StaticLinks\", {\n              attrs: {\n                map: _vm.map,\n                \"showed-trips\": _vm.selectedTrips,\n                \"is-editor-mode\": _vm.isEditorMode,\n              },\n              on: { rightClick: (e) => _vm.$emit(\"clickFeature\", e) },\n            }),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"EditorLinks\",\n              _vm._g(\n                { attrs: { map: _vm.map, \"anchor-mode\": _vm.anchorMode } },\n                _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHover,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _vm.drawMode\n              ? _c(\"MglGeojsonLayer\", {\n                  attrs: {\n                    \"source-id\": \"drawLink\",\n                    source: {\n                      type: \"geojson\",\n                      data: _vm.drawLink,\n                      buffer: 0,\n                      generateId: true,\n                    },\n                    \"layer-id\": \"drawLink\",\n                    layer: {\n                      type: \"line\",\n                      minzoom: 2,\n                      paint: {\n                        \"line-opacity\": 1,\n                        \"line-color\":\n                          _vm.$vuetify.theme.currentTheme.linksprimary,\n                        \"line-width\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          5,\n                          3,\n                        ],\n                        \"line-dasharray\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          [\"literal\", []],\n                          [\"literal\", [0, 2, 4]],\n                        ],\n                      },\n                    },\n                  },\n                })\n              : _vm._e(),\n          ]\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"close-on-click\": false,\n        origin: \"top right\",\n        transition: \"scale-transition\",\n        \"position-y\": 30,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"v-btn\",\n                _vm._g(\n                  _vm._b(\n                    { staticClass: \"setting\", attrs: { fab: \"\", small: \"\" } },\n                    \"v-btn\",\n                    attrs,\n                    false\n                  ),\n                  on\n                ),\n                [\n                  _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                    _vm._v(\"\\n        fa-solid fa-cog\\n      \"),\n                  ]),\n                ],\n                1\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.show,\n        callback: function ($$v) {\n          _vm.show = $$v\n        },\n        expression: \"show\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          class: { shake: _vm.shake },\n          attrs: { \"max-width\": 300 },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.submit.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n        },\n        [\n          _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-text\",\n            [\n              _c(\n                \"v-form\",\n                { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        [\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.linkSpeed.type,\n                              label: _vm.$gettext(_vm.linkSpeed.name),\n                              suffix: _vm.linkSpeed.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.linkSpeed.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.rules,\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: _vm.linkSpeed.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.linkSpeed, \"value\", $$v)\n                              },\n                              expression: \"linkSpeed.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.roadSpeed.type,\n                              label: _vm.$gettext(_vm.roadSpeed.name),\n                              suffix: _vm.roadSpeed.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.roadSpeed.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.rules,\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: _vm.roadSpeed.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.roadSpeed, \"value\", $$v)\n                              },\n                              expression: \"roadSpeed.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.linksPopupContent.choices,\n                              label: _vm.$gettext(_vm.linksPopupContent.name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.linksPopupContent.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              \"menu-props\": { top: true, offsetY: true },\n                              chips: \"\",\n                              multiple: \"\",\n                            },\n                            model: {\n                              value: _vm.linksPopupContent.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.linksPopupContent, \"value\", $$v)\n                              },\n                              expression: \"linksPopupContent.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.roadsPopupContent.choices,\n                              label: _vm.$gettext(_vm.roadsPopupContent.name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.roadsPopupContent.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              \"menu-props\": { top: true, offsetY: true },\n                              chips: \"\",\n                              multiple: \"\",\n                            },\n                            model: {\n                              value: _vm.roadsPopupContent.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.roadsPopupContent, \"value\", $$v)\n                              },\n                              expression: \"roadsPopupContent.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.defaultHighway.type,\n                              label: _vm.$gettext(_vm.defaultHighway.name),\n                              suffix: _vm.defaultHighway.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.defaultHighway.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.zipRules,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.defaultHighway.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.defaultHighway, \"value\", $$v)\n                              },\n                              expression: \"defaultHighway.value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.outputName.type,\n                              label: _vm.$gettext(_vm.outputName.name),\n                              suffix: _vm.outputName.units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.outputName.hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: _vm.zipRules,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.outputName.value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.outputName, \"value\", $$v)\n                              },\n                              expression: \"outputName.value\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", text: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", text: \"\" },\n                  on: { click: _vm.submit },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Save\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { icon: \"\", small: \"\" },\n                  on: {\n                    click: function ($event) {\n                      _vm.showHint = !_vm.showHint\n                    },\n                  },\n                },\n                [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\n\nexport default {\n  name: 'Settings',\n  events: ['submit'],\n  data () {\n    return {\n      show: false,\n\n      linkSpeed: {\n        name: $gettext('PT speed'),\n        type: 'Number',\n        value: 0,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate travel time when a link is drawn, extend or a node is moved'),\n      },\n      roadSpeed: {\n        name: $gettext('Road speed'),\n        type: 'Number',\n        value: 0,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate road travel time when a link is drawn'),\n      },\n      linksPopupContent: {\n        name: $gettext('PT Popup Content'),\n        type: 'String',\n        choices: [],\n        value: '',\n        hint: $gettext('Link field to display when hovering a trip on the map'),\n      },\n      roadsPopupContent: {\n        name: $gettext('Road Popup Content'),\n        type: 'String',\n        choices: [],\n        value: '',\n        hint: $gettext('Link field to display when hovering road link on the map'),\n      },\n      defaultHighway: {\n        name: $gettext('Road Highway name'),\n        type: 'String',\n        value: '',\n        hint: $gettext('New road links Highway property name'),\n      },\n      outputName: {\n        name: $gettext('Export name'),\n        type: 'String',\n        value: '',\n        units: '.zip',\n        hint: $gettext('the name of the exported zip file'),\n      },\n      errorMessage: null,\n      showHint: false,\n      shake: false,\n\n      rules: [\n        v => !!v || $gettext('Required'),\n        v => v >= 0 || $gettext('should be larger than 0'),\n      ],\n      zipRules: [v => v.slice(-4) !== '.zip' || $gettext('do not add .zip to the end')],\n      showDialog: true,\n    }\n  },\n  watch: {\n    show () { this.fetch() },\n  },\n  created () {\n    this.localShow = this.show\n    this.fetch()\n  },\n  methods: {\n    fetch () {\n      // value are init with this function.\n      // we want to get the value each time we show the settings.\n      // if not, Cancel will not work as the state here and in the store will differ.\n      this.linkSpeed.value = this.$store.getters.linkSpeed\n      this.roadSpeed.value = this.$store.getters.roadSpeed\n      this.linksPopupContent.choices = this.$store.getters.lineAttributes\n      this.linksPopupContent.value = this.$store.getters.linksPopupContent\n      this.roadsPopupContent.choices = this.$store.getters.rlineAttributes\n      this.roadsPopupContent.value = this.$store.getters.roadsPopupContent\n      this.defaultHighway.value = this.$store.getters.defaultHighway\n      this.outputName.value = this.$store.getters.outputName\n    },\n\n    submit () {\n      if (this.$refs.form.validate()) {\n        const payload = {\n          linkSpeed: this.linkSpeed.value,\n          roadSpeed: this.roadSpeed.value,\n          linksPopupContent: this.linksPopupContent.value,\n          roadsPopupContent: this.roadsPopupContent.value,\n          outputName: this.outputName.value,\n          defaultHighway: this.defaultHighway.value,\n        }\n        this.$store.commit('applySettings', payload)\n        this.$emit('submit', true)\n        this.show = false\n        this.$store.commit('changeNotification',\n          { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () {\n      this.$emit('submit', false)\n      this.show = false\n    },\n  },\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"show\"\n    :close-on-content-click=\"false\"\n    :close-on-click=\"false\"\n    :origin=\"'top right'\"\n    transition=\"scale-transition\"\n    :position-y=\"30\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-btn\n        class=\"setting\"\n        fab\n        small\n        v-bind=\"attrs\"\n        v-on=\"on\"\n      >\n        <v-icon\n          color=\"regular\"\n        >\n          fa-solid fa-cog\n        </v-icon>\n      </v-btn>\n    </template>\n\n    <v-card\n      :class=\"{'shake':shake}\"\n      :max-width=\"300\"\n      @keydown.enter=\"submit\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card-title class=\"subtitle\">\n        {{ $gettext('Settings') }}\n      </v-card-title>\n\n      <v-card-text>\n        <v-form\n          ref=\"form\"\n          lazy-validation\n        >\n          <v-container>\n            <v-col>\n              <v-text-field\n                v-model=\"linkSpeed.value\"\n                :type=\"linkSpeed.type\"\n                :label=\"$gettext(linkSpeed.name)\"\n                :suffix=\"linkSpeed.units\"\n                :hint=\"showHint? $gettext(linkSpeed.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"rules\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-text-field\n                v-model=\"roadSpeed.value\"\n                :type=\"roadSpeed.type\"\n                :label=\"$gettext(roadSpeed.name)\"\n                :suffix=\"roadSpeed.units\"\n                :hint=\"showHint? $gettext(roadSpeed.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"rules\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-select\n                v-model=\"linksPopupContent.value\"\n                :items=\"linksPopupContent.choices\"\n                :label=\"$gettext(linksPopupContent.name)\"\n                :hint=\"showHint? $gettext(linksPopupContent.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :menu-props=\"{ top: true, offsetY: true }\"\n                chips\n                multiple\n              />\n              <v-select\n                v-model=\"roadsPopupContent.value\"\n                :items=\"roadsPopupContent.choices\"\n                :label=\"$gettext(roadsPopupContent.name)\"\n                :hint=\"showHint? $gettext(roadsPopupContent.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :menu-props=\"{ top: true, offsetY: true }\"\n                chips\n                multiple\n              />\n              <v-text-field\n                v-model=\"defaultHighway.value\"\n                :type=\"defaultHighway.type\"\n                :label=\"$gettext(defaultHighway.name)\"\n                :suffix=\"defaultHighway.units\"\n                :hint=\"showHint? $gettext(defaultHighway.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"zipRules\"\n                required\n              />\n              <v-text-field\n                v-model=\"outputName.value\"\n                :type=\"outputName.type\"\n                :label=\"$gettext(outputName.name)\"\n                :suffix=\"outputName.units\"\n                :hint=\"showHint? $gettext(outputName.hint): ''\"\n                :persistent-hint=\"showHint\"\n                :rules=\"zipRules\"\n                required\n              />\n            </v-col>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          color=\"grey\"\n          text\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"Cancel\") }}\n        </v-btn>\n\n        <v-btn\n          color=\"green darken-1\"\n          text\n          @click=\"submit\"\n        >\n          {{ $gettext(\"Save\") }}\n        </v-btn>\n\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"showHint = !showHint\"\n        >\n          <v-icon>far fa-question-circle small</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n.setting {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.card button {\n  margin-top: 40px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=2c89ae11&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=2c89ae11&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=2c89ae11&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=2c89ae11&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c89ae11\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.visibleLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: 1,\n                maxzoom: 18,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.1,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"has\", \"route_width\"],\n                    [\n                      \"case\",\n                      [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                      [\"to-number\", [\"get\", \"route_width\"]],\n                      3,\n                    ],\n                    3,\n                  ],\n                },\n\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.enterLink,\n                mouseleave: _vm.leaveLink,\n                contextmenu: _vm.editLineProperties,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"nodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.visibleNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"nodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 12,\n            maxzoom: 18,\n            paint: {\n              \"circle-color\": [\n                \"case\",\n                [\"boolean\", _vm.isEditorMode, false],\n                _vm.$vuetify.theme.currentTheme.mediumgrey,\n                _vm.$vuetify.theme.currentTheme.accent,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.white,\n              \"circle-stroke-width\": 1,\n              \"circle-radius\": [\n                \"case\",\n                [\"has\", \"route_width\"],\n                [\n                  \"case\",\n                  [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                  [\"to-number\", [\"get\", \"route_width\"]],\n                  3,\n                ],\n                3,\n              ],\n            },\n          },\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n  },\n  props: ['map', 'showedTrips', 'isEditorMode'],\n  events: ['rightClick'],\n\n  data () {\n    return {\n      visibleNodes: {},\n      visibleLinks: {},\n      selectedFeatures: [],\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.linksPopupContent },\n    links () { return this.$store.getters.links },\n    nodes () { return this.$store.getters.nodes },\n  },\n\n  watch: {\n    showedTrips (newVal, oldVal) {\n      this.setHiddenFeatures()\n    },\n    isEditorMode (val) {\n      val ? this.map.off('dblclick', this.selectLine) : this.map.on('dblclick', this.selectLine)\n    },\n  },\n\n  created () {\n    this.visibleLinks = structuredClone(this.$store.getters.linksHeader)\n    this.visibleNodes = structuredClone(this.$store.getters.nodesHeader)\n    this.setHiddenFeatures()\n    this.map.on('dblclick', this.selectLine)\n  },\n\n  methods: {\n\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      this.selectedFeatures = event.mapboxEvent.features\n\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      if (this.selectedPopupContent.length > 0) { // do not show popup if nothing is selected (selectedPopupContent)\n        let htmlContent = this.selectedPopupContent.map(prop => `${prop}: <b>${this.selectedFeatures[0].properties[prop]}</b>`)\n        htmlContent = htmlContent.join('<br> ')\n        this.popup = new mapboxgl.Popup({ closeButton: false })\n          .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n          .setHTML(htmlContent)\n          .addTo(event.map)\n      }\n    },\n    leaveLink (event) {\n      this.selectedFeatures = []\n      if (this.popup?.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    setHiddenFeatures () {\n      // get visible links and nodes.\n      const showedTripsSet = new Set(this.showedTrips)\n      this.visibleLinks.features = this.links.features.filter(link => showedTripsSet.has(link.properties.trip_id))\n      const a = this.visibleLinks.features.map(item => item.properties.a)\n      const b = this.visibleLinks.features.map(item => item.properties.b)\n      const ab = new Set([...a, ...b])\n      this.visibleNodes.features = this.visibleNodes.features.filter(node => ab.has(node.properties.index))\n\n      // get all unique width\n      const widthArr = [...new Set(this.visibleLinks.features.map(item => Number(item.properties.route_width)))]\n      // create a dict {width:[node_index]}\n      const widthDict = {}\n      widthArr.forEach(key => widthDict[key] = new Set())\n      this.visibleLinks.features.map(item =>\n        [item.properties.a, item.properties.b].forEach(\n          node => widthDict[Number(item.properties.route_width)].add(node)))\n      // remove duplicated nodes. only keep larger one (if node_1 is in a line of size 5 and 3, only keep the 5 one.)\n      let totSet = new Set()\n      for (let i = 0; i < widthArr.length - 1; i++) {\n        const a = widthDict[widthArr[i + 1]]\n        const b = widthDict[widthArr[i]]\n        totSet = new Set([...totSet, ...b])\n        widthDict[widthArr[i + 1]] = new Set([...a].filter(x => !totSet.has(x)))\n      }\n      // for each width, get the nodes and add the width to the properties for rendering.\n      widthArr.forEach(key => {\n        const newNodes = this.nodes.features.filter(node => widthDict[key].has(node.properties.index))\n        newNodes.map(node => node.properties.route_width = key)\n        this.visibleNodes.features.push(...newNodes)\n      })\n\n      // const endTime = performance.now()\n    },\n    selectLine (e) {\n      e.preventDefault() // prevent map control\n      // if we are not hovering. select closest link (within 5 pixels)\n      if (this.selectedFeatures.length === 0) {\n        // Set `bbox` as 5px reactangle area around clicked point.\n        const bbox = [\n          [e.point.x - 5, e.point.y - 5],\n          [e.point.x + 5, e.point.y + 5],\n        ]\n        // Find features intersecting the bounding box.\n        this.selectedFeatures = this.map.queryRenderedFeatures(bbox, {\n          layers: ['links'],\n        })\n      }\n      // do nothing if nothing is clicked (clicking on map, not on a link)\n      if (this.selectedFeatures.length > 0) {\n        // set. the first one as editor mode\n        // eslint-disable-next-line max-len\n        this.$store.commit('setEditorTrip', { tripId: this.selectedFeatures[0].properties.trip_id, changeBounds: false })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    editLineProperties (event) {\n      // eslint-disable-next-line max-len\n      this.$store.commit('setEditorTrip', { tripId: event.mapboxEvent.features[0].properties.trip_id, changeBounds: false })\n      this.$emit('rightClick', { action: 'Edit Line Info', lingering: false })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: 1,\n        maxzoom: 18,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.1, 1],\n          'line-width': ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          3], 3],\n        },\n\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n          'line-cap': 'round',\n        }\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: enterLink, mouseleave: leaveLink, contextmenu:editLineProperties }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 12,\n        maxzoom: 18,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false],$vuetify.theme.currentTheme.mediumgrey, $vuetify.theme.currentTheme.accent],\n          'circle-stroke-color': $vuetify.theme.currentTheme.white,\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['has', 'route_width'],\n                            ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                             ['to-number', ['get', 'route_width']],\n                             3], 3],\n        },\n      }\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaticLinks.vue?vue&type=template&id=09f0cc7c&scoped=true&\"\nimport script from \"./StaticLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09f0cc7c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorLinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorLinks\",\n              layer: {\n                type: \"line\",\n                minzoom: 2,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.anchorMode, false],\n                    _vm.$vuetify.theme.currentTheme.linkssecondary,\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    12,\n                    5,\n                  ],\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              click: _vm.selectClick,\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n            },\n          },\n          _vm.anchorMode ? {} : { contextmenu: _vm.linkRightClick }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"editorLinks\",\n          type: \"symbol\",\n          source: \"editorLinks\",\n          \"layer-id\": \"arrow-layer\",\n          layer: {\n            type: \"symbol\",\n            minzoom: 5,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 30,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": 0.5,\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"boolean\", _vm.anchorMode, false],\n                _vm.$vuetify.theme.currentTheme.linkssecondary,\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorNodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorNodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorNodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: 2,\n                paint: {\n                  \"circle-color\": _vm.$vuetify.theme.currentTheme.accent,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    16,\n                    8,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n              mousedown: _vm.moveNode,\n            },\n          },\n          _vm.anchorMode\n            ? {}\n            : { click: _vm.selectClick, contextmenu: _vm.contextMenuNode }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.anchorNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 2,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": \"#2C3E4E\",\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.popupEditor.showed,\n            coordinates: _vm.popupEditor.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.popupEditor.showed = false\n            },\n          },\n        },\n        [\n          _c(\"span\", [\n            _c(\"h3\", [_vm._v(_vm._s(_vm.popupEditor.content))]),\n            _vm._v(\" \"),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Left click to add a stop\")\n                    : _vm.$gettext(\"Hold left click to drag\")\n                ) +\n                \"\\n      \"\n            ),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Right click to edit properties\")\n                    : _vm.$gettext(\"Right click for context menu\")\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglPopup, MglImageLayer, MglGeojsonLayer } from 'vue-mapbox'\nconst $gettext = s => s\n\nexport default {\n  name: 'EditorLinks',\n  components: {\n    MglPopup,\n    MglImageLayer,\n    MglGeojsonLayer,\n  },\n  props: ['map', 'anchorMode'],\n  events: ['clickFeature', 'onHover', 'offHover'],\n  data () {\n    return {\n      selectedFeature: null,\n      hoveredStateId: null,\n      disablePopup: false,\n      keepHovering: false,\n      dragNode: false,\n      popupEditor: {\n        coordinates: [0, 0],\n        showed: false,\n        content: null,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n        type: null, // link of node\n      },\n    }\n  },\n  computed: {\n    anchorNodes () { return this.anchorMode ? this.$store.getters.anchorNodes : this.$store.getters.nodesHeader },\n  },\n\n  watch: {\n\n  },\n  created () {\n  },\n\n  methods: {\n    selectClick (event) {\n      if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        // Emit a click base on layer type (node or link)\n\n        if (this.selectedFeature !== null) {\n          if (this.hoveredStateId.layerId === 'editorLinks') {\n            const action = this.anchorMode ? 'Add Anchor Inline' : 'Add Stop Inline'\n            const click = {\n              selectedFeature: this.selectedFeature,\n              action: action,\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          }\n        }\n      }\n    },\n    onCursor (event) {\n      if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'editorLinks') {\n        this.map.getCanvas().style.cursor = 'pointer'\n        if (this.hoveredStateId !== null) {\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n            { hover: false },\n          )\n        }\n        this.hoveredStateId = { layerId: event.layerId, id: event.mapboxEvent.features[0].id }\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n          { hover: true },\n        )\n        if (!this.disablePopup & !this.anchorMode) {\n          this.popupEditor.coordinates = [event.mapboxEvent.lngLat.lng,\n            event.mapboxEvent.lngLat.lat,\n          ]\n          this.popupEditor.content = this.hoveredStateId.id\n          this.popupEditor.showed = true\n        }\n      }\n      this.$emit('onHover', { selectedId: this.hoveredStateId.id })\n    },\n    offCursor (event) {\n      if (this.hoveredStateId !== null) {\n        // eslint-disable-next-line max-len\n        if (!(['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId) && event?.layerId === 'editorLinks')) {\n          // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n          if (this.keepHovering) {\n            this.dragNode = true\n            this.contextMenu.showed = false\n            // normal behaviours, hovering is false\n          } else {\n            this.map.getCanvas().style.cursor = ''\n            this.popupEditor.showed = false\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n              { hover: false },\n            )\n            this.hoveredStateId = null\n            this.$emit('offHover', event)\n          }\n        }\n      }\n    },\n    contextMenuNode (event) {\n      if (this.popupEditor.showed && this.hoveredStateId?.layerId === 'editorNodes') {\n        this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng,\n          event.mapboxEvent.lngLat.lat,\n        ]\n        this.contextMenu.showed = true\n\n        this.contextMenu.type = 'node'\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.contextMenu.feature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        const selectedNode = this.contextMenu.feature.properties.index\n\n        if (selectedNode === this.$store.getters.firstNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else if (selectedNode === this.$store.getters.lastNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else {\n          this.contextMenu.actions =\n           [\n             $gettext('Edit Node Info'),\n             $gettext('Cut Before Node'),\n             $gettext('Cut After Node'),\n             $gettext('Delete Stop'),\n           ]\n        }\n      } else if (this.hoveredStateId?.layerId === 'anchorNodes') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)\n        const click = {\n          selectedFeature: this.selectedFeature[0],\n          action: 'Delete Anchor',\n          lngLat: null,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.hoveredStateId.layerId === 'editorLinks') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: 'Edit Link Info',\n          lngLat: event.mapboxEvent.lngLat,\n          lingering: true,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    actionClick (event) {\n      const click = {\n        selectedFeature: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n    },\n\n    moveNode (event) {\n      if (event.mapboxEvent.originalEvent.button === 0 &\n      ['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId)) {\n        event.mapboxEvent.preventDefault() // prevent map control\n        this.map.getCanvas().style.cursor = 'grab'\n        // disable mouseLeave so we stay in hover state.\n        this.keepHovering = true\n        // get selected node\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        // disable popup\n        this.disablePopup = true\n        this.popupEditor.showed = false\n        // get position\n        this.map.on('mousemove', this.onMove)\n        this.map.on('mouseup', this.stopMovingNode)\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.map.loaded() && this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorNodes') {\n          click.action = 'Move Anchor'\n          this.$emit('clickFeature', click)\n        } else {\n          click.action = 'Move Node'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n\n    stopMovingNode (event) {\n      // stop tracking position (moving node.)\n      this.map.getCanvas().style.cursor = 'pointer'\n      this.map.off('mousemove', this.onMove)\n      // enable popup and hovering off back. disable Dragmode\n      this.keepHovering = false\n      this.dragNode = false\n      this.disablePopup = false\n      // call offCursor event, if we drag too quickly, it will not be call and the node will stay in hovering mode.\n      this.offCursor()\n      this.map.off('mouseup', this.stopMovingNode)\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.\n    },\n  },\n\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"editorLinks\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorLinks\"\n      :layer=\"{\n        type: 'line',\n        minzoom: 2,\n        paint: {\n          'line-color': ['case', ['boolean', anchorMode, false],$vuetify.theme.currentTheme.linkssecondary, $vuetify.theme.currentTheme.linksprimary],\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 12, 5],\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {contextmenu: linkRightClick}\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n    />\n\n    <MglImageLayer\n      source-id=\"editorLinks\"\n      type=\"symbol\"\n      source=\"editorLinks\"\n      layer-id=\"arrow-layer\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: 5,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 30,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': 0.5,\n          'icon-rotate': 90\n        },\n        paint: {\n          'icon-color': ['case', ['boolean', anchorMode, false], $vuetify.theme.currentTheme.linkssecondary, $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"editorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': $vuetify.theme.currentTheme.accent,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 16, 8],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {click: selectClick, contextmenu: contextMenuNode}\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: anchorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': '#2C3E4E',\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"popupEditor.showed\"\n      :coordinates=\"popupEditor.coordinates\"\n      @close=\"popupEditor.showed=false\"\n    >\n      <span>\n        <h3>{{ popupEditor.content }}</h3>\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Left click to add a stop\"):\n          $gettext(\"Hold left click to drag\") }}\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Right click to edit properties\"):\n          $gettext(\"Right click for context menu\") }}\n      </span>\n    </MglPopup>\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorLinks.vue?vue&type=template&id=4fa4f540&scoped=true&\"\nimport script from \"./EditorLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fa4f540\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rlinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrLinks : _vm.rlinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rlinks\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.3,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"*\",\n                    [\n                      \"case\",\n                      [\"boolean\", [\"feature-state\", \"hover\"], false],\n                      3,\n                      1,\n                    ],\n                    [\n                      \"case\",\n                      [\"has\", \"route_width\"],\n                      [\n                        \"case\",\n                        [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                        [\"to-number\", [\"get\", \"route_width\"]],\n                        2,\n                      ],\n                      2,\n                    ],\n                  ],\n                  \"line-blur\": [\n                    \"*\",\n                    [\n                      \"case\",\n                      [\"boolean\", [\"feature-state\", \"hover\"], false],\n                      1,\n                      0,\n                    ],\n                    [\n                      \"case\",\n                      [\"has\", \"route_width\"],\n                      [\n                        \"case\",\n                        [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                        [\"to-number\", [\"get\", \"route_width\"]],\n                        2,\n                      ],\n                      2,\n                    ],\n                  ],\n                },\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                click: _vm.selectClick,\n                contextmenu: _vm.linkRightClick,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"rlinks\",\n          type: \"symbol\",\n          source: \"rlinks\",\n          \"layer-id\": \"arrow-rlinks\",\n          layer: {\n            type: \"symbol\",\n            minzoom: _vm.minZoom.rendered,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 200,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": [\n                \"*\",\n                [\n                  \"case\",\n                  [\"has\", \"oneway\"],\n                  [\n                    \"case\",\n                    [\"to-boolean\", [\"to-number\", [\"get\", \"oneway\"]]],\n                    0.15,\n                    0,\n                  ],\n                  0.15,\n                ],\n                [\n                  \"case\",\n                  [\"has\", \"route_width\"],\n                  [\n                    \"case\",\n                    [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                    [\"to-number\", [\"get\", \"route_width\"]],\n                    2,\n                  ],\n                  2,\n                ],\n              ],\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"has\", \"route_color\"],\n                [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rnodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrNodes : _vm.rnodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rnodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.rendered,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    _vm.$vuetify.theme.currentTheme.mediumgrey,\n                    _vm.$vuetify.theme.currentTheme.accent,\n                  ],\n                  \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.white,\n                  \"circle-stroke-width\": 1,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    14,\n                    3,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                mousedown: _vm.moveNode,\n                contextmenu: _vm.contextMenuNode,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorrNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.isRoadMode\n              ? _vm.renderedAnchorrNodes\n              : _vm.$store.getters.rnodesHeader,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorrNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: _vm.minZoom.rendered,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.darkgrey,\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable max-len -->\n<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer, MglImageLayer, MglPopup } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nimport booleanContains from '@turf/boolean-contains'\nimport booleanCrosses from '@turf/boolean-crosses'\nimport buffer from '@turf/buffer'\nimport bboxPolygon from '@turf/bbox-polygon'\nconst $gettext = s => s\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n    MglImageLayer,\n    MglPopup,\n  },\n  props: ['map', 'isEditorMode', 'anchorMode', 'isRoadMode'],\n  events: ['clickFeature'],\n\n  data () {\n    return {\n      hoveredStateId: null,\n      visibleNodes: {},\n      visibleLinks: {},\n      disablePopup: false,\n      editorRnodes: {},\n      renderedrLinks: {},\n      renderedrNodes: {},\n      renderedAnchorrNodes: {},\n      bbox: null,\n      minZoom: {\n        links: 2,\n        rendered: 14,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n      },\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.roadsPopupContent },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    rnodes () { return this.$store.getters.visiblerNodes },\n    rlinks () { return this.$store.getters.visiblerLinks },\n    anchorrNodes () {\n      return this.anchorMode ? this.$store.getters.anchorrNodes(this.renderedrLinks) : this.$store.getters.rnodesHeader\n    },\n\n  },\n\n  watch: {\n    anchorMode () { this.getBounds() },\n    selectedrGroup (val) { this.getBounds() },\n    isRoadMode (val) {\n      if (val) {\n        this.map.on('dragend', this.getBounds)\n        this.map.on('zoomend', this.getBounds)\n      } else {\n        this.map.off('dragend', this.getBounds)\n        this.map.off('zoomend', this.getBounds)\n      }\n    },\n\n  },\n  created () {\n    this.renderedrNodes = structuredClone(this.$store.getters.rnodesHeader)\n    this.renderedAnchorrNodes = structuredClone(this.$store.getters.rnodesHeader)\n    this.renderedrLinks = structuredClone(this.$store.getters.rlinksHeader)\n    this.map.on('dragend', this.getBounds)\n    this.map.on('zoomend', this.getBounds)\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    this.map.removeLayer('arrow-rlinks')\n  },\n\n  methods: {\n    getBounds () {\n      // get map bounds and return only the features inside of it.\n      // this way, only the visible links and node are rendered and updating is fast\n      // (i.e. moving a node in real time)\n      // note only line inside the bbox (buffured) are visible.\n      const bounds = this.map.getBounds()\n      // create a BBOX with a 800m buffer\n      this.bbox = buffer(bboxPolygon([bounds._sw.lng, bounds._sw.lat, bounds._ne.lng, bounds._ne.lat]), 0.2)\n      // only get the geojson if the zoom level is bigger than the min.\n      // if not, getting all anchorpoint would be very intensive!!\n      // this way, only a small number of anchor points are computed\n      if (this.map.getZoom() > this.minZoom.rendered) {\n        // get links in or intersecting with bbox\n        this.renderedrLinks.features = this.rlinks.features.filter(\n          link => (booleanContains(this.bbox, link) || booleanCrosses(this.bbox, link)))\n        // get rendered nodes\n        const a = this.renderedrLinks.features.map(item => item.properties.a)\n        const b = this.renderedrLinks.features.map(item => item.properties.b)\n        const rNodesList = new Set([...a, ...b])\n        // filter with rnodesList\n        this.renderedrNodes.features = this.rnodes.features.filter(node => rNodesList.has(node.properties.index))\n        this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node => booleanContains(this.bbox, node))\n      } else if (this.map.getZoom() > this.minZoom.links) {\n        // ion this case. nodes are unloaded. we display links.\n        this.renderedrLinks.features = this.rlinks.features\n        this.renderedrNodes.features = []\n        this.renderedAnchorrNodes.features = []\n      } else {\n        this.renderedrLinks.features = []\n        this.renderedrNodes.features = []\n        this.renderedAnchorrNodes.features = []\n      }\n    },\n    onCursor (event) {\n      if (this.isRoadMode) {\n        if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n        if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'rlinks') {\n          if (!this.disablePopup && this.selectedPopupContent.length > 0) {\n            const selectedFeature = event.mapboxEvent.features[0]\n            if (selectedFeature.layer.id !== 'rnodes') {\n              let htmlContent = this.selectedPopupContent.map(prop => `${prop}: <b>${selectedFeature.properties[prop]}</b>`)\n              htmlContent = htmlContent.join('<br> ')\n              this.popup = new mapboxgl.Popup({ closeButton: false })\n                .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n                .setHTML(htmlContent)\n                .addTo(event.map)\n            }\n          }\n          this.map.getCanvas().style.cursor = 'pointer'\n          if (this.hoveredStateId !== null) {\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n              { hover: false },\n            )\n          }\n          // get a list of all overID. if there is multiple superposed link get all of them!\n          const uniqueArray = [...new Set(event.mapboxEvent.features.map(item => item.id))]\n          this.hoveredStateId = { layerId: event.layerId, id: uniqueArray }\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n            { hover: true },\n          )\n\n          this.$emit('onHover', { layerId: this.hoveredStateId.layerId, selectedId: this.hoveredStateId.id })\n        }\n      }\n    },\n\n    offCursor (event) {\n      if (this.isRoadMode) {\n      // todo: error warning is throw sometime when we move a node over another node or anchor.\n        if (this.popup?.isOpen()) this.popup.remove()\n        if (this.hoveredStateId !== null) {\n          // eslint-disable-next-line max-len\n          if (!(['rnodes', 'anchorrNodes'].includes(this.hoveredStateId?.layerId) && event?.layerId === 'rlinks')) {\n            // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n            if (this.keepHovering) {\n              this.dragNode = true\n              // normal behaviours, hovering is false\n            } else {\n              this.map.getCanvas().style.cursor = ''\n              this.map.setFeatureState(\n                { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n                { hover: false },\n              )\n              this.hoveredStateId = null\n              this.$emit('offHover', event)\n            }\n          }\n        }\n      }\n    },\n\n    selectClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        // const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        // this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          this.selectedFeature = this.hoveredStateId.id\n          // Emit a click base on layer type (node or link)\n\n          if (this.selectedFeature !== null) {\n            if (this.hoveredStateId.layerId === 'rlinks') {\n              const action = this.anchorMode ? 'Add Road Anchor Inline' : 'Add Road Node Inline'\n              const click = {\n                selectedIndex: this.selectedFeature,\n                action: action,\n                lngLat: event.mapboxEvent.lngLat,\n              }\n              this.$emit('clickFeature', click)\n              this.getBounds()\n            }\n          }\n        }\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId.layerId === 'rlinks') {\n          this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat]\n          this.contextMenu.showed = true\n          this.contextMenu.feature = this.hoveredStateId.id\n          this.contextMenu.actions =\n          [\n            $gettext('Edit rLink Info'),\n            $gettext('Delete rLink'),\n          ]\n        }\n      }\n    },\n    actionClick (event) {\n      const click = {\n        selectedIndex: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n      this.getBounds()\n    },\n\n    contextMenuNode (event) {\n      if (this.isRoadMode) {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => this.hoveredStateId.id.includes(item.id))\n\n        if (this.selectedFeature.length > 0) {\n          if (this.hoveredStateId?.layerId === 'rnodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Edit rNode Info',\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          } else if (this.hoveredStateId?.layerId === 'anchorrNodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Delete Road Anchor',\n              lngLat: null,\n            }\n            this.$emit('clickFeature', click)\n            this.getBounds()\n          }\n        }\n      }\n    },\n\n    moveNode (event) {\n      if (this.isRoadMode) {\n        if (event.mapboxEvent.originalEvent.button === 0 &\n      ['rnodes', 'anchorrNodes'].includes(this.hoveredStateId.layerId)) {\n          event.mapboxEvent.preventDefault() // prevent map control\n          this.map.getCanvas().style.cursor = 'grab'\n          // disable mouseLeave so we stay in hover state.\n          this.keepHovering = true\n          // get selected node\n          const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n          this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          // disable popup\n          this.disablePopup = true\n          if (this.hoveredStateId.layerId === 'rnodes') {\n            this.$store.commit('getConnectedLinks', { selectedNode: this.selectedFeature })\n          }\n          // get position\n          this.map.on('mousemove', this.onMove)\n          this.map.on('mouseup', this.stopMovingNode)\n        }\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorrNodes') {\n          click.action = 'Move rAnchor'\n          this.$emit('clickFeature', click)\n          // rerender the anchor as they are getter and are not directly modified by the moverAnchor mutation.\n          this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node =>\n            booleanContains(this.bbox, node))\n        } else {\n          click.action = 'Move rNode'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n    stopMovingNode (event) {\n      if (this.isRoadMode) {\n        // stop tracking position (moving node.)\n        this.map.getCanvas().style.cursor = 'pointer'\n        this.map.off('mousemove', this.onMove)\n        // enable popup and hovering off back. disable Dragmode\n        this.keepHovering = false\n        this.dragNode = false\n        this.disablePopup = false\n        // if we drag too quickly, offcursor it will not be call and the node will stay in hovering mode.\n        // calling offscursor will break the sticky node drawlink behaviour, so we only make its state back to hover-false\n        this.map.getCanvas().style.cursor = ''\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n          { hover: false },\n        )\n        this.hoveredStateId = null\n        this.map.off('mouseup', this.stopMovingNode)\n\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.}\n      }\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"rlinks\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrLinks : rlinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rlinks\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.3, 1],\n          'line-width': ['*',['case', ['boolean', ['feature-state', 'hover'], false], 3, 1],\n                         ['case', ['has', 'route_width'],\n                          ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                           ['to-number', ['get', 'route_width']],\n                           2], 2]],\n          'line-blur': ['*',['case', ['boolean', ['feature-state', 'hover'], false], 1, 0],\n                        ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          2], 2]],\n        },\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n        }\n\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   click: selectClick,\n                                   contextmenu: linkRightClick }\"\n    />\n    <MglImageLayer\n      source-id=\"rlinks\"\n      type=\"symbol\"\n      source=\"rlinks\"\n      layer-id=\"arrow-rlinks\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.rendered,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ['*',['case', ['has', 'oneway'],\n                             ['case',['to-boolean',['to-number',['get','oneway']]],0.15, 0],\n                             0.15], ['case', ['has', 'route_width'],\n                                     ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                                      ['to-number', ['get', 'route_width']],\n                                      2], 2]],\n          'icon-rotate': 90,\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"rnodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrNodes:rnodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rnodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.rendered,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false], $vuetify.theme.currentTheme.mediumgrey, $vuetify.theme.currentTheme.accent],\n          'circle-stroke-color': $vuetify.theme.currentTheme.white,\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 14, 3],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        },\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   mousedown: moveNode,\n                                   contextmenu:contextMenuNode }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorrNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedAnchorrNodes: $store.getters.rnodesHeader,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorrNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.rendered,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': $vuetify.theme.currentTheme.darkgrey,\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoadLinks.vue?vue&type=template&id=c96a4fd8&scoped=true&\"\nimport script from \"./RoadLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c96a4fd8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      [\"MultiPolygon\", \"Polygon\"].includes(_vm.type)\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.fileName,\n              source: {\n                type: \"geojson\",\n                data: _vm.url,\n              },\n              \"layer-id\": _vm.fileName,\n              layer: {\n                interactive: false,\n                type: \"fill\",\n                minzoom: 5,\n                paint: {\n                  \"fill-color\": [\"get\", \"display_color\"],\n                  \"fill-opacity\": [\n                    \"case\",\n                    [\"has\", \"display_opacity\"],\n                    [\"get\", \"display_opacity\"],\n                    0.5,\n                  ],\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.type == \"LineString\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.fileName,\n              source: {\n                type: \"geojson\",\n                data: _vm.url,\n              },\n              \"layer-id\": _vm.fileName,\n              layer: {\n                interactive: false,\n                type: \"line\",\n                minzoom: 5,\n                paint: {\n                  \"line-color\": [\"get\", \"display_color\"],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"has\", \"display_opacity\"],\n                    [\"get\", \"display_opacity\"],\n                    0.8,\n                  ],\n                  \"line-width\": [\"get\", \"display_width\"],\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.type == \"Point\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": _vm.fileName,\n              source: {\n                type: \"geojson\",\n                data: _vm.url,\n              },\n              \"layer-id\": _vm.fileName,\n              layer: {\n                interactive: false,\n                type: \"circle\",\n                minzoom: 5,\n                paint: {\n                  \"circle-color\": [\"get\", \"display_color\"],\n                  \"circle-radius\": [\"get\", \"display_width\"],\n                  \"circle-opacity\": [\n                    \"case\",\n                    [\"has\", \"display_opacity\"],\n                    [\"get\", \"display_opacity\"],\n                    0.5,\n                  ],\n                },\n              },\n            },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglGeojsonLayer } from 'vue-mapbox'\nimport s3 from '../../AWSClient'\n// set visibility. to render or not by fetching the data.\n// we need to create all the statics link (even without the data)\n// for the correct z-order. if not, they are drawn over the links.\nexport default {\n  name: 'StaticLayer',\n  components: {\n    MglGeojsonLayer,\n  },\n  props: ['fileName', 'type', 'visible'],\n  data () {\n    return {\n      url: '',\n\n    }\n  },\n  watch: {\n    async visible (val) {\n      if (val) {\n        const url = await s3.getImagesURL(this.$store.getters.model, this.fileName)\n        this.url = url\n      } else {\n        this.url = structuredClone(this.$store.getters.linksHeader)\n      }\n    },\n  },\n  created () {\n    // init data to empty geojson to load the mapbox layer\n    this.url = structuredClone(this.$store.getters.linksHeader)\n  },\n  async mounted () {\n    // if selected when loading the map, fetch the data to display the correct geojson.\n    if (this.visible) {\n      const url = await s3.getImagesURL(this.$store.getters.model, this.fileName)\n      this.url = url\n    }\n  },\n\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      v-if=\"['MultiPolygon', 'Polygon'].includes(type)\"\n      :source-id=\"fileName\"\n      :source=\"{\n        type: 'geojson',\n        data: url,\n      }\"\n      :layer-id=\"fileName\"\n      :layer=\"{\n        interactive: false,\n        type: 'fill',\n        minzoom: 5,\n        'paint': {\n          'fill-color': ['get', 'display_color'],\n          'fill-opacity':['case', ['has', 'display_opacity'], ['get', 'display_opacity'], 0.5],\n\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"type=='LineString'\"\n      :source-id=\"fileName\"\n      :source=\"{\n        type: 'geojson',\n        data: url,\n      }\"\n      :layer-id=\"fileName\"\n      :layer=\"{\n        interactive: false,\n        type: 'line',\n        minzoom: 5,\n        'paint': {\n          'line-color': ['get', 'display_color'],\n          'line-opacity':['case', ['has', 'display_opacity'], ['get', 'display_opacity'], 0.8],\n          'line-width': ['get', 'display_width'],\n\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"type == 'Point'\"\n      :source-id=\"fileName\"\n      :source=\"{\n        type: 'geojson',\n        data: url,\n      }\"\n      :layer-id=\"fileName\"\n      :layer=\"{\n        interactive: false,\n        type: 'circle',\n        minzoom: 5,\n        paint: {\n          'circle-color': ['get', 'display_color'],\n          'circle-radius': ['get', 'display_width'],\n          'circle-opacity':['case', ['has', 'display_opacity'], ['get', 'display_opacity'], 0.5],\n        },\n      }\"\n    />\n  </section>\n</template>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaticLayer.vue?vue&type=template&id=62115073&scoped=true&\"\nimport script from \"./StaticLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticLayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62115073\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-menu\",\n        {\n          attrs: {\n            \"close-on-content-click\": false,\n            \"close-on-click\": true,\n            origin: \"top right\",\n            transition: \"scale-transition\",\n            \"position-y\": 30,\n            \"nudge-width\": 200,\n            \"offset-x\": \"\",\n            \"offset-y\": \"\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"activator\",\n              fn: function ({ on, attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        {\n                          staticClass: \"layer-button\",\n                          attrs: { fab: \"\", small: \"\" },\n                        },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                        _vm._v(\"\\n          fas fa-layer-group\\n        \"),\n                      ]),\n                    ],\n                    1\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.show,\n            callback: function ($$v) {\n              _vm.show = $$v\n            },\n            expression: \"show\",\n          },\n        },\n        [\n          _vm._v(\" \"),\n          _c(\n            \"v-card\",\n            { attrs: { \"max-width\": 300 } },\n            [\n              _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Static Layers\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _vm._l(_vm.choices, function (item, key) {\n                return _c(\n                  \"v-list-item\",\n                  { key: key },\n                  [\n                    _c(\"v-checkbox\", {\n                      attrs: { value: item, label: _vm.parsePath(item) },\n                      model: {\n                        value: _vm.selectedLayers,\n                        callback: function ($$v) {\n                          _vm.selectedLayers = $$v\n                        },\n                        expression: \"selectedLayers\",\n                      },\n                    }),\n                  ],\n                  1\n                )\n              }),\n            ],\n            2\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'LayerSelector',\n  components: {\n  },\n  props: {\n    choices: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data () {\n    return {\n      show: false,\n      selectedLayers: [],\n      selectedOpacity: 0,\n\n    }\n  },\n  watch: {\n    selectedLayers (val) {\n      const resp = []\n      val.forEach(item => resp.push({ name: item, opacity: 0.5 }))\n      this.$store.commit('setRasterLayers', val)\n    },\n  },\n  mounted () {\n    this.selectedLayers = this.$store.getters.rasterLayers\n  },\n\n  methods: {\n    parsePath (path) { return path.split('/').splice(-1)[0].slice(0, -8) },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <v-menu\n      v-model=\"show\"\n      :close-on-content-click=\"false\"\n      :close-on-click=\"true\"\n      :origin=\"'top right'\"\n      transition=\"scale-transition\"\n      :position-y=\"30\"\n      :nudge-width=\"200\"\n      offset-x\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          class=\"layer-button\"\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            color=\"regular\"\n          >\n            fas fa-layer-group\n          </v-icon>\n        </v-btn>\n      </template>\n      <v-card\n        :max-width=\"300\"\n      >\n        <v-card-title class=\"subtitle\">\n          {{ $gettext('Static Layers') }}\n        </v-card-title>\n        <v-list-item\n          v-for=\"(item,key) in choices\"\n          :key=\"key\"\n        >\n          <v-checkbox\n            v-model=\"selectedLayers\"\n            :value=\"item\"\n            :label=\"parsePath(item)\"\n          />\n        </v-list-item>\n      </v-card>\n    </v-menu>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layer-button {\n  position: absolute;\n  top: 60px;\n  right: 20px;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.subtitle {\n  font-size: 1.5em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=style&index=0&id=1a6c8be4&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerSelector.vue?vue&type=style&index=0&id=1a6c8be4&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LayerSelector.vue?vue&type=template&id=1a6c8be4&scoped=true&\"\nimport script from \"./LayerSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./LayerSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayerSelector.vue?vue&type=style&index=0&id=1a6c8be4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a6c8be4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","<script>\nimport Mapbox from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer } from 'vue-mapbox'\nimport arrowImage from '@static/arrow.png'\nimport Linestring from 'turf-linestring'\nimport Settings from './Settings.vue'\nimport StaticLinks from './StaticLinks.vue'\nimport EditorLinks from './EditorLinks.vue'\nimport RoadLinks from './RoadLinks.vue'\nimport StaticLayer from './utils/StaticLayer.vue'\nimport LayerSelector from './utils/LayerSelector.vue'\n\nconst mapboxPublicKey = process.env.VUE_APP_MAPBOX_PUBLIC_KEY\n// Filter links from selected line\nconst $gettext = s => s\n\nexport default {\n  name: 'Map',\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    LayerSelector,\n    StaticLayer,\n    StaticLinks,\n    EditorLinks,\n    RoadLinks,\n    Settings,\n  },\n  props: {\n    selectedTrips: {\n      type: Array,\n      default: () => [],\n    },\n    isRoadMode: {\n      type: Boolean,\n      default: false,\n    },\n\n  },\n  events: ['clickFeature'],\n  data () {\n    return {\n      mapboxPublicKey: null,\n      selectedFeature: null,\n      isEditorMode: false,\n      mapIsLoaded: false,\n      drawMode: false,\n      hoverId: null,\n      hoverLayer: null,\n      mapDiv: null,\n      drawLink: null,\n      mouseout: false,\n      selectedNode: { id: null, layerId: null },\n      connectedDrawLink: false,\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    showLeftPanel () {\n      return this.$store.getters.showLeftPanel\n    },\n    editorTrip () {\n      return this.$store.getters.editorTrip\n    },\n    editorNodes () {\n      return this.$store.getters.editorNodes\n    },\n    firstNode () {\n      return this.$store.getters.firstNode\n    },\n    lastNode () {\n      return this.$store.getters.lastNode\n    },\n    anchorMode () { return this.$store.getters.anchorMode },\n    rasterLayers () { return this.$store.getters.rasterLayers },\n    rasterFiles () { return this.$store.getters.rasterFiles },\n  },\n  watch: {\n\n    showLeftPanel () {\n      setTimeout(() => this.map.resize(), 250)\n    },\n    anchorMode (val) {\n      if (val) {\n        this.drawMode = false\n        this.$store.commit('changeNotification',\n          { text: $gettext('Left click to add an anchor point, right click to delete'), autoClose: false })\n      } else {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    isRoadMode (val) {\n      if (!val) {\n        this.drawMode = false\n      }\n    },\n    mapStyle (val) {\n      this.saveMapPosition()\n    },\n\n    editorNodes (newVal, oldVal) {\n      this.$store.commit('setAnchorMode', false)\n      this.isEditorMode = (newVal.features.length > 0)\n      if (this.isEditorMode) {\n        if (this.$store.getters.changeBounds) {\n          const bounds = new Mapbox.LngLatBounds()\n          newVal.features.forEach(node => {\n            bounds.extend(node.geometry.coordinates)\n          })\n          this.map.fitBounds(bounds, {\n            padding: 100,\n          })\n        }\n      }\n    },\n\n    drawMode (val) {\n      // set layer visible if drawMode is true\n      // check if layer exist. will bug if it is check befere rendering the layer\n      if (this.map?.getStyle().layers.filter(layer => layer.id === 'drawLink').length > 0) {\n        if (val) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        } else {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n        }\n      }\n    },\n\n    editorTrip (val) {\n      if (val) {\n        this.isEditorMode = true\n        this.connectedDrawLink = false\n      }\n    },\n    isEditorMode (val) {\n      // check if map is loaded too, there is a bug if not, when component is laoded in edition mode (changing page).\n      if (val && this.editorNodes.features.length > 0 && !this.anchorMode && this.mapIsLoaded) {\n        this.drawMode = true\n      } else {\n        this.drawMode = false\n      }// remove drawmode if we quit edition mode.\n      if (!val & this.drawMode) {\n        this.drawMode = false\n      }\n    },\n    // when the first or last node change (delete or new) change the value of those nodes.\n    'firstNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.firstNode.properties.index\n      }\n    },\n    'lastNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.lastNode.properties.index\n      }\n    },\n  },\n  created () {\n    if (this.editorTrip) { this.isEditorMode = true }\n    this.mapboxPublicKey = mapboxPublicKey\n    this.drawLink = structuredClone(this.$store.getters.linksHeader)\n  },\n  beforeDestroy () {\n    this.saveMapPosition()\n  },\n\n  methods: {\n    saveMapPosition () {\n      const center = this.map.getCenter()\n      this.$store.commit('saveMapPosition', {\n        mapCenter: [center.lng, center.lat],\n        mapZoom: this.map.getZoom(),\n      })\n    },\n    onMapLoaded (event) {\n      if (this.map) this.mapIsLoaded = false\n      const bounds = new Mapbox.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      if (this.$store.getters.links.features.length > 0) {\n        this.$store.getters.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      } else {\n        this.$store.getters.rlinks.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      }\n\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n\n    draw (event) {\n      // do not update position on connected link, this makes the node sticky\n      if (!this.connectedDrawLink) {\n        // there is no mousein event, so if drawlink was put nonvisible by mouseout, we cancel here.\n        if (this.drawMode && this.mouseout) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n          this.mouseout = false\n        }\n        if (this.drawMode && !this.anchorMode) {\n        // update draw line with new geometry.\n          const geometry = [this.drawLink.geometry.coordinates[0], Object.values(event.mapboxEvent.lngLat)]\n          this.drawLink = Linestring(geometry)\n        }\n      }\n    },\n    addPoint (event) {\n      if (this.drawMode) {\n        if (this.selectedNode.layerId === 'rnodes') {\n          const pointGeom = Object.values(event.mapboxEvent.lngLat)\n          const payload = {\n            nodeIdA: this.selectedNode.id,\n            nodeIdB: this.hoverId, // could be null, a node or a link.\n            geom: pointGeom,\n            layerId: this.hoverLayer,\n          }\n          // this action overwrite payload.nodeIdB to the actual newLink nodeB.\n          this.$store.commit('createrLink', payload)\n          this.drawMode = false\n          // then, create a hover (and off hover) to the new node b to continue drawing\n          this.onHoverRoad({ layerId: 'rnodes', selectedId: [payload.nodeIdB] })\n          this.offHover()\n\n          // onHoverRoad (event)\n          this.$refs.roadref.getBounds()\n        } else { // PT nodes\n          if (this.drawMode & !this.anchorMode & !this.hoverId) {\n            const action = (this.selectedNode.id === this.$store.getters.lastNodeId)\n              ? 'Extend Line Upward'\n              : 'Extend Line Downward'\n            const pointGeom = Object.values(event.mapboxEvent.lngLat)\n\n            this.$store.commit('applyNewLink', { nodeId: this.selectedNode.id, geom: pointGeom, action: action })\n          }\n        }\n      } else {\n        // for a new Line\n        if (this.editorNodes.features.length === 0 && this.editorTrip) {\n          this.$store.commit('createNewNode', Object.values(event.mapboxEvent.lngLat))\n          this.$store.commit('changeNotification', { text: '', autoClose: true })\n        }\n      }\n    },\n    resetDraw (event) {\n      // reset draw line when we leave the map.\n      // there is no mouseIn event, so we track it with mouseout = true, and reapply visible on mousemove.\n      if (this.drawMode) {\n        this.mouseout = true\n        this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n      }\n    },\n\n    rightClickMap (event) {\n      // remove drawmode when we right click on map\n      if (event.mapboxEvent.originalEvent.button === 2 & !this.hoverId) {\n        this.drawMode = false\n      }\n    },\n    onHover (event) {\n      // no drawing when we hover on link or node\n      this.hoverId = event.selectedId\n      if (this.drawMode) { this.map.setLayoutProperty('drawLink', 'visibility', 'none') }\n      // change hook when we hover first or last node.\n      if ([this.$store.getters.lastNodeId, this.$store.getters.firstNodeId].includes(this.hoverId)) {\n        const node = this.$store.getters.editorNodes.features.filter(node =>\n          node.properties.index === event.selectedId)\n        this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n        this.selectedNode.id = this.hoverId\n        this.selectedNode.layerId = event.layerId\n\n        this.drawMode = true\n      }\n    },\n    onHoverRoad (event) {\n      if (event?.layerId === 'rnodes') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId[0]\n        if (this.drawMode) {\n          // nodes are sticky. drawlink change size and style\n          this.connectedDrawLink = true\n        } else {\n          this.connectedDrawLink = false\n          const node = this.$store.getters.visiblerNodes.features.filter(node =>\n            node.properties.index === this.hoverId)\n          this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n          this.drawMode = true\n          this.connectedDrawLink = false\n          this.selectedNode.id = this.hoverId\n          this.selectedNode.layerId = this.hoverLayer\n        }\n      } else if (event?.layerId === 'rlinks') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId\n      }\n    },\n    offHover (event) {\n      // put back visible draw line\n      this.hoverId = null\n      this.hoverLayer = null\n      if (this.drawMode) {\n        this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        this.connectedDrawLink = false\n      }\n    },\n    clickFeature (event) {\n      // when we move a rNode, we need to update drawlink as it is link to this moved node.\n      if (['Move rNode', 'Delete rLink'].includes(event.action)) {\n        this.drawMode = false\n        // this.drawLink = Linestring([event.lngLat, event.lngLat])\n      }\n      // prevent emitting add road node inline when drawmode is on.\n      // we will add the node inlne and create the new link in this component.\n      if (!(event.action === 'Add Road Node Inline' && this.drawMode)) {\n        this.$emit('clickFeature', event)\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <MglMap\n    :key=\"mapStyle\"\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    :map-style=\"mapStyle\"\n    :center=\"$store.getters.mapCenter\"\n    :zoom=\"$store.getters.mapZoom\"\n    @load=\"onMapLoaded\"\n    @mousemove=\"draw\"\n    @mouseout=\"resetDraw()\"\n    @click=\"addPoint\"\n    @mouseup=\"rightClickMap\"\n  >\n    <template v-if=\"mapIsLoaded\">\n      <Settings />\n    </template>\n    <template v-if=\"mapIsLoaded & rasterFiles.length>0\">\n      <LayerSelector :choices=\"rasterFiles.map(item=>item.name)\" />\n    </template>\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n    <div\n      v-for=\"file in rasterFiles\"\n      :key=\"file.name\"\n    >\n      <template v-if=\"mapIsLoaded\">\n        <StaticLayer\n          :file-name=\"file.name\"\n          :type=\"file.type\"\n          :visible=\"rasterLayers.includes(file.name)\"\n        />\n      </template>\n    </div>\n\n    <template v-if=\"mapIsLoaded\">\n      <RoadLinks\n        ref=\"roadref\"\n        :map=\"map\"\n        :is-editor-mode=\"isEditorMode\"\n        :is-road-mode=\"isRoadMode\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"(isEditorMode)? {} : anchorMode ? {clickFeature: clickFeature } : {onHover:onHoverRoad, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <StaticLinks\n        :map=\"map\"\n        :showed-trips=\"selectedTrips\"\n        :is-editor-mode=\"isEditorMode\"\n        @rightClick=\"(e) => $emit('clickFeature',e)\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <EditorLinks\n        :map=\"map\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"anchorMode ? {clickFeature: clickFeature } : {onHover:onHover, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <MglGeojsonLayer\n        v-if=\"drawMode\"\n        source-id=\"drawLink\"\n        :source=\"{\n          type: 'geojson',\n          data:drawLink,\n          buffer: 0,\n          generateId: true,\n        }\"\n        layer-id=\"drawLink\"\n        :layer=\"{\n          type: 'line',\n          minzoom: 2,\n          paint: {\n            'line-opacity': 1,\n            'line-color': $vuetify.theme.currentTheme.linksprimary,\n            'line-width': ['case', ['boolean', connectedDrawLink, false], 5, 3],\n            'line-dasharray':['case', ['boolean', connectedDrawLink, false],['literal', []] , ['literal', [0, 2, 4]]],\n\n          }\n        }\"\n      />\n    </template>\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  width: 100%;\n\n}\n.my-custom-dialog {\n  position: absolute !important;\n  top: 10px !important;\n  right: 20px !important;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=44df042a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=44df042a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=44df042a&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=44df042a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44df042a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        top: \"\",\n        \"nudge-bottom\": \"105\",\n        \"nudge-left\": \"16\",\n        \"close-on-content-click\": false,\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on }) {\n            return [_c(\"div\", _vm._g({ style: _vm.swatchStyle }, on))]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.menu,\n        callback: function ($$v) {\n          _vm.menu = $$v\n        },\n        expression: \"menu\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        [\n          _c(\n            \"v-card-text\",\n            { staticClass: \"pa-0\" },\n            [\n              _c(\"v-color-picker\", {\n                attrs: {\n                  mode: \"hexa\",\n                  swatches: _vm.swatches,\n                  \"show-swatches\": \"\",\n                  flat: \"\",\n                },\n                model: {\n                  value: _vm.color,\n                  callback: function ($$v) {\n                    _vm.color = $$v\n                  },\n                  expression: \"color\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", outlined: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", outlined: \"\" },\n                  on: { click: _vm.updateColor },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"apply\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'ColorPicker',\n  components: {\n\n  },\n  model: {\n    prop: 'pcolor',\n    event: 'update-color',\n  },\n  props: ['pcolor'],\n  events: ['update-color'],\n  data () {\n    return {\n      color: '$primary',\n      menu: false,\n      swatches: [],\n\n    }\n  },\n  computed: {\n    swatchStyle () {\n      const { color, menu } = this\n\n      return {\n        'backgroundColor': color,\n        'border-style': 'solid',\n        'border-width': '1px',\n        'border-color': '#868686',\n        'cursor': 'pointer',\n        'height': '20px',\n        'width': '20px',\n        'borderRadius': menu ? '50%' : '4px',\n        'transition': 'border-radius 200ms ease-in-out',\n      }\n    },\n  },\n  watch: {\n    // this only happen when we type a value.\n    pcolor (val) {\n      if (this.pcolor[0] !== '#') {\n        this.color = '#'.concat(this.pcolor)\n        this.$emit('update-color', this.pcolor.slice(0, 6))\n      }\n      if (this.pcolor[0] === '#') {\n        this.$emit('update-color', this.pcolor.slice(1, 7))\n      }\n    },\n\n  },\n\n  mounted () {\n    // get chart color and create a 2x4 Swatch for quick color selection.\n    const keys = Object.keys(this.$vuetify.theme.currentTheme.chart)\n    let tempArr = []\n    // eslint-disable-next-line array-callback-return\n    keys.map((key) => {\n      tempArr.push(this.$vuetify.theme.currentTheme.chart[key])\n      if (tempArr.length === 2) {\n        this.swatches.push(tempArr)\n        tempArr = []\n      }\n    })\n\n    // if it is null, do nothing, just put the blue color on the selection square.\n    if ([null, undefined, ''].includes(this.pcolor)) {\n      this.color = this.$vuetify.theme.currentTheme.chart.lightblue\n      // this.$emit('update-color', this.color.slice(1))\n    // the input color never start with #, must add it for this component only (on local var this.color)\n    } else if (this.pcolor[0] !== '#') {\n      this.color = '#'.concat(this.pcolor)\n    // it start with #, leave it as is (this should and will never be the case.)\n    } else {\n      this.color = this.pcolor\n    }\n  },\n\n  methods: {\n    // this method is call when we select a color, the # is remove and pcolor is updated.\n    updateColor () {\n      this.$emit('update-color', this.color)\n\n      this.menu = false\n    },\n    cancel () {\n      this.color = this.pcolor\n      this.menu = false\n    },\n  },\n}\n</script>\n<template\n  v-slot:append\n>\n  <v-menu\n    v-model=\"menu\"\n    top\n    nudge-bottom=\"105\"\n    nudge-left=\"16\"\n    :close-on-content-click=\"false\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <div\n        :style=\"swatchStyle\"\n        v-on=\"on\"\n      />\n    </template>\n    <v-card>\n      <v-card-text\n        class=\"pa-0\"\n      >\n        <v-color-picker\n          v-model=\"color\"\n          mode=\"hexa\"\n          :swatches=\"swatches\"\n          show-swatches\n          flat\n        />\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn\n          color=\"grey\"\n          outlined\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"cancel\") }}\n        </v-btn>\n        <v-btn\n          color=\"green darken-1\"\n          outlined\n          @click=\"updateColor\"\n        >\n          {{ $gettext(\"apply\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","<!-- eslint-disable no-multi-str -->\n<!-- eslint-disable no-return-assign -->\n<script>\nimport SidePanel from '../components/SidePanel.vue'\nimport Map from '../components/Map.vue'\nimport ColorPicker from '../components/utils/ColorPicker.vue'\nimport { getGroupForm } from '../components/utils/utils.js'\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nexport default {\n  name: 'Home',\n  components: {\n    Map,\n    SidePanel,\n    ColorPicker,\n  },\n  data () {\n    return {\n      editorTrip: null,\n      action: null,\n      selectedNode: null,\n      selectedLink: null,\n      selectedIndex: null,\n      showDialog: false,\n      cloneDialog: false,\n      editorForm: {},\n      cursorPosition: [],\n      tripToDelete: null,\n      tripToClone: null,\n      message: '',\n      cloneName: null,\n      errorMessage: null,\n      lingering: true,\n      groupTripIds: [],\n      isRoadMode: false,\n      showHint: false,\n      showDeleteOption: false,\n      newFieldName: null,\n      linkDir: [],\n      rules: {\n        newField: [\n          val => !Object.keys(this.editorForm).includes(val) || $gettext('field already exist'),\n          val => val !== '' || $gettext('cannot add empty field'),\n        ],\n      },\n\n      hints: {\n        agency_id: $gettext('transit brand or transit agency'),\n        direction_id: $gettext(`direction of travel for a trip. used to separate trips by directions.\n         ex: 0 - Travel in one direction. 1 - Travel in the opposite direction.`),\n        drop_off_type: $gettext(`0 - Regularly scheduled drop off.\n        1 - No drop off available.\n        2 - Must phone agency to arrange drop off.\n        3 - Must coordinate with driver to arrange drop off.`),\n        headway: $gettext('Time between departures in seconds'),\n        pickup_type: $gettext(`0 - Regularly scheduled pickup.\n        1 - No pickup available.\n        2 - Must phone agency to arrange pickup.\n        3 - Must coordinate with driver to arrange pickup`),\n        route_color: $gettext('color to display on the map (i.e. FFFFFF)'),\n        route_id: $gettext('Identifies a route. Often a string'),\n        route_long_name: $gettext(\"Full name of a route.This name is generally more descriptive\\\n         than the route_short_name and often includes the roudefaultAttributeste's destination or stop\"),\n        route_short_name: $gettext(`Short name of a route. This will often be a short,\n         abstract identifier like \"32\", \"100X\", or \"Green\"`),\n        route_type: $gettext(`Indicates the type of transportation used on a route.\n         subway, metro, rail, bus, ferry, tram, etc`),\n        route_width: $gettext('width to display on the map'),\n        time: $gettext('Travel time on the link. set as length / speed when a link is created or edited (seconds)'),\n        trip_id: $gettext(`Line (or trip) identifier (i.e. 100 Est).\n         Links are group by trip_id in Quetzal-network-editor.`),\n        length: $gettext('links geometry linestring length (meters)'),\n        highway: $gettext('Main identifier or any kind of road, street or path. ex: (motorway, residential, primary)'),\n        speed: $gettext('speed on the link (Km/h)'),\n\n      },\n\n    }\n  },\n  computed: {\n    selectedTrips () { return this.$store.getters.selectedTrips },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    numLinks () { return Array.isArray(this.editorForm) ? this.editorForm.length : 1 },\n\n    editForm () {\n      return ['Edit Line Info',\n        'Edit Link Info',\n        'Edit Node Info',\n        'Edit Group Info',\n        'Edit rLink Info',\n        'Edit Road Group Info',\n        'Edit Visible Road Info',\n        'Edit rNode Info'].includes(this.action)\n    },\n  },\n  watch: {\n    showDialog (val) {\n      // do not show a notification when dialog is on. sometim its over the confirm button\n      if (val) { this.$store.commit('changeNotification', { text: '', autoClose: true }) }\n      this.showHint = false\n      this.showDeleteOption = false\n    },\n\n  },\n  created () {\n    this.editorTrip = this.$store.getters.editorTrip\n    window.addEventListener('keydown', (e) => {\n      if ((e.key === 'Control') && (!this.showDialog) && (!this.cloneDialog)) {\n        this.$store.commit('changeAnchorMode')\n      }\n    })\n  },\n\n  methods: {\n    orderedForm (index) {\n      // order editor Form in alphatical order\n      let form = this.editorForm\n      // if we have tab. there is a list of form\n      if (form.length >= 1) {\n        form = form[index]\n      }\n      // order keys in alphabetical order, and with disabled last\n      const keys = Object.keys(form).filter(key => !form[key].disabled).sort()\n      keys.push(...Object.keys(form).filter(key => form[key].disabled).sort())\n      const ordered = keys.reduce(\n        (obj, key) => {\n          obj[key] = form[key]\n          return obj\n        },\n        {},\n      )\n      return ordered\n    },\n\n    updateSelectedTrips (event) {\n      if (event.type === 'links') {\n        this.$store.commit('changeSelectedTrips', event.data)\n      } else if (event.type === 'rlinks') {\n        this.$store.commit('changeVisibleRoads', event.data)\n      }\n    },\n\n    actionClick (event) {\n      this.action = event.action\n      if (this.action === 'Edit Line Info') {\n        this.editorForm = structuredClone(this.$store.getters.editorLineInfo)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Group Info') {\n        this.groupTripIds = event.tripIds\n        const uneditable = ['index', 'length', 'a', 'b', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = structuredClone(this.$store.getters.links.features.filter(\n          link => this.groupTripIds.includes(link.properties.trip_id)))\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Link Info') {\n        // link is clicked on the map\n        this.selectedLink = event.selectedFeature.properties\n        const uneditable = ['a', 'b', 'index', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = this.$store.getters.editorLinks.features.filter(\n          (link) => link.properties.index === this.selectedLink.index)\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit rLink Info') {\n        this.selectedLink = event.selectedIndex\n        this.editorForm = this.selectedLink.map(linkId => this.$store.getters.rlinksForm(linkId))\n        this.linkDir = this.$store.getters.rlinkDirection(this.selectedLink)\n        event.selectedIndex.forEach(linkId => {\n          if (this.$store.getters.onewayIndex.has(linkId)) {\n            this.selectedLink.push(linkId)\n            this.editorForm.push(this.$store.getters.reversedrLinksForm(linkId))\n            this.linkDir.push(this.$store.getters.rlinkDirection(this.selectedLink, true))\n          }\n        })\n        this.showDialog = true\n      } else if (this.action === 'Edit Road Group Info') {\n        const features = this.$store.getters.grouprLinks(event.category, event.group)\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Visible Road Info') {\n        const features = this.$store.getters.visiblerLinks.features\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (['Edit Node Info', 'Edit rNode Info'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        // map selected node doesnt not return properties with nanulln value.\n        // we need to get the node in the store with the selected index.\n        if (this.action === 'Edit Node Info') {\n          this.editorForm = this.$store.getters.editorNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        } else if (this.action === 'Edit rNode Info') {\n          this.editorForm = this.$store.getters.visiblerNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        }\n        this.editorForm = this.editorForm[0].properties\n        // filter properties to only the one that are editable.\n        const uneditable = ['index', 'route_width']\n        const filtered = Object.keys(this.editorForm)\n          .reduce((obj, key) => {\n            obj[key] = {\n              value: this.editorForm[key],\n              disabled: uneditable.includes(key),\n              placeholder: false,\n            }\n            return obj\n          }, {})\n        this.editorForm = filtered\n        this.showDialog = true\n      } else if (['Cut Before Node', 'Cut After Node',\n        'Move Stop', 'Delete Stop', 'Delete Anchor', 'Delete Road Anchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        this.applyAction()\n      } else if (['Add Stop Inline', 'Add Anchor Inline'].includes(this.action)) {\n        this.selectedLink = event.selectedFeature.properties\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Add Road Node Inline', 'Add Road Anchor Inline', 'Delete rLink'].includes(this.action)) {\n        this.selectedIndex = event.selectedIndex\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Move Node', 'Move Anchor', 'Move rNode', 'Move rAnchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      }\n    },\n\n    applyAction () {\n      // click yes on dialog\n      this.showDialog = false\n      switch (this.action) {\n        case 'Cut Before Node':\n          this.$store.commit('cutLineAtNode', { selectedNode: this.selectedNode })\n          break\n        case 'Cut After Node':\n          this.$store.commit('cutLineFromNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete Stop':\n          this.$store.commit('deleteNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit Link Info':\n          this.$store.commit('editLinkInfo', { selectedLinkId: this.selectedLink.index, info: this.editorForm })\n          break\n        case 'Edit Node Info':\n          this.$store.commit('editNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Edit Line Info':\n          // check if trip_id was changed and if it already exist.\n          if ((this.editorForm.trip_id.value !== this.$store.getters.editorTrip) &&\n          this.$store.getters.tripId.includes(this.editorForm.trip_id.value)) {\n            // reset all. just like abortChanges but without the abort changes notification\n            this.lingering = true // if not, applyAction is call after and the notification is overwrite.\n            this.editorTrip = null\n            this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n            this.action = null\n            this.$store.commit('changeNotification', {\n              text: $gettext('Could not apply modification. Trip_id already exist'),\n              autoClose: true,\n              color: 'red darken-2',\n            })\n          }\n          this.$store.commit('editLineInfo', this.editorForm)\n          if (this.$store.getters.editorNodes.features.length === 0) {\n            this.$store.commit('changeNotification',\n              { text: $gettext('Click on the map to start drawing'), autoClose: false })\n          }\n          break\n        case 'Edit Group Info':\n          this.$store.commit('editGroupInfo', { groupTripIds: this.groupTripIds, info: this.editorForm })\n          break\n        case 'deleteTrip':\n          this.$store.commit('deleteTrip', this.tripToDelete)\n          break\n        case 'Add Stop Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'editorNodes',\n          })\n          break\n        case 'Add Anchor Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorNodes',\n          })\n          break\n        case 'Delete Anchor':\n          this.$store.commit('deleteAnchorNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit rLink Info':\n          this.$store.commit('editrLinkInfo', { selectedLinkId: this.selectedLink, info: this.editorForm })\n          break\n        case 'Edit Road Group Info':\n          this.$store.commit('editrGroupInfo', { selectedLinks: this.selectedLinks, info: this.editorForm })\n          this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit Visible Road Info':\n          this.$store.commit('editrGroupInfo', {\n            selectedLinks: this.$store.getters.visiblerLinks.features,\n            info: this.editorForm,\n          })\n          this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit rNode Info':\n          this.$store.commit('editrNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Add Road Node Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'rnodes',\n          })\n          break\n        case 'Add Road Anchor Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorrNodes',\n          })\n          break\n        case 'Move Node':\n          this.$store.commit('moveNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move Anchor':\n          this.$store.commit('moveAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rNode':\n          this.$store.commit('moverNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rAnchor':\n          this.$store.commit('moverAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Delete Road Anchor':\n          this.$store.commit('deleteAnchorrNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete rLink':\n          this.$store.commit('deleterLink', { selectedIndex: this.selectedIndex })\n          break\n        case 'deleterGroup':\n          this.$store.commit('deleterGroup', this.tripToDelete)\n          break\n      }\n      if (!this.lingering) {\n        this.confirmChanges()\n        this.lingering = true\n      }\n    },\n    cancelAction () {\n      this.showDialog = false\n      if (!this.lingering) {\n        this.abortChanges()\n        this.lingering = true\n      }\n    },\n    confirmChanges () {\n      // confirm changes on sidePanel, this overwrite Links in store.\n      this.$store.commit('confirmChanges')\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification',\n        { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n    },\n    abortChanges () {\n      // unselect a trip for edition. nothing to commit on link here.\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification', { text: $gettext('modification aborted'), autoClose: true })\n    },\n    deleteButton (selection) {\n      // could be a trip, or a roadLinks group\n      this.tripToDelete = selection.trip\n      this.message = selection.message\n      this.action = selection.action\n      this.showDialog = true\n    },\n\n    duplicate () {\n      if (this.$store.getters.tripId.includes(this.cloneName)) {\n        this.errorMessage = 'already exist'\n      } else {\n        this.$store.commit('cloneTrip', { tripId: this.tripToClone, name: this.cloneName })\n        this.errorMessage = ''\n        this.cloneDialog = false\n      }\n    },\n\n    cloneButton (selection) {\n      this.tripToClone = selection.trip\n      this.message = selection.message\n      // this.action = 'cloneTrip'\n      this.cloneName = selection.trip + ' copy'\n      this.cloneDialog = true\n    },\n\n    cancelClone () {\n      this.errorMessage = ''\n      this.cloneDialog = false\n    },\n    addField () {\n      let form = {}\n      if (Array.isArray(this.editorForm)) {\n        form = structuredClone(this.editorForm[0])\n      } else {\n        form = structuredClone(this.editorForm)\n      }\n      // do not append if its null, empty or already exist.\n\n      if ((Object.keys(form).includes(this.newFieldName)) | (this.newFieldName === '') |\n       (!this.newFieldName) | (this.newFieldName?.endsWith('_r'))) {\n        // put ' ' so the rule error is diplayed.\n        this.newFieldName = ''\n      } else {\n        // need to rewrite editorForm object to be updated in DOM\n        if (Array.isArray(this.editorForm)) {\n          const tempArr = structuredClone(this.editorForm)\n          tempArr.forEach(el => {\n            // if its a reverse link. only add it to the form if its not an excluded one\n            // (ex: route_width, no route_width_r)\n            if (Object.keys(el)[0].endsWith('_r')) {\n              if (!this.$store.getters.rcstAttributes.includes(this.newFieldName)) {\n                el[this.newFieldName + '_r'] = { disabled: false, placeholder: false, value: undefined }\n              }\n            } else { // normal link. add the new field to the list.\n              el[this.newFieldName] = { disabled: false, placeholder: false, value: undefined }\n            }\n          })\n          this.editorForm = null\n          this.editorForm = tempArr\n        } else {\n          form[this.newFieldName] = { disabled: false, placeholder: false, value: undefined }\n          this.editorForm = {}\n          this.editorForm = form\n        }\n\n        if (['Edit Line Info', 'Edit Link Info', 'Edit Group Info'].includes(this.action)) {\n          this.$store.commit('addPropertie', { name: this.newFieldName, table: 'links' })\n        } else if (['Edit rLink Info', 'Edit Road Group Info', 'Edit Visible Road Info'].includes(this.action)) {\n          this.$store.commit('addRoadPropertie', { name: this.newFieldName, table: 'rlinks' })\n        } else if (this.action === 'Edit Node Info') {\n          this.$store.commit('addPropertie', { name: this.newFieldName, table: 'nodes' })\n        } else if (this.action === 'Edit rNode Info') {\n          this.$store.commit('addRoadPropertie', { name: this.newFieldName, table: 'rnodes' })\n        }\n        this.newFieldName = null // null so there is no rules error.\n        this.$store.commit('changeNotification',\n          { text: $gettext('Field added'), autoClose: true, color: 'success' })\n      }\n    },\n    deleteField (field) {\n      let form = structuredClone(this.editorForm)\n      // if roadLinks.\n      if (Array.isArray(this.editorForm)) {\n        // if we delete a reverse attribute, change it to normal as _r are deleted with normal one\n        if (field.endsWith('_r')) {\n          field = field.substr(0, field.length - 2)\n        }\n        form = form.filter(el => delete el[field])\n        form = form.filter(el => delete el[field + '_r'])\n      // TC links\n      } else {\n        delete form[field]\n      }\n      this.editorForm = {}\n      this.editorForm = form\n\n      if (['Edit Line Info', 'Edit Link Info', 'Edit Group Info'].includes(this.action)) {\n        this.$store.commit('deletePropertie', { name: field, table: 'links' })\n      } else if (['Edit rLink Info', 'Edit Road Group Info', 'Edit Visible Road Info'].includes(this.action)) {\n        this.$store.commit('deleteRoadPropertie', { name: field, table: 'rlinks' })\n      } else if (this.action === 'Edit Node Info') {\n        this.$store.commit('deletePropertie', { name: field, table: 'nodes' })\n      } else if (this.action === 'Edit rNode Info') {\n        this.$store.commit('deleteRoadPropertie', { name: field, table: 'rnodes' })\n      }\n      this.$store.commit('changeNotification',\n        { text: $gettext('Field deleted'), autoClose: true, color: 'success' })\n    },\n    attributeNonDeletable (field) {\n      if (['Edit Line Info', 'Edit Link Info', 'Edit Group Info', 'Edit Node Info'].includes(this.action)) {\n        return this.$store.getters.defaultAttributesNames.includes(field)\n      } else {\n        return this.$store.getters.rundeletable.includes(field)\n      }\n    },\n    ToggleDeleteOption () {\n      this.showDeleteOption = !this.showDeleteOption\n\n      if (this.showDeleteOption) {\n        this.$store.commit('changeNotification', {\n          text: $gettext('This action will delete properties on every links (and reversed one for two-way roads)'),\n          autoClose: false,\n          color: 'warning',\n        })\n      } else {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      :max-width=\"numLinks>1? '40rem':'20rem'\"\n      @keydown.enter=\"applyAction\"\n      @keydown.esc=\"cancelAction\"\n    >\n      <v-card\n        max-height=\"55rem\"\n      >\n        <v-card-title class=\"text-h5\">\n          {{ ['deleteTrip','deleterGroup'].includes(action)? $gettext(\"Delete\") + ' '+ message + '?': $gettext(\"Edit Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text v-if=\"editForm\">\n          <v-row>\n            <v-col\n              v-for=\"(n,idx) in numLinks\"\n              :key=\"idx\"\n            >\n              <v-list>\n                <v-list-item v-if=\"numLinks > 1\">\n                  <v-icon\n                    :style=\"{'align-items':'center',\n                             'justify-content': 'center',\n                             transform: 'rotate('+linkDir[idx]+'deg)'}\"\n                  >\n                    fas fa-long-arrow-alt-up\n                  </v-icon>\n                </v-list-item>\n                <v-text-field\n                  v-for=\"(value, key) in orderedForm(idx)\"\n                  :key=\"key\"\n                  v-model=\"value['value']\"\n                  :label=\"key\"\n                  :hint=\"showHint? $gettext(hints[key]): ''\"\n                  :persistent-hint=\"showHint\"\n                  :filled=\"!value['disabled']\"\n                  :type=\"$store.getters.attributeType(key)\"\n                  :placeholder=\"value['placeholder']? $gettext('multiple Values'):''\"\n                  :persistent-placeholder=\" value['placeholder']? true:false \"\n                  :disabled=\"value['disabled']\"\n                  @wheel=\"$event.target.blur()\"\n                >\n                  <template\n                    v-if=\"key==='route_color'\"\n                    v-slot:append\n                  >\n                    <color-picker\n                      v-model=\"value['value']\"\n                    />\n                  </template>\n                  <template\n                    v-if=\"showDeleteOption\"\n                    v-slot:prepend\n                  >\n                    <v-btn\n                      icon\n                      x-small\n                      :disabled=\"attributeNonDeletable(key)\"\n                      color=\"error\"\n                      @click=\"()=>deleteField(key)\"\n                    >\n                      <v-icon>fas fa-trash small</v-icon>\n                    </v-btn>\n                  </template>\n                </v-text-field>\n              </v-list>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-text-field\n              v-model=\"newFieldName\"\n              :label=\" $gettext('add field')\"\n              :placeholder=\"$gettext('new field name')\"\n              filled\n              :rules=\"rules.newField\"\n              @keydown.enter.stop=\"addField\"\n              @wheel=\"$event.target.blur()\"\n            >\n              <template v-slot:append-outer>\n                <v-btn\n                  color=\"primary\"\n                  class=\"text--primary\"\n                  fab\n                  x-small\n                  @click=\"addField\"\n                >\n                  <v-icon>fas fa-plus</v-icon>\n                </v-btn>\n              </template>\n            </v-text-field>\n          </v-row>\n        </v-card-text>\n        <v-card-text v-if=\"['cloneTrip'].includes(action)\">\n          <v-text-field\n            v-model=\"cloneName\"\n            :label=\"$gettext('New name')\"\n          />\n        </v-card-text>\n        <v-divider />\n\n        <v-card-actions>\n          <v-btn\n            v-if=\"editForm\"\n            icon\n            x-small\n            @click=\"()=>showHint = !showHint\"\n          >\n            <v-icon>far fa-question-circle small</v-icon>\n          </v-btn>\n          <v-btn\n            v-if=\"editForm\"\n            icon\n            x-small\n            @click=\"ToggleDeleteOption\"\n          >\n            <v-icon v-if=\"showDeleteOption\">\n              fas fa-minus-circle fa-rotate-90\n            </v-icon>\n            <v-icon v-else>\n              fas fa-minus-circle\n            </v-icon>\n          </v-btn>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelAction\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"applyAction\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      v-model=\"cloneDialog\"\n      max-width=\"300\"\n      @keydown.enter=\"duplicate()\"\n      @keydown.esc=\"cancelClone\"\n    >\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{ $gettext('Duplicate and reverse') }}</span>\n          <span class=\"text-h5\">{{ message +' ?' }}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-text-field\n            v-model=\"cloneName\"\n            :label=\"$gettext('New name')\"\n          />\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelClone\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"duplicate()\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <SidePanel\n      :selected-trips=\"selectedTrips\"\n      :selectedr-group=\"selectedrGroup\"\n      @update-tripList=\"updateSelectedTrips\"\n      @confirmChanges=\"confirmChanges\"\n      @abortChanges=\"abortChanges\"\n      @deleteButton=\"deleteButton\"\n      @cloneButton=\"cloneButton\"\n      @propertiesButton=\"actionClick\"\n      @isRoadMode=\"(e) => isRoadMode = e\"\n    />\n    <Map\n      ref=\"mapref\"\n      :selected-trips=\"selectedTrips\"\n      :is-road-mode=\"isRoadMode\"\n      @clickFeature=\"actionClick\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n\n</style>\n","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=380a869c&scoped=true&v-slot%3Aappend=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"380a869c\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=173cd065&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=173cd065&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=173cd065&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=173cd065&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"173cd065\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-row\",\n    { staticClass: \"ma-0 pa-2 background\" },\n    [\n      _c(\"v-col\", { attrs: { order: \"1\" } }, [_c(\"ParamForm\")], 1),\n      _vm._v(\" \"),\n      _c(\n        \"v-col\",\n        { attrs: { order: \"2\" } },\n        [\n          _c(\n            \"v-card\",\n            { staticClass: \"card\" },\n            [\n              _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Scenario Simulation\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-stepper\",\n                {\n                  staticStyle: {\n                    \"background-color\": \"var(--v-background-lighten4)\",\n                  },\n                  attrs: { vertical: \"\" },\n                  model: {\n                    value: _vm.currentStep,\n                    callback: function ($$v) {\n                      _vm.currentStep = $$v\n                    },\n                    expression: \"currentStep\",\n                  },\n                },\n                [\n                  !_vm.synchronized\n                    ? _c(\n                        \"v-alert\",\n                        {\n                          attrs: {\n                            dense: \"\",\n                            outlined: \"\",\n                            text: \"\",\n                            type: \"warning\",\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(\n                                _vm.$gettext(\n                                  \"Results are not synchronized with latest modifications. \\\n          Please relauch simulation to update results.\"\n                                )\n                              ) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.error\n                    ? _c(\n                        \"v-alert\",\n                        {\n                          attrs: {\n                            dense: \"\",\n                            outlined: \"\",\n                            text: \"\",\n                            type: \"error\",\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(\n                                _vm.$gettext(\n                                  \"Simulation ended with an execution error or have been aborted. \\\n          Please relauch simulation. If the problem persist, contact us.\"\n                                )\n                              ) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.isProtected\n                    ? _c(\n                        \"v-alert\",\n                        {\n                          attrs: {\n                            dense: \"\",\n                            outlined: \"\",\n                            text: \"\",\n                            type: \"error\",\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(\n                                _vm.$gettext(\n                                  \"This scenario is protected. You can not run simulation.\"\n                                )\n                              ) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: {\n                        loading: _vm.running,\n                        disabled: _vm.running || _vm.isProtected,\n                        color: \"success\",\n                      },\n                      on: {\n                        click: function ($event) {\n                          return _vm.run()\n                        },\n                      },\n                    },\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          staticStyle: { \"margin-right\": \"10px\" },\n                          attrs: { small: \"\" },\n                        },\n                        [_vm._v(\"\\n            fa-solid fa-play\\n          \")]\n                      ),\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Run Simulation\")) +\n                          \"\\n        \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.running && _vm.currentStep !== 1,\n                          expression: \"running && currentStep!==1\",\n                        },\n                      ],\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.stopRun()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Abort Simulation\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _vm._l(_vm.steps, function (step, i) {\n                    return _c(\n                      \"v-container\",\n                      { key: i + 1 },\n                      [\n                        _c(\"v-stepper-content\", { attrs: { step: i + 1 } }),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-stepper-step\",\n                          {\n                            attrs: {\n                              complete: _vm.currentStep > i + 1,\n                              step: i + 1,\n                              rules: [\n                                () => !(i + 1 == _vm.currentStep) || !_vm.error,\n                              ],\n                            },\n                          },\n                          [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(step.name) +\n                                \"\\n          \"\n                            ),\n                          ]\n                        ),\n                      ],\n                      1\n                    )\n                  }),\n                ],\n                2\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-card\",\n    { staticClass: \"card\" },\n    [\n      _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n        _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(\"Scenario Settings\")) + \"\\n  \"),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-text\",\n        [\n          _c(\n            \"v-form\",\n            { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n            [\n              _c(\n                \"v-expansion-panels\",\n                {\n                  attrs: { multiple: \"\" },\n                  model: {\n                    value: _vm.panel,\n                    callback: function ($$v) {\n                      _vm.panel = $$v\n                    },\n                    expression: \"panel\",\n                  },\n                },\n                _vm._l(_vm.parameters, function (group, key) {\n                  return _c(\n                    \"v-expansion-panel\",\n                    { key: key },\n                    [\n                      _c(\n                        \"v-expansion-panel-header\",\n                        { staticClass: \"categorie\" },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(group.category) +\n                              \"\\n          \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-expansion-panel-content\",\n                        {\n                          staticStyle: {\n                            \"background-color\":\n                              \"var(--v-background-lighten4) !important\",\n                          },\n                        },\n                        _vm._l(group.params, function (item, key2) {\n                          return _c(\n                            \"li\",\n                            { key: key2 },\n                            [\n                              typeof item.items === \"undefined\" &&\n                              typeof item.value != \"boolean\"\n                                ? _c(\"v-text-field\", {\n                                    attrs: {\n                                      type: item.type,\n                                      label: _vm.$gettext(item.text),\n                                      suffix: item.units,\n                                      hint: _vm.showHint\n                                        ? _vm.$gettext(item.hint)\n                                        : \"\",\n                                      \"persistent-hint\": _vm.showHint,\n                                      rules: item.rules.map(\n                                        (rule) => _vm.rules[rule]\n                                      ),\n                                      required: \"\",\n                                    },\n                                    on: { wheel: () => {} },\n                                    model: {\n                                      value: item.value,\n                                      callback: function ($$v) {\n                                        _vm.$set(item, \"value\", $$v)\n                                      },\n                                      expression: \"item.value\",\n                                    },\n                                  })\n                                : typeof item.items === \"undefined\" &&\n                                  typeof item.value == \"boolean\"\n                                ? _c(\"v-switch\", {\n                                    attrs: {\n                                      label: _vm.$gettext(item.text),\n                                      hint: _vm.showHint\n                                        ? _vm.$gettext(item.hint)\n                                        : \"\",\n                                      \"persistent-hint\": _vm.showHint,\n                                    },\n                                    on: { wheel: () => {} },\n                                    model: {\n                                      value: item.value,\n                                      callback: function ($$v) {\n                                        _vm.$set(item, \"value\", $$v)\n                                      },\n                                      expression: \"item.value\",\n                                    },\n                                  })\n                                : _c(\"v-select\", {\n                                    attrs: {\n                                      type: item.type,\n                                      items: item.items,\n                                      label: _vm.$gettext(item.text),\n                                      suffix: item.units,\n                                      hint: _vm.showHint\n                                        ? _vm.$gettext(item.hint)\n                                        : \"\",\n                                      \"persistent-hint\": _vm.showHint,\n                                      rules: item.rules.map(\n                                        (rule) => _vm.rules[rule]\n                                      ),\n                                      required: \"\",\n                                    },\n                                    on: { wheel: () => {} },\n                                    model: {\n                                      value: item.value,\n                                      callback: function ($$v) {\n                                        _vm.$set(item, \"value\", $$v)\n                                      },\n                                      expression: \"item.value\",\n                                    },\n                                  }),\n                            ],\n                            1\n                          )\n                        }),\n                        0\n                      ),\n                    ],\n                    1\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-actions\",\n        [\n          _c(\n            \"v-btn\",\n            { attrs: { color: \"grey\", text: \"\" }, on: { click: _vm.reset } },\n            [\n              _vm._v(\n                \"\\n      \" + _vm._s(_vm.$gettext(\"back to default\")) + \"\\n    \"\n              ),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-btn\", { attrs: { text: \"\" }, on: { click: _vm.expandAll } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.panel.length != _vm.parameters.length\n                    ? _vm.$gettext(\"Expand all\")\n                    : _vm.$gettext(\"Collapse all\")\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: { icon: \"\", small: \"\" },\n              on: {\n                click: function ($event) {\n                  _vm.showHint = !_vm.showHint\n                },\n              },\n            },\n            [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\nexport default {\n  name: 'Settings',\n  data () {\n    return {\n      // this is doing Nothing. we should rename it id DynamoDB, we do not want to copy and delete the S3 bucket.\n      // in DynamoDB, we could have the project name (changable) and the s3 bucket reference (not changeable)\n      projectName: {\n        name: 'Project Name',\n        text: $gettext('project Name'),\n        type: 'String',\n        value: this.$store.getters.projectId,\n        hint: $gettext('Change project Name'),\n        rules: ['required'],\n      },\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        largerThanZero: v => v > 0 || $gettext('should be larger than 0'),\n        nonNegative: v => v >= 0 || $gettext('should be larger or equal to 0'),\n      },\n      errorMessage: null,\n      showHint: false,\n      panel: [],\n    }\n  },\n  computed: {\n    parameters () { return this.$store.getters['run/parameters'] },\n  },\n  mounted () {\n    this.panel = [...Array(this.parameters.length).keys()].map((k, i) => i)\n  },\n  methods: {\n    expandAll () {\n      if (this.panel.length < this.parameters.length) {\n        this.panel = [...Array(this.parameters.length).keys()].map((k, i) => i)\n      } else {\n        this.panel = []\n      }\n    },\n    change (e) {\n      // could put in store that the value changed.\n      // activate the Back to default button.\n      // when loaded, save or back to default is used, deactivate the button\n    },\n    reset () {\n      this.$store.dispatch('run/getParameters', {\n        model: this.$store.getters.model,\n        path: this.$store.getters.scenario + '/' + this.$store.getters.config.parameters_path,\n      })\n    },\n  },\n}\n</script>\n<template>\n  <v-card\n    class=\"card\"\n  >\n    <v-card-title class=\"subtitle\">\n      {{ $gettext('Scenario Settings') }}\n    </v-card-title>\n    <v-card-text>\n      <v-form\n        ref=\"form\"\n        lazy-validation\n      >\n        <v-expansion-panels\n          v-model=\"panel\"\n          multiple\n        >\n          <v-expansion-panel\n            v-for=\"(group, key) in parameters\"\n            :key=\"key\"\n          >\n            <v-expansion-panel-header class=\"categorie\">\n              {{ group.category }}\n            </v-expansion-panel-header>\n            <v-expansion-panel-content style=\"background-color:var(--v-background-lighten4) !important;\">\n              <li\n                v-for=\"(item, key2) in group.params\"\n                :key=\"key2\"\n              >\n                <v-text-field\n                  v-if=\"typeof item.items === 'undefined' && typeof item.value != 'boolean'\"\n                  v-model=\"item.value\"\n                  :type=\"item.type\"\n                  :label=\"$gettext(item.text)\"\n                  :suffix=\"item.units\"\n                  :hint=\"showHint? $gettext(item.hint): ''\"\n                  :persistent-hint=\"showHint\"\n                  :rules=\"item.rules.map((rule) => rules[rule])\"\n                  required\n                  @wheel=\"()=>{}\"\n                />\n                <v-switch\n                  v-else-if=\"typeof item.items === 'undefined' && typeof item.value == 'boolean'\"\n                  v-model=\"item.value\"\n                  :label=\"$gettext(item.text)\"\n                  :hint=\"showHint? $gettext(item.hint): ''\"\n                  :persistent-hint=\"showHint\"\n                  @wheel=\"()=>{}\"\n                />\n                <v-select\n                  v-else\n                  v-model=\"item.value\"\n                  :type=\"item.type\"\n                  :items=\"item.items\"\n                  :label=\"$gettext(item.text)\"\n                  :suffix=\"item.units\"\n                  :hint=\"showHint? $gettext(item.hint): ''\"\n                  :persistent-hint=\"showHint\"\n                  :rules=\"item.rules.map((rule) => rules[rule])\"\n                  required\n                  @wheel=\"()=>{}\"\n                />\n              </li>\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </v-expansion-panels>\n      </v-form>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"grey\"\n        text\n        @click=\"reset\"\n      >\n        {{ $gettext(\"back to default\") }}\n      </v-btn>\n\n      <v-spacer />\n      <v-btn\n        text\n        @click=\"expandAll\"\n      >\n        {{ panel.length != parameters.length ? $gettext(\"Expand all\") : $gettext(\"Collapse all\") }}\n      </v-btn>\n      <v-btn\n        icon\n        small\n        @click=\"showHint = !showHint\"\n      >\n        <v-icon>far fa-question-circle small</v-icon>\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.subtitle {\n  font-size: 2em;\n  color:var(--v-secondary-dark);\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.v-card__text {\n  max-height: 80%;\n  overflow-y: auto;\n}\n.v-form {\n  max-height: 80%;\n}\n.categorie {\n  font-size: 1.5em;\n  font-weight: bold;\n  background:var(--v-background-lighten3);\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParamForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParamForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParamForm.vue?vue&type=style&index=0&id=539eabe3&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParamForm.vue?vue&type=style&index=0&id=539eabe3&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ParamForm.vue?vue&type=template&id=539eabe3&scoped=true&\"\nimport script from \"./ParamForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ParamForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ParamForm.vue?vue&type=style&index=0&id=539eabe3&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"539eabe3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Run.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Run.vue?vue&type=script&lang=js&\"","<script>\n\nimport ParamForm from '../components/ParamForm.vue'\n\nexport default {\n  name: 'Run',\n  components: {\n    ParamForm,\n  },\n  computed: {\n    steps () { return this.$store.getters['run/steps'] },\n    running () { return this.$store.getters['run/running'] },\n    currentStep () { return this.$store.getters['run/currentStep'] },\n    error () { return this.$store.getters['run/error'] },\n    synchronized () { return this.$store.getters['run/synchronized'] },\n    isProtected () {\n      return this.$store.getters.protected.includes(this.$store.getters.scenario)\n    },\n  },\n  created () {\n    this.$store.dispatch('run/getSteps')\n  },\n  methods: {\n    async run () {\n      this.$store.commit('run/startExecution') // start the stepper at first step\n      this.$store.dispatch('exportToS3').then(\n        () => {\n          this.$store.dispatch('run/startExecution', { scenario: this.$store.getters.scenario })\n        }).catch(\n        err => {\n          this.$store.commit('run/terminateExecution')\n          this.$store.commit('changeAlert', err)\n          // alert('error saving scenario')\n        })\n    },\n    stopRun () {\n      this.$store.dispatch('run/stopExecution')\n    },\n  },\n}\n\n</script>\n<template>\n  <v-row class=\"ma-0 pa-2 background\">\n    <v-col order=\"1\">\n      <ParamForm />\n    </v-col>\n    <v-col order=\"2\">\n      <v-card class=\"card\">\n        <v-card-title class=\"subtitle\">\n          {{ $gettext('Scenario Simulation') }}\n        </v-card-title>\n        <v-stepper\n          v-model=\"currentStep\"\n          vertical\n          style=\"background-color:var(--v-background-lighten4);\"\n        >\n          <v-alert\n            v-if=\"!synchronized\"\n            dense\n            outlined\n            text\n            type=\"warning\"\n          >\n            {{ $gettext(\"Results are not synchronized with latest modifications. \\\n            Please relauch simulation to update results.\") }}\n          </v-alert>\n          <v-alert\n            v-if=\"error\"\n            dense\n            outlined\n            text\n            type=\"error\"\n          >\n            {{ $gettext(\"Simulation ended with an execution error or have been aborted. \\\n            Please relauch simulation. If the problem persist, contact us.\") }}\n          </v-alert>\n          <v-alert\n            v-if=\"isProtected\"\n            dense\n            outlined\n            text\n            type=\"error\"\n          >\n            {{ $gettext(\"This scenario is protected. You can not run simulation.\") }}\n          </v-alert>\n          <v-btn\n            :loading=\"running\"\n            :disabled=\"running || isProtected\"\n            color=\"success\"\n            @click=\"run()\"\n          >\n            <v-icon\n              small\n              style=\"margin-right: 10px;\"\n            >\n              fa-solid fa-play\n            </v-icon>\n            {{ $gettext(\"Run Simulation\") }}\n          </v-btn>\n          <v-btn\n            v-show=\"running && currentStep!==1\"\n            color=\"grey\"\n            text\n            @click=\"stopRun()\"\n          >\n            {{ $gettext(\"Abort Simulation\") }}\n          </v-btn>\n          <v-container\n            v-for=\"(step, i) in steps\"\n            :key=\"i+1\"\n          >\n            <v-stepper-content\n              :step=\"i+1\"\n            />\n            <v-stepper-step\n              :complete=\"currentStep > i+1\"\n              :step=\"i+1\"\n              :rules=\"[() => !(i+1 == currentStep) || !error]\"\n            >\n              {{ step.name }}\n            </v-stepper-step>\n          </v-container>\n        </v-stepper>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<style lang=\"scss\" scoped>\n.container {\n  width: 100%;\n  overflow: hidden;\n  margin-left: 0 auto;\n  margin-right: 0 auto;\n  padding: 0 0 0 0;\n}\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  height: 100%;\n  overflow-y: auto;\n  padding: 40px;\n}\n\n.v-card__text {\n  max-height: 80%;\n  overflow-y: auto;\n}\n.row {\n  height: calc(100% - 38px)\n}\n.col {\n  max-height: 100%;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:var(--v-secondary-dark);\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0px;\n}\n.card button {\n  margin-top: 0px;\n}\n.v-stepper__content {\n  border-left: 4px solid rgba(0,0,0,.12);\n}\n.v-sheet.v-stepper:not(.v-sheet--outlined) {\n  box-shadow: none;\n}\n.background {\n  background-color:var(--v-background-base);\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Run.vue?vue&type=style&index=0&id=e8d4783a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Run.vue?vue&type=style&index=0&id=e8d4783a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Run.vue?vue&type=template&id=e8d4783a&scoped=true&\"\nimport script from \"./Run.vue?vue&type=script&lang=js&\"\nexport * from \"./Run.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Run.vue?vue&type=style&index=0&id=e8d4783a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8d4783a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\"ResultsSidePanel\", {\n        attrs: {\n          \"selected-filter\": _vm.selectedFilter,\n          \"layer-choices\": _vm.availableLayers,\n          \"selected-layer\": _vm.selectedLayer,\n          \"filter-choices\": _vm.filterChoices,\n          \"filtered-cat\": _vm.filteredCategory,\n        },\n        on: {\n          \"update-selectedFilter\": _vm.updateSelectedFilter,\n          \"select-layer\": _vm.changeLayer,\n        },\n        model: {\n          value: _vm.selectedCategory,\n          callback: function ($$v) {\n            _vm.selectedCategory = $$v\n          },\n          expression: \"selectedCategory\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"ResultsSettings\", {\n        attrs: {\n          \"display-settings\": _vm.displaySettings,\n          \"feature-choices\": _vm.filterChoices,\n        },\n        on: { submit: _vm.applySettings },\n        model: {\n          value: _vm.showSettings,\n          callback: function ($$v) {\n            _vm.showSettings = $$v\n          },\n          expression: \"showSettings\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"left-panel\" }, [\n        _c(\n          \"div\",\n          {\n            class: _vm.$store.getters.showLeftPanel\n              ? \"legend-open elevation-4\"\n              : \"legend-close elevation-4\",\n            style: { top: `${_vm.windowHeight}px` },\n          },\n          [\n            _c(\"MapLegend\", {\n              attrs: {\n                \"color-scale\": _vm.colorScale,\n                \"display-settings\": _vm.displaySettings,\n              },\n            }),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"MapResults\", {\n        key: _vm.$store.getters[\"results/type\"],\n        attrs: {\n          links: _vm.visibleLinks,\n          \"selected-feature\": _vm.displaySettings.selectedFeature,\n          opacity: _vm.displaySettings.opacity,\n          offset: _vm.displaySettings.offset,\n        },\n        on: { selectClick: _vm.featureClicked },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { scrollable: \"\", persistent: \"\", \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.showDialog = false\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"60rem\" } },\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"link Properties\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\n                    \"v-list\",\n                    _vm._l(_vm.form, function (value, key) {\n                      return _c(\"v-text-field\", {\n                        key: key,\n                        attrs: {\n                          value: value,\n                          label: key,\n                          filled: \"\",\n                          readonly: \"\",\n                        },\n                      })\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"success\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"ok\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? \"350px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondarydark\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n            ],\n            staticClass: \"left-panel-content\",\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"v-card-title\",\n                    { staticClass: \"white--text secondary\" },\n                    [\n                      _c(\n                        \"v-tooltip\",\n                        {\n                          attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"v-btn\",\n                                    _vm._g(\n                                      _vm._b(\n                                        {\n                                          staticClass: \"ma-2\",\n                                          style: { color: \"white\" },\n                                          attrs: { icon: \"\" },\n                                          on: {\n                                            click: function ($event) {\n                                              return _vm.showAll()\n                                            },\n                                          },\n                                        },\n                                        \"v-btn\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { staticClass: \"list-item-icon\" },\n                                        [\n                                          _vm._v(\n                                            \"\\n                    \" +\n                                              _vm._s(\n                                                _vm.selectedCat.length > 0\n                                                  ? \"fa-eye fa\"\n                                                  : \"fa-eye-slash fa\"\n                                              ) +\n                                              \"\\n                  \"\n                                          ),\n                                        ]\n                                      ),\n                                    ],\n                                    1\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\"span\", [\n                            _vm._v(\n                              _vm._s(\n                                _vm.selectedCat.length > 0\n                                  ? _vm.$gettext(\"Hide All\")\n                                  : _vm.$gettext(\"Show All\")\n                              )\n                            ),\n                          ]),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-menu\",\n                        {\n                          attrs: {\n                            \"close-delay\": \"100\",\n                            \"offset-y\": \"\",\n                            transition: \"slide-y-transition\",\n                          },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"span\",\n                                    _vm._g(\n                                      _vm._b(\n                                        { staticClass: \"title\" },\n                                        \"span\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [_vm._v(_vm._s(_vm.selectedLayer))]\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                          model: {\n                            value: _vm.openMenu,\n                            callback: function ($$v) {\n                              _vm.openMenu = $$v\n                            },\n                            expression: \"openMenu\",\n                          },\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list\",\n                            _vm._l(_vm.layerChoices, function (layer, key) {\n                              return _c(\n                                \"v-list-item\",\n                                { key: key, attrs: { link: \"\" } },\n                                [\n                                  _c(\n                                    \"v-list-item-title\",\n                                    {\n                                      on: {\n                                        click: () =>\n                                          _vm.$emit(\"select-layer\", layer),\n                                      },\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                    \" +\n                                          _vm._s(layer) +\n                                          \"\\n                  \"\n                                      ),\n                                    ]\n                                  ),\n                                ],\n                                1\n                              )\n                            }),\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          staticClass: \"ma-2\",\n                          style: { color: \"white\" },\n                          attrs: { icon: \"\", dark: \"\" },\n                          on: {\n                            click: function ($event) {\n                              _vm.openMenu = !_vm.openMenu\n                            },\n                          },\n                        },\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\n                              \" \" +\n                                _vm._s(\n                                  _vm.openMenu\n                                    ? \"fas fa-chevron-left\"\n                                    : \"fas fa-chevron-down\"\n                                )\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card\",\n                    {\n                      staticClass: \"mx-auto scrollable\",\n                      attrs: {\n                        \"max-width\": \"100%\",\n                        \"min-width\": \"100%\",\n                        height: _vm.windowHeight,\n                      },\n                    },\n                    [\n                      _c(\n                        \"v-list-item\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.filterChoices,\n                              \"prepend-icon\": \"fas fa-filter\",\n                              label: _vm.$gettext(\"filter\"),\n                              \"item-color\": \"secondarydark\",\n                              color: \"secondarydark\",\n                            },\n                            model: {\n                              value: _vm.vmodelSelectedFilter,\n                              callback: function ($$v) {\n                                _vm.vmodelSelectedFilter = $$v\n                              },\n                              expression: \"vmodelSelectedFilter\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-virtual-scroll\", {\n                        attrs: {\n                          items: _vm.filteredCat,\n                          \"item-height\": 45,\n                          height: _vm.windowHeight - 80,\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"default\",\n                            fn: function ({ item }) {\n                              return [\n                                _c(\n                                  \"v-list-item\",\n                                  {\n                                    key: _vm.vmodelSelectedFilter.concat(item),\n                                    staticClass: \"pl-2\",\n                                  },\n                                  [\n                                    _c(\n                                      \"v-list-item-action\",\n                                      [\n                                        _c(\"v-checkbox\", {\n                                          staticClass: \"pl-2\",\n                                          attrs: {\n                                            \"on-icon\": \"fa-eye fa\",\n                                            \"off-icon\": \"fa-eye-slash fa\",\n                                            color: \"primary\",\n                                            value: item,\n                                            size: \"10\",\n                                            \"hide-details\": \"\",\n                                          },\n                                          model: {\n                                            value: _vm.selectedCat,\n                                            callback: function ($$v) {\n                                              _vm.selectedCat = $$v\n                                            },\n                                            expression: \"selectedCat\",\n                                          },\n                                        }),\n                                      ],\n                                      1\n                                    ),\n                                    _vm._v(\" \"),\n                                    _c(\"v-list-item-title\", [\n                                      _vm._v(\n                                        \"\\n                    \" +\n                                          _vm._s(item) +\n                                          \"\\n                  \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'SidePanel',\n  components: {\n\n  },\n  model: {\n    prop: 'selectedCategory',\n    event: 'update-selectedCategory',\n  },\n  props: ['selectedCategory', 'selectedFilter', 'filterChoices', 'filteredCat', 'layerChoices', 'selectedLayer'],\n  events: ['update-selectedCategory', 'select-layer', 'update-selected-filter'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      height: null,\n      editorTrip: false,\n      showDialog: false,\n      openMenu: false,\n      selectedCat: [],\n      vmodelSelectedFilter: '',\n    }\n  },\n\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n    windowHeight () { return this.$store.getters.windowHeight - 130 },\n    running () { return this.$store.getters['run/running'] },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n    selectedCat (val) {\n      this.$emit('update-selectedCategory', val)\n    },\n    selectedFilter (val) {\n      // when we change seledted filter from other component (changing layer.)\n      if (val !== this.vmodelSelectedFilter) {\n        this.vmodelSelectedFilter = val\n        this.selectedCat = this.selectedCategory\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      if (oldVal) { // when created, we dont want to emit\n        this.$emit('update-selectedFilter', newVal)\n        this.selectedCat = this.selectedCategory // show all. when we change layer\n      }\n    },\n  },\n\n  created () {\n    this.selectedCat = this.selectedCategory\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n    showAll () {\n      if (this.selectedCat.length === this.filteredCat.length) {\n        this.selectedCat = []\n      } else {\n        this.selectedCat = this.filteredCat\n      }\n    },\n  },\n}\n</script>\n<template>\n  <section\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{'width': showLeftPanel ? '350px' : '0px'}\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondarydark\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <v-card-title class=\"white--text secondary\">\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    :style=\"{color: 'white'}\"\n                    icon\n                    class=\"ma-2\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    @click=\"showAll()\"\n                  >\n                    <v-icon class=\"list-item-icon\">\n                      {{ selectedCat.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ selectedCat.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n              </v-tooltip>\n\n              <v-spacer />\n              <v-menu\n                v-model=\"openMenu\"\n                close-delay=\"100\"\n                offset-y\n                transition=\"slide-y-transition\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <span\n                    class=\"title\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >{{ selectedLayer }}</span>\n                </template>\n                <v-list>\n                  <v-list-item\n                    v-for=\"(layer,key) in layerChoices\"\n                    :key=\"key\"\n                    link\n                  >\n                    <v-list-item-title\n                      @click=\"()=>$emit('select-layer',layer)\"\n                    >\n                      {{ layer }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n              <v-spacer />\n\n              <v-btn\n                :style=\"{color: 'white'}\"\n                icon\n                class=\"ma-2\"\n                dark\n                @click=\"openMenu=!openMenu\"\n              >\n                <v-icon> {{ openMenu ? 'fas fa-chevron-left' : 'fas fa-chevron-down' }}</v-icon>\n              </v-btn>\n            </v-card-title>\n            <v-card\n              max-width=\"100%\"\n              min-width=\"100%\"\n              :height=\"windowHeight\"\n              class=\"mx-auto scrollable\"\n            >\n              <v-list-item>\n                <v-select\n                  v-model=\"vmodelSelectedFilter\"\n                  :items=\"filterChoices\"\n                  prepend-icon=\"fas fa-filter\"\n                  :label=\"$gettext('filter')\"\n                  item-color=\"secondarydark\"\n                  color=\"secondarydark\"\n                />\n              </v-list-item>\n\n              <v-virtual-scroll\n                :items=\"filteredCat\"\n                :item-height=\"45\"\n                :height=\"windowHeight-80\"\n              >\n                <template v-slot=\"{ item }\">\n                  <v-list-item\n                    :key=\"vmodelSelectedFilter.concat(item)\"\n                    class=\"pl-2\"\n                  >\n                    <v-list-item-action>\n                      <v-checkbox\n                        v-model=\"selectedCat\"\n                        class=\"pl-2\"\n                        :on-icon=\"'fa-eye fa'\"\n                        :off-icon=\"'fa-eye-slash fa'\"\n                        :color=\"'primary'\"\n                        :value=\"item\"\n                        size=\"10\"\n                        hide-details\n                      />\n                    </v-list-item-action>\n\n                    <v-list-item-title>\n                      {{ item }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </template>\n              </v-virtual-scroll>\n            </v-card>\n            <!--\n          </div>\n        </div>\n        -->\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color: var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display: flex;\n  z-index: 20;\n}\n.title  {\n  color:white;\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=style&index=0&id=e64f5be4&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=style&index=0&id=e64f5be4&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultsSidePanel.vue?vue&type=template&id=e64f5be4&scoped=true&\"\nimport script from \"./ResultsSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsSidePanel.vue?vue&type=style&index=0&id=e64f5be4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e64f5be4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      key: _vm.mapStyle,\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": _vm.mapStyle,\n        center: _vm.$store.getters.mapCenter,\n        zoom: _vm.$store.getters.mapZoom,\n      },\n      on: { load: _vm.onMapLoaded },\n    },\n    [\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm.layerType == \"links\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"line-offset\": [\n                    \"*\",\n                    _vm.offsetValue * 0.5,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                  \"line-opacity\": _vm.opacity / 100,\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"has\", \"display_width\"],\n                    [\"get\", \"display_width\"],\n                    4,\n                  ],\n                },\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.zoneClick,\n              contextmenu: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"nodes\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"nodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"nodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"has\", \"display_width\"],\n                    [\"get\", \"display_width\"],\n                    3,\n                  ],\n                  \"circle-opacity\": _vm.opacity / 100,\n                },\n                layout: {\n                  \"circle-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.zoneClick,\n              contextmenu: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"links\"\n        ? _c(\"MglImageLayer\", {\n            attrs: {\n              \"source-id\": \"links\",\n              type: \"symbol\",\n              source: \"links\",\n              \"layer-id\": \"arrow\",\n              layer: {\n                type: \"symbol\",\n                minzoom: _vm.minZoom.nodes,\n                layout: {\n                  \"symbol-placement\": \"line\",\n                  \"symbol-spacing\": 200,\n                  \"icon-ignore-placement\": true,\n                  \"icon-image\": \"arrow\",\n                  \"icon-size\": [\n                    \"*\",\n                    0.1,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                  \"icon-rotate\": 90,\n                  \"icon-offset\": [_vm.offsetValue * 5, 5],\n                },\n                paint: {\n                  \"icon-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"icon-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"zones\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"polygon\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"zones\",\n              layer: {\n                interactive: true,\n                type: \"fill\",\n                paint: {\n                  \"fill-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"fill-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n            on: { click: _vm.zoneClick, contextmenu: _vm.selectClick },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nimport mapboxgl from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer, MglImageLayer } from 'vue-mapbox'\nimport arrowImage from '@static/arrow.png'\nimport centroid from '@turf/centroid'\nconst mapboxPublicKey = process.env.VUE_APP_MAPBOX_PUBLIC_KEY\n\nexport default {\n  name: 'ResultMap',\n\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    MglImageLayer,\n\n  },\n  props: ['links', 'selectedFeature', 'opacity', 'offset'],\n  events: ['selectClick'],\n\n  data () {\n    return {\n      mapIsLoaded: false,\n      mapboxPublicKey: null,\n      selectedLinks: [],\n      minZoom: {\n        nodes: 14,\n        links: 2,\n      },\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    layerType () { return this.$store.getters['results/type'] },\n    offsetValue () { return this.offset ? -1 : 1 },\n\n  },\n  watch: {\n    mapStyle (val) {\n      if (this.map) {\n        if (this.map.getLayer('arrow')) this.map.removeLayer('arrow')\n        if (this.map.getLayer('links')) this.map.removeLayer('links')\n        if (this.map.getLayer('zones')) this.map.removeLayer('zones')\n        if (this.map.getLayer('nodes')) this.map.removeLayer('nodes')\n        this.mapIsLoaded = false\n        this.saveMapPosition()\n      }\n    },\n  },\n  created () {\n    this.mapboxPublicKey = mapboxPublicKey\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    if (this.map.getLayer('arrow')) {\n      this.map.removeLayer('arrow')\n    }\n    this.saveMapPosition()\n  },\n\n  methods: {\n    saveMapPosition () {\n      const center = this.map.getCenter()\n      this.$store.commit('saveMapPosition', {\n        mapCenter: [center.lng, center.lat],\n        mapZoom: this.map.getZoom(),\n      })\n    },\n    onMapLoaded (event) {\n      if (this.map) this.mapIsLoaded = false\n      const bounds = new mapboxgl.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      if (this.layerType === 'zones') {\n        this.links.features.forEach(link => {\n          try { // try, so NaN will not crash\n            if (link.geometry.type === 'Polygon') {\n              bounds.extend([link.geometry.coordinates[0][0],\n                link.geometry.coordinates[0][link.geometry.coordinates.length - 1]])\n            } else {\n              bounds.extend([link.geometry.coordinates[0][0][0],\n                link.geometry.coordinates[0][0][link.geometry.coordinates.length - 1]])\n            }\n          } catch (err) { this.$store.commit('changeAlert', err) }\n        })\n      } else {\n        this.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      }\n\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      if (this.selectedFeature.length > 0 && this.layerType !== 'zones') { // do not show popup if nothing is selected\n        const val = this.selectedLinks[0].properties[this.selectedFeature]\n        this.popup = new mapboxgl.Popup({ closeButton: false })\n          .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n          .setHTML(`${this.selectedFeature}: <br> ${val}`)\n          .addTo(event.map)\n      }\n    },\n    leaveLink (event) {\n      this.selectedLinks = []\n      if (this.popup?.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    selectClick (event) {\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.selectedLinks?.length > 0) {\n        this.$emit('selectClick', { feature: this.selectedLinks[0].properties, action: 'featureClick' })\n      }\n    },\n    zoneClick (event) {\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.selectedLinks?.length > 0) {\n        this.$emit('selectClick', { feature: this.selectedLinks[0].properties, action: 'zoneClick' })\n      }\n    },\n    zoneHover (event) {\n      if (this.selectedLinks[0]?.id !== event.mapboxEvent.features[0].id) {\n        // event.map.getCanvas().style.cursor = 'pointer'\n        this.selectedLinks = event.mapboxEvent.features\n        if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n        if (this.selectedFeature.length > 0) { // do not show popup if nothing is selected\n          const val = this.selectedLinks[0].properties[this.selectedFeature]\n          this.popup = new mapboxgl.Popup({ closeButton: false })\n            .setLngLat(centroid(this.selectedLinks[0].geometry).geometry.coordinates)\n            .setHTML(`${this.selectedFeature}: <br> ${val}`)\n            .addTo(event.map)\n        }\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <MglMap\n    :key=\"mapStyle\"\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    :map-style=\"mapStyle\"\n    :center=\"$store.getters.mapCenter\"\n    :zoom=\"$store.getters.mapZoom\"\n    @load=\"onMapLoaded\"\n  >\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n\n    <MglGeojsonLayer\n      v-if=\"layerType == 'links'\"\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'display_color'],['get', 'display_color'], '#B5E0D6'],\n          'line-offset': ['*',offsetValue*0.5,['to-number', ['get', 'display_width']]],\n          'line-opacity':opacity/100,\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0],\n          'line-width':['case', ['has', 'display_width'], ['get', 'display_width'], 4],\n\n        },\n        layout: {\n          'line-sort-key': ['to-number',['get', 'display_width']],\n          'line-cap': 'round',\n        }\n\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType == 'nodes'\"\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.links,\n        paint: {\n          'circle-color': ['case', ['has', 'display_color'],['get', 'display_color'], '#B5E0D6'],\n\n          'circle-radius':['case', ['has', 'display_width'], ['get', 'display_width'], 3],\n          'circle-opacity':opacity/100,\n        },\n        layout: {\n          'circle-sort-key': ['to-number',['get', 'display_width']],\n        }\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n\n    <MglImageLayer\n      v-if=\"layerType == 'links'\"\n      source-id=\"links\"\n      type=\"symbol\"\n      source=\"links\"\n      layer-id=\"arrow\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.nodes,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ['*',0.1,['to-number', ['get', 'display_width']]],\n          'icon-rotate': 90,\n          'icon-offset': [offsetValue*5,5],\n\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'display_color'], ['get', 'display_color'], '#B5E0D6'],\n          'icon-opacity':opacity/100,\n\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType == 'zones'\"\n      source-id=\"polygon\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        promoteId: 'index',\n      }\"\n      layer-id=\"zones\"\n      :layer=\"{\n        interactive: true,\n        type: 'fill',\n        'paint': {\n          'fill-color':['case', ['has', 'display_color'],['get', 'display_color'],\n                        $vuetify.theme.currentTheme.linksprimary],\n          'fill-opacity': opacity/100,\n\n        }\n      }\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapResults.vue?vue&type=template&id=986a00c6&scoped=true&\"\nimport script from \"./MapResults.vue?vue&type=script&lang=js&\"\nexport * from \"./MapResults.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"986a00c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"close-on-click\": false,\n        origin: \"top right\",\n        transition: \"scale-transition\",\n        \"position-y\": 30,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"div\",\n                { staticClass: \"setting\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        { attrs: { fab: \"\", small: \"\" } },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          attrs: {\n                            color: !isFinite(_vm.displaySettings.maxVal)\n                              ? \"error\"\n                              : \"regular\",\n                          },\n                        },\n                        [_vm._v(\"\\n          fa-solid fa-cog\\n        \")]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.showDialog,\n        callback: function ($$v) {\n          _vm.showDialog = $$v\n        },\n        expression: \"showDialog\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          class: { shake: _vm.shake },\n          attrs: { \"max-width\": \"20rem\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.submit.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n        },\n        [\n          _c(\n            \"v-card-title\",\n            { staticClass: \"subtitle\" },\n            [\n              _vm._v(\n                \"\\n      \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n      \"\n              ),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                { attrs: { icon: \"\", small: \"\" }, on: { click: _vm.cancel } },\n                [\n                  _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                    _vm._v(\"\\n          fa-solid fa-times\\n        \"),\n                  ]),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-text\",\n            [\n              _c(\n                \"v-form\",\n                { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.featureChoices,\n                              label: _vm.$gettext(_vm.parameters[0].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[0].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.parameters[0].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[0], \"value\", $$v)\n                              },\n                              expression: \"parameters[0].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-row\",\n                            _vm._l(_vm.parameters.slice(1, 3), function (item) {\n                              return _c(\n                                \"v-col\",\n                                { key: item.name },\n                                [\n                                  _c(\"v-text-field\", {\n                                    attrs: {\n                                      type: item.type,\n                                      label: _vm.$gettext(item.name),\n                                      suffix: item.units,\n                                      hint: _vm.showHint\n                                        ? _vm.$gettext(item.hint)\n                                        : \"\",\n                                      \"persistent-hint\": _vm.showHint,\n                                      required: \"\",\n                                    },\n                                    on: { wheel: () => {} },\n                                    model: {\n                                      value: item.value,\n                                      callback: function ($$v) {\n                                        _vm.$set(item, \"value\", $$v)\n                                      },\n                                      expression: \"item.value\",\n                                    },\n                                  }),\n                                ],\n                                1\n                              )\n                            }),\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"v-text-field\", {\n                            attrs: {\n                              type: _vm.parameters[3].type,\n                              label: _vm.$gettext(_vm.parameters[3].name),\n                              suffix: _vm.parameters[3].units,\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[3].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: _vm.parameters[3].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[3], \"value\", $$v)\n                              },\n                              expression: \"parameters[3].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.parameters[5].choices,\n                              label: _vm.$gettext(_vm.parameters[5].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[5].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.parameters[5].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[5], \"value\", $$v)\n                              },\n                              expression: \"parameters[5].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.parameters[6].choices,\n                              label: _vm.$gettext(_vm.parameters[6].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[6].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            scopedSlots: _vm._u([\n                              {\n                                key: \"item\",\n                                fn: function ({ item }) {\n                                  return [\n                                    _c(\n                                      \"div\",\n                                      { staticClass: \"gradient\" },\n                                      [\n                                        _vm._l(\n                                          _vm.getColor(item),\n                                          function (color, key) {\n                                            return _c(\"span\", {\n                                              key: key,\n                                              staticClass: \"grad-step\",\n                                              style: { backgroundColor: color },\n                                            })\n                                          }\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"span\",\n                                          { staticClass: \"domain-title\" },\n                                          [_vm._v(_vm._s(item))]\n                                        ),\n                                      ],\n                                      2\n                                    ),\n                                  ]\n                                },\n                              },\n                            ]),\n                            model: {\n                              value: _vm.parameters[6].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[6], \"value\", $$v)\n                              },\n                              expression: \"parameters[6].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-slider\", {\n                            staticClass: \"align-center\",\n                            attrs: {\n                              \"inverse-label\": \"\",\n                              label: _vm.$gettext(_vm.parameters[4].name),\n                              \"track-color\": \"secondary\",\n                              max: 100,\n                              \"thumb-label\": \"\",\n                              min: 0,\n                              \"hide-details\": \"\",\n                            },\n                            scopedSlots: _vm._u([\n                              {\n                                key: \"thumb-label\",\n                                fn: function ({ value }) {\n                                  return [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(value + \"%\") +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                },\n                              },\n                            ]),\n                            model: {\n                              value: _vm.parameters[4].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[4], \"value\", $$v)\n                              },\n                              expression: \"parameters[4].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[12].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[12].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[12].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            model: {\n                              value: _vm.parameters[12].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[12], \"value\", $$v)\n                              },\n                              expression: \"parameters[12].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[7].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[7].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[7].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            model: {\n                              value: _vm.parameters[7].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[7], \"value\", $$v)\n                              },\n                              expression: \"parameters[7].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[8].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[8].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[7].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            model: {\n                              value: _vm.parameters[8].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[8], \"value\", $$v)\n                              },\n                              expression: \"parameters[8].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            key: _vm.parameters[11].name,\n                            attrs: {\n                              label: _vm.$gettext(_vm.parameters[11].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[11].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                            },\n                            on: {\n                              click: function ($event) {\n                                return _vm.toggleFixScale(\n                                  _vm.parameters[11].name\n                                )\n                              },\n                            },\n                            model: {\n                              value: _vm.parameters[11].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[11], \"value\", $$v)\n                              },\n                              expression: \"parameters[11].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _vm._l(_vm.parameters.slice(9, 11), function (item) {\n                            return _c(\"v-text-field\", {\n                              directives: [\n                                {\n                                  name: \"show\",\n                                  rawName: \"v-show\",\n                                  value: _vm.showFixScale,\n                                  expression: \"showFixScale\",\n                                },\n                              ],\n                              key: item.name,\n                              attrs: {\n                                type: item.type,\n                                label: _vm.$gettext(item.name),\n                                suffix: item.units,\n                                hint: _vm.showHint\n                                  ? _vm.$gettext(item.hint)\n                                  : \"\",\n                                \"persistent-hint\": _vm.showHint,\n                                required: \"\",\n                              },\n                              on: { wheel: () => {} },\n                              model: {\n                                value: item.value,\n                                callback: function ($$v) {\n                                  _vm.$set(item, \"value\", $$v)\n                                },\n                                expression: \"item.value\",\n                              },\n                            })\n                          }),\n                        ],\n                        2\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", text: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", text: \"\" },\n                  on: { click: _vm.submit },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Save\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { icon: \"\", small: \"\" },\n                  on: {\n                    click: function ($event) {\n                      _vm.showHint = !_vm.showHint\n                    },\n                  },\n                },\n                [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport chroma from 'chroma-js'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultsSettings',\n  model: {\n    prop: 'show',\n    event: 'update-show',\n  },\n  props: ['show', 'displaySettings', 'featureChoices'],\n  events: ['update-show', 'submit'],\n\n  data () {\n    return {\n      parameters: [{\n        name: $gettext('selectedFeature'),\n        type: 'String',\n        value: this.displaySettings.selectedFeature,\n        units: '',\n        hint: $gettext('selectedFeature'),\n      },\n      {\n        name: $gettext('maxWidth'),\n        type: 'Number',\n        value: this.displaySettings.maxWidth,\n        units: 'a.u.',\n        hint: $gettext('maxWidth'),\n      },\n      {\n        name: $gettext('minWidth'),\n        type: 'Number',\n        value: this.displaySettings.minWidth,\n        units: 'a.u.',\n        hint: $gettext('minWidth'),\n      },\n      {\n        name: $gettext('numStep'),\n        type: 'Number',\n        value: this.displaySettings.numStep,\n        units: 'int',\n        hint: $gettext('numStep'),\n      },\n      {\n        name: $gettext('opacity'),\n        type: 'Number',\n        value: this.displaySettings.opacity,\n        units: 'number',\n        hint: $gettext('opacity'),\n      },\n      {\n        name: $gettext('scale'),\n        type: 'String',\n        value: this.displaySettings.scale,\n        choices: ['linear', 'sqrt', 'log'],\n        units: '',\n        hint: $gettext('scale'),\n      },\n      {\n        name: $gettext('color map'),\n        type: 'String',\n        choices: Object.keys(chroma.brewer).slice(0, 36),\n        value: this.displaySettings.cmap,\n        units: '',\n        hint: $gettext('cmap to use'),\n      },\n      {\n        name: $gettext('show NaN'),\n        value: this.displaySettings.showNaN,\n        hint: $gettext('Hide NaN on map and color map'),\n      },\n      {\n        name: $gettext('reverse color'),\n        value: this.displaySettings.reverseColor,\n        hint: $gettext('reverse color scale'),\n      },\n      {\n        name: $gettext('scale min'),\n        type: 'Number',\n        value: this.displaySettings.minVal,\n        units: 'a.u.',\n        hint: $gettext('mininum value on the color Map'),\n      },\n      {\n        name: $gettext('scale max'),\n        type: 'Number',\n        value: this.displaySettings.maxVal,\n        units: 'a.u.',\n        hint: $gettext('maximum value on the color Map'),\n      },\n      {\n        name: $gettext('custom scale'),\n        value: this.displaySettings.fixScale,\n        hint: $gettext('customize to inputs values'),\n      },\n      {\n        name: $gettext('Left side driving'),\n        value: this.displaySettings.offset,\n        hint: $gettext('Select which side of the road the links are display'),\n      },\n\n      ],\n      errorMessage: null,\n      showHint: false,\n      showFixScale: false,\n      shake: false,\n\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        largerThanZero: v => v > 0 || $gettext('should be larger than 0'),\n        nonNegative: v => v >= 0 || $gettext('should be larger or equal to 0'),\n      },\n      showDialog: false,\n    }\n  },\n\n  watch: {\n    showDialog (val) {\n      this.refresh()\n      this.showFixScale = this.parameters[11].value\n      this.$emit('update-show', val)\n    },\n    // when we change layer\n    featureChoices () { this.refresh() },\n  },\n  created () {\n    this.showDialog = this.show\n  },\n\n  methods: {\n    toggleFixScale () {\n      if (this.parameters[11].value) {\n        this.showFixScale = true\n        // refresh min max value when displayed\n        this.parameters[9].value = this.displaySettings.minVal\n        this.parameters[10].value = this.displaySettings.maxVal\n      } else { this.showFixScale = false }\n    },\n    getColor (scale) {\n      const arr = []\n      const colorScale = chroma.scale(scale).padding([0.2, 0])\n        .domain([0, 100]).classes(25)\n      for (let i = 0; i < 100; i++) {\n        arr.push(colorScale(i).hex())\n      }\n      return arr\n    },\n    refresh () {\n      this.parameters[0].value = this.displaySettings.selectedFeature\n      this.parameters[1].value = this.displaySettings.maxWidth\n      this.parameters[2].value = this.displaySettings.minWidth\n      this.parameters[3].value = this.displaySettings.numStep\n      this.parameters[4].value = this.displaySettings.opacity\n      this.parameters[5].value = this.displaySettings.scale\n      this.parameters[6].value = this.displaySettings.cmap\n      this.parameters[7].value = this.displaySettings.showNaN\n      this.parameters[8].value = this.displaySettings.reverseColor\n      this.parameters[9].value = this.displaySettings.minVal\n      this.parameters[10].value = this.displaySettings.maxVal\n      this.parameters[11].value = this.displaySettings.fixScale\n      this.parameters[12].value = this.displaySettings.offset\n    },\n    submit () {\n      if (this.$refs.form.validate()) {\n        this.$emit('submit', {\n          selectedFeature: this.parameters[0].value,\n          maxWidth: Number(this.parameters[1].value),\n          minWidth: Number(this.parameters[2].value),\n          numStep: Number(this.parameters[3].value),\n          opacity: Number(this.parameters[4].value),\n          scale: this.parameters[5].value,\n          cmap: this.parameters[6].value,\n          showNaN: this.parameters[7].value,\n          reverseColor: this.parameters[8].value,\n          minVal: Number(this.parameters[9].value),\n          maxVal: Number(this.parameters[10].value),\n          fixScale: this.parameters[11].value,\n          offset: this.parameters[12].value,\n        })\n        // this.showDialog = false\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () {\n      this.showDialog = false\n    },\n  },\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"showDialog\"\n    :close-on-content-click=\"false\"\n    :close-on-click=\"false\"\n    :origin=\"'top right'\"\n    transition=\"scale-transition\"\n    :position-y=\"30\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <div class=\"setting\">\n        <v-btn\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            :color=\"!isFinite(displaySettings.maxVal)?'error':'regular'\"\n          >\n            fa-solid fa-cog\n          </v-icon>\n        </v-btn>\n      </div>\n    </template>\n    <v-card\n      :class=\"{'shake':shake}\"\n      :max-width=\"'20rem'\"\n      @keydown.enter=\"submit\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card-title class=\"subtitle\">\n        {{ $gettext('Settings') }}\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"cancel\"\n        >\n          <v-icon\n            color=\"regular\"\n          >\n            fa-solid fa-times\n          </v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-card-text>\n        <v-form\n          ref=\"form\"\n          lazy-validation\n        >\n          <v-container>\n            <v-col>\n              <v-select\n                v-model=\"parameters[0].value\"\n                :items=\"featureChoices\"\n                :label=\"$gettext(parameters[0].name)\"\n                :hint=\"showHint? $gettext(parameters[0].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              />\n              <v-row>\n                <v-col\n                  v-for=\"item in parameters.slice(1,3)\"\n                  :key=\"item.name\"\n                >\n                  <v-text-field\n                    v-model=\"item.value\"\n                    :type=\"item.type\"\n                    :label=\"$gettext(item.name)\"\n                    :suffix=\"item.units\"\n                    :hint=\"showHint? $gettext(item.hint): ''\"\n                    :persistent-hint=\"showHint\"\n                    required\n                    @wheel=\"()=>{}\"\n                  />\n                </v-col>\n              </v-row>\n              <v-text-field\n                v-model=\"parameters[3].value\"\n                :type=\"parameters[3].type\"\n                :label=\"$gettext(parameters[3].name)\"\n                :suffix=\"parameters[3].units\"\n                :hint=\"showHint? $gettext(parameters[3].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-select\n                v-model=\"parameters[5].value\"\n                :items=\"parameters[5].choices\"\n                :label=\"$gettext(parameters[5].name)\"\n                :hint=\"showHint? $gettext(parameters[5].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              />\n\n              <v-select\n                v-model=\"parameters[6].value\"\n                :items=\"parameters[6].choices\"\n                :label=\"$gettext(parameters[6].name)\"\n                :hint=\"showHint? $gettext(parameters[6].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              >\n                <template v-slot:item=\"{item}\">\n                  <div class=\"gradient\">\n                    <span\n                      v-for=\"(color,key) in getColor(item)\"\n                      :key=\"key\"\n                      class=\"grad-step\"\n                      :style=\"{'backgroundColor':color}\"\n                    />\n                    <span class=\"domain-title\">{{ item }}</span>\n                  </div>\n                </template>\n              </v-select>\n\n              <v-slider\n                v-model=\"parameters[4].value\"\n                class=\"align-center\"\n                inverse-label\n                :label=\"$gettext(parameters[4].name)\"\n                track-color=\"secondary\"\n                :max=\"100\"\n                thumb-label\n                :min=\"0\"\n                hide-details\n              >\n                <template v-slot:thumb-label=\"{ value }\">\n                  {{ value +'%' }}\n                </template>\n              </v-slider>\n              <v-switch\n                :key=\"parameters[12].name\"\n                v-model=\"parameters[12].value\"\n                :label=\"$gettext(parameters[12].name)\"\n                :hint=\"showHint? $gettext(parameters[12].hint): ''\"\n                :persistent-hint=\"showHint\"\n              />\n              <v-switch\n                :key=\"parameters[7].name\"\n                v-model=\"parameters[7].value\"\n                :label=\"$gettext(parameters[7].name)\"\n                :hint=\"showHint? $gettext(parameters[7].hint): ''\"\n                :persistent-hint=\"showHint\"\n              />\n              <v-switch\n                :key=\"parameters[8].name\"\n                v-model=\"parameters[8].value\"\n                :label=\"$gettext(parameters[8].name)\"\n                :hint=\"showHint? $gettext(parameters[7].hint): ''\"\n                :persistent-hint=\"showHint\"\n              />\n              <v-switch\n                :key=\"parameters[11].name\"\n                v-model=\"parameters[11].value\"\n                :label=\"$gettext(parameters[11].name)\"\n                :hint=\"showHint? $gettext(parameters[11].hint): ''\"\n                :persistent-hint=\"showHint\"\n                @click=\"toggleFixScale(parameters[11].name)\"\n              />\n              <v-text-field\n                v-for=\"item in parameters.slice(9,11)\"\n                v-show=\"showFixScale\"\n                :key=\"item.name\"\n                v-model=\"item.value\"\n                :type=\"item.type\"\n\n                :label=\"$gettext(item.name)\"\n                :suffix=\"item.units\"\n                :hint=\"showHint? $gettext(item.hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n                @wheel=\"()=>{}\"\n              />\n            </v-col>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          color=\"grey\"\n          text\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"Cancel\") }}\n        </v-btn>\n\n        <v-btn\n          color=\"green darken-1\"\n          text\n          @click=\"submit\"\n        >\n          {{ $gettext(\"Save\") }}\n        </v-btn>\n\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"showHint = !showHint\"\n        >\n          <v-icon>far fa-question-circle small</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 60%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 10px;\n    padding-bottom: 10px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    padding-left:0.5rem;\n    padding-top:0.5rem;\n    text-align: center;\n    font-size: 16px;\n\n}\n\n.grad-step {\n    display: inline-block;\n    height: 40px;\n    width: 1%;\n}\n\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n\n.setting {\n  left: 98%;\n  width: 0px;\n  z-index: 2;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=style&index=0&id=1cd25eb7&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=style&index=0&id=1cd25eb7&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultsSettings.vue?vue&type=template&id=1cd25eb7&scoped=true&\"\nimport script from \"./ResultsSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsSettings.vue?vue&type=style&index=0&id=1cd25eb7&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cd25eb7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"gradient\" },\n    [\n      _vm._l(_vm.colorScale, function (color, key) {\n        return _c(\"span\", {\n          key: key,\n          staticClass: \"grad-step\",\n          style: { backgroundColor: color },\n        })\n      }),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-title\" }, [\n        _vm._v(_vm._s(_vm.displaySettings.selectedFeature)),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-min\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.minVal))),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-med\" }, [\n        _vm._v(\n          _vm._s(\n            Math.round(\n              (_vm.displaySettings.maxVal + _vm.displaySettings.minVal) / 2\n            )\n          )\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-max\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.maxVal))),\n      ]),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'MapLegend',\n  components: {\n  },\n  props: {\n    colorScale: {\n      type: Array,\n      default: () => [],\n    },\n    displaySettings: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data () {\n    return {\n\n    }\n  },\n  watch: {\n\n  },\n\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <div class=\"gradient\">\n    <span\n      v-for=\"(color,key) in colorScale\"\n      :key=\"key\"\n      class=\"grad-step\"\n      :style=\"{'backgroundColor':color}\"\n    />\n    <span class=\"domain-title\">{{ displaySettings.selectedFeature }}</span>\n    <span class=\"domain-min\">{{ Math.round(displaySettings.minVal) }}</span>\n    <span class=\"domain-med\">{{ Math.round((displaySettings.maxVal+displaySettings.minVal)/2) }}</span>\n    <span class=\"domain-max\">{{ Math.round(displaySettings.maxVal) }}</span>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 85%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 20px;\n    padding-bottom: 15px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    top: 6px;\n\n}\n\n.gradient .domain-min {\n    position: absolute;\n    left: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-med {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-max {\n    position: absolute;\n    right: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n\n.grad-step {\n    display: inline-block;\n    height: 20px;\n    width: 1%;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=77d246dd&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=77d246dd&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MapLegend.vue?vue&type=template&id=77d246dd&scoped=true&\"\nimport script from \"./MapLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLegend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLegend.vue?vue&type=style&index=0&id=77d246dd&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77d246dd\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=script&lang=js&\"","<script>\n\nimport ResultsSidePanel from '../components/ResultsSidePanel.vue'\nimport MapResults from '../components/MapResults.vue'\nimport ResultsSettings from '../components/ResultsSettings.vue'\nimport MapLegend from '../components/utils/MapLegend.vue'\n\nexport default {\n  name: 'ResultMap',\n  components: {\n    ResultsSidePanel,\n    MapResults,\n    ResultsSettings,\n    MapLegend,\n\n  },\n\n  data () {\n    return {\n      mapIsLoaded: false,\n      minZoom: {\n        nodes: 14,\n        links: 8,\n      },\n      showSettings: false,\n      selectedLayer: 'links',\n      selectedCategory: [],\n      form: {},\n      showDialog: false,\n\n    }\n  },\n  computed: {\n    windowHeight () { return this.$store.getters.windowHeight - 100 },\n    availableLayers () { return this.$store.getters.availableLayers },\n    links () { return this.$store.getters['results/links'] },\n    visibleLinks () { return this.$store.getters['results/visibleLinks'] },\n    filterChoices () { return this.$store.getters['results/lineAttributes'] },\n    displaySettings () { return this.$store.getters['results/displaySettings'] },\n    selectedFilter () { return this.$store.getters['results/selectedFilter'] },\n    colorScale () { return this.$store.getters['results/colorScale'] },\n    filteredCategory () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.links.features.map(\n        item => item.properties[this.selectedFilter])))\n      return val\n    },\n  },\n  watch: {\n    selectedCategory (val) {\n      this.$store.commit('results/changeSelectedCategory', val)\n      this.$store.commit('results/updateSelectedFeature')\n    },\n\n  },\n  created () {\n    this.changeLayer(this.selectedLayer)\n  },\n\n  methods: {\n    applySettings (payload) {\n      this.$store.commit('results/applySettings', payload)\n    },\n    updateSelectedFilter (val) {\n      this.$store.commit('results/changeSelectedFilter', val)\n      this.$store.commit('results/updateSelectedFeature')\n    },\n    changeLayer (layer) {\n      this.selectedLayer = layer\n      switch (layer) {\n        case 'links':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.links,\n            type: 'links',\n            selectedFeature: 'headway',\n          })\n          break\n        case 'rlinks':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.rlinks,\n            type: 'links',\n            selectedFeature: 'speed',\n          })\n          break\n        case 'nodes':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.nodes,\n            type: 'nodes',\n            selectedFeature: 'boardings',\n          })\n          break\n        case 'rnodes':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.rnodes,\n            type: 'nodes',\n            selectedFeature: 'boardings',\n          })\n          break\n        default:\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters[`${layer}/layer`],\n            type: this.$store.getters[`${layer}/type`],\n          })\n          break\n      }\n      // this.selectedFilter = this.$store.getters['results/selectedFilter']\n      this.selectedCategory = this.$store.getters['results/selectedCategory']\n    },\n    featureClicked (event) {\n      if (event.action === 'featureClick') {\n        this.form = event.feature\n        this.showDialog = true\n        // OD click.\n      } else if (this.$store.getters[`${this.selectedLayer}/hasOD`]) {\n        const prop = this.displaySettings.selectedFeature\n        this.$store.commit(`${this.selectedLayer}/changeZone`, { index: event.feature.index, selectedProperty: prop })\n        this.$store.commit('results/updateLinks', this.$store.getters[`${this.selectedLayer}/layer`])\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <ResultsSidePanel\n      v-model=\"selectedCategory\"\n      :selected-filter=\"selectedFilter\"\n      :layer-choices=\"availableLayers\"\n      :selected-layer=\"selectedLayer\"\n      :filter-choices=\"filterChoices\"\n      :filtered-cat=\"filteredCategory\"\n      @update-selectedFilter=\"updateSelectedFilter\"\n      @select-layer=\"changeLayer\"\n    />\n\n    <ResultsSettings\n      v-model=\"showSettings\"\n      :display-settings=\"displaySettings\"\n      :feature-choices=\"filterChoices\"\n      @submit=\"applySettings\"\n    />\n    <div class=\"left-panel\">\n      <div\n        :class=\"$store.getters.showLeftPanel ? 'legend-open elevation-4' : 'legend-close elevation-4'\"\n        :style=\"{'top':`${windowHeight}px`}\"\n      >\n        <MapLegend\n          :color-scale=\"colorScale\"\n          :display-settings=\"displaySettings\"\n        />\n      </div>\n    </div>\n\n    <MapResults\n      :key=\"$store.getters['results/type']\"\n      :links=\"visibleLinks\"\n      :selected-feature=\"displaySettings.selectedFeature\"\n      :opacity=\"displaySettings.opacity\"\n      :offset=\"displaySettings.offset\"\n      @selectClick=\"featureClicked\"\n    />\n\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      max-width=\"300\"\n      @keydown.enter=\"showDialog=false\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card max-height=\"60rem\">\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"link Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text>\n          <v-list>\n            <v-text-field\n              v-for=\"(value, key) in form\"\n              :key=\"key\"\n              :value=\"value\"\n              :label=\"key\"\n              filled\n              readonly\n            />\n          </v-list>\n        </v-card-text>\n        <v-divider />\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"showDialog=false\"\n          >\n            {{ $gettext(\"ok\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n\n}\n.left-panel {\n  height: 100%;\n  position: absolute;\n\n}\n.legend-open {\n  left: 350px;\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-white-base);\n  border: thin solid var(--v-mediumgrey-base);\n}\n.legend-close {\n  left: 50px;\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-lightgrey);\n  border: thin solid rgb(196, 196, 196);\n}\n\n.hist {\n  position: relative;\n  bottom: -10px;\n  flex-grow: 1;\n  height: 20px;\n  background-color: rgba(231, 17, 17);\n  text-align: center;\n  width:10px;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=style&index=0&id=89c266de&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=style&index=0&id=89c266de&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultMap.vue?vue&type=template&id=89c266de&scoped=true&\"\nimport script from \"./ResultMap.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultMap.vue?vue&type=style&index=0&id=89c266de&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89c266de\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-tabs\",\n        {\n          attrs: { centered: \"\" },\n          model: {\n            value: _vm.tab,\n            callback: function ($$v) {\n              _vm.tab = $$v\n            },\n            expression: \"tab\",\n          },\n        },\n        [\n          _c(\"v-tab\", [_vm._v(\"OSM importer\")]),\n          _vm._v(\" \"),\n          _c(\"v-tab\", [_vm._v(\"Matrix Road Caster\")]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"layout\" },\n        [\n          _c(\"div\", { staticClass: \"layout-overlay\" }),\n          _vm._v(\" \"),\n          _vm.tab === 0\n            ? _c(\"OSMImporter\")\n            : _vm.tab === 1\n            ? _c(\"MatrixRoadCaster\")\n            : _vm._e(),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-row\",\n    { staticClass: \"ma-0 pa-2 background\" },\n    [\n      _c(\n        \"v-col\",\n        [\n          _c(\n            \"v-card\",\n            { staticClass: \"card\" },\n            [\n              _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"ML Matrix Road Caster\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"1) Find n zones centroids using a Kmean clustering on the nodes\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"2) Call the Here Matrix API on random OD ( around 1% is sufficient )\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"3) Interpolate every other OD time with an hybrid Machine learning model\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"p\", [\n                _vm._v(\n                  \" \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"4) ajust the speed on the road network to match the routing time with the OD time using an iterative algorithm\"\n                      )\n                    )\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-form\",\n                {\n                  ref: \"form\",\n                  attrs: { \"lazy-validation\": \"\" },\n                  model: {\n                    value: _vm.validForm,\n                    callback: function ($$v) {\n                      _vm.validForm = $$v\n                    },\n                    expression: \"validForm\",\n                  },\n                },\n                _vm._l(_vm.parameters, function (item, key) {\n                  return _c(\n                    \"div\",\n                    { key: key },\n                    [\n                      typeof item.items === \"undefined\"\n                        ? _c(\"v-text-field\", {\n                            attrs: {\n                              type: item.type,\n                              label: _vm.$gettext(item.text),\n                              suffix: item.units,\n                              hint: _vm.showHint ? _vm.$gettext(item.hint) : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: item.rules.map((rule) => _vm.rules[rule]),\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: item.value,\n                              callback: function ($$v) {\n                                _vm.$set(item, \"value\", $$v)\n                              },\n                              expression: \"item.value\",\n                            },\n                          })\n                        : _c(\"v-select\", {\n                            attrs: {\n                              type: item.type,\n                              items: item.items,\n                              label: _vm.$gettext(item.text),\n                              suffix: item.units,\n                              hint: _vm.showHint ? _vm.$gettext(item.hint) : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              rules: item.rules.map((rule) => _vm.rules[rule]),\n                              required: \"\",\n                            },\n                            on: { wheel: () => {} },\n                            model: {\n                              value: item.value,\n                              callback: function ($$v) {\n                                _vm.$set(item, \"value\", $$v)\n                              },\n                              expression: \"item.value\",\n                            },\n                          }),\n                    ],\n                    1\n                  )\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: {\n                        color: \"success\",\n                        loading: _vm.running || _vm.importStatus === \"RUNNING\",\n                        disabled:\n                          _vm.running ||\n                          _vm.importStatus === \"RUNNING\" ||\n                          !_vm.validForm,\n                      },\n                      on: {\n                        click: function ($event) {\n                          return _vm.run()\n                        },\n                      },\n                    },\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          staticStyle: { \"margin-right\": \"10px\" },\n                          attrs: { small: \"\" },\n                        },\n                        [_vm._v(\"\\n            fa-solid fa-play\\n          \")]\n                      ),\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Run\")) +\n                          \"\\n        \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.importStatus == \"RUNNING\",\n                          expression: \"importStatus == 'RUNNING'\",\n                        },\n                      ],\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.stopRun()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Abort\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-text\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.importStatus == \"RUNNING\",\n                          expression: \"importStatus == 'RUNNING'\",\n                        },\n                      ],\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          ~ \" +\n                          _vm._s(\n                            _vm.timer > 0\n                              ? Math.ceil(_vm.timer / 60)\n                              : _vm.$gettext(\"less than 1\")\n                          ) +\n                          _vm._s(_vm.$gettext(\" minutes remaining\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { icon: \"\", small: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showHint = !_vm.showHint\n                        },\n                      },\n                    },\n                    [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-col\",\n        [\n          _c(\n            \"v-card\",\n            { staticClass: \"card2\" },\n            [\n              _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Calibration Results\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.imgs.length > 0,\n                      expression: \"imgs.length>0\",\n                    },\n                  ],\n                  attrs: { loading: _vm.applying, disabled: _vm.applying },\n                  on: { click: _vm.ApplyResults },\n                },\n                [\n                  _c(\n                    \"v-icon\",\n                    {\n                      staticStyle: { \"margin-right\": \"10px\" },\n                      attrs: { small: \"\" },\n                    },\n                    [_vm._v(\"\\n          fa-solid fa-upload\\n        \")]\n                  ),\n                  _vm._v(\n                    \"\\n        \" +\n                      _vm._s(_vm.$gettext(\"Apply Road links to project\")) +\n                      \"\\n      \"\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  directives: [\n                    {\n                      name: \"show\",\n                      rawName: \"v-show\",\n                      value: _vm.imgs.length > 0,\n                      expression: \"imgs.length>0\",\n                    },\n                  ],\n                  attrs: { loading: _vm.exporting, disabled: _vm.exporting },\n                  on: { click: _vm.download },\n                },\n                [\n                  _c(\n                    \"v-icon\",\n                    {\n                      staticStyle: { \"margin-right\": \"10px\" },\n                      attrs: { small: \"\" },\n                    },\n                    [_vm._v(\"\\n          fa-solid fa-download\\n        \")]\n                  ),\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Download\")) + \"\\n      \"\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm.error\n                ? _c(\n                    \"v-alert\",\n                    {\n                      attrs: {\n                        dense: \"\",\n                        outlined: \"\",\n                        text: \"\",\n                        type: \"error\",\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(\n                            _vm.$gettext(\n                              \"Service ended with an execution error or have been aborted. \\\n          Please retry. If the problem persist, contact us.\"\n                            )\n                          ) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm._l(_vm.imgs, function (img, key) {\n                return _c(\n                  \"div\",\n                  { key: key, staticClass: \"gallery\" },\n                  [\n                    _c(\"v-img\", {\n                      attrs: { src: img, alt: \"image\", contain: \"\" },\n                    }),\n                  ],\n                  1\n                )\n              }),\n            ],\n            2\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport s3 from '@src/AWSClient'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'MatrixRoadCaster',\n  components: {\n  },\n\n  data () {\n    return {\n      imgs: [],\n      exporting: false,\n      applying: false,\n      validForm: true,\n\n      parameters: [{\n        name: 'num_zones',\n        text: 'number of zones',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'number of zones. road nodes will be aggregate to form centroids',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'train_size',\n        text: 'number of OD (api call)',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'number of OD to get from the API, the rest will be interpolated with ML',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'date_time',\n        text: 'date Time',\n        value: null,\n        type: 'String',\n        units: '',\n        hint: 'DateTime in the past. (YYYY-MM-DDTHH:MM:SS(UTC-timezone) (-04:00 for montreal))',\n        rules: [\n          'required', 'dateTimeRule',\n        ],\n      },\n      {\n        name: 'ff_time_col',\n        text: 'freeflow time on roads',\n        value: null,\n        items: this.$store.getters.rlineAttributes,\n        type: 'String',\n        units: '',\n        hint: 'road links time (link length / speed) to use as a first approximation. this is the freeflow speed, or speed limit',\n        rules: [\n          'required',\n        ],\n      },\n      {\n        name: 'max_speed',\n        text: 'max speed on road',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'Maximum allowed speed on a road. applying an OD matrix on the road network could result il unrealistic speed if not used.',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'num_random_od',\n        text: 'number of OD to plot',\n        value: null,\n        type: 'Number',\n        units: '',\n        hint: 'number of OD calibration plot to produce. those are random OD.',\n        rules: [\n          'required', 'largerThanZero',\n        ],\n      },\n      {\n        name: 'hereApiKey',\n        text: 'HERE api key',\n        value: null,\n        type: 'String',\n        units: '',\n        hint: 'HERE api key to download a set of OD',\n        rules: [\n          'required',\n        ],\n      },\n      ],\n\n      showHint: false,\n      // eslint-disable-next-line max-len, no-useless-escape\n      re: /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/,\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        largerThanZero: v => v > 0 || $gettext('should be larger than 0'),\n        nonNegative: v => v >= 0 || $gettext('should be larger or equal to 0'),\n        dateTimeRule: v => this.re.test(v) || $gettext('invalid date time'),\n      },\n\n    }\n  },\n  computed: {\n    bucket () { return this.$store.getters['runMRC/bucket'] },\n    callID () { return this.$store.getters['runMRC/callID'] },\n    timer () { return this.$store.getters['runMRC/timer'] },\n    importStatus () { return this.$store.getters['runMRC/status'] },\n    running () { return this.$store.getters['runMRC/running'] },\n    error () { return this.$store.getters['runMRC/error'] },\n\n  },\n  watch: {\n    importStatus (val) {\n      if (val === 'SUCCEEDED') {\n        this.getImagesURL()\n      }\n    },\n  },\n  created () {\n    // init params to the store ones.\n    const storeParams = this.$store.getters['runMRC/parameters']\n    // eslint-disable-next-line no-return-assign\n    this.parameters.forEach(param => param.value = storeParams[param.name])\n    // this.callID = '7617f433-b80e-4570-bacd-9b26dc1c1311'\n    // if null, we create a uuid. else we fetch the data on S3\n    if (this.callID) {\n      this.getImagesURL()\n    }\n  },\n  methods: {\n    run () {\n      if (!this.$refs.form.validate()) { return }\n      this.$store.commit('runMRC/setCallID')\n      const inputs = { callID: this.callID }\n      this.parameters.forEach(item => {\n        inputs[item.name] = item.value\n      })\n      this.$store.dispatch('runMRC/startExecution', {\n        rlinks: this.$store.getters.rlinks,\n        rnodes: this.$store.getters.rnodes,\n        parameters: inputs,\n      })\n    },\n    stopRun () { this.$store.dispatch('runMRC/stopExecution') },\n\n    async ApplyResults () {\n      this.applying = true\n      const rlinks = await s3.readJson(this.bucket, this.callID.concat('/road_links.geojson'))\n      this.$store.commit('loadrLinks', rlinks)\n      const rnodes = await s3.readJson(this.bucket, this.callID.concat('/road_nodes.geojson'))\n      this.$store.commit('loadrNodes', rnodes)\n      this.applying = false\n      this.$store.commit('changeNotification',\n        { text: $gettext('Road links applied!'), autoClose: true, color: 'success' })\n    },\n    async getImagesURL () {\n      const outputsFiles = await s3.listFiles(this.bucket, this.callID + '/')\n      const filesNames = outputsFiles.filter(name => name.endsWith('.png'))\n      for (const file of filesNames) {\n        const url = await s3.getImagesURL(this.bucket, file)\n        this.imgs.push(url)\n      }\n    },\n    async download () {\n      this.exporting = true\n      await s3.downloadFolder(this.bucket, this.callID.concat('/'))\n      this.exporting = false\n    },\n\n  },\n}\n</script>\n<template>\n  <v-row class=\"ma-0 pa-2 background\">\n    <v-col>\n      <v-card class=\"card\">\n        <v-card-title class=\"subtitle\">\n          {{ $gettext('ML Matrix Road Caster') }}\n        </v-card-title>\n        <p> {{ $gettext('1) Find n zones centroids using a Kmean clustering on the nodes') }}</p>\n        <p> {{ $gettext('2) Call the Here Matrix API on random OD ( around 1% is sufficient )') }}</p>\n        <p> {{ $gettext('3) Interpolate every other OD time with an hybrid Machine learning model') }}</p>\n        <p> {{ $gettext('4) ajust the speed on the road network to match the routing time with the OD time using an iterative algorithm') }}</p>\n\n        <v-form\n          ref=\"form\"\n          v-model=\"validForm\"\n          lazy-validation\n        >\n          <div\n            v-for=\"(item, key) in parameters\"\n            :key=\"key\"\n          >\n            <v-text-field\n              v-if=\"typeof item.items === 'undefined'\"\n              v-model=\"item.value\"\n              :type=\"item.type\"\n              :label=\"$gettext(item.text)\"\n              :suffix=\"item.units\"\n              :hint=\"showHint? $gettext(item.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"item.rules.map((rule) => rules[rule])\"\n              required\n              @wheel=\"()=>{}\"\n            />\n            <v-select\n              v-else\n              v-model=\"item.value\"\n              :type=\"item.type\"\n              :items=\"item.items\"\n              :label=\"$gettext(item.text)\"\n              :suffix=\"item.units\"\n              :hint=\"showHint? $gettext(item.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"item.rules.map((rule) => rules[rule])\"\n              required\n              @wheel=\"()=>{}\"\n            />\n          </div>\n        </v-form>\n        <v-card-actions>\n          <v-btn\n            color=\"success\"\n            :loading=\"running || importStatus === 'RUNNING'\"\n            :disabled=\"running || importStatus === 'RUNNING' || !validForm\"\n            @click=\"run()\"\n          >\n            <v-icon\n              small\n              style=\"margin-right: 10px;\"\n            >\n              fa-solid fa-play\n            </v-icon>\n            {{ $gettext(\"Run\") }}\n          </v-btn>\n          <v-btn\n            v-show=\"importStatus == 'RUNNING'\"\n            color=\"grey\"\n            text\n            @click=\"stopRun()\"\n          >\n            {{ $gettext(\"Abort\") }}\n          </v-btn>\n          <v-card-text v-show=\"importStatus == 'RUNNING'\">\n            ~ {{ timer>0? Math.ceil(timer/60): $gettext('less than 1') }}{{ $gettext(' minutes remaining') }}\n          </v-card-text>\n          <v-spacer />\n          <v-btn\n            icon\n            small\n            @click=\"showHint = !showHint\"\n          >\n            <v-icon>far fa-question-circle small</v-icon>\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-col>\n    <v-col>\n      <v-card class=\"card2\">\n        <v-card-title class=\"subtitle\">\n          {{ $gettext('Calibration Results') }}\n        </v-card-title>\n        <v-btn\n          v-show=\"imgs.length>0\"\n          :loading=\"applying\"\n          :disabled=\"applying\"\n          @click=\"ApplyResults\"\n        >\n          <v-icon\n            small\n            style=\"margin-right: 10px;\"\n          >\n            fa-solid fa-upload\n          </v-icon>\n          {{ $gettext('Apply Road links to project') }}\n        </v-btn>\n        <v-btn\n          v-show=\"imgs.length>0\"\n          :loading=\"exporting\"\n          :disabled=\"exporting\"\n          @click=\"download\"\n        >\n          <v-icon\n            small\n            style=\"margin-right: 10px;\"\n          >\n            fa-solid fa-download\n          </v-icon>\n          {{ $gettext('Download') }}\n        </v-btn>\n        <v-alert\n          v-if=\"error\"\n          dense\n          outlined\n          text\n          type=\"error\"\n        >\n          {{ $gettext(\"Service ended with an execution error or have been aborted. \\\n            Please retry. If the problem persist, contact us.\") }}\n        </v-alert>\n        <div\n          v-for=\"(img,key) in imgs\"\n          :key=\"key\"\n          class=\"gallery\"\n        >\n          <v-img\n            :src=\"img\"\n            :alt=\"'image'\"\n            contain\n          />\n        </div>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<style lang=\"scss\" scoped>\n.container {\n  width: 100%;\n  overflow: hidden;\n  margin-left: 0 auto;\n  margin-right: 0 auto;\n  padding: 0 0 0 0;\n}\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  height: 100%;\n  overflow-y: auto;\n  padding: 2.5rem;\n}\n.card2 {\n  height: 100%;\n  overflow-y: auto;\n  padding: 2.5rem;\n  margin-right: 3rem;\n}\n\n.v-card__text {\n  max-height: 80%;\n  overflow-y: auto;\n}\n.row {\n  height: calc(100% - 38px)\n}\n.col {\n  max-height: 100%;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:var(--v-secondary-dark);\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0px;\n}\n.card button {\n  margin-top: 0px;\n}\n.background {\n  background-color:var(--v-background-base);\n}\n\ndiv.gallery {\n  margin: 5px;\n  background-color: var(--v-white-base);\n  border: 1px solid var(--v-lightgrey-base);\n  float: left;\n  width: 50rem;\n}\n\ndiv.gallery:hover {\n  border: 1px solid var(--v-darkgrey-base);\n}\n\ndiv.gallery img {\n  width: 100%;\n  height: auto;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=style&index=0&id=e0ded876&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRoadCaster.vue?vue&type=style&index=0&id=e0ded876&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MatrixRoadCaster.vue?vue&type=template&id=e0ded876&scoped=true&\"\nimport script from \"./MatrixRoadCaster.vue?vue&type=script&lang=js&\"\nexport * from \"./MatrixRoadCaster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MatrixRoadCaster.vue?vue&type=style&index=0&id=e0ded876&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0ded876\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card\",\n        { staticClass: \"card\" },\n        [\n          _c(\"v-card-title\", [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(_vm.$gettext(\"Import OSM network in bounding box\")) +\n                \"\\n    \"\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-subtitle\",\n            [\n              _vm.importStatus == \"FAILED\" ||\n              _vm.importStatus == \"TIMED_OUT\" ||\n              _vm.importStatus == \"ABORTED\"\n                ? _c(\n                    \"v-alert\",\n                    {\n                      attrs: {\n                        dense: \"\",\n                        width: \"50rem\",\n                        outlined: \"\",\n                        text: \"\",\n                        type: \"error\",\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(\n                            _vm.$gettext(\n                              \"There as been an error while importing OSM network. \\\n          Please try again. If the problem persist, contact us.\"\n                            )\n                          ) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  )\n                : _vm._e(),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\n                \"MglMap\",\n                {\n                  key: _vm.mapStyle,\n                  staticClass: \"map\",\n                  attrs: {\n                    \"access-token\": _vm.mapboxPublicKey,\n                    \"map-style\": _vm.mapStyle,\n                  },\n                  on: { load: _vm.onMapLoaded },\n                },\n                [\n                  _c(\"MglScaleControl\", {\n                    attrs: { position: \"bottom-right\" },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"MglNavigationControl\", {\n                    attrs: { position: \"bottom-right\" },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"MglGeojsonLayer\", {\n                    attrs: {\n                      \"source-id\": \"polygon\",\n                      source: {\n                        type: \"geojson\",\n                        data: _vm.poly,\n                        promoteId: \"index\",\n                      },\n                      \"layer-id\": \"poly\",\n                      layer: {\n                        interactive: true,\n                        type: \"fill\",\n                        paint: {\n                          \"fill-color\":\n                            _vm.$vuetify.theme.currentTheme.linksprimary, // blue color fill\n                          \"fill-opacity\": 0.3,\n                        },\n                      },\n                    },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"MglGeojsonLayer\", {\n                    attrs: {\n                      \"source-id\": \"polygon\",\n                      type: \"line\",\n                      source: \"polygon\",\n                      \"layer-id\": \"stroke\",\n                      layer: {\n                        type: \"line\",\n                        paint: {\n                          \"line-color\":\n                            _vm.$vuetify.theme.currentTheme.linksprimary,\n                          \"line-width\": 3,\n                        },\n                      },\n                    },\n                  }),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.highwayList,\n                  attach: \"\",\n                  chips: \"\",\n                  \"menu-props\": { top: true, offsetY: true },\n                  label: \"Highways to import\",\n                  multiple: \"\",\n                },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"selection\",\n                    fn: function ({ item, index }) {\n                      return [\n                        index <= 0\n                          ? _c(\"v-chip\", [_c(\"span\", [_vm._v(_vm._s(item))])])\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        index === 1\n                          ? _c(\n                              \"span\",\n                              { staticClass: \"grey--text text-caption\" },\n                              [\n                                _vm._v(\n                                  \"\\n            (+\" +\n                                    _vm._s(\n                                      _vm.selectedHighway.length -\n                                        1 +\n                                        \" \" +\n                                        _vm.$gettext(\"more\")\n                                    ) +\n                                    \" )\\n          \"\n                                ),\n                              ]\n                            )\n                          : _vm._e(),\n                      ]\n                    },\n                  },\n                ]),\n                model: {\n                  value: _vm.selectedHighway,\n                  callback: function ($$v) {\n                    _vm.selectedHighway = $$v\n                  },\n                  expression: \"selectedHighway\",\n                },\n              }),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: {\n                    text: \"\",\n                    outlined: \"\",\n                    color: \"success\",\n                    loading: _vm.running,\n                    disabled: _vm.running,\n                  },\n                  on: { click: _vm.importOSM },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Download\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"500\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyOverwriteDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showOverwriteDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showOverwriteDialog,\n            callback: function ($$v) {\n              _vm.showOverwriteDialog = $$v\n            },\n            expression: \"showOverwriteDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Overwrite current road network ?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showOverwriteDialog = !_vm.showOverwriteDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyOverwriteDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer } from 'vue-mapbox'\nimport buffer from '@turf/buffer'\nimport bboxPolygon from '@turf/bbox-polygon'\nimport auth from '@src/auth.js'\n\nexport default {\n  name: 'OSMImporter',\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n  },\n\n  data () {\n    return {\n      mapboxPublicKey: process.env.VUE_APP_MAPBOX_PUBLIC_KEY,\n      showOverwriteDialog: false,\n      bbox: null,\n      poly: null,\n      selectedHighway: null,\n      highwayList: [\n        'motorway',\n        'motorway_link',\n        'trunk',\n        'trunk_link',\n        'primary',\n        'primary_link',\n        'secondary',\n        'secondary_link',\n        'tertiary',\n        'tertiary_link',\n        'residential',\n        'service',\n        'unclassified',\n        'cycleway',\n      ],\n      isUserSignedIn: auth.auth.isUserSignedIn(),\n      colorDict: {\n        motorway: 'E892A2',\n        motorway_link: 'E892A2',\n        trunk: 'E892A2',\n        trunk_link: 'E892A2',\n        primary: 'FCD6A4',\n        primary_link: 'FCD6A4',\n        secondary: 'F7F9BE',\n        secondary_link: 'F7F9BE',\n        tertiary: '808080',\n        tertiary_link: '808080',\n        residential: '808080',\n        service: '808080',\n        unclassified: '808080',\n        cycleway: '1D8621',\n      },\n      widthDict: {\n        motorway: 4,\n        motorway_link: 4,\n        trunk: 4,\n        trunk_link: 4,\n        primary: 4,\n        primary_link: 4,\n        secondary: 3,\n        secondary_link: 3,\n        tertiary: 2,\n        tertiary_link: 2,\n        residential: 2,\n        service: 2,\n        unclassified: 2,\n        cycleway: 2,\n      },\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    rlinksIsEmpty () { return this.$store.getters.rlinksIsEmpty },\n    highway () { return this.$store.getters['runOSM/highway'] },\n    bucket () { return this.$store.getters['runOSM/bucket'] },\n    callID () { return this.$store.getters['runOSM/callID'] },\n    importStatus () { return this.$store.getters['runOSM/status'] },\n    running () { return this.$store.getters['runOSM/running'] },\n    error () { return this.$store.getters['runOSM/error'] },\n  },\n  watch: {\n    selectedHighway (val) { this.$store.commit('runOSM/changeHighway', val) },\n  },\n\n  beforeDestroy () {\n    // remove stroke layer as it use the polygon layer data.\n    try {\n      this.map.removeLayer('stroke')\n    } catch (err) {}\n  },\n\n  created () {\n    this.selectedHighway = this.highway\n  },\n  methods: {\n    onMapLoaded (event) {\n      event.map.dragRotate.disable()\n      this.map = event.map\n      this.map.on('dragend', this.getBounds)\n      this.map.on('zoomend', this.getBounds)\n      this.getBounds()\n    },\n    getBounds () {\n      this.bbox = this.map.getBounds()\n      const bbox = bboxPolygon([this.bbox._sw.lng, this.bbox._sw.lat, this.bbox._ne.lng, this.bbox._ne.lat])\n      this.poly = buffer(bbox, -0.1 * (this.bbox._ne.lat - this.bbox._sw.lat), { units: 'degrees' })\n      this.poly.geometry.coordinates[0] = this.poly.geometry.coordinates[0].reverse()\n    },\n    importOSM () {\n      if (this.rlinksIsEmpty) {\n        this.$store.commit('runOSM/setCallID')\n\n        const bbox = [this.bbox._sw.lat, this.bbox._sw.lng, this.bbox._ne.lat, this.bbox._ne.lng]\n        this.$store.dispatch('runOSM/startExecution', { bbox: bbox })\n      } else {\n        this.showOverwriteDialog = true\n      }\n    },\n\n    applyOverwriteDialog () {\n      this.$store.commit('unloadrFiles')\n      this.showOverwriteDialog = false\n      this.importOSM()\n    },\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card\n      class=\"card\"\n    >\n      <v-card-title>\n        {{ $gettext(\"Import OSM network in bounding box\") }}\n      </v-card-title>\n      <v-spacer />\n      <v-card-subtitle>\n        <v-alert\n          v-if=\"importStatus == 'FAILED' || importStatus == 'TIMED_OUT' || importStatus == 'ABORTED'\"\n          dense\n          width=\"50rem\"\n          outlined\n          text\n          type=\"error\"\n        >\n          {{ $gettext(\"There as been an error while importing OSM network. \\\n            Please try again. If the problem persist, contact us.\") }}\n        </v-alert>\n      </v-card-subtitle>\n      <v-card-actions>\n        <MglMap\n          :key=\"mapStyle\"\n          class=\"map\"\n          :access-token=\"mapboxPublicKey\"\n          :map-style=\"mapStyle\"\n          @load=\"onMapLoaded\"\n        >\n          <MglScaleControl position=\"bottom-right\" />\n          <MglNavigationControl position=\"bottom-right\" />\n\n          <MglGeojsonLayer\n            source-id=\"polygon\"\n            :source=\"{\n              type: 'geojson',\n              data: poly,\n              promoteId: 'index',\n            }\"\n            layer-id=\"poly\"\n            :layer=\"{\n              interactive: true,\n              type: 'fill',\n              'paint': {\n                'fill-color': $vuetify.theme.currentTheme.linksprimary, // blue color fill\n                'fill-opacity': 0.3,\n\n              },\n            }\"\n          />\n\n          <MglGeojsonLayer\n            source-id=\"polygon\"\n            type=\"line\"\n            source=\"polygon\"\n            layer-id=\"stroke\"\n            :layer=\"{\n              type: 'line',\n              paint: {\n                'line-color':$vuetify.theme.currentTheme.linksprimary,\n                'line-width':3\n              }\n            }\"\n          />\n        </MglMap>\n      </v-card-actions>\n      <v-divider />\n\n      <v-card-actions>\n        <v-spacer />\n        <v-select\n          v-model=\"selectedHighway\"\n          :items=\"highwayList\"\n          attach\n          chips\n          :menu-props=\"{ top: true, offsetY: true }\"\n          label=\"Highways to import\"\n          multiple\n        >\n          <template v-slot:selection=\"{ item, index }\">\n            <v-chip v-if=\"index <= 0\">\n              <span>{{ item }}</span>\n            </v-chip>\n            <span\n              v-if=\"index === 1\"\n              class=\"grey--text text-caption\"\n            >\n              (+{{ selectedHighway.length - 1 + ' ' + $gettext('more') }} )\n            </span>\n          </template>\n        </v-select>\n        <v-spacer />\n        <v-btn\n          text\n          outlined\n          color=\"success\"\n          :loading=\"running\"\n          :disabled=\"running\"\n          @click=\"importOSM\"\n        >\n          {{ $gettext(\"Download\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n    <v-dialog\n      v-model=\"showOverwriteDialog\"\n      persistent\n      max-width=\"500\"\n      @keydown.enter=\"applyOverwriteDialog\"\n      @keydown.esc=\"showOverwriteDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Overwrite current road network ?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"showOverwriteDialog = !showOverwriteDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyOverwriteDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n.card {\n  height: 100%;\n  overflow-y: auto;\n  padding: 2.5rem;\n}\n.map {\n  max-width: 100rem;\n  width:50rem;\n  height: 40rem;\n}\n.v-card__text {\n    padding: 0px 24px 0px;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=style&index=0&id=24e4dd51&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=style&index=0&id=24e4dd51&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./OSMImporter.vue?vue&type=template&id=24e4dd51&scoped=true&\"\nimport script from \"./OSMImporter.vue?vue&type=script&lang=js&\"\nexport * from \"./OSMImporter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OSMImporter.vue?vue&type=style&index=0&id=24e4dd51&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24e4dd51\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Microservices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Microservices.vue?vue&type=script&lang=js&\"","<script>\nimport MatrixRoadCaster from '../components/MatrixRoadCaster.vue'\nimport OSMImporter from '../components/OSMImporter.vue'\n\nexport default {\n  name: 'Microservices',\n  components: {\n    MatrixRoadCaster,\n    OSMImporter,\n  },\n  props: {\n    value: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data () {\n    return {\n      tab: 0,\n    }\n  },\n  computed: {\n    rlinksIsEmpty () { return this.$store.getters.rlinksIsEmpty },\n  },\n  watch: {\n    tab (val) { },\n  },\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <section>\n    <v-tabs\n      v-model=\"tab\"\n      centered\n    >\n      <v-tab>OSM importer</v-tab>\n      <v-tab>Matrix Road Caster</v-tab>\n    </v-tabs>\n    <div class=\"layout\">\n      <div class=\"layout-overlay\" />\n      <OSMImporter v-if=\"tab===0 \" />\n\n      <MatrixRoadCaster v-else-if=\"tab===1\" />\n    </div>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color:var(--v-background-base);\n\n  position: absolute;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Microservices.vue?vue&type=style&index=0&id=fb2ac9b2&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Microservices.vue?vue&type=style&index=0&id=fb2ac9b2&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Microservices.vue?vue&type=template&id=fb2ac9b2&scoped=true&\"\nimport script from \"./Microservices.vue?vue&type=script&lang=js&\"\nexport * from \"./Microservices.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Microservices.vue?vue&type=style&index=0&id=fb2ac9b2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb2ac9b2\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Import from '@page/Import.vue'\nimport ResultPicture from '@page/ResultPicture.vue'\nimport auth from '../auth'\nimport Home from '@page/Home.vue'\nimport Run from '@page/Run.vue'\nimport ResultMap from '@page/ResultMap.vue'\nimport Microservices from '@page/Microservices.vue'\nimport { store } from '../store/index.js'\n\nVue.use(Router)\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nconst router = new Router({\n  linkExactActiveClass: 'active',\n  mode: 'history',\n  base: '/quetzal-network-editor-dev/',\n  routes: [\n    {\n      path: '/',\n      name: Import.name,\n      component: Import,\n      icon: 'fa-solid fa-upload',\n      title: $gettext('Import'),\n    },\n    {\n      path: '/Microservices',\n      name: Microservices.name,\n      component: Microservices,\n      icon: 'fas fa-tachometer-alt',\n      title: $gettext('Microservices'),\n      beforeEnter: (to, from, next) => {\n        if (!store.getters.loggedIn) {\n          store.commit('changeNotification',\n            {\n              text: $gettext('Must be logged in'),\n              autoClose: true,\n              color: 'error',\n            })\n        } else {\n          next()\n        }\n      },\n    },\n    {\n      path: '/Home',\n      name: Home.name,\n      component: Home,\n      icon: 'fa-solid fa-map',\n      title: $gettext('Map'),\n    },\n    {\n      path: '/Run',\n      name: Run.name,\n      component: Run,\n      icon: 'fa-solid fa-play',\n      title: $gettext('Parameters and Run'),\n      beforeEnter: (to, from, next) => {\n        if (store.getters.scenario === null) {\n          store.commit('changeNotification',\n            {\n              text: $gettext('A scenario must be loaded to enter this page'),\n              autoClose: true,\n              color: 'error',\n            })\n        } else {\n          next()\n        }\n      },\n    },\n    {\n      path: '/ResultMap',\n      name: ResultMap.name,\n      component: ResultMap,\n      icon: 'fa-solid fa-layer-group',\n      title: $gettext('Results Map'),\n    },\n    {\n      path: '/ResultPicture',\n      name: ResultPicture.name,\n      component: ResultPicture,\n      icon: 'fas fa-images',\n      title: $gettext('Results Pictures'),\n      beforeEnter: (to, from, next) => {\n        if (store.getters.scenario === null) {\n          store.commit('changeNotification',\n            {\n              text: $gettext('A scenario must be loaded to enter this page'),\n              autoClose: true,\n              color: 'error',\n            })\n        } else {\n          next()\n        }\n      },\n    },\n    {\n      path: '/callback',\n      name: 'callback',\n      beforeEnter: (to, from, next) => {\n        const currUrl = window.location.href\n        auth.auth.parseCognitoWebResponse(currUrl)\n        next('/')\n      },\n    },\n    {\n      path: '/signout',\n      name: 'signout',\n      beforeEnter: (to, from, next) => {\n        next('/')\n      },\n    },\n  ],\n})\n\n// router.replace({ 'query.s3Path': null }) // remove query in url when page is load.\n\nrouter.beforeEach((to, from, next) => {\n  if ((!['Import', 'callback', 'signout'].includes(to.name)) &&\n      store.getters.projectIsUndefined) {\n    next({ name: 'Import' })\n  } else next()\n})\n\nexport default router\n","import { quetzalClient } from '@src/axiosClient.js'\nimport s3 from '@src/AWSClient'\nimport { v4 as uuid } from 'uuid'\nimport router from '../../router'\n\nconst $gettext = s => s\n\nexport default {\n  namespaced: true,\n  state: {\n    stateMachineArn: 'arn:aws:states:ca-central-1:142023388927:stateMachine:osm-api',\n    bucket: 'quenedi-osm',\n    callID: '',\n    status: '',\n    timer: 0,\n    running: false,\n    executionArn: '',\n    error: false,\n    tags: ['highway', 'maxspeed', 'lanes', 'name', 'oneway', 'surface'],\n    highway: [\n      'motorway',\n      'motorway_link',\n      'trunk',\n      'trunk_link',\n      'primary',\n      'primary_link',\n    ],\n    colorDict: {\n      motorway: 'E892A2',\n      motorway_link: 'E892A2',\n      trunk: 'E892A2',\n      trunk_link: 'E892A2',\n      primary: 'FCD6A4',\n      primary_link: 'FCD6A4',\n      secondary: 'F7F9BE',\n      secondary_link: 'F7F9BE',\n      tertiary: '808080',\n      tertiary_link: '808080',\n      residential: '808080',\n      service: '808080',\n      unclassified: '808080',\n      cycleway: '1D8621',\n    },\n    widthDict: {\n      motorway: 4,\n      motorway_link: 4,\n      trunk: 4,\n      trunk_link: 4,\n      primary: 4,\n      primary_link: 4,\n      secondary: 3,\n      secondary_link: 3,\n      tertiary: 2,\n      tertiary_link: 2,\n      residential: 2,\n      service: 2,\n      unclassified: 2,\n      cycleway: 2,\n    },\n  },\n  mutations: {\n    cleanRun (state) {\n      state.running = false\n      state.executionArn = ''\n      state.error = false\n    },\n    setCallID (state) { state.callID = uuid() },\n    startExecution (state) {\n      state.error = false\n      state.running = true\n    },\n    terminateExecution (state) {\n      state.running = false\n      state.error = true\n      state.executionArn = ''\n    },\n    changeRunning (state, payload) {\n      state.running = payload\n    },\n    changeHighway (state, payload) {\n      state.highway = payload\n    },\n    succeedExecution (state) {\n      state.running = false\n      state.executionArn = ''\n      this.commit('changeNotification',\n        { text: $gettext('OSM network imported successfully!'), autoClose: false, color: 'success' })\n    },\n\n  },\n  actions: {\n    startExecution ({ state, commit, dispatch }, payload) {\n      // commit('setParameters', payload.parameters)\n      state.running = true\n      let overpassQuery = `[out:json][timeout:180];\n      (\n      `\n      overpassQuery += state.highway.map(highway => `way[\"highway\"=\"${highway}\"](${payload.bbox});\\n`).join('')\n      overpassQuery += `);\n      out body;\n      >;\n      out skel qt;\n      `\n      let data = {\n        input: JSON.stringify({\n          overpassQuery: overpassQuery,\n          tags: state.tags,\n          callID: state.callID,\n        }),\n        name: state.callID,\n        stateMachineArn: state.stateMachineArn,\n      }\n      quetzalClient.client.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          state.executionArn = response.data.executionArn\n          dispatch('pollExecution')\n        }).catch(err => {\n        commit('changeAlert', err, { root: true })\n        state.running = false\n        state.status = 'FAILED'\n      })\n    },\n    async pollExecution ({ commit, state, dispatch }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        state.timer = state.timer - 2\n        quetzalClient.client.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          async response => {\n            state.status = response.data.status\n            console.log(state.status)\n            if (state.status === 'SUCCEEDED') {\n              await dispatch('downloadOSMFromS3')\n              commit('succeedExecution')\n              clearInterval(intervalId)\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(state.status)) {\n              commit('terminateExecution')\n              clearInterval(intervalId)\n            }\n          }).catch(err => { commit('changeAlert', err, { root: true }) })\n      }, 2000)\n    },\n    stopExecution ({ state, commit }) {\n      let data = { executionArn: state.executionArn }\n      quetzalClient.client.post('/abort',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('terminateExecution', response.data)\n          // Maybe we sould wait for back to say that execution is terminated (but the wait is awkward)\n        }).catch(\n        err => {\n          commit('changeAlert', err, { root: true })\n        })\n    },\n    async downloadOSMFromS3 ({ state, commit }) {\n      function applyDict (links) {\n        // 00BCD4\n        Object.keys(state.colorDict).forEach(highway => {\n          links.features.filter(link => link.properties.highway === highway).forEach(\n            link => {\n              link.properties.route_width = state.widthDict[highway]\n              link.properties.route_color = state.colorDict[highway]\n            })\n        })\n        return links\n      }\n\n      let rlinks = await s3.readJson(state.bucket, state.callID.concat('/links.geojson'))\n      rlinks = applyDict(rlinks)\n      commit('loadrLinks', rlinks, { root: true })\n      const rnodes = await s3.readJson(state.bucket, state.callID.concat('/nodes.geojson'))\n      commit('loadrNodes', rnodes, { root: true })\n      await s3.deleteFolder(state.bucket, state.callID)\n      console.log('downloaded')\n      router.push('/Home').catch(() => {})\n    },\n  },\n  getters: {\n    running: (state) => state.running,\n    status: (state) => state.status,\n    executionArn: (state) => state.executionArn,\n    error: (state) => state.error,\n    callID: (state) => state.callID,\n    bucket: (state) => state.bucket,\n    timer: (state) => state.timer,\n    highway: (state) => state.highway,\n    tags: (state) => state.tags,\n  },\n}\n","import s3 from '../AWSClient'\nexport default {\n  namespaced: false,\n  state: {\n    cognitoInfo: {},\n    cognitoGroup: '',\n    bucketList: [],\n    accesToken: '',\n    idToken: '',\n    loggedIn: false,\n    loadingState: true,\n    errorLoadingState: false,\n    scenariosList: [],\n    model: null,\n    scenario: null,\n    config: {},\n    rasterLayers: [],\n    rasterFiles: [],\n  },\n  mutations: {\n    unloadProject (state) {\n      state.model = null\n      state.scenario = null\n      state.config = {}\n      state.rasterLayers = []\n      state.rasterFiles = []\n    },\n    setLoggedIn (state) {\n      state.loggedIn = true\n    },\n    setLoggedOut (state) {\n      state.loggedIn = false\n      state.cognitoInfo = {}\n    },\n    setCognitoInfo (state, payload) {\n      state.cognitoInfo = payload\n    },\n    setCognitoGroup (state, payload) {\n      state.cognitoGroup = payload\n    },\n    setBucketList (state, payload) {\n      state.bucketList = payload\n    },\n    setAccessToken (state, payload) {\n      state.accesToken = payload\n    },\n    setIdToken (state, payload) {\n      state.idToken = payload\n    },\n    setScenariosList (state, payload) {\n      state.scenariosList = payload\n    },\n    setModel (state, payload) {\n      state.model = payload\n    },\n    setScenario (state, payload) {\n      state.scenario = payload\n    },\n    setConfig (state, payload) {\n      state.config = payload\n    },\n    setRasterLayers (state, payload) {\n      state.rasterLayers = payload\n    },\n    setRasterFiles (state, payload) {\n      state.rasterFiles = payload\n    },\n  },\n\n  actions: {\n    async getScenario ({ commit, state, dispatch }, payload) {\n      const res = await s3.getScenario(payload.model)\n      commit('setScenariosList', res)\n    },\n    async getConfig ({ commit, state }) {\n      const resp = await s3.readJson(state.model, 'quenedi.config.json')\n      commit('setConfig', resp)\n    },\n\n  },\n\n  getters: {\n    loggedIn: (state) => state.loggedIn,\n    cognitoInfo: (state) => state.cognitoInfo,\n    cognitoGroup: (state) => state.cognitoGroup,\n    bucketList: (state) => state.bucketList ? state.bucketList : [],\n    accesToken: (state) => state.accesToken,\n    idToken: (state) => state.idToken,\n    scenariosList: (state) => state.scenariosList,\n    model: (state) => state.model,\n    scenario: (state) => state.scenario,\n    config: (state) => state.config,\n    protected: (state) => state.config.protected ? state.config.protected : [],\n    rasterLayers: (state) => state.rasterLayers,\n    rasterFiles: (state) => state.rasterFiles,\n  },\n}\n","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport linksModule from './links.js'\nimport rlinksModule from './rlinks.js'\nimport resultsModule from './results.js'\nimport layerModule from './layer.js'\nimport runModule from './api/run.js'\nimport MatrixRoadCasterModule from './api/MatrixRoadCaster.js'\nimport OSMImporterModule from './api/OSMImporter.js'\nimport userModule from './user.js'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nimport s3 from '../AWSClient'\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  modules: {\n    user: userModule,\n    links: linksModule,\n    rlinks: rlinksModule,\n    results: resultsModule,\n    run: runModule,\n    runMRC: MatrixRoadCasterModule,\n    runOSM: OSMImporterModule,\n  },\n\n  state: {\n    notification: {},\n    alert: {},\n    darkMode: false,\n    loading: false,\n    showLeftPanel: true,\n    windowHeight: 0,\n    anchorMode: false,\n    linksPopupContent: ['trip_id'],\n    roadsPopupContent: ['highway'],\n    outputName: 'output',\n    mapCenter: [-73.570337, 45.498310],\n    mapZoom: 11,\n    availableLayers: ['links', 'rlinks', 'nodes', 'rnodes'],\n\n  },\n  mutations: {\n    changeNotification (state, payload) {\n      state.notification = payload\n    },\n    changeAlert (state, payload) {\n      state.alert = payload\n    },\n    changeDarkMode (state, payload) {\n      state.darkMode = payload\n      state.rlinks.rlinksDefaultColor = state.darkMode ? '2196F3' : '7EBAAC' //  its the primary color.\n      state.links.linksDefaultColor = state.darkMode ? '2196F3' : 'B5E0D6' //  its the primary color.\n    },\n    changeLoading (state, payload) {\n      state.loading = payload\n    },\n    changeWindowHeight (state, payload) {\n      state.windowHeight = payload\n    },\n    changeLeftPanel (state) {\n      state.showLeftPanel = !state.showLeftPanel\n    },\n    saveMapPosition (state, payload) {\n      state.mapCenter = payload.mapCenter\n      state.mapZoom = payload.mapZoom\n    },\n    setAnchorMode (state, payload) {\n      state.anchorMode = payload\n    },\n    changeAnchorMode (state) {\n      state.anchorMode = !state.anchorMode\n    },\n    applySettings (state, payload) {\n      state.links.linkSpeed = Number(payload.linkSpeed)\n      state.rlinks.roadSpeed = Number(payload.roadSpeed)\n      state.linksPopupContent = payload.linksPopupContent\n      state.roadsPopupContent = payload.roadsPopupContent\n      state.rlinks.defaultHighway = payload.defaultHighway\n      state.outputName = payload.outputName\n    },\n\n    loadLayer (state, payload) {\n      const moduleName = payload.fileName // todo: check if name exist Object.keys(this._modules.root._children)\n      if (!Object.keys(this._modules.root._children).includes(moduleName)) {\n        this.registerModule(moduleName, layerModule)\n      }\n      this.commit(`${moduleName}/createLayer`, payload)\n      if (!state.availableLayers.includes(moduleName)) {\n        state.availableLayers.push(moduleName)\n      }\n    },\n    initNetworks (state) {\n      this.commit('loadLinks', linksBase)\n      this.commit('loadrLinks', linksBase)\n      this.commit('loadNodes', nodesBase)\n      this.commit('loadrNodes', nodesBase)\n    },\n    unloadLayers (state) {\n      const moduleToDelete = Object.keys(this._modules.root._children).filter(\n        x => !['links', 'rlinks', 'results', 'run', 'user', 'runMRC', 'runOSM'].includes(x))\n      moduleToDelete.forEach(moduleName => this.unregisterModule(moduleName))\n      state.availableLayers = ['links', 'rlinks', 'nodes', 'rnodes']\n    },\n\n    exportFiles (state, payload = 'all') {\n      const zip = new JSZip()\n      const inputs = zip.folder('inputs') // create a folder for the files.\n      const outputs = zip.folder('outputs') // create a folder for the files.\n      let links = ''\n      let nodes = ''\n      let rlinks = ''\n      let rnodes = ''\n      // export only visible line (line selected)\n      this.commit('applyPropertiesTypes')\n      if (payload !== 'all') {\n        const tempLinks = structuredClone(state.links.links)\n        tempLinks.features = tempLinks.features.filter(\n          link => state.links.selectedTrips.includes(link.properties.trip_id))\n        links = JSON.stringify(tempLinks)\n        // delete every every nodes not in links\n        const a = tempLinks.features.map(item => item.properties.a)\n        const b = tempLinks.features.map(item => item.properties.b)\n        const nodesInLinks = Array.from(new Set([...a, ...b]))\n        const tempNodes = structuredClone(state.links.nodes)\n        tempNodes.features = tempNodes.features.filter(node => nodesInLinks.includes(node.properties.index))\n        nodes = JSON.stringify(tempNodes)\n\n        rlinks = JSON.stringify(state.rlinks.visiblerLinks)\n        rnodes = JSON.stringify(state.rlinks.visiblerNodes)\n      // export everything\n      } else {\n        links = JSON.stringify(state.links.links)\n        nodes = JSON.stringify(state.links.nodes)\n        rlinks = JSON.stringify(state.rlinks.rlinks)\n        rnodes = JSON.stringify(state.rlinks.rnodes)\n      }\n      // export only if not empty\n      if (JSON.parse(links).features.length > 0) {\n        // eslint-disable-next-line no-var\n        var blob = new Blob([links], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        inputs.file('links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([nodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        inputs.file('nodes.geojson', blob)\n      }\n      if (JSON.parse(rlinks).features.length > 0) {\n      // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rlinks], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        inputs.file('road_links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rnodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        inputs.file('road_nodes.geojson', blob)\n      }\n      if (payload === 'all') {\n        if (this.getters['run/parameters'].length > 0) {\n          const blob = new Blob([JSON.stringify(this.getters['run/parameters'])], { type: 'application/json' })\n          inputs.file('params.json', blob)\n        }\n        const staticLayers = Object.keys(this._modules.root._children).filter(\n          x => !['links', 'rlinks', 'results', 'run', 'user', 'runMRC', 'runOSM'].includes(x))\n        staticLayers.forEach(layer => {\n          const blob = new Blob([JSON.stringify(this.getters[`${layer}/layer`])], { type: 'application/json' })\n          const name = layer.split('/').slice(-1)[0] + '.geojson'\n          // const name = layer.replace('/', '_') + '.geojson'\n          outputs.file(name, blob)\n          if (this.getters[`${layer}/mat`]) {\n            const blob = new Blob([JSON.stringify(this.getters[`${layer}/mat`])], { type: 'application/json' })\n            const name = layer.split('/').slice(-1)[0] + '.json'\n            outputs.file(name, blob)\n          }\n        })\n      }\n\n      zip.generateAsync({ type: 'blob' })\n        .then(function (content) {\n          // see FileSaver.js\n          saveAs(content, state.outputName + '.zip')\n        })\n    },\n  },\n  actions: {\n    async exportToS3 ({ state, commit }, payload) {\n      if (payload !== 'saveOnly') {\n        commit('run/changeRunning', true)\n      }\n      this.commit('applyPropertiesTypes')\n      const scen = state.user.scenario + '/'\n      const bucket = state.user.model\n      const networkPaths = state.user.config.network_paths\n      const paramsPath = state.user.config.parameters_path\n      if (state.run.parameters.length > 0) {\n        await s3.putObject(bucket, scen + paramsPath, JSON.stringify(state.run.parameters))\n      }\n      if (state.links.links.features.length > 0) {\n        await s3.putObject(bucket, scen + networkPaths.links, JSON.stringify(state.links.links))\n        await s3.putObject(bucket, scen + networkPaths.nodes, JSON.stringify(state.links.nodes))\n      }\n      if (state.rlinks.rlinks.features.length > 0) {\n        await s3.putObject(bucket, scen + networkPaths.rlinks, JSON.stringify(state.rlinks.rlinks))\n        await s3.putObject(bucket, scen + networkPaths.rnodes, JSON.stringify(state.rlinks.rnodes))\n      }\n      // console.log(res)\n      // commit('setScenariosList', res)\n    },\n  },\n  getters: {\n    notification: (state) => state.notification,\n    alert: (state) => state.alert,\n    loading: (state) => state.loading,\n    mapCenter: (state) => state.mapCenter,\n    mapZoom: (state) => state.mapZoom,\n    windowHeight: (state) => state.windowHeight,\n    anchorMode: (state) => state.anchorMode,\n    showLeftPanel: (state) => state.showLeftPanel,\n    linksPopupContent: (state) => state.linksPopupContent,\n    roadsPopupContent: (state) => state.roadsPopupContent,\n    outputName: (state) => state.outputName,\n    projectIsUndefined: (state) => Object.keys(state.links.links).length === 0,\n    projectIsEmpty: (state) => {\n      return (state.links.links.features.length === 0 &&\n              state.rlinks.rlinks.features.length === 0)\n    },\n    availableLayers: (state) => state.availableLayers,\n    mapStyle: (state) => {\n      if (state.darkMode) {\n        return 'mapbox://styles/mapbox/dark-v11?optimize=true'\n      } else {\n        return 'mapbox://styles/mapbox/light-v11?optimize=true'\n      }\n    },\n\n  },\n})\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-app\",\n    { staticClass: \"app\" },\n    [\n      _c(\"NavigationDrawer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"resize\",\n              rawName: \"v-resize\",\n              value: _vm.onResize,\n              expression: \"onResize\",\n            },\n          ],\n          ref: \"container\",\n          staticClass: \"container\",\n        },\n        [\n          _c(\"Toolbar\"),\n          _vm._v(\" \"),\n          _c(\"transition\", { attrs: { name: \"fade\" } }, [_c(\"router-view\")], 1),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-overlay\",\n        { attrs: { value: _vm.loading } },\n        [\n          _c(\"v-progress-circular\", {\n            attrs: { indeterminate: \"\", size: \"64\" },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-snackbar\",\n        {\n          class: `snackbar-${_vm.notification.type}`,\n          attrs: {\n            timeout: _vm.notification.autoClose ? 3000 : -1,\n            transition: \"slide-y-reverse-transition\",\n            color: _vm.notification.color ? _vm.notification.color : \"white\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"action\",\n              fn: function ({ attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._b(\n                      {\n                        attrs: { small: \"\", color: \"secondarydark\", text: \"\" },\n                        on: { click: _vm.closeSnackbar },\n                      },\n                      \"v-btn\",\n                      attrs,\n                      false\n                    ),\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Close\")) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.snackbar,\n            callback: function ($$v) {\n              _vm.snackbar = $$v\n            },\n            expression: \"snackbar\",\n          },\n        },\n        [\n          _c(\"span\", { staticClass: \"snackbar-text\" }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(_vm.$gettext(_vm.notification.text)) +\n                \"\\n    \"\n            ),\n          ]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"Alert\"),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-toolbar\",\n    { class: \"app-toolbar elevation-4\", attrs: { dense: \"\" } },\n    [\n      _c(\"v-img\", {\n        attrs: {\n          src: require(\"@static/systra_logo.png\"),\n          contain: \"\",\n          \"max-width\": \"6rem\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"copyright\" }, [_vm._v(\"©\")]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"app-name\" }, [\n        _vm._v(\"\\n    Quetzal Network Editor\\n  \"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\"div\", [_c(\"ScenariosExplorer\")], 1),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              attrs: {\n                                icon: \"\",\n                                href: \"https://github.com/systragroup/quetzal-network-editor\",\n                                target: \"_blank\",\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"\\n            fab fa-github\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [_vm._v(\" \"), _c(\"span\", [_vm._v(\"GitHub\")])]\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"switch\" },\n        [\n          _c(\"v-switch\", {\n            attrs: { \"append-icon\": \"fas fa-moon\" },\n            model: {\n              value: _vm.$vuetify.theme.dark,\n              callback: function ($$v) {\n                _vm.$set(_vm.$vuetify.theme, \"dark\", $$v)\n              },\n              expression: \"$vuetify.theme.dark\",\n            },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"language active\",\n                              attrs: { text: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$language.current) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                _vm._l(_vm.$language.available, function (language, lang) {\n                  return _c(\n                    \"v-list-item\",\n                    {\n                      key: lang,\n                      class: language,\n                      on: { click: () => _vm.handleChangeLanguage(lang) },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(language.toUpperCase()) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", [_c(\"Profile\")], 1),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _vm.loggedIn\n        ? _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"close-on-content-click\": false,\n                \"nudge-width\": 200,\n                \"offset-x\": \"\",\n                \"offset-y\": \"\",\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"activator\",\n                    fn: function ({ on, attrs }) {\n                      return [\n                        _c(\n                          \"v-avatar\",\n                          _vm._g(\n                            _vm._b(\n                              { attrs: { size: \"34\", color: \"primary\" } },\n                              \"v-avatar\",\n                              attrs,\n                              false\n                            ),\n                            on\n                          ),\n                          [\n                            _c(\"span\", { staticClass: \"white--text text-h6\" }, [\n                              _vm._v(_vm._s(_vm.initial)),\n                            ]),\n                          ]\n                        ),\n                      ]\n                    },\n                  },\n                ],\n                null,\n                false,\n                3256803526\n              ),\n              model: {\n                value: _vm.menu,\n                callback: function ($$v) {\n                  _vm.menu = $$v\n                },\n                expression: \"menu\",\n              },\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-card\",\n                [\n                  _c(\n                    \"v-list\",\n                    [\n                      _c(\n                        \"v-list-item\",\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\"v-list-item-title\", [\n                                _vm._v(\n                                  _vm._s(\n                                    _vm.cognitoInfo.given_name +\n                                      \" \" +\n                                      _vm.cognitoInfo.family_name\n                                  )\n                                ),\n                              ]),\n                              _vm._v(\" \"),\n                              _c(\"v-list-item-subtitle\", [\n                                _vm._v(_vm._s(_vm.cognitoInfo.email)),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _vm._l(_vm.bucketList, function (group) {\n                    return _c(\"v-list-item\", { key: group }, [\n                      _vm._v(\"\\n        \" + _vm._s(group) + \"\\n      \"),\n                    ])\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"primary\", text: \"\" },\n                          on: { click: _vm.logout },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"logout\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                2\n              ),\n            ],\n            1\n          )\n        : _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"250\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            { attrs: { icon: \"\" }, on: { click: _vm.login } },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"\\n          fas fa-sign-in-alt\\n        \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"login / signin\")))]),\n            ]\n          ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return (() => (_vm.showDialog = false)).apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                _vm._v(\n                  \"\\n        \" + _vm._s(_vm.$gettext(\"Redirect\")) + \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-card-text\", { staticClass: \"text-h6\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(\n                      _vm.$gettext(\"This will ERASE the current project\")\n                    ) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: { click: () => (_vm.showDialog = !_vm.showDialog) },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport auth from '../../auth'\n\nexport default {\n  name: 'Profile',\n  components: {\n\n  },\n\n  props: [],\n  events: ['logout'],\n  data () {\n    return {\n      menu: false,\n      showDialog: false,\n      action: 'login',\n    }\n  },\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    loggedIn () { return this.$store.getters.loggedIn },\n    cognitoInfo () { return this.$store.getters.cognitoInfo },\n    bucketList () { return this.$store.getters.bucketList },\n\n    initial () { return (this.cognitoInfo?.given_name[0] + this.cognitoInfo?.family_name[0]).toUpperCase() },\n  },\n  watch: {\n\n  },\n\n  methods: {\n\n    login () {\n      if (this.projectIsEmpty) {\n        auth.login()\n      } else {\n        this.action = 'login'\n        this.showDialog = true\n      }\n    },\n    logout () {\n      if (this.projectIsEmpty) {\n        this.menu = false\n        auth.logout()\n      } else {\n        this.action = 'logout'\n        this.showDialog = true\n      }\n    },\n    applyDialog () {\n      this.menu = false\n      this.showDialog = false\n      if (this.action === 'login') auth.login()\n      if (this.action === 'logout') auth.logout()\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <v-menu\n      v-if=\"loggedIn\"\n      v-model=\"menu\"\n      :close-on-content-click=\"false\"\n      :nudge-width=\"200\"\n      offset-x\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-avatar\n          size=\"34\"\n          color=\"primary\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <span class=\"white--text text-h6\">{{ initial }}</span>\n        </v-avatar>\n      </template>\n      <v-card>\n        <v-list>\n          <v-list-item>\n            <v-list-item-content>\n              <v-list-item-title>{{ cognitoInfo.given_name+' '+ cognitoInfo.family_name }}</v-list-item-title>\n              <v-list-item-subtitle>{{ cognitoInfo.email }}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n\n        <v-divider />\n        <v-list-item\n          v-for=\"group in bucketList\"\n          :key=\"group\"\n        >\n          {{ group }}\n        </v-list-item>\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"primary\"\n            text\n            @click=\"logout\"\n          >\n            {{ $gettext('logout') }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-menu>\n    <v-tooltip\n      v-else\n      bottom\n      open-delay=\"250\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          icon\n          v-bind=\"attrs\"\n          v-on=\"on\"\n          @click=\"login\"\n        >\n          <v-icon>\n            fas fa-sign-in-alt\n          </v-icon>\n        </v-btn>\n      </template>\n      <span>{{ $gettext('login / signin') }}</span>\n    </v-tooltip>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"()=>showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h4\">\n          {{ $gettext(\"Redirect\") }}\n        </v-card-title>\n        <v-card-text class=\"text-h6\">\n          {{ $gettext(\"This will ERASE the current project\") }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"()=>showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=81b79092&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81b79092\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _vm.loggedIn && _vm.modelsList.length > 0\n    ? _c(\n        \"section\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"close-on-click\":\n                  !_vm.showDialog && !_vm.deleteDialog && !_vm.copyDialog,\n                \"close-on-content-click\": false,\n                \"max-width\": \"460px\",\n                \"offset-y\": \"\",\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"activator\",\n                    fn: function ({ on, attrs }) {\n                      return [\n                        _c(\n                          \"div\",\n                          _vm._g(\n                            _vm._b(\n                              { staticClass: \"title\" },\n                              \"div\",\n                              attrs,\n                              false\n                            ),\n                            on\n                          ),\n                          [\n                            _vm._v(\n                              \"\\n        \" +\n                                _vm._s(\n                                  _vm.scenario\n                                    ? _vm.model + \"/\" + _vm.scenario\n                                    : _vm.$gettext(\"Projects\")\n                                ) +\n                                \"\\n      \"\n                            ),\n                          ]\n                        ),\n                      ]\n                    },\n                  },\n                ],\n                null,\n                false,\n                2682127123\n              ),\n              model: {\n                value: _vm.menu,\n                callback: function ($$v) {\n                  _vm.menu = $$v\n                },\n                expression: \"menu\",\n              },\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-card\",\n                [\n                  _c(\n                    \"v-tabs\",\n                    {\n                      attrs: { \"show-arrows\": \"\", \"fixed-tabs\": \"\" },\n                      model: {\n                        value: _vm.localModel,\n                        callback: function ($$v) {\n                          _vm.localModel = $$v\n                        },\n                        expression: \"localModel\",\n                      },\n                    },\n                    _vm._l(_vm.modelsList, function (tab) {\n                      return _c(\n                        \"v-tab\",\n                        { key: tab, attrs: { href: \"#\" + tab } },\n                        [_vm._v(\"\\n          \" + _vm._s(tab) + \"\\n        \")]\n                      )\n                    }),\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _vm._l(_vm.scenariosList, function (scen) {\n                    return _c(\n                      \"v-list-item\",\n                      {\n                        key: scen.model + scen.scenario,\n                        class: {\n                          \"is-active\":\n                            _vm.modelScen === scen.model + scen.scenario,\n                        },\n                        attrs: {\n                          value: scen.model + scen.scenario,\n                          \"two-line\": \"\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.selectScenario(scen)\n                          },\n                        },\n                      },\n                      [\n                        _c(\n                          \"v-list-item-content\",\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(_vm._s(scen.scenario)),\n                            ]),\n                            _vm._v(\" \"),\n                            _c(\"v-list-item-subtitle\", [\n                              _vm._v(_vm._s(scen.lastModified)),\n                            ]),\n                            _vm._v(\" \"),\n                            _c(\"v-list-item-subtitle\", [\n                              _vm._v(_vm._s(scen.userEmail)),\n                            ]),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-btn\",\n                          {\n                            staticClass: \"ma-1\",\n                            attrs: { icon: \"\" },\n                            on: {\n                              click: function ($event) {\n                                $event.stopPropagation()\n                                return (() => {\n                                  _vm.copyDialog = true\n                                  _vm.selectedScenario = scen.scenario\n                                  _vm.input = scen.scenario + \" copy\"\n                                }).apply(null, arguments)\n                              },\n                            },\n                          },\n                          [\n                            _c(\n                              \"v-icon\",\n                              { attrs: { small: \"\", color: \"regular\" } },\n                              [_vm._v(\"\\n            fas fa-copy\\n          \")]\n                            ),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-btn\",\n                          {\n                            staticClass: \"ma-1\",\n                            attrs: {\n                              icon: \"\",\n                              disabled:\n                                scen.model + scen.scenario === _vm.modelScen ||\n                                _vm.localConfig.protected.includes(\n                                  scen.scenario\n                                ),\n                            },\n                            on: {\n                              click: function ($event) {\n                                $event.stopPropagation()\n                                return (() => {\n                                  _vm.deleteDialog = true\n                                  _vm.scenarioToDelete = scen.scenario\n                                }).apply(null, arguments)\n                              },\n                            },\n                          },\n                          [\n                            _c(\n                              \"v-icon\",\n                              { attrs: { small: \"\", color: \"grey\" } },\n                              [\n                                _vm._v(\n                                  \"\\n            \" +\n                                    _vm._s(\n                                      _vm.localConfig.protected.includes(\n                                        scen.scenario\n                                      )\n                                        ? \"fas fa-lock\"\n                                        : \"fas fa-trash\"\n                                    ) +\n                                    \"\\n          \"\n                                ),\n                              ]\n                            ),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    )\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      directives: [\n                        {\n                          name: \"show\",\n                          rawName: \"v-show\",\n                          value: _vm.loading,\n                          expression: \"loading\",\n                        },\n                      ],\n                    },\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\"v-progress-circular\", {\n                        attrs: { color: \"primary\", indeterminate: \"\" },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { text: \"\" },\n                          on: {\n                            click: () => {\n                              _vm.copyDialog = true\n                              _vm.selectedScenario = null\n                              _vm.input = \"\"\n                            },\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"new scenario\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                2\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"350\" },\n              on: {\n                keydown: [\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                    )\n                      return null\n                    return _vm.applyDialog.apply(null, arguments)\n                  },\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                        \"Esc\",\n                        \"Escape\",\n                      ])\n                    )\n                      return null\n                    return _vm.cancelDialog.apply(null, arguments)\n                  },\n                ],\n              },\n              model: {\n                value: _vm.showDialog,\n                callback: function ($$v) {\n                  _vm.showDialog = $$v\n                },\n                expression: \"showDialog\",\n              },\n            },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$gettext(\"Load Scenario?\")) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"v-card-text\", { staticClass: \"text-h6\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\"This will ERASE the current project\")\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"regular\" },\n                          on: { click: _vm.cancelDialog },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"No\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"primary\" },\n                          on: { click: _vm.applyDialog },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Yes\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"350\" },\n              on: {\n                keydown: function ($event) {\n                  if (\n                    !$event.type.indexOf(\"key\") &&\n                    _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                      \"Esc\",\n                      \"Escape\",\n                    ])\n                  )\n                    return null\n                  return (() => (_vm.deleteDialog = false)).apply(\n                    null,\n                    arguments\n                  )\n                },\n              },\n              model: {\n                value: _vm.deleteDialog,\n                callback: function ($$v) {\n                  _vm.deleteDialog = $$v\n                },\n                expression: \"deleteDialog\",\n              },\n            },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\"v-card-title\", { staticClass: \"text-h4\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\"Delete \") + _vm.scenarioToDelete + \" ?\"\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"v-card-text\", { staticClass: \"text-h6\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\n                            \"The scenario will be permanently deleted\"\n                          )\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"regular\" },\n                          on: { click: () => (_vm.deleteDialog = false) },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Cancel\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"error\" },\n                          on: { click: _vm.deleteScenario },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Delete\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"290\" },\n              on: {\n                keydown: [\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                    )\n                      return null\n                    return _vm.createProject.apply(null, arguments)\n                  },\n                  function ($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                        \"Esc\",\n                        \"Escape\",\n                      ])\n                    )\n                      return null\n                    return _vm.cancel.apply(null, arguments)\n                  },\n                ],\n              },\n              model: {\n                value: _vm.copyDialog,\n                callback: function ($$v) {\n                  _vm.copyDialog = $$v\n                },\n                expression: \"copyDialog\",\n              },\n            },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.selectedScenario\n                            ? _vm.$gettext(\"copy\") + \" \" + _vm.selectedScenario\n                            : _vm.$gettext(\"New Scenario\")\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-text\",\n                    [\n                      _c(\n                        \"v-container\",\n                        [\n                          _c(\n                            \"v-col\",\n                            { attrs: { cols: \"12\" } },\n                            [\n                              _c(\"v-text-field\", {\n                                attrs: {\n                                  autofocus: \"\",\n                                  label: _vm.$gettext(\"name\"),\n                                },\n                                model: {\n                                  value: _vm.input,\n                                  callback: function ($$v) {\n                                    _vm.input = $$v\n                                  },\n                                  expression: \"input\",\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-text\",\n                    { style: { textAlign: \"center\", color: \"red\" } },\n                    [\n                      _vm._v(\n                        \"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"grey\", text: \"\" },\n                          on: { click: _vm.closeCopy },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Cancel\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { color: \"green darken-1\", text: \"\" },\n                          on: { click: _vm.createProject },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"ok\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nimport s3 from '../AWSClient'\nconst $gettext = s => s\n\nexport default {\n  name: 'ScenariosExplorer',\n  components: {\n\n  },\n\n  props: [],\n  events: [],\n  data () {\n    return {\n      menu: false,\n      showDialog: false,\n      modelScen: '',\n      localModel: '',\n      localScen: '',\n      errorMessage: '',\n      copyDialog: false,\n      selectedScenario: null,\n      scenarioToDelete: null,\n      input: '',\n      deleteDialog: false,\n      loading: false,\n      localConfig: { protected: ['base'] },\n\n    }\n  },\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    loggedIn () { return this.$store.getters.loggedIn },\n    scenariosList () {\n      // sort by alphabetical order, with protected one one top\n      const arr = this.$store.getters.scenariosList\n      return arr.sort((a, b) => {\n        if (this.localConfig.protected.includes(a.scenario)) {\n          return -1 // `a` comes before `b`\n        } else if (this.localConfig.protected.includes(b.scenario)) {\n          return 1 // `b` comes before `a`\n        } else {\n          // default sorting, not case sensitive!\n          return a.scenario.localeCompare(b.scenario, undefined, { sensitivity: 'base' })\n        }\n      })\n    },\n    modelsList () { return this.$store.getters.bucketList },\n    model () { return this.$store.getters.model },\n    scenario () { return this.$store.getters.scenario },\n  },\n  watch: {\n    menu (val) {\n      if (val) {\n        this.$store.dispatch('getScenario', { model: this.localModel })\n      }\n    },\n    async localModel (val) {\n      this.$store.commit('setScenariosList', [])\n      this.loading = true\n      try {\n        this.localConfig = await s3.readJson(val, 'quenedi.config.json')\n      } catch (err) {\n        // not an error.\n      }\n\n      await this.$store.dispatch('getScenario', { model: val })\n      this.loading = false\n    },\n  },\n  mounted () {\n    this.localModel = this.modelsList[0]\n  },\n\n  methods: {\n    selectScenario (val) {\n      this.modelScen = val.model + val.scenario\n      this.localScen = val.scenario\n      if (val.scenario) {\n        if (this.projectIsEmpty) {\n          this.loadProject()\n        } else {\n          this.showDialog = true\n        }\n      }\n    },\n    async loadProject () {\n      this.$store.commit('run/cleanRun')\n      this.$store.commit('setModel', this.localModel)\n      this.$store.commit('setScenario', this.localScen)\n      await this.$store.dispatch('getConfig')\n      await this.$store.dispatch('run/getParameters', {\n        model: this.localModel,\n        path: this.localScen + '/' + this.$store.getters.config.parameters_path,\n      })\n\n      this.$router.push({ name: 'Import', query: { s3Path: this.$store.getters.config } })\n      this.menu = false\n    },\n\n    applyDialog () {\n      this.menu = false\n      this.showDialog = false\n      this.loadProject()\n    },\n    cancelDialog () {\n      // reset vmodel back to loaded scenario\n      this.modelScen = this.model + this.scenario\n      this.localScen = this.scenario\n      this.showDialog = false\n      this.menu = false\n    },\n    deleteScenario () {\n      this.deleteDialog = false\n      s3.deleteFolder(this.localModel, this.scenarioToDelete).then(resp => {\n        this.deleteDialog = false\n        this.$store.dispatch('getScenario', { model: this.localModel })\n        this.$store.commit('changeNotification',\n          { text: $gettext('Scenario deleted'), autoClose: true, color: 'success' })\n      }).catch((err) => {\n        this.deleteDialog = false\n        console.error(err)\n        this.$store.commit('changeNotification',\n          { text: $gettext('An error occured'), autoClose: true, color: 'error' })\n      })\n    },\n    async createProject () {\n      if (this.input === '') {\n        this.errorMessage = 'Please enter a name'\n      } else if (this.input.includes('/')) {\n        this.errorMessage = 'cannot have / in name'\n      } else if (this.scenariosList.map(p => p.scenario).includes(this.input)) {\n        this.errorMessage = 'project already exist'\n      } else {\n        try {\n          if (this.selectedScenario) {\n            // this is a copy\n            await s3.copyFolder(this.localModel, this.selectedScenario, this.input)\n            this.$store.commit('changeNotification',\n              { text: $gettext('Scenario successfully copied'), autoClose: true, color: 'success' })\n          } else {\n            // this is a new project\n            // copy the parameters file from Base. this will create a new project .\n            const base = this.localConfig.protected[0]\n            await s3.copyFolder(this.localModel, base + '/' + this.localConfig.parameters_path, this.input)\n            this.$store.commit('changeNotification',\n              { text: $gettext('Scenario created'), autoClose: true, color: 'success' })\n          }\n        } catch (err) { this.$store.commit('changeAlert', err); this.selectedScenario = null }\n        this.closeCopy()\n        this.loading = true\n        // wait 500ms to fetch the scenarios to make sure its available on the DB\n        setTimeout(() => {\n          this.$store.dispatch('getScenario', { model: this.localModel }).then(() => { this.loading = false })\n            .catch((err) => { this.$store.commit('changeAlert', err); this.loading = false })\n        }, 500)\n      }\n    },\n\n    closeCopy () {\n      this.copyDialog = false\n      this.input = ''\n      this.selectedScenario = null\n      this.errorMessage = ''\n    },\n\n  },\n}\n</script>\n<template>\n  <section v-if=\"loggedIn && modelsList.length>0\">\n    <v-menu\n      v-model=\"menu\"\n      :close-on-click=\"!showDialog && !deleteDialog && !copyDialog\"\n      :close-on-content-click=\"false\"\n      max-width=\"460px\"\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <div\n          class=\"title\"\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          {{ scenario? model + '/' + scenario: $gettext('Projects') }}\n        </div>\n      </template>\n      <v-card>\n        <v-tabs\n          v-model=\"localModel\"\n          show-arrows\n          fixed-tabs\n        >\n          <v-tab\n            v-for=\"tab in modelsList\"\n            :key=\"tab\"\n            :href=\"'#'+tab\"\n          >\n            {{ tab }}\n          </v-tab>\n        </v-tabs>\n        <v-list-item\n          v-for=\"scen in scenariosList\"\n          :key=\"scen.model + scen.scenario\"\n          :value=\"scen.model + scen.scenario\"\n          :class=\"{ 'is-active': modelScen === scen.model + scen.scenario}\"\n          two-line\n          @click=\"selectScenario(scen)\"\n        >\n          <v-list-item-content>\n            <v-list-item-title>{{ scen.scenario }}</v-list-item-title>\n            <v-list-item-subtitle>{{ scen.lastModified }}</v-list-item-subtitle>\n            <v-list-item-subtitle>{{ scen.userEmail }}</v-list-item-subtitle>\n          </v-list-item-content>\n          <v-btn\n            icon\n            class=\"ma-1\"\n            @click.stop=\"()=>{copyDialog=true; selectedScenario=scen.scenario; input = scen.scenario +' copy'}\"\n          >\n            <v-icon\n              small\n              color=\"regular\"\n            >\n              fas fa-copy\n            </v-icon>\n          </v-btn>\n          <v-btn\n            icon\n            :disabled=\"(scen.model+scen.scenario===modelScen) || (localConfig.protected.includes(scen.scenario))\"\n            class=\"ma-1\"\n            @click.stop=\"()=>{deleteDialog=true; scenarioToDelete=scen.scenario;}\"\n          >\n            <v-icon\n              small\n              color=\"grey\"\n            >\n              {{ localConfig.protected.includes(scen.scenario)? 'fas fa-lock':'fas fa-trash' }}\n            </v-icon>\n          </v-btn>\n        </v-list-item>\n        <v-list-item v-show=\"loading\">\n          <v-spacer />\n          <v-progress-circular\n            color=\"primary\"\n            indeterminate\n          />\n          <v-spacer />\n        </v-list-item>\n        <v-divider />\n        <v-list-item>\n          <v-btn\n            text\n            @click=\"()=>{copyDialog=true; selectedScenario=null; input = ''}\"\n          >\n            {{ $gettext('new scenario') }}\n          </v-btn>\n        </v-list-item>\n      </v-card>\n    </v-menu>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"cancelDialog\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h4\">\n          {{ $gettext(\"Load Scenario?\") }}\n        </v-card-title>\n        <v-card-text class=\"text-h6\">\n          {{ $gettext(\"This will ERASE the current project\") }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"cancelDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog\n      v-model=\"deleteDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.esc=\"()=>deleteDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h4\">\n          {{ $gettext(\"Delete \")+ scenarioToDelete+' ?' }}\n        </v-card-title>\n        <v-card-text class=\"text-h6\">\n          {{ $gettext(\"The scenario will be permanently deleted\") }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"()=>deleteDialog=false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"error\"\n            @click=\"deleteScenario\"\n          >\n            {{ $gettext(\"Delete\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      v-model=\"copyDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"createProject\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ selectedScenario? $gettext(\"copy\") +' '+ selectedScenario : $gettext('New Scenario') }}\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-col cols=\"12\">\n              <v-text-field\n                v-model=\"input\"\n                autofocus\n                :label=\"$gettext('name')\"\n              />\n            </v-col>\n          </v-container>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"closeCopy\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"createProject\"\n          >\n            {{ $gettext(\"ok\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.title {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.is-active{\n  opacity:1;\n  background-color:var(--v-primary-base);\n\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=style&index=0&id=630c0760&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScenariosExplorer.vue?vue&type=style&index=0&id=630c0760&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ScenariosExplorer.vue?vue&type=template&id=630c0760&scoped=true&\"\nimport script from \"./ScenariosExplorer.vue?vue&type=script&lang=js&\"\nexport * from \"./ScenariosExplorer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScenariosExplorer.vue?vue&type=style&index=0&id=630c0760&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"630c0760\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","<script>\nimport Profile from '../utils/Profile.vue'\nimport ScenariosExplorer from '../ScenariosExplorer.vue'\nexport default {\n  name: 'Toolbar',\n  components: { Profile, ScenariosExplorer },\n  data () {\n    return {\n      dialog: true,\n    }\n  },\n\n  watch: {\n    '$vuetify.theme.dark' (val) {\n      this.$store.commit('changeDarkMode', val)\n    },\n  },\n\n  methods: {\n    handleChangeLanguage (lang) {\n      this.$vuetify.lang.current = lang\n      this.$language.current = lang\n    },\n  },\n}\n</script>\n<template>\n  <v-toolbar\n    :class=\"'app-toolbar elevation-4'\"\n    dense\n  >\n    <v-img\n      :src=\"require('@static/systra_logo.png')\"\n      contain\n      max-width=\"6rem\"\n    />\n    <span class=\"copyright\">©</span>\n    <div class=\"app-name\">\n      Quetzal Network Editor\n    </div>\n\n    <v-spacer />\n    <div>\n      <ScenariosExplorer />\n    </div>\n    <v-spacer />\n    <div>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            href=\"https://github.com/systragroup/quetzal-network-editor\"\n            target=\"_blank\"\n            v-on=\"on\"\n          >\n            <v-icon>\n              fab fa-github\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>GitHub</span>\n      </v-tooltip>\n    </div>\n    <div class=\"switch\">\n      <v-switch\n        v-model=\"$vuetify.theme.dark\"\n        append-icon=\"fas fa-moon\"\n      />\n    </div>\n    <div>\n      <v-menu\n        offset-y\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            text\n            class=\"language active\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            {{ $language.current }}\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            v-for=\"(language, lang) in $language.available\"\n            :key=\"lang\"\n            :class=\"language\"\n\n            @click=\"()=>handleChangeLanguage(lang)\"\n          >\n            {{ language.toUpperCase() }}\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </div>\n    <div>\n      <Profile />\n    </div>\n  </v-toolbar>\n</template>\n\n<style lang=\"scss\" scoped>\n.app-toolbar {\n  z-index: 100;\n  height: 50px !important;\n  display: flex;\n  color: $secondary !important;\n  position: relative;\n}\n.login {\n  padding-left: 50px;\n}\n.project-name {\n  font-size: 1.3em;\n}\n.app-name {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.copyright {\n  font-size: 0.9rem;\n  padding-left: 5px;\n  padding-top: 1rem;\n  color:var(--v-secondarydark-base);\n}\n.languages-container {\n  display: flex;\n}\n.switch {\n  display: flex;\n  padding-top: 1rem;\n  padding-left:1rem;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n}\n.language {\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color:var(--v-secondarydark-base);\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=5d14ce84&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=5d14ce84&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=5d14ce84&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=5d14ce84&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d14ce84\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"transition\",\n    { attrs: { name: \"fade\" } },\n    [\n      _c(\n        \"v-navigation-drawer\",\n        {\n          staticClass: \"drawer elevation-4\",\n          attrs: {\n            app: \"\",\n            stateless: \"\",\n            temporary: !_vm.mini,\n            \"mini-variant\": _vm.mini,\n            \"mini-variant-width\": 50,\n          },\n          on: {\n            \"update:miniVariant\": function ($event) {\n              _vm.mini = $event\n            },\n            \"update:mini-variant\": function ($event) {\n              _vm.mini = $event\n            },\n          },\n          model: {\n            value: _vm.drawer,\n            callback: function ($$v) {\n              _vm.drawer = $$v\n            },\n            expression: \"drawer\",\n          },\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"drawer-header\",\n              on: {\n                click: function ($event) {\n                  _vm.mini = !_vm.mini\n                },\n              },\n            },\n            [\n              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.mini ? \"fa fa-bars\" : \"fas fa-angle-left\") +\n                    \"\\n      \"\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            { staticClass: \"drawer-list\", attrs: { dense: \"\" } },\n            [\n              _vm._l(_vm.getDisplayedRoutes(), function (item, key) {\n                return _c(\n                  \"v-list-item\",\n                  {\n                    key: key,\n                    staticClass: \"drawer-list-item\",\n                    class: [\n                      _vm.$route.name === item.name\n                        ? \"drawer-list-item-selected\"\n                        : \"\",\n                    ],\n                    style: {\n                      marginTop:\n                        item.name === \"Save\"\n                          ? \"auto\"\n                          : item.name === \"ResultMap\"\n                          ? \"5rem\"\n                          : \"0\",\n                    },\n                    attrs: {\n                      disabled:\n                        item.name === \"Save\" &&\n                        (!_vm.$store.getters.scenario || _vm.isProtected),\n                    },\n                    on: {\n                      click: function ($event) {\n                        return _vm.handleClickMenuItem(item)\n                      },\n                    },\n                    nativeOn: {\n                      click: function ($event) {\n                        $event.stopPropagation()\n                      },\n                    },\n                  },\n                  [\n                    _c(\n                      \"v-list-item-action\",\n                      {\n                        class:\n                          item.name === \"Save\" &&\n                          (!_vm.$store.getters.scenario || _vm.isProtected)\n                            ? \"drawer-list-item-icon-disabled\"\n                            : \"drawer-list-item-icon\",\n                      },\n                      [\n                        item.name === \"Run\" &&\n                        (_vm.running || _vm.runError || !_vm.runSychronized)\n                          ? _c(\n                              \"v-badge\",\n                              {\n                                attrs: {\n                                  \"offset-x\": _vm.running ? \"12px\" : \"6px\",\n                                  \"offset-y\": _vm.running ? \"10px\" : \"11px\",\n                                  color: _vm.runError\n                                    ? \"error\"\n                                    : !_vm.runSychronized\n                                    ? \"warning\"\n                                    : \"\",\n                                  icon:\n                                    _vm.runError || !_vm.runSychronized\n                                      ? \"fa-solid fa-exclamation\"\n                                      : \"\",\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"badge\",\n                                      fn: function () {\n                                        return [\n                                          item.name === \"Run\" && _vm.running\n                                            ? _c(\"v-progress-circular\", {\n                                                attrs: {\n                                                  size: \"18\",\n                                                  width: \"4\",\n                                                  color: \"primary\",\n                                                  indeterminate: \"\",\n                                                },\n                                              })\n                                            : _vm._e(),\n                                        ]\n                                      },\n                                      proxy: true,\n                                    },\n                                  ],\n                                  null,\n                                  true\n                                ),\n                              },\n                              [\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-icon\",\n                                  {\n                                    attrs: {\n                                      small: \"\",\n                                      title: _vm.$gettext(item.title),\n                                    },\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(item.icon) +\n                                        \"\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            )\n                          : item.name === \"Save\" && _vm.saving\n                          ? _c(\n                              \"v-badge\",\n                              {\n                                attrs: {\n                                  \"offset-x\": \"12px\",\n                                  \"offset-y\": \"10px\",\n                                  color: \"\",\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"badge\",\n                                      fn: function () {\n                                        return [\n                                          _c(\"v-progress-circular\", {\n                                            attrs: {\n                                              size: \"18\",\n                                              width: \"4\",\n                                              color: \"primary\",\n                                              indeterminate: \"\",\n                                            },\n                                          }),\n                                        ]\n                                      },\n                                      proxy: true,\n                                    },\n                                  ],\n                                  null,\n                                  true\n                                ),\n                              },\n                              [\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-icon\",\n                                  {\n                                    attrs: {\n                                      small: \"\",\n                                      title: _vm.$gettext(item.title),\n                                    },\n                                  },\n                                  [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(item.icon) +\n                                        \"\\n            \"\n                                    ),\n                                  ]\n                                ),\n                              ],\n                              1\n                            )\n                          : _c(\n                              \"v-icon\",\n                              {\n                                attrs: {\n                                  small: \"\",\n                                  title: _vm.$gettext(item.title),\n                                },\n                              },\n                              [\n                                _vm._v(\n                                  \"\\n            \" +\n                                    _vm._s(item.icon) +\n                                    \"\\n          \"\n                                ),\n                              ]\n                            ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-list-item-content\",\n                      [\n                        _c(\n                          \"v-list-item-title\",\n                          { style: { marginLeft: \"20px\", color: \"white\" } },\n                          [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(_vm.$gettext(item.title)) +\n                                \"\\n          \"\n                            ),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                )\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"v-list-item\",\n                {\n                  staticClass: \"version-number\",\n                  style: { fontSize: 24 - 2 * _vm.version.length + \"px\" },\n                },\n                [_c(\"span\", [_vm._v(_vm._s(_vm.version))])]\n              ),\n            ],\n            2\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Router from '@src/router/index'\nconst version = require('../../../package.json').version\n\nexport default {\n  name: 'NavigationDrawer',\n  data () {\n    return {\n      leftSidenav: false,\n      drawer: true,\n      mini: true,\n      menuItems: [],\n      version: version,\n      saving: false,\n    }\n  },\n  computed: {\n    running () { return this.$store.getters['run/running'] },\n    runError () { return this.$store.getters['run/error'] },\n    runSychronized () { return this.$store.getters['run/synchronized'] },\n    isProtected () {\n      return this.$store.getters.protected.includes(this.$store.getters.scenario)\n    },\n  },\n  created () {\n    this.menuItems = Router.options.routes.concat({\n      name: 'Save',\n      icon: 'fa-solid fa-save',\n      title: this.$gettext('Save'),\n    })\n    this.menuItems = this.menuItems.concat({\n      name: 'Export',\n      icon: 'fa-solid fa-download',\n      title: this.$gettext('Export'),\n    })\n  },\n  methods: {\n    getDisplayedRoutes () {\n      return this.menuItems.filter(o => o.icon)\n    },\n    getRouteTitle (route) {\n      const tpl = this.$gettext('%{s}')\n      return this.$gettextInterpolate(tpl, { s: route.title })\n    },\n    handleClickMenuItem (route) {\n      switch (route.name) {\n        case 'Export':\n          this.$store.commit('exportFiles', 'all')\n          break\n        case 'Save':\n          this.saving = true\n          this.$store.dispatch('exportToS3', 'saveOnly').then(\n            () => {\n              this.saving = false\n              this.$store.commit('changeNotification',\n                { text: this.$gettext('Scenario saved'), autoClose: true, color: 'success' })\n            }).catch(\n            err => {\n              this.saving = false\n              this.$store.commit('changeAlert', err)\n            })\n          break\n        default :\n          this.$router.push(route.path).catch(() => {})\n          this.mini = true\n          break\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <transition name=\"fade\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n      class=\"drawer elevation-4\"\n      stateless\n      :temporary=\"!mini\"\n      :mini-variant.sync=\"mini\"\n      :mini-variant-width=\"50\"\n    >\n      <div\n        class=\"drawer-header\"\n        @click=\"mini = !mini\"\n      >\n        <v-icon\n          small\n        >\n          {{ mini ? 'fa fa-bars' : 'fas fa-angle-left' }}\n        </v-icon>\n      </div>\n      <v-list\n        dense\n        class=\"drawer-list\"\n      >\n        <v-list-item\n          v-for=\"( item,key ) in getDisplayedRoutes()\"\n          :key=\"key\"\n          class=\"drawer-list-item\"\n          :disabled=\"(item.name === 'Save') && ((!$store.getters.scenario) || (isProtected))\"\n          :class=\"[ $route.name === item.name ? 'drawer-list-item-selected' : '']\"\n          :style=\"{marginTop: item.name === 'Save' ? 'auto' : item.name ==='ResultMap'? '5rem' : '0' }\"\n          @click.native.stop\n          @click=\"handleClickMenuItem(item)\"\n        >\n          <v-list-item-action\n            :class=\"(item.name === 'Save') && ((!$store.getters.scenario) || (isProtected))?\n              'drawer-list-item-icon-disabled':'drawer-list-item-icon'\"\n          >\n            <v-badge\n              v-if=\"item.name==='Run' && (running || runError || !runSychronized)\"\n              :offset-x=\"running ? '12px' : '6px'\"\n              :offset-y=\"running ? '10px' : '11px'\"\n              :color=\"runError ? 'error' : !runSychronized ? 'warning' : ''\"\n              :icon=\"(runError || !runSychronized) ? 'fa-solid fa-exclamation' : ''\"\n            >\n              <template v-slot:badge>\n                <v-progress-circular\n                  v-if=\"item.name==='Run' && (running)\"\n                  size=\"18\"\n                  width=\"4\"\n                  color=\"primary\"\n                  indeterminate\n                />\n              </template>\n              <v-icon\n                small\n                :title=\"$gettext(item.title)\"\n              >\n                {{ item.icon }}\n              </v-icon>\n            </v-badge>\n            <v-badge\n              v-else-if=\"item.name==='Save' && saving\"\n              :offset-x=\" '12px' \"\n              :offset-y=\" '10px' \"\n              :color=\" ''\"\n            >\n              <template v-slot:badge>\n                <v-progress-circular\n                  size=\"18\"\n                  width=\"4\"\n                  color=\"primary\"\n                  indeterminate\n                />\n              </template>\n              <v-icon\n                small\n                :title=\"$gettext(item.title)\"\n              >\n                {{ item.icon }}\n              </v-icon>\n            </v-badge>\n            <v-icon\n              v-else\n              small\n              :title=\"$gettext(item.title)\"\n            >\n              {{ item.icon }}\n            </v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title :style=\"{marginLeft: '20px', color: 'white'}\">\n              {{ $gettext(item.title) }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item\n          class=\"version-number\"\n          :style=\"{fontSize:24 - 2*version.length+'px'}\"\n        >\n          <span>{{ version }}</span>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </transition>\n</template>\n<style lang=\"scss\" scoped>\n.drawer {\n  background-color: var(--v-secondary-base) !important;\n}\n.drawer-header {\n  width: 100%;\n  height: 50px;\n  border-bottom: 1px solid white;\n  background-color: var(--v-secondary-base);\n  color: white;\n  display: flex;\n  align-items: center;\n  padding-left: 18px;\n  cursor: pointer;\n}\n.drawer-list {\n  height: calc(100% - 50px);\n  display: flex;\n\n  flex-direction: column;\n  padding: 20px 0;\n}\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  color:white ;\n  flex: 0;\n  transition: 0.3s;\n}\n.version-number {\n  justify-content: flex-start ;\n  color:white !important;\n  margin-bottom:-1rem;\n  flex: 0;\n}\n.drawer-list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.drawer-list-item-icon-disabled {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  opacity: 0.4;\n}\n.drawer-list-item-selected {\n  background-color: var(--v-secondarydarkfix-base);\n}\n.drawer-list-item:hover {\n  background-color: var(--v-secondary-base);\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=d19f7092&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=d19f7092&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationDrawer.vue?vue&type=template&id=d19f7092&scoped=true&\"\nimport script from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationDrawer.vue?vue&type=style&index=0&id=d19f7092&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d19f7092\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"text-center\" },\n    [\n      _c(\n        \"v-bottom-sheet\",\n        {\n          attrs: { persistent: \"\" },\n          model: {\n            value: _vm.sheet,\n            callback: function ($$v) {\n              _vm.sheet = $$v\n            },\n            expression: \"sheet\",\n          },\n        },\n        [\n          _c(\"v-sheet\", { staticClass: \"text-center\" }, [\n            _c(\n              \"div\",\n              [\n                _c(\n                  \"v-alert\",\n                  { attrs: { prominent: \"\", type: \"error\" } },\n                  [\n                    _c(\n                      \"v-row\",\n                      [\n                        _c(\"v-col\", { staticClass: \"grow\" }, [\n                          _c(\"h2\", [\n                            _vm._v(\n                              \"\\n                ERROR: \" +\n                                _vm._s(_vm.err.name) +\n                                \"\\n              \"\n                            ),\n                          ]),\n                          _vm._v(\" \"),\n                          _c(\"p\", [\n                            _vm._v(\n                              \"\\n                \" +\n                                _vm._s(_vm.err) +\n                                \"\\n              \"\n                            ),\n                          ]),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-col\",\n                          { staticClass: \"shrink\" },\n                          [\n                            _c(\n                              \"v-btn\",\n                              {\n                                attrs: { icon: \"\" },\n                                on: {\n                                  click: function ($event) {\n                                    _vm.sheet = !_vm.sheet\n                                  },\n                                },\n                              },\n                              [\n                                _c(\"v-icon\", [\n                                  _vm._v(\n                                    \"\\n                  fas fa-times\\n                \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n          ]),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'Alert',\n  components: {\n\n  },\n\n  props: [],\n  events: [],\n  data () {\n    return {\n      sheet: false,\n\n    }\n  },\n  computed: {\n    err () {\n      return this.$store.getters.alert\n    },\n  },\n  watch: {\n    err (val) {\n      if (Object.keys(val).length > 0) {\n        this.sheet = true\n      } else { this.sheet = false }\n    },\n  },\n}\n</script>\n<template>\n  <div class=\"text-center\">\n    <v-bottom-sheet\n      v-model=\"sheet\"\n      persistent\n    >\n      <v-sheet\n        class=\"text-center\"\n      >\n        <div>\n          <v-alert\n            prominent\n            type=\"error\"\n          >\n            <v-row>\n              <v-col class=\"grow\">\n                <h2>\n                  ERROR: {{ err.name }}\n                </h2>\n                <p>\n                  {{ err }}\n                </p>\n              </v-col>\n              <v-col class=\"shrink\">\n                <v-btn\n                  icon\n                  @click=\"sheet = !sheet\"\n                >\n                  <v-icon>\n                    fas fa-times\n                  </v-icon>\n                </v-btn>\n              </v-col>\n            </v-row>\n          </v-alert>\n        </div>\n      </v-sheet>\n    </v-bottom-sheet>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Alert.vue?vue&type=script&lang=js&\"","import mod from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","<script>\nimport Toolbar from '@comp/layout/Toolbar.vue'\nimport NavigationDrawer from '@comp/layout/NavigationDrawer.vue'\nimport Alert from '@comp/utils/Alert.vue'\nimport auth from './auth'\nimport s3 from './AWSClient'\nimport { axiosClient } from './axiosClient'\n\nexport default {\n  name: 'App',\n  components: {\n    Toolbar,\n    NavigationDrawer,\n    Alert,\n  },\n  data () {\n    return {\n      snackbar: false,\n    }\n  },\n  computed: {\n    notification () {\n      return this.$store.getters.notification\n    },\n    loading () {\n      return this.$store.getters.loading\n    },\n  },\n  watch: {\n    notification () {\n      this.snackbar = !!this.notification.text\n    },\n  },\n  created () {\n    // init links and node to empty one (new project)\n    this.$store.commit('initNetworks')\n    this.$store.commit('changeDarkMode', this.$vuetify.theme.dark)\n\n    if (auth.auth.isUserSignedIn()) {\n      auth.login()\n      s3.login()\n      axiosClient.loginAll(this.$store.getters.idToken)\n    }\n  },\n  methods: {\n    closeSnackbar () {\n      this.snackbar = false\n      this.$store.notification = {}\n    },\n    onResize () {\n      // -50 for the ToolBar\n      this.$store.commit('changeWindowHeight', this.$refs.container.clientHeight - 50)\n    },\n  },\n}\n</script>\n<template>\n  <v-app class=\"app\">\n    <NavigationDrawer />\n    <div\n      ref=\"container\"\n      v-resize=\"onResize\"\n      class=\"container\"\n    >\n      <Toolbar />\n      <transition name=\"fade\">\n        <router-view />\n      </transition>\n    </div>\n    <v-overlay :value=\"loading\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      />\n    </v-overlay>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"notification.autoClose ? 3000 : -1\"\n      transition=\"slide-y-reverse-transition\"\n      :color=\"notification.color? notification.color : 'white'\"\n      :class=\"`snackbar-${notification.type}`\"\n    >\n      <span class=\"snackbar-text\">\n        {{ $gettext(notification.text) }}\n      </span>\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"secondarydark\"\n          text\n          v-bind=\"attrs\"\n          @click=\"closeSnackbar\"\n        >\n          {{ $gettext(\"Close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n    <Alert />\n  </v-app>\n</template>\n<style lang=\"scss\" scoped>\n.app {\n  background-color: $grey-ultralight !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.snackbar-text{\n  color:var(--v-secondarydark-base);\n}\n.container {\n  height: 100%;\n  margin-left: 50px;\n  width: calc(100% - 50px);\n  max-width: calc(100% - 50px);\n  padding: 0;\n}\n.container.login {\n  margin-left: 0;\n  width: 100%;\n}\n</style>\n","import { render, staticRenderFns } from \"./Alert.vue?vue&type=template&id=4efecba8&scoped=true&\"\nimport script from \"./Alert.vue?vue&type=script&lang=js&\"\nexport * from \"./Alert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4efecba8\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=65f09c9a&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=65f09c9a&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=65f09c9a&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=65f09c9a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65f09c9a\",\n  null\n  \n)\n\nexport default component.exports","import '@fortawesome/fontawesome-free/css/all.css'\nimport 'vuetify/dist/vuetify.min.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport '@scss/app.scss'\n\nimport Vue from 'vue'\nimport GetTextPlugin from 'vue-gettext'\nimport { store } from './store'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport 'promise-polyfill/src/polyfill'\n\nimport fr from 'vuetify/es5/locale/fr'\nimport en from 'vuetify/es5/locale/en'\nimport de from 'vuetify/es5/locale/de'\nimport es from 'vuetify/es5/locale/es'\nimport pt from 'vuetify/es5/locale/pt'\n\nimport translations from './translations.json'\n\nimport App from './App.vue'\nconst mapboxPublicKey = process.env.VUE_APP_MAPBOX_PUBLIC_KEY\nconsole.assert(mapboxPublicKey)\n\nconst languageMixin = {\n  methods: {\n    $selectBestLanguage (browserLangs, supportedLangs) {\n      if (browserLangs.length) {\n        for (const lang of browserLangs) {\n          const parts = lang.toLowerCase().split('-')\n          if (parts.length > 1) {\n            parts[1] = parts[1].toUpperCase()\n          }\n          const normLang = parts.join('-')\n          if (supportedLangs.includes(normLang)) {\n            return normLang\n          } else if (parts.length > 1 && supportedLangs.includes(parts[0])) {\n            return parts[0]\n          }\n        }\n        return supportedLangs[0]\n      } else {\n        return supportedLangs[0]\n      }\n    },\n  },\n}\n\nconst bestLanguage = languageMixin.methods.$selectBestLanguage(navigator.languages, ['en', 'fr', 'es', 'de', 'pt'])\nconst darkMode = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)\n\nVue.use(Vuetify)\nVue.use(GetTextPlugin, {\n  autoAddKeyAttributes: true,\n  availableLanguages: {\n    en: 'English',\n    fr: 'Français',\n    es: 'Español',\n    de: 'Deutsch',\n    pt: 'Português',\n  },\n  defaultLanguage: bestLanguage,\n  translations,\n  silent: true,\n})\n\nVue.config.productionTip = false\nVue.config.devtools = true\nVue.config.performance = false\n\nconst vuetify = new Vuetify({\n  theme: {\n    dark: !!darkMode,\n    options: {\n      customProperties: true,\n    },\n    themes: {\n\n      light: {\n        primary: '#B5E0D6',\n        primarydark: '#7EBAAC',\n        secondary: '#2C3E4E',\n        secondarydark: '#1A242C',\n        secondarydarkfix: '#1A242C',\n        secondarylight: '#334453',\n        background: '#808080',\n        lightgrey: '#E3E4E6',\n        white: '#fff',\n        black: '#000000',\n        mediumgrey: '#9E9E9E',\n        darkgrey: '#5B5B5C',\n        accent: '#2C3E4E',\n        linksprimary: '#7EBAAC',\n        linkssecondary: '#B5E0D6',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n      },\n      dark: {\n        primary: '#2196F3',\n        primarydark: '#191919',\n        secondary: '#263238',\n        secondarydark: '#fff',\n        secondarydarkfix: '#1A242C',\n        lightgrey: '#403f3f',\n        mediumgrey: '#575757',\n        darkgrey: '#d9d9db',\n        background: '#000000',\n        white: '#000000',\n        black: '#fff',\n        success: '#2196F3',\n        accent: '#d3c1b1',\n        linksprimary: '#2196F3',\n        linkssecondary: '#90CAF9',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n\n      },\n\n    },\n  },\n  icons: {\n    iconfont: 'fa',\n  },\n  lang: {\n    locales: { fr, en, es, de, pt },\n    current: bestLanguage,\n  },\n})\n\nVue.mixin(languageMixin)\n\nVue.mixin({\n  methods: {\n    $flatEdges (obj, recurse = false) {\n      let flatObj = obj\n      if (obj.edges) {\n        flatObj = obj.edges.map(edge => edge.node)\n      }\n      if (recurse) {\n        for (const key in obj) {\n          if (obj[key] !== null && typeof obj[key] === 'object') {\n            obj[key] = this.$flatEdges(obj[key], true)\n          }\n        }\n      }\n      return flatObj\n    },\n  },\n})\n\nconst app = new Vue({\n\n  router,\n  store,\n  vuetify,\n  render: h => h(App),\n  template: '<App/>',\n})\n\napp.$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/quetzal-network-editor-dev/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquetzal_network_editor\"] = self[\"webpackChunkquetzal_network_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [834], () => (__webpack_require__(97219)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","state","links","editorTrip","editorNodes","editorLinks","editorLineInfo","nodes","nodesHeader","linksHeader","tripId","selectedTrips","newLink","newNode","changeBounds","linkSpeed","linksDefaultColor","lineAttributes","nodeAttributes","defaultAttributes","name","type","mutations","loadLinks","payload","structuredClone","includes","crs","properties","features","forEach","link","geometry","coordinates","map","points","coord","Math","round","Number","this","commit","alert","loadNodes","JSON","parse","stringify","node","unloadFiles","getLinksProperties","header","Set","element","Object","keys","key","add","attr","att","Array","from","getNodesProperties","addPropertie","table","deletePropertie","console","log","filter","item","changeSelectedTrips","setEditorTrip","filtered","trip_id","cloneTrip","cloned","linkSequence","length","reverse","a","b","link_sequence","direction_id","index","generate","getEditorNodes","editorNodesList","has","getEditorLineInfo","form","uneditable","defaultValue","route_id","agency_id","route_short_name","route_type","route_color","route_width","headway","pickup_type","drop_off_type","value","disabled","placeholder","val","size","getTripId","setNewLink","uncopiedPropeties","time","tempLink","linkProperties","linkFeature","action","assign","slice","nodeCopyId","createNewNode","nodeProperties","nodeFeatures","setNewNode","tempNode","editNewLink","applyNewLink","geom","distance","toFixed","splice","deleteNode","nodeIndex","selectedNode","link1","link2","featureIndex","findIndex","splitLink","linkIndex","selectedLink","ratio","offset","sliceIndex","seq","addNodeInline","linkGeom","clickedPoint","values","lngLat","snapped","units","dist","location","addAnchorNode","deleteAnchorNode","coordinatedIndex","feature","moveAnchor","moveNode","cutLineFromNode","nodeId","sort","toDelete","i","entries","cutLineAtNode","editLineInfo","props","editLinkInfo","selectedLinkId","info","editNodeInfo","selectedNodeId","appendNewLinks","editGroupInfo","editorGroupInfo","groupTripIds","deleteUnusedNodes","nodesInLinks","confirmChanges","nodesList","newNodes","eNode","deleteTrip","applyPropertiesTypes","String","getters","linksIsEmpty","firstNodeId","lastNodeId","firstNode","lastNode","anchorNodes","point","idx","attributeType","defaultAttributesNames","rlinks","rnodes","rlinksHeader","rnodesHeader","selectedrFilter","selectedrGroup","filteredrCategory","rlineAttributes","rnodeAttributes","newrNode","visiblerLinks","visiblerNodes","connectedLinks","defaultHighway","roadSpeed","rlinksDefaultColor","cstAttributes","rundeletable","reversedAttributes","loadrLinks","loadrNodes","appendNewrLinks","unloadrFiles","getrLinksProperties","endsWith","getrNodesProperties","addRoadPropertie","deleteRoadPropertie","changeSelectedrFilter","getFilteredrCat","splitOneway","oneway","changeVisibleRoads","method","data","cat","category","tempLinks","el","refreshVisibleRoads","group","possibleGroups","x","getVisiblerNodes","rNodesList","editrLinkInfo","rkey","editrNodeInfo","createNewrNode","splitrLink","selectedFeature","length_r","time_r","addRoadNodeInline","selectedFeatures","selectedIndex","addAnchorrNode","createrLink","nodeIdB","layerId","rnodeA","nodeIdA","rnodeB","linkGeometry","highway","speed","newLinkGroup","getConnectedLinks","moverNode","rtime","speed_r","moverAnchor","deleteAnchorrNode","deleterLink","linkArr","deleterGroup","deleteUnusedrNodes","editrGroupInfo","groupInfo","selectedLinks","reversedProps","rlinksIsEmpty","rcstAttributes","anchorrNodes","renderedLinks","rlinkDirection","indexList","reversed","res","grouprLinks","onewayIndex","rlinksForm","editorForm","reversedrLinksForm","remap","minVal","maxVal","scale","sqrt","log10","namespaced","visibleLinks","selectedFilter","selectedCategory","displaySettings","maxWidth","minWidth","numStep","fixScale","cmap","opacity","showNaN","reverseColor","geojson","updateLinks","changeSelectedFilter","changeSelectedCategory","applySettings","updateSelectedFeature","featureArr","arrayMinMax","arr","reduce","min","max","POSITIVE_INFINITY","NEGATIVE_INFINITY","minV","maxV","display_width","colorScale","padding","domain","classes","display_color","hex","refreshVisibleLinks","layer","mat","createLayer","prop","zone","changeZone","selectedProperty","row","hasOD","quetzalClient","client","login","idToken","axios","create","baseURL","withCredentials","headers","axiosClient","loginAll","REGION","region","s3Client","apiVersion","signatureVersion","params","s3","async","credentials","IdentityPoolId","Logins","config","getBucketList","getScenario","bucket","Bucket","moreToLoad","list","Contents","IsTruncated","NextContinuationToken","listObjectsV2","promise","ContinuationToken","err","scenarios","Key","split","scen","scenList","maxDateObj","startsWith","prev","current","LastModified","maxDate","toLocaleDateString","toLocaleTimeString","userEmail","headObject","Metadata","user_email","model","scenario","lastModified","readJson","ResponseCacheControl","response","getObject","Body","toString","trim","bucketList","cognitoGroup","listFiles","prefix","isArray","paths","Prefix","Content","copyFolder","newName","Error","file","newFile","join","copyParams","CopySource","copyObject","deleteFolder","deleteParams","Delete","Objects","deleteObjects","createFolder","upload","putObject","body","cognitoInfo","email","ContentType","getImagesURL","getSignedUrl","Expires","downloadFolder","zip","fileName","generateAsync","then","content","classFile","classFile2","inputFolder","outputFolder","extractZip","ZIP","loadAsync","filesNames","files","match","result","zipName","str","getGroupForm","IndexAreDifferent","geojsonA","geojsonB","linksIndex","newLinksIndex","stateMachineArnBase","steps","running","executionArn","currentStep","error","synchronized","parameters","cleanRun","setSteps","startExecution","terminateExecution","changeRunning","succeedExecution","text","autoClose","color","updateCurrentStep","stepNames","indexOf","getLocalParameters","actions","path","root","context","rootState","user","output_paths","matData","json","matDataExist","zoneData","getSteps","stateMachineArn","post","def","definition","StartAt","undefined","States","Next","next","catch","dispatch","paramsDict","acc","paramAcc","input","scenario_path_S3","launcher_arg","training_folder","metadata","pollExecution","intervalId","setInterval","status","clearInterval","includeExecutionData","reverseOrder","e","events","event","stateEnteredEventDetails","stopExecution","callID","timer","num_zones","train_size","date_time","ff_time_col","max_speed","num_cores","num_random_od","create_zone","hereApiKey","setCallID","setParameters","getApproxTimer","numZones","trainSize","numPlotOD","concat","render","_vm","_c","_self","staticClass","class","loggedIn","_v","style","textAlign","_s","$gettext","attrs","localLinksLoaded","on","click","$event","buttonHandle","small","left","localNodesLoaded","bottom","scopedSlots","_u","fn","_g","_b","ref","staticStyle","display","accept","change","onFilePicked","multiple","readZip","transition","filesAdded","_l","message","mess","errorMessage","persistent","keydown","_k","keyCode","applyDialog","apply","arguments","showDialog","callback","$$v","expression","_withStripped","choice","loadedLinks","loadedNodes","loadedType","computed","projectIsEmpty","$store","s3Path","$route","query","localFilesAreLoaded","watch","loadFilesFromS3","loadNetwork","mounted","methods","setTimeout","$router","replace","network_paths","loadStaticLayer","raster_path","rasterFiles","$refs","zipInput","document","getElementById","fileInput","loadExample","newProject","filesToLoads","url","fetch","unzip","blob","target","fileReader","FileReader","readAsText","onload","evt","PromisesList","Promise","all","zipFiles","importPT","importRoad","imgs","_e","img","src","alt","contain","components","auth","ClientId","AppWebDomain","TokenScopesArray","RedirectUriSignIn","RedirectUriSignOut","UserPoolId","userhandler","onSuccess","getIdToken","jwtToken","sessionIdInfo","accessToken","onFailure","go","storage","getStorage","getSession","logout","isUserSignedIn","getCognitoStorageKey","removeItem","signOut","keyPrefix","getClientId","tokenUserName","signInUserSession","getAccessToken","getUsername","s","scrollable","numLinks","applyAction","cancelAction","editForm","n","transform","linkDir","orderedForm","label","hint","showHint","hints","filled","wheel","blur","$set","proxy","showDeleteOption","icon","attributeNonDeletable","deleteField","rules","newField","stopPropagation","addField","fab","newFieldName","cloneName","ToggleDeleteOption","duplicate","cancelClone","cloneDialog","updateSelectedTrips","abortChanges","deleteButton","cloneButton","propertiesButton","actionClick","isRoadMode","clickFeature","showLeftPanel","width","directives","rawName","showLeftPanelContent","dark","grow","tab","roadMode","height","windowHeight","$emit","showAll","tripList","items","filterChoices","vmodelSelectedFilter","classifiedTripId","showGroup","some","trip","editButton","right","anchorMode","createNewLine","arrayUniqueTripId","Map","filteredCat","undefinedCat","c","newVal","oldVal","newTrip","dict","$nextTick","created","lingering","tripIds","obj","editVisible","selectedrGoup","changes","LinksSidePanel","RoadSidePanel","mapStyle","mapboxPublicKey","center","mapCenter","zoom","mapZoom","load","onMapLoaded","mousemove","draw","mouseout","resetDraw","addPoint","mouseup","rightClickMap","mapIsLoaded","choices","position","visible","rasterLayers","isEditorMode","onHover","onHoverRoad","offHover","rightClick","drawMode","source","drawLink","buffer","generateId","minzoom","paint","$vuetify","theme","currentTheme","linksprimary","connectedDrawLink","origin","show","shake","submit","cancel","suffix","required","linksPopupContent","top","offsetY","chips","roadsPopupContent","zipRules","outputName","v","localShow","validate","promoteId","interactive","maxzoom","layout","mouseenter","enterLink","mouseleave","leaveLink","contextmenu","editLineProperties","visibleNodes","mediumgrey","accent","white","MglGeojsonLayer","selectedPopupContent","showedTrips","setHiddenFeatures","off","selectLine","getCanvas","cursor","mapboxEvent","popup","isOpen","remove","htmlContent","closeButton","setLngLat","lng","lat","setHTML","addTo","showedTripsSet","ab","widthArr","widthDict","totSet","preventDefault","bbox","y","queryRenderedFeatures","layers","linkssecondary","selectClick","mouseover","onCursor","offCursor","linkRightClick","mousedown","contextMenuNode","showed","popupEditor","close","hoveredStateId","contextMenu","dense","flat","outlined","MglPopup","MglImageLayer","disablePopup","keepHovering","dragNode","querySourceFeatures","setFeatureState","hover","selectedId","originalEvent","button","onMove","stopMovingNode","loaded","renderedrLinks","minZoom","rendered","renderedrNodes","renderedAnchorrNodes","darkgrey","editorRnodes","getBounds","beforeDestroy","removeLayer","bounds","_sw","_ne","getZoom","uniqueArray","parsePath","selectedLayers","default","selectedOpacity","resp","MglMap","MglNavigationControl","MglScaleControl","LayerSelector","StaticLayer","StaticLinks","EditorLinks","RoadLinks","Settings","Boolean","hoverId","hoverLayer","mapDiv","resize","saveMapPosition","extend","fitBounds","getStyle","setLayoutProperty","getCenter","loadImage","image","addImage","sdf","dragRotate","disable","pointGeom","roadref","swatchStyle","menu","mode","swatches","updateColor","pcolor","chart","tempArr","lightblue","SidePanel","ColorPicker","cursorPosition","tripToDelete","tripToClone","route_long_name","window","addEventListener","linkId","mapref","selection","field","substr","order","vertical","isProtected","loading","run","stopRun","step","complete","panel","key2","rule","reset","expandAll","projectName","projectId","largerThanZero","nonNegative","k","parameters_path","ParamForm","protected","availableLayers","selectedLayer","filteredCategory","updateSelectedFilter","changeLayer","showSettings","featureClicked","readonly","selectedCat","openMenu","layerChoices","layerType","offsetValue","zoneClick","getLayer","zoneHover","isFinite","featureChoices","getColor","backgroundColor","toggleFixScale","showFixScale","refresh","ResultsSidePanel","MapResults","ResultsSettings","MapLegend","centered","validForm","importStatus","ceil","applying","ApplyResults","exporting","download","re","dateTimeRule","test","storeParams","param","inputs","poly","highwayList","attach","selectedHighway","importOSM","applyOverwriteDialog","showOverwriteDialog","colorDict","motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","residential","service","unclassified","cycleway","MatrixRoadCaster","OSMImporter","use","router","linkExactActiveClass","base","routes","Import","component","title","Microservices","beforeEnter","to","Home","Run","ResultMap","ResultPicture","currUrl","href","parseCognitoWebResponse","beforeEach","projectIsUndefined","tags","changeHighway","overpassQuery","applyDict","accesToken","loadingState","errorLoadingState","scenariosList","unloadProject","setLoggedIn","setLoggedOut","setCognitoInfo","setCognitoGroup","setBucketList","setAccessToken","setIdToken","setScenariosList","setModel","setScenario","setConfig","setRasterLayers","setRasterFiles","modules","results","runMRC","runOSM","notification","darkMode","changeNotification","changeAlert","changeDarkMode","changeLoading","changeWindowHeight","changeLeftPanel","setAnchorMode","changeAnchorMode","loadLayer","moduleName","_modules","_children","registerModule","initNetworks","unloadLayers","unregisterModule","exportFiles","folder","outputs","tempNodes","Blob","networkPaths","paramsPath","onResize","indeterminate","timeout","closeSnackbar","snackbar","$language","available","language","lang","handleChangeLanguage","toUpperCase","initial","given_name","family_name","modelsList","deleteDialog","copyDialog","localModel","modelScen","selectScenario","selectedScenario","localConfig","scenarioToDelete","cancelDialog","deleteScenario","createProject","cols","autofocus","closeCopy","localScen","localeCompare","sensitivity","loadProject","p","Profile","dialog","app","stateless","temporary","mini","drawer","getDisplayedRoutes","marginTop","handleClickMenuItem","nativeOn","runError","runSychronized","saving","marginLeft","fontSize","version","leftSidenav","menuItems","o","getRouteTitle","route","tpl","$gettextInterpolate","sheet","prominent","Toolbar","NavigationDrawer","Alert","container","clientHeight","assert","languageMixin","$selectBestLanguage","browserLangs","supportedLangs","parts","toLowerCase","normLang","bestLanguage","navigator","languages","matchMedia","matches","autoAddKeyAttributes","availableLanguages","en","fr","es","de","pt","defaultLanguage","translations","silent","productionTip","devtools","performance","customProperties","themes","light","primarydark","secondarydark","secondarydarkfix","secondarylight","background","lightgrey","black","lightgreen","darkgreen","darkblue","purple","pink","orange","yellow","success","icons","iconfont","locales","mixin","$flatEdges","recurse","flatObj","edges","edge","store","vuetify","h","App","template","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","call","m","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","d","getPrototypeOf","t","ns","getOwnPropertyNames","defineProperty","enumerable","get","g","globalThis","Function","prototype","hasOwnProperty","Symbol","toStringTag","nmd","children","baseURI","self","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","nc","__webpack_exports__"],"sourceRoot":""}