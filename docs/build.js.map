{"version":3,"file":"build.js","mappings":"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","sources":["webpack://quetzal-network-editor/webpack/runtime/chunk loaded","webpack://quetzal-network-editor/webpack/runtime/create fake namespace object","webpack://quetzal-network-editor/./src/scss/app.scss","webpack://quetzal-network-editor/./src/App.vue?5245","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?5500","webpack://quetzal-network-editor/./src/components/Map.vue?f79c","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?024b","webpack://quetzal-network-editor/./src/components/Settings.vue?17db","webpack://quetzal-network-editor/./src/components/SidePanel.vue?52fe","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?de32","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?fe88","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?339f","webpack://quetzal-network-editor/./src/pages/Home.vue?cac7","webpack://quetzal-network-editor/./src/pages/Import.vue?04c8","webpack://quetzal-network-editor/./src/pages/Login.vue?6a91","webpack://quetzal-network-editor/./src/scss/app.scss?d10e","webpack://quetzal-network-editor/./src/store/links.js","webpack://quetzal-network-editor/./src/store/rlinks.js","webpack://quetzal-network-editor/./src/store/index.js","webpack://quetzal-network-editor/./src/pages/Login.vue?f43e","webpack://quetzal-network-editor/./static/links_base.geojson","webpack://quetzal-network-editor/./static/nodes_base.geojson","webpack://quetzal-network-editor/./src/components/utils/utils.js","webpack://quetzal-network-editor/src/pages/Login.vue","webpack://quetzal-network-editor/./src/pages/Login.vue?9899","webpack://quetzal-network-editor/./src/pages/Login.vue?418f","webpack://quetzal-network-editor/./src/pages/Login.vue","webpack://quetzal-network-editor/./src/pages/Home.vue?f668","webpack://quetzal-network-editor/./src/components/SidePanel.vue?c0c3","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?a908","webpack://quetzal-network-editor/src/components/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?2735","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?da1f","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?0ed6","webpack://quetzal-network-editor/src/components/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?da18","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?e16b","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/SidePanel.vue?3af0","webpack://quetzal-network-editor/src/components/SidePanel.vue","webpack://quetzal-network-editor/./src/components/SidePanel.vue?9130","webpack://quetzal-network-editor/./src/components/SidePanel.vue","webpack://quetzal-network-editor/./src/components/Map.vue?381f","webpack://quetzal-network-editor/./src/components/StaticLinks.vue?071c","webpack://quetzal-network-editor/src/components/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/StaticLinks.vue?2fc3","webpack://quetzal-network-editor/./src/components/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/EditorLinks.vue?aea1","webpack://quetzal-network-editor/src/components/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/EditorLinks.vue?80e2","webpack://quetzal-network-editor/./src/components/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/RoadLinks.vue?a243","webpack://quetzal-network-editor/src/components/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/RoadLinks.vue?4ca6","webpack://quetzal-network-editor/./src/components/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/Settings.vue?0f67","webpack://quetzal-network-editor/src/components/Settings.vue","webpack://quetzal-network-editor/./src/components/Settings.vue?e34e","webpack://quetzal-network-editor/./src/components/Settings.vue?fab1","webpack://quetzal-network-editor/./src/components/Settings.vue","webpack://quetzal-network-editor/./src/components/Map.vue?eaca","webpack://quetzal-network-editor/src/components/Map.vue","webpack://quetzal-network-editor/./src/components/Map.vue?3603","webpack://quetzal-network-editor/./src/components/Map.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?f467","webpack://quetzal-network-editor/src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?6c63","webpack://quetzal-network-editor/./src/pages/Home.vue?e983","webpack://quetzal-network-editor/src/pages/Home.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/pages/Home.vue?bb51","webpack://quetzal-network-editor/./src/pages/Home.vue","webpack://quetzal-network-editor/./src/pages/Import.vue?8d5f","webpack://quetzal-network-editor/src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/Import.vue?c377","webpack://quetzal-network-editor/./src/pages/Import.vue?a525","webpack://quetzal-network-editor/./src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?d2c3","webpack://quetzal-network-editor/src/pages/DataFrame.vue","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?7f06","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?c619","webpack://quetzal-network-editor/./src/pages/DataFrame.vue","webpack://quetzal-network-editor/./src/router/index.js","webpack://quetzal-network-editor/./src/App.vue?4b9f","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?01c9","webpack://quetzal-network-editor/src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?41be","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?bef5","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?91ad","webpack://quetzal-network-editor/src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1673","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?c32d","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/App.vue?32cf","webpack://quetzal-network-editor/src/App.vue","webpack://quetzal-network-editor/./src/App.vue?3042","webpack://quetzal-network-editor/./src/App.vue","webpack://quetzal-network-editor/./src/main.js","webpack://quetzal-network-editor/webpack/bootstrap","webpack://quetzal-network-editor/webpack/runtime/compat get default export","webpack://quetzal-network-editor/webpack/runtime/define property getters","webpack://quetzal-network-editor/webpack/runtime/global","webpack://quetzal-network-editor/webpack/runtime/hasOwnProperty shorthand","webpack://quetzal-network-editor/webpack/runtime/make namespace object","webpack://quetzal-network-editor/webpack/runtime/publicPath","webpack://quetzal-network-editor/webpack/runtime/jsonp chunk loading","webpack://quetzal-network-editor/webpack/runtime/nonce","webpack://quetzal-network-editor/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body{font-family:\\\"Roboto\\\",sans-serif;height:100vh}body::-webkit-scrollbar{display:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-clip:padding-box;background-color:#9e9e9e;border-radius:8px}::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#2c3e4e;border-radius:8px}.v-application--wrap{flex-direction:row}.theme--light.v-application{color:#2c3e4e}.theme--light.v-icon{color:inherit !important}.theme--dark.v-label{color:#fff}.v-toolbar__content{display:flex;align-items:center;justify-content:space-between;height:100% !important;width:100%}.v-input__icon>i{font-size:14px !important;margin-right:10px}.v-navigation-drawer--fixed{z-index:200}.v-btn.primary>span{color:#2c3e4e !important}.v-snack__wrapper{margin:20px}.v-snack__content{color:#2c3e4e !important}.snackbar-error>.v-snack__wrapper{border-bottom:5px solid #e42626 !important}.snackbar-warning>.v-snack__wrapper{border-bottom:5px solid #ff7b30 !important}.snackbar-positive>.v-snack__wrapper{border-bottom:5px solid #4caf50 !important}.v-card__subtitle,.v-card__text,.v-card__title{padding:0}.v-card__title{line-height:normal}.mapboxgl-ctrl-bottom-right{right:10px;bottom:10px}.mapboxgl-popup-content{padding:10px;color:#fff;background-color:#2c3e4e}.mapboxgl-popup-tip{border-bottom-color:#2c3e4e !important;border-top-color:#2c3e4e !important}.mapboxgl-popup-close-button{right:20px;top:20px;font-size:1.5em}.mapboxgl-ctrl-attrib-inner>a{color:#2c3e4e !important}.view{padding:20px;height:calc(100% - 50px);width:100%;display:flex}.card{background-color:#fff;border-radius:5px;box-shadow:0px 5px 10px rgba(0,0,0,.05);padding:20px}.card-hover:hover{box-shadow:0px 5px 10px rgba(0,0,0,.1)}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(300px)}.fade-leave-active{display:none !important}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0 !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/scss/generic.scss\",\"webpack://./src/scss/variables.scss\",\"webpack://./src/scss/vuetify.scss\",\"webpack://./src/scss/mapboxgl.scss\",\"webpack://./src/scss/util.scss\",\"webpack://./src/scss/animations.scss\"],\"names\":[],\"mappings\":\"AAAA,KACE,+BAAA,CACA,YAAA,CAEF,wBACE,YAAA,CAEF,oBACE,SAAA,CAEF,0BACE,2BAAA,CACA,wBCJkB,CDKlB,iBAAA,CAEF,0BACE,2BAAA,CACA,wBCfkB,CDgBlB,iBAAA,CElBF,qBACE,kBAAA,CAEF,4BACE,aDFkB,CCIpB,qBACE,wBAAA,CAEF,qBACE,UAAA,CAEF,oBACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,sBAAA,CACA,UAAA,CAEF,iBACE,yBAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CAEF,oBACE,wBAAA,CAEF,kBACE,WAAA,CAEF,kBACE,wBAAA,CAEF,kCACE,0CAAA,CAEF,oCACE,0CAAA,CAEF,qCACE,0CAAA,CAEF,+CACE,SAAA,CAEF,eACE,kBAAA,CChDF,4BACE,UAAA,CACA,WAAA,CAEF,wBACE,YAAA,CACA,UAAA,CACA,wBFLkB,CEOpB,oBACE,sCAAA,CACA,mCAAA,CAEF,6BACE,UAAA,CACA,QAAA,CACA,eAAA,CAEF,8BACE,wBAAA,CCnBF,MACE,YAAA,CACA,wBAAA,CACA,UAAA,CACA,YAAA,CAEF,MACE,qBAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CAEF,kBACE,sCAAA,CCbF,sCACE,iBAAA,CAEF,2BACE,SAAA,CACA,2BAAA,CAEF,mBACE,uBAAA,CAEF,sCACE,sBAAA,CAEF,2BACE,oBAAA\",\"sourcesContent\":[\"body {\\n  font-family: 'Roboto', sans-serif;\\n  height: 100vh;\\n}\\nbody::-webkit-scrollbar {\\n  display: none;\\n}\\n::-webkit-scrollbar {\\n  width: 8px;\\n}\\n::-webkit-scrollbar-track {\\n  background-clip: padding-box;\\n  background-color: $grey-medium;\\n  border-radius: 8px;\\n}\\n::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: $secondary;\\n  border-radius: 8px;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\",\".v-application--wrap {\\n  flex-direction: row;\\n}\\n.theme--light.v-application {\\n  color: $secondary;\\n}\\n.theme--light.v-icon {\\n  color: inherit !important;\\n}\\n.theme--dark.v-label {\\n  color: white;\\n}\\n.v-toolbar__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  height: 100% !important;\\n  width: 100%;\\n}\\n.v-input__icon > i {\\n  font-size: 14px !important;\\n  margin-right: 10px;\\n}\\n.v-navigation-drawer--fixed {\\n  z-index: 200;\\n}\\n.v-btn.primary > span {\\n  color: $secondary !important;\\n}\\n.v-snack__wrapper {\\n  margin: 20px;\\n}\\n.v-snack__content {\\n  color: $secondary !important;\\n}\\n.snackbar-error > .v-snack__wrapper {\\n  border-bottom: 5px solid $negative !important;\\n}\\n.snackbar-warning > .v-snack__wrapper {\\n  border-bottom: 5px solid $warning !important;\\n}\\n.snackbar-positive > .v-snack__wrapper {\\n  border-bottom: 5px solid $positive !important;\\n}\\n.v-card__subtitle, .v-card__text, .v-card__title {\\n  padding: 0;\\n}\\n.v-card__title {\\n  line-height: normal;\\n}\\n\",\".mapboxgl-ctrl-bottom-right {\\n  right: 10px;\\n  bottom: 10px;\\n}\\n.mapboxgl-popup-content {\\n  padding: 10px;\\n  color: white;\\n  background-color: $secondary;\\n}\\n.mapboxgl-popup-tip {\\n  border-bottom-color: $secondary !important;\\n  border-top-color: $secondary !important;\\n}\\n.mapboxgl-popup-close-button {\\n  right: 20px;\\n  top: 20px;\\n  font-size: 1.5em;\\n}\\n.mapboxgl-ctrl-attrib-inner > a {\\n  color: $secondary !important;\\n}\\n\",\".view {\\n  padding: 20px;\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n.card {\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\\n  padding: 20px;\\n}\\n.card-hover:hover {\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.10);\\n}\\n\",\".list-enter-active, .list-leave-active {\\n  transition: all 1s;\\n}\\n.list-enter, .list-leave-to {\\n  opacity: 0;\\n  transform: translateX(300px);\\n}\\n.fade-leave-active {\\n  display: none !important;\\n}\\n.fade-enter-active, .fade-leave-active {\\n  transition: opacity 0.5s;\\n}\\n.fade-enter, .fade-leave-to {\\n  opacity: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app[data-v-64040b5c]{background-color:#f5f5f5 !important;width:100%;height:100%;overflow:hidden}.container[data-v-64040b5c]{height:100%;margin-left:50px;width:calc(100% - 50px);max-width:calc(100% - 50px);padding:0}.container.login[data-v-64040b5c]{margin-left:0;width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.vue\"],\"names\":[],\"mappings\":\"AAEA,sBACE,mCAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEF,4BACE,WAAA,CACA,gBAAA,CACA,uBAAA,CACA,2BAAA,CACA,SAAA,CAEF,kCACE,aAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app {\\n  background-color: $grey-ultralight !important;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.container {\\n  height: 100%;\\n  margin-left: 50px;\\n  width: calc(100% - 50px);\\n  max-width: calc(100% - 50px);\\n  padding: 0;\\n}\\n.container.login {\\n  margin-left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-084196c2]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-084196c2]{transition:.3s}.left-panel-content[data-v-084196c2]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-084196c2]{padding:0}.left-panel-toggle-btn[data-v-084196c2]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-084196c2]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-084196c2]{height:height;padding-left:20px}.scrollable[data-v-084196c2]{overflow-y:scroll}.drawer-list-item[data-v-084196c2]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-084196c2]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/LinksSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-view[data-v-046bd0e2]{width:100%}.setting[data-v-046bd0e2]{position:absolute;top:10px;right:20px}.my-custom-dialog[data-v-046bd0e2]{position:absolute !important;top:10px !important;right:20px !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Map.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,UAAA,CAGF,0BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAEF,mCACE,4BAAA,CACA,mBAAA,CACA,qBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  width: 100%;\\n\\n}\\n.setting {\\n  position: absolute;\\n  top: 10px;\\n  right: 20px;\\n}\\n.my-custom-dialog {\\n  position: absolute !important;\\n  top: 10px !important;\\n  right: 20px !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-564e2c31]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-564e2c31]{transition:.3s}.left-panel-content[data-v-564e2c31]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-564e2c31]{padding:0}.left-panel-toggle-btn[data-v-564e2c31]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-564e2c31]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-564e2c31]{height:height;padding-left:20px}.scrollable[data-v-564e2c31]{overflow-y:scroll}.drawer-list-item[data-v-564e2c31]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-564e2c31]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RoadSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-50fa7dc8]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-50fa7dc8]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-50fa7dc8]{width:500px;overflow-y:auto;padding:40px}.title[data-v-50fa7dc8]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-50fa7dc8]{font-size:2em;color:#2c3e4e !important;font-weight:bold;padding:1rem}.card button[data-v-50fa7dc8]{margin-top:40px}.shake[data-v-50fa7dc8]{animation:shake-50fa7dc8 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-50fa7dc8{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Settings.vue\"],\"names\":[],\"mappings\":\"AAGA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,YAAA,CAGF,8BACE,eAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: $secondary !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-18d104cf]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-18d104cf]{transition:.3s}.left-panel-content[data-v-18d104cf]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-18d104cf]{padding:0}.left-panel-toggle-btn[data-v-18d104cf]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-18d104cf]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-18d104cf]{height:height;padding-left:20px}.scrollable[data-v-18d104cf]{overflow-y:scroll}.drawer-list-item[data-v-18d104cf]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-18d104cf]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".drawer[data-v-64bd8bbc]{background-color:#2c3e4e !important}.drawer-header[data-v-64bd8bbc]{width:100%;height:50px;border-bottom:1px solid #fff;background-color:#2c3e4e;color:#fff;display:flex;align-items:center;padding-left:18px;cursor:pointer}.drawer-list[data-v-64bd8bbc]{height:calc(100% - 50px);display:flex;flex-direction:column;padding:20px 0}.drawer-list-item[data-v-64bd8bbc]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.drawer-list-item-icon[data-v-64bd8bbc]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.drawer-list-item-selected[data-v-64bd8bbc]{background-color:#0f1c27}.drawer-list-item[data-v-64bd8bbc]:hover{background-color:#0f1c27}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/NavigationDrawer.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,yBACE,mCAAA,CAEF,gCACE,UAAA,CACA,WAAA,CACA,4BAAA,CACA,wBCPkB,CDQlB,UAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAEF,8BACE,wBAAA,CACA,YAAA,CACA,qBAAA,CACA,cAAA,CAEF,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAEF,wCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,4CACE,wBCjCkB,CDmCpB,yCACE,wBCpCkB\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.drawer {\\n  background-color: $secondary !important;\\n}\\n.drawer-header {\\n  width: 100%;\\n  height: 50px;\\n  border-bottom: 1px solid white;\\n  background-color: $secondary;\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  padding-left: 18px;\\n  cursor: pointer;\\n}\\n.drawer-list {\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-direction: column;\\n  padding: 20px 0;\\n}\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n.drawer-list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n.drawer-list-item-selected {\\n  background-color: $secondary-dark;\\n}\\n.drawer-list-item:hover {\\n  background-color: $secondary-dark;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app-toolbar[data-v-1ab24a22]{z-index:100;height:50px !important;display:flex;color:#2c3e4e !important;position:relative}.login[data-v-1ab24a22]{padding-left:50px}.project-name[data-v-1ab24a22]{font-size:1.3em}.languages-container[data-v-1ab24a22]{display:flex}.language[data-v-1ab24a22]{width:50px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-1ab24a22],.language[data-v-1ab24a22]:hover{color:#2c3e4e}.language[data-v-1ab24a22]:last-child{border-right:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/Toolbar.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,8BACE,WAAA,CACA,sBAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAEF,wBACE,iBAAA,CAEF,+BACE,eAAA,CAEF,sCACE,YAAA,CAEF,2BACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aChBkB,CDiBlB,cAAA,CACA,cAAA,CAEF,mEACE,aC1BkB,CD4BpB,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app-toolbar {\\n  z-index: 100;\\n  height: 50px !important;\\n  display: flex;\\n  color: $secondary !important;\\n  position: relative;\\n}\\n.login {\\n  padding-left: 50px;\\n}\\n.project-name {\\n  font-size: 1.3em;\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.language {\\n  width: 50px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color: $secondary;\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-02239d78]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;justify-content:center;align-items:center}.layout-overlay[data-v-02239d78]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-02239d78]{width:calc(100% - 10em);height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-02239d78]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-02239d78]{font-size:2em;color:#2c3e4e !important;font-weight:bold;margin:40px}.card button[data-v-02239d78]{margin-top:40px}.animate-login[data-v-02239d78]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-02239d78]{opacity:0;transition:1s}.languages-container[data-v-02239d78]{display:flex}.language[data-v-02239d78]{border-right:1px solid #e3e3e3;padding-right:10px;padding-left:10px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-02239d78],.language[data-v-02239d78]:hover{color:#2c3e4e}.language[data-v-02239d78]:last-child{border-right:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/DataFrame.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,uBAAA,CACA,uBAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA,CAEF,sCACE,YAAA,CAEF,2BACE,8BAAA,CACA,kBAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aCnDkB,CDoDlB,cAAA,CACA,cAAA,CAEF,mEACE,aC7DkB,CD+DpB,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width:  calc(100% - 10em);\\n  height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: $secondary !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.language {\\n  border-right: 1px solid $grey-light;\\n  padding-right:10px;\\n  padding-left:10px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color: $secondary;\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-view[data-v-42d6dfa2]{height:calc(100% - 50px);width:100%;display:flex}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Home.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-3289f409]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-3289f409]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-3289f409]{width:500px;max-height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-3289f409]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-3289f409]{font-size:2em;color:#2c3e4e !important;font-weight:bold;margin:40px}.card button[data-v-3289f409]{margin-top:40px}.animate-login[data-v-3289f409]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-3289f409]{opacity:0;transition:1s}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Import.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,2BAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  max-height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: $secondary !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-6f404e79]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-6f404e79]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-6f404e79]{width:500px;max-height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-6f404e79]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-6f404e79]{font-size:2em;color:#2c3e4e !important;font-weight:bold;margin:40px}.card button[data-v-6f404e79]{margin-top:40px}.animate-login[data-v-6f404e79]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-6f404e79]{opacity:0;transition:1s}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Login.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,2BAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  max-height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: $secondary !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    filesAreLoaded: { links: false, nodes: false },\n    links: {},\n    editorTrip: null,\n    editorNodes: {},\n    editorLinks: {},\n    editorLineInfo: {},\n    nodes: {},\n    nodesHeader: {},\n    linksHeader: {},\n    tripId: [],\n    selectedTrips: [],\n    newLink: {},\n    newNode: {},\n    changeBounds: true,\n    linkSpeed: 20, // 20KmH for time (speed/distance)\n    lineAttributes: [],\n    nodeAttributes: [],\n    defaultAttributes: [\n      { name: 'index', type: 'String' },\n      { name: 'a', type: 'String' },\n      { name: 'b', type: 'String' },\n      { name: 'trip_id', type: 'String' },\n      { name: 'route_id', type: 'String' },\n      { name: 'agency_id', type: 'String' },\n      { name: 'route_long_name', type: 'String' },\n      { name: 'route_short_name', type: 'String' },\n      { name: 'route_type', type: 'String' },\n      { name: 'route_color', type: 'String' },\n      { name: 'length', type: 'Number' }, // float\n      { name: 'time', type: 'Number' }, // float\n      { name: 'headway', type: 'Number' }, // float\n      { name: 'route_width', type: 'Number' }, // float\n      { name: 'pickup_type', type: 'Number' }, // float\n      { name: 'drop_off_type', type: 'Number' }, // int\n      { name: 'link_sequence', type: 'Number' }, // int\n      { name: 'direction_id', type: 'Number' }, // int\n    ],\n  },\n\n  mutations: {\n    loadLinks (state, payload) {\n      state.links = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n\n        state.editorLinks = linksHeader\n        // limit geometry precision to 6 digit\n        state.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('applyPropertiesTypes')\n        this.commit('getTripId')\n        // set all trips visible\n        this.commit('changeSelectedTrips', state.tripId)\n\n        this.commit('getLinksProperties')\n        state.filesAreLoaded.links = true\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadNodes (state, payload) {\n      state.nodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.nodes.crs.properties.name)) {\n        const nodesHeader = { ...state.nodes }\n        nodesHeader.features = []\n        state.nodesHeader = nodesHeader\n        state.editorNodes = nodesHeader\n        // limit geometry precision to 6 digit\n        state.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getNodesProperties')\n        state.filesAreLoaded.nodes = true\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    unloadFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.filesAreLoaded = { links: false, nodes: false }\n      state.links = {}\n      state.nodes = {}\n      state.editorTrip = null\n      state.tripId = []\n      state.selectedTrips = []\n    },\n\n    getLinksProperties (state) {\n      let header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = state.defaultAttributes.map(attr => attr.name)\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.lineAttributes = header\n    },\n    getNodesProperties (state) {\n      let header = new Set([])\n      state.nodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index',\n        'stop_code',\n        'stop_name']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.nodeAttributes = header\n    },\n\n    addPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'links') {\n        state.links.features.map(link => link.properties[payload.name] = null)\n        state.lineAttributes.push(payload.name)\n      } else {\n        state.nodes.features.map(node => node.properties[payload.name] = null)\n      }\n    },\n    changeSelectedTrips (state, payload) {\n      // trips list of visible trip_id.\n      state.selectedTrips = payload\n    },\n\n    setEditorTrip (state, payload) {\n      // set Trip Id\n      state.editorTrip = payload.tripId\n      state.changeBounds = payload.changeBounds\n      // set editor links corresponding to trip id\n      // var filtered = {...state.links}\n      const filtered = JSON.parse(JSON.stringify(state.links))\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      state.editorLinks = filtered\n      // get the corresponding nodes\n      this.commit('getEditorNodes', { nodes: state.nodes })\n      this.commit('getEditorLineInfo')\n    },\n\n    getEditorNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      const a = state.editorLinks.features.map(item => item.properties.a)\n      const b = state.editorLinks.features.map(item => item.properties.b)\n      const editorNodesList = new Set([...a, ...b])\n      // set nodes corresponding to trip id\n      const filtered = JSON.parse(JSON.stringify(payload.nodes))\n      filtered.features = filtered.features.filter(node => editorNodesList.has(node.properties.index))\n      state.editorNodes = filtered\n    },\n\n    getEditorLineInfo (state) {\n      const form = {}\n      const uneditable = ['index', 'length', 'a', 'b', 'link_sequence']\n      // empty trip, when its a newLine\n      if (state.editorLinks.features.length === 0) {\n        function getDefaultValue (key) {\n          const defaultValue = { route_width: 3, route_color: '00BCD4' }\n          return defaultValue[key] || null\n        }\n\n        state.lineAttributes.forEach(key => {\n          form[key] = {\n            value: getDefaultValue[key],\n            disabled: uneditable.includes(key),\n            placeholder: false,\n          }\n        })\n\n        form.trip_id = { value: state.editorTrip, disabled: false, placeholder: false }\n      } else {\n        const features = state.editorLinks.features\n\n        state.lineAttributes.forEach(key => {\n          const val = new Set(features.map(link => link.properties[key]))\n          form[key] = {\n            value: val.size > 1 ? '' : [...val][0],\n            disabled: uneditable.includes(key),\n            placeholder: val.size > 1,\n          }\n        })\n      }\n      state.editorLineInfo = form\n    },\n\n    getTripId (state) {\n      state.tripId = Array.from(new Set(state.links.features.map(item => item.properties.trip_id)))\n    },\n\n    setNewLink (state, payload) {\n      // copy editor links geoJSON, only take first (or last) link.\n      // delete some properties like id and index.\n      const uncopiedPropeties = {\n        index: null,\n        length: null,\n        time: null,\n        pickup_type: 0,\n        drop_off_type: 0,\n      }\n      // create link\n      const tempLink = structuredClone(state.editorLinks)\n      // if there is no link to copy, create one. (new Line)\n      if (tempLink.features.length === 0) {\n        // copy Line properties.\n        const linkProperties = {}\n        Object.keys(state.editorLineInfo).forEach((key) => {\n          linkProperties[key] = state.editorLineInfo[key].value\n        })\n        // set default links values\n        const defaultValue = {\n          index: 'link_' + short.generate(),\n          a: state.editorNodes.features[0].properties.index,\n          b: state.editorNodes.features[0].properties.index,\n          length: null,\n          time: null,\n          pickup_type: 0,\n          drop_off_type: 0,\n          link_sequence: 0,\n        }\n        Object.keys(defaultValue).forEach((key) => {\n          linkProperties[key] = defaultValue[key]\n        })\n\n        const linkGeometry = {\n          coordinates: [state.editorNodes.features[0].geometry.coordinates,\n            state.editorNodes.features[0].geometry.coordinates],\n          type: 'LineString',\n        }\n        const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n        tempLink.features = [linkFeature]\n      }\n\n      if (payload.action === 'Extend Line Upward') {\n        // Take last link and copy properties\n        // eslint-disable-next-line no-var\n        var features = tempLink.features[tempLink.features.length - 1]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence +1\n        features.properties.link_sequence = features.properties.link_sequence + 1\n        // replace node a by b and delete node a\n        features.properties.a = features.properties.b\n        features.geometry.coordinates[0] = features.geometry.coordinates.slice(-1)[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.a\n        this.commit('setNewNode', payload)\n\n        features.properties.b = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      } else if (payload.action === 'Extend Line Downward') {\n        // Take first link and copy properties\n        // eslint-disable-next-line no-var, no-redeclare\n        var features = tempLink.features[0]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence + 1\n        features.properties.link_sequence = features.properties.link_sequence - 1\n        //  replace node b by a and delete node b\n        features.properties.b = features.properties.a\n        features.geometry.coordinates[1] = features.geometry.coordinates[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.b\n        this.commit('setNewNode', payload)\n        features.properties.a = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      }\n      tempLink.features = [features]\n      state.newLink = tempLink\n      state.newLink.action = payload.action\n    },\n    createNewNode (state, payload) {\n      const nodeProperties = {}\n      state.nodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'node_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified nodenewNode\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      state.editorNodes.features = [nodeFeatures]\n    },\n\n    setNewNode (state, payload) {\n      const { coordinates = [null, null] } = payload\n      const uncopiedPropeties = {}\n      state.nodeAttributes.forEach(key => {\n        uncopiedPropeties[key] = null\n      })\n      // Copy specified node\n      const tempNode = JSON.parse(JSON.stringify(state.editorNodes))\n      const features = tempNode.features.filter(node => node.properties.index === payload.nodeCopyId)[0]\n      Object.assign(features.properties, uncopiedPropeties)\n      features.properties.index = 'node_' + short.generate()\n      features.geometry.coordinates = coordinates\n      tempNode.features = [features]\n      state.newNode = tempNode\n    },\n\n    editNewLink (state, payload) {\n      // for realtime viz. this method change the linestring to the payload (mouse position)\n      // for some reason, it doesnt work when i only apply payload to coordinates[1]\n      state.newNode.features[0].geometry.coordinates = payload\n      if (state.newLink.action === 'Extend Line Upward') {\n        state.newLink.features[0].geometry.coordinates = [state.newLink.features[0].geometry.coordinates[0], payload]\n      } else {\n        state.newLink.features[0].geometry.coordinates = [payload, state.newLink.features[0].geometry.coordinates[1]]\n      }\n    },\n\n    applyNewLink (state, payload) {\n      // nodeId: this.selectedNodeId, geom: pointGeom, action: Extend Line Upward\n      // get linestring length in km\n      this.commit('setNewLink', { action: payload.action })\n      this.commit('editNewLink', payload.geom)\n\n      const distance = length(state.newLink)\n      state.newLink.features[0].properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n\n      state.newLink.features[0].properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n\n      const action = state.newLink.action\n      if (action === 'Extend Line Upward') {\n        state.editorLinks.features.push(state.newLink.features[0])\n        state.editorNodes.features.push(state.newNode.features[0])\n      } else if (action === 'Extend Line Downward') {\n        state.editorLinks.features.splice(0, 0, state.newLink.features[0])\n        state.editorNodes.features.splice(0, 0, state.newNode.features[0])\n        state.editorLinks.features.forEach(link => link.properties.link_sequence += 1)\n      }\n    },\n\n    deleteNode (state, payload) {\n      const nodeIndex = payload.selectedNode.index\n      // remove node\n      state.editorNodes.features = state.editorNodes.features.filter(node => node.properties.index !== nodeIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0] // link is extented\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0] // link is deleted\n      // if the last or first node is selected, there is only one link. The node and the link are deleted.\n      if (!link1) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n        // a link was remove, link_sequence -1\n        state.editorLinks.features.forEach(link => link.properties.link_sequence -= 1)\n      } else if (!link2) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link1.properties.index)\n        // the node is inbetween 2 links. 1 link is deleted, and the other is extented.\n      } else {\n        link1.geometry.coordinates = [\n          ...link1.geometry.coordinates.slice(0, -1),\n          ...link2.geometry.coordinates.slice(1)]\n        link1.properties.b = link2.properties.b\n        link1.properties.length += link2.properties.length\n        link1.properties.time += link2.properties.time\n        // find removed link index. drop everylinks link_sequence after by 1\n        const featureIndex = state.editorLinks.features.findIndex(\n          link => link.properties.index === link2.properties.index)\n        state.editorLinks.features.slice(featureIndex).forEach(\n          link => link.properties.link_sequence -= 1)\n        // delete link2\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n      }\n    },\n\n    splitLink (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features[featureIndex] // this link is extented\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'link_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.editorLinks.features.splice(featureIndex + 1, 0, link2)\n      state.editorNodes.features.push(state.newNode.features[0])\n\n      // add +1 to every link sequence afer link1\n      const seq = link1.properties.link_sequence\n      // everything after link1 except link2\n      state.editorLinks.features.filter(link => link.properties.link_sequence > seq).forEach(\n        link => link.properties.link_sequence += 1)\n      // add link2 sequence after.\n      link2.properties.link_sequence += 1\n    },\n\n    addNodeInline (state, payload) {\n      // payload contain selectedLink and event.lngLat (clicked point)\n      let linkGeom = state.editorLinks.features.filter((link) => link.properties.index === payload.selectedLink.index)\n      const nodeCopyId = linkGeom[0].properties.a\n      linkGeom = Linestring(linkGeom[0].geometry.coordinates)\n      const clickedPoint = Point(Object.values(payload.lngLat))\n      const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n      const dist = length(linkGeom, { units: 'kilometers' }) // dist\n      // for multiString, gives the index of the closest one, add +1 for the slice.\n      const sliceIndex = snapped.properties.index + 1\n      const offset = snapped.properties.location / dist\n      if (payload.nodes === 'editorNodes') {\n        this.commit('setNewNode', { coordinates: snapped.geometry.coordinates, nodeCopyId: nodeCopyId })\n        this.commit('splitLink', { selectedLink: payload.selectedLink, offset: offset, sliceIndex: sliceIndex })\n      // Anchor Nodes\n      } else {\n        this.commit('addAnchorNode', {\n          selectedLink: payload.selectedLink,\n          coordinates: snapped.geometry.coordinates,\n          sliceIndex: sliceIndex,\n        })\n      }\n\n      // this.commit('setNewNode', null) // init new node to null\n    },\n    addAnchorNode (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change editorLinks as it is an observer.\n      const link = state.editorLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    deleteAnchorNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    moveAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n\n    moveNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.editorNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0]\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0]\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      if (link1) {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link1.geometry.coordinates = [...link1.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link1)\n        link1.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link1.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n      if (link2) {\n        link2.geometry.coordinates = [payload.lngLat, ...link2.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link2)\n        link2.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link2.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n    },\n\n    cutLineFromNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.b === nodeId) {\n          toDelete = state.editorLinks.features.slice(i + 1)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    cutLineAtNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.a === nodeId) {\n          toDelete = state.editorLinks.features.slice(0, i)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    editLineInfo (state, payload) {\n      state.editorLineInfo = payload\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(payload).filter(key =>\n        ((payload[key].value !== '') || !payload[key].placeholder) && (!payload[key].disabled))\n      // add new line info to each links of each trips.\n      state.editorLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = payload[key].value))\n    },\n\n    editLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      const props = Object.keys(info)\n      state.editorLinks.features.filter(\n        function (link) {\n          if (link.properties.index === selectedLinkId) {\n            props.forEach((key) => link.properties[key] = info[key].value)\n          }\n        },\n      )\n      this.commit('getEditorLineInfo')\n    },\n\n    editNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.editorNodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    appendNewFile (state, payload) {\n      // append new links and node to the project (import page)\n      payload.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      state.links.features.push(...payload.links.features)\n      state.nodes.features.push(...payload.nodes.features)\n      this.commit('applyPropertiesTypes')\n      this.commit('getLinksProperties')\n      this.commit('getNodesProperties')\n      this.commit('getTripId')\n    },\n\n    editGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const editorGroupInfo = payload.info\n      const groupTripIds = payload.groupTripIds\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(editorGroupInfo).filter(key =>\n        ((editorGroupInfo[key].value !== '') || !editorGroupInfo[key].placeholder))\n      // add new line info to each links of each trips.\n      const tempLinks = state.links.features.filter(link => groupTripIds.includes(link.properties.trip_id))\n      tempLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = editorGroupInfo[key].value))\n      // get tripId list\n      this.commit('getTripId')\n    },\n    deleteUnusedNodes (state) {\n      // delete every every nodes not in links\n      const a = state.links.features.map(item => item.properties.a)\n      const b = state.links.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.nodes.features = state.nodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    confirmChanges (state) { // apply change to Links\n      const filtered = { ...state.links }\n\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      const toDelete = filtered.features.filter(item => !state.editorLinks.features.includes(item))\n      // find index of soon to be deleted links\n      if (state.tripId.includes(state.editorTrip)) {\n        // eslint-disable-next-line no-var\n        var index = state.links.features.findIndex(link => link.properties.trip_id === state.editorTrip)\n      } else {\n        // eslint-disable-next-line no-var, no-redeclare\n        var index = 0\n      }\n      // delete links that were edited.\n      state.links.features = state.links.features.filter(item => !toDelete.includes(item))\n      // add edited links to links.\n\n      state.links.features.splice(index, 0, ...state.editorLinks.features)\n      // all new nodes.\n      const nodesList = state.nodes.features.map(item => item.properties.index)\n      const newNodes = { ...state.editorNodes }\n      newNodes.features = newNodes.features.filter(node => !nodesList.includes(node.properties.index))\n      state.nodes.features.push(...newNodes.features)\n\n      // for each editor nodes, apply new properties.\n      state.nodes.features.filter(\n        function (node) {\n          state.editorNodes.features.forEach(\n            function (eNode) {\n              if (node.properties.index === eNode.properties.index) {\n                node.properties = eNode.properties\n                node.geometry = eNode.geometry\n              }\n            })\n        })\n\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n\n      // For every Links containing an editor Nodes. update Geometry.\n      // (this is necessary when we move a node that is share between multiplde lines)\n      // get a list of all links (excluding editorLinks) that contain the selected node\n      const editorNodesList = new Set(state.editorNodes.features.map(item => item.properties.index))\n      // get list of link with a node A modifieed\n      const linksA = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.a))\n      // apply new node geometry\n      linksA.forEach(link => link.geometry.coordinates = [\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.a)[0].geometry.coordinates,\n        ...link.geometry.coordinates.slice(1),\n      ])\n      // same for nodes b\n      const linksB = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.b))\n      linksB.forEach(link => link.geometry.coordinates = [\n        ...link.geometry.coordinates.slice(0, -1),\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.b)[0].geometry.coordinates,\n      ])\n\n      state.newLink = {}\n      state.newNode = {}\n\n      // get tripId list\n      this.commit('getTripId')\n      this.commit('getLinksProperties')\n    },\n\n    deleteTrip (state, payload) {\n      // payload = a single trip_id or a list or trips_id\n      // if its a list : delete all of them. else: delete single trip\n      if (typeof payload === 'object') {\n        state.links.features = state.links.features.filter(link => !payload.includes(link.properties.trip_id))\n      } else {\n        state.links.features = state.links.features.filter(link => link.properties.trip_id !== payload)\n      }\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n      // get tripId list\n      this.commit('getTripId')\n    },\n    applyPropertiesTypes (state) {\n      state.defaultAttributes.forEach(attr => {\n        if (attr.type === 'String') {\n          state.links.features.forEach(link => link.properties[attr.name] = String(link.properties[attr.name]))\n        } else if (attr.type === 'Number') {\n          state.links.features.forEach(link => link.properties[attr.name] = Number(link.properties[attr.name]))\n        }\n      })\n    },\n  },\n\n  getters: {\n    linksAreLoaded: (state) => state.filesAreLoaded.links,\n    nodesAreLoaded: (state) => state.filesAreLoaded.nodes,\n    filesAreLoaded: (state) => state.filesAreLoaded.links === true & state.filesAreLoaded.nodes === true,\n    links: (state) => state.links,\n    nodes: (state) => state.nodes,\n    linkSpeed: (state) => state.linkSpeed,\n    route_id: (state) => state.route_id,\n    editorTrip: (state) => state.editorTrip,\n    editorLinks: (state) => state.editorLinks,\n    editorNodes: (state) => state.editorNodes,\n    tripId: (state) => state.tripId,\n    selectedTrips: (state) => state.selectedTrips,\n    editorLineInfo: (state) => state.editorLineInfo,\n    newLink: (state) => state.newLink,\n    newNode: (state) => state.newNode,\n    firstNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features[0].properties.a\n      : state.editorNodes.features[0].properties.index,\n    lastNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features.slice(-1)[0].properties.b\n      : state.editorNodes.features[0].properties.index,\n    firstNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.firstNodeId)[0]\n      : null,\n    lastNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.lastNodeId)[0]\n      : null,\n    lineAttributes: (state) => state.lineAttributes,\n    nodeAttributes: (state) => state.nodeAttributes,\n    changeBounds: (state) => state.changeBounds,\n    nodesHeader: (state) => state.nodesHeader,\n    linksHeader: (state) => state.linksHeader,\n    anchorNodes: (state) => {\n      const nodes = structuredClone(state.nodesHeader)\n      state.editorLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push({\n              properties: { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n              geometry: { coordinates: point, type: 'Point' },\n            }),\n          )\n        },\n      )\n\n      return nodes\n    },\n    // this return the attribute type, of undefined.\n    attributeType: (state) => (name) => state.defaultAttributes.filter(attr => attr.name === name)[0]?.type,\n  },\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    rlinks: {},\n    rnodes: {},\n    rlinksHeader: {},\n    rnodesHeader: {},\n    selectedrCategory: '',\n    selectedrGroup: [],\n    rlineAttributes: [],\n    rnodeAttributes: [],\n    newrNode: {},\n    visiblerLinks: {},\n    visiblerNodes: {},\n    connectedLinks: [],\n    rfilesAreLoaded: { links: false, nodes: false },\n    roadSpeed: 20,\n  },\n\n  mutations: {\n    loadrLinks (state, payload) {\n      state.rlinks = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rlinks.crs.properties.name)) {\n        const rlinksHeader = { ...state.rlinks }\n        rlinksHeader.features = []\n        state.rlinksHeader = rlinksHeader\n        state.visiblerLinks = structuredClone(rlinksHeader)\n        // limit geometry precision to 6 digit\n        state.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('getrLinksProperties')\n        // set all trips visible\n        state.rfilesAreLoaded.links = true\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadrNodes (state, payload) {\n      state.rnodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rnodes.crs.properties.name)) {\n        const rnodesHeader = { ...state.rnodes }\n        rnodesHeader.features = []\n        state.rnodesHeader = rnodesHeader\n        state.visiblerNodes = structuredClone(rnodesHeader)\n        // limit geometry precision to 6 digit\n        state.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getrNodesProperties')\n        state.rfilesAreLoaded.nodes = true\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    unloadrFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.rfilesAreLoaded = { links: false, nodes: false }\n      state.rlinks = {}\n      state.rnodes = {}\n      state.visiblerLinks = {}\n      state.visiblerNodes = {}\n      state.selectedrGroup = []\n    },\n    getrLinksProperties (state) {\n      let header = new Set([])\n      state.rlinks.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = [\n        'index', 'a', 'b', 'route_color']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rlineAttributes = header\n\n      if (header.includes('highway')) {\n        state.selectedrCategory = 'highway'\n      } else {\n        state.selectedrCategory = header[0]\n      }\n    },\n    getrNodesProperties (state) {\n      let header = new Set([])\n      state.rnodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rnodeAttributes = header\n    },\n\n    changeVisibleRoads (state, payload) {\n      // trips list of visible trip_id.\n      const method = payload.method\n      const data = payload.data\n      const cat = payload.category\n      state.selectedrCategory = cat\n      let tempLinks = null\n\n      switch (method) {\n        case 'showAll':\n          state.selectedrGroup = data\n          state.visiblerLinks.features = state.rlinks.features\n          break\n        case 'hideAll':\n          state.selectedrGroup = data\n          state.visiblerLinks.features = []\n          break\n        case 'add':\n          state.selectedrGroup.push(data[0])\n          tempLinks = state.rlinks.features.filter(\n            link => link.properties[cat] === data[0])\n          state.visiblerLinks.features.push(...tempLinks)\n          break\n        case 'remove':\n          state.selectedrGroup = state.selectedrGroup.filter(el => el !== data[0])\n          tempLinks = new Set(state.visiblerLinks.features.filter(\n            link => link.properties[cat] === data[0]))\n          state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !tempLinks.has(link))\n          break\n      }\n      this.commit('getVisiblerNodes', { method: method })\n    },\n\n    refreshVisibleRoads (state) {\n      const group = new Set(state.selectedrGroup)\n      const cat = state.selectedrCategory\n      state.visiblerLinks.features = state.rlinks.features.filter(link => group.has(link.properties[cat]))\n      this.commit('getVisiblerNodes', { method: 'add' })\n      // when we rename a group (highway => test), are rename many group.\n      // remove nonexistant group in the selected group.\n      const possibleGroups = new Set(state.visiblerLinks.features.map(\n        item => item.properties[cat]))\n      state.selectedrGroup = [...possibleGroups].filter(x => group.has(x))\n    },\n    getVisiblerNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      let a = []\n      let b = []\n      let rNodesList = []\n      switch (payload.method) {\n        case 'showAll':\n          state.visiblerNodes.features = state.rnodes.features\n          break\n        case 'hideAll':\n          state.visiblerNodes.features = []\n          break\n        case 'add':\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use rnodes as they are new to visiblerNodes\n          state.visiblerNodes.features = state.rnodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        case 'remove' :\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use visibleRnodes, as they are already inside of it.\n          state.visiblerNodes.features = state.visiblerNodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        // case 'refresh'\n      }\n    },\n\n    editrLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      for (let i = 0; i < selectedLinkId.length; i++) {\n        const props = Object.keys(info[i])\n        state.rlinks.features.filter(\n          function (link) {\n            if (link.properties.index === selectedLinkId[i]) {\n              props.forEach((key) => link.properties[key] = info[i][key].value)\n            }\n          },\n        )\n      }\n\n      this.commit('getEditorLineInfo')\n    },\n\n    editrNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.rnodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    createNewrNode (state, payload) {\n      const newNode = structuredClone(state.rnodesHeader)\n      const nodeProperties = {}\n      state.rnodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'rnode_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified node\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      newNode.features = [nodeFeatures]\n      state.newrNode = newNode\n    },\n    splitrLink (state, payload) {\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = payload.selectedFeature\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newrNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newrNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newrNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newrNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'rlink_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.visiblerLinks.features.push(link2)\n      // update actual rlinks and rnodes\n      state.rlinks.features.filter((link) => link.properties.index === link1.properties.index)[0] = link1\n      state.rlinks.features.push(link2)\n    },\n\n    addRoadNodeInline (state, payload) {\n      // selectedLink : list of links index\n      // lngLat : object wit click geometry\n      // nodes : str. name of node to add (rnode, anchorrNodeS)\n      const selectedFeatures = state.visiblerLinks.features\n        .filter((link) => payload.selectedIndex.includes(link.properties.index))\n      // for loop. for each selectedc links add the node and split.\n      for (let i = 0; i < selectedFeatures.length; i++) {\n        const linkGeom = Linestring(selectedFeatures[i].geometry.coordinates)\n        const clickedPoint = Point(Object.values(payload.lngLat))\n        const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n        const dist = length(linkGeom, { units: 'kilometers' }) // dist\n        // for multiString, gives the index of the closest one, add +1 for the slice.\n        const sliceIndex = snapped.properties.index + 1\n        const offset = snapped.properties.location / dist\n        if (payload.nodes === 'rnodes') {\n          // only add one node, takes the first one.\n          if (i === 0) {\n            this.commit('createNewrNode', snapped.geometry.coordinates)\n            state.visiblerNodes.features.push(state.newrNode.features[0])\n            state.rnodes.features.push(state.newrNode.features[0])\n          }\n          this.commit('splitrLink', { selectedFeature: selectedFeatures[i], offset: offset, sliceIndex: sliceIndex })\n\n        // Anchor Nodes\n        } else {\n          this.commit('addAnchorrNode', {\n            selectedLink: selectedFeatures[i],\n            coordinates: snapped.geometry.coordinates,\n            sliceIndex: sliceIndex,\n          })\n        }\n      }\n    },\n    addAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedLink.properties.index\n      const featureIndex = state.visiblerLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change visible rLinks as it is an observer.\n      const link = state.visiblerLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    createrLink (state, payload) {\n      // nodeIdA: node id, nodeIdB: node id, geom: array geom where we clicked, layerId: str. the layer id rnodes, rlinks\n      // 3 cases.\n      // 1) click on the map. create a node b then connect.\n      // 2) click on a node. create a link between node a and b\n      // 3) click on a link. create node inline b then create link a to b.\n      // create a node if we click on the map (case 1)\n      if (!payload.nodeIdB) {\n        this.commit('createNewrNode', payload.geom)\n        state.visiblerNodes.features.push(state.newrNode.features[0])\n        state.rnodes.features.push(state.newrNode.features[0])\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      } else if (payload.layerId === 'rlinks') {\n        // create a node inline and then the new link\n        this.commit('addRoadNodeInline', { selectedIndex: payload.nodeIdB, lngLat: payload.geom, nodes: 'rnodes' })\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      }\n      const rnodeA = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdA)[0]\n      const rnodeB = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdB)[0]\n\n      const linkGeometry = {\n        coordinates: [rnodeA.geometry.coordinates, rnodeB.geometry.coordinates],\n        type: 'LineString',\n      }\n\n      const linkProperties = {}\n      // set default links values\n      state.rlineAttributes.forEach((key) => linkProperties[key] = null)\n      linkProperties.index = 'rlink_' + short.generate()\n      linkProperties.a = payload.nodeIdA\n      linkProperties.b = payload.nodeIdB\n      linkProperties.highway = 'quenedi'\n      linkProperties.route_color = 'B5E0D6'\n      // add length, speed, time now that we have a geometry.\n      const distance = length(linkGeometry)\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      linkProperties.length = Number((distance * 1000).toFixed(0)) // metres\n      linkProperties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      linkProperties.speed = Number(state.roadSpeed) // rounded to 0 decimals\n\n      const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n      state.rlinks.features.push(linkFeature)\n\n      // add newly generated group (i.e. highway == quenedi), to visibles checked groups.\n      const newLinkGroup = linkProperties[state.selectedrCategory]\n      if (!state.selectedrGroup.includes(newLinkGroup)) {\n        // if its not already selected, push it.\n        state.selectedrGroup.push(newLinkGroup)\n      } else {\n        // its already selected (visible), update visiblerlinks\n        state.visiblerLinks.features.push(linkFeature)\n      }\n    },\n\n    getConnectedLinks (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // get links connected to the node\n      // use rLinks as we could moidified links that are not visible moving a node.\n      state.connectedLinks = {\n        b: state.rlinks.features.filter(link => link.properties.b === nodeIndex),\n        a: state.rlinks.features.filter(link => link.properties.a === nodeIndex),\n      }\n    },\n    moverNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.visiblerNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      state.connectedLinks.b.forEach(link => {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link.geometry.coordinates = [...link.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      })\n      state.connectedLinks.a.forEach(link => {\n        link.geometry.coordinates = [payload.lngLat, ...link.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      })\n    },\n    moverAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n    deleteAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    deleterLink (state, payload) {\n      const linkArr = new Set(payload.selectedIndex)\n      state.rlinks.features = state.rlinks.features.filter(link => !linkArr.has(link.properties.index))\n      state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !linkArr.has(link.properties.index))\n      this.commit('getVisiblerNodes', { method: 'remove' })\n      this.commit('deleteUnusedrNodes')\n    },\n    deleterGroup (state, payload) {\n      const group = payload\n      const cat = state.selectedrCategory\n      state.rlinks.features = state.rlinks.features.filter(link => link.properties[cat] !== group)\n      this.commit('refreshVisibleRoads')\n      this.commit('deleteUnusedrNodes')\n    },\n    deleteUnusedrNodes (state) {\n      // delete every every nodes not in links\n      const a = state.rlinks.features.map(item => item.properties.a)\n      const b = state.rlinks.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.rnodes.features = state.rnodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    editrGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      const selectedLinks = payload.selectedLinks // observer of state.links\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      selectedLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('refreshVisibleRoads')\n    },\n    editrVisiblesInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      state.visiblerLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('refreshVisibleRoads')\n    },\n\n  },\n\n  getters: {\n    rlinks: (state) => state.rlinks,\n    rnodes: (state) => state.rnodes,\n    roadSpeed: (state) => state.roadSpeed,\n    rlinksHeader: (state) => state.rlinksHeader,\n    rnodesHeader: (state) => state.rnodesHeader,\n    rlineAttributes: (state) => state.rlineAttributes,\n    selectedrGroup: (state) => state.selectedrGroup,\n    selectedrCategory: (state) => state.selectedrCategory,\n    visiblerLinks: (state) => state.visiblerLinks,\n    visiblerNodes: (state) => state.visiblerNodes,\n    newrNode: (state) => state.newrNode,\n    anchorrNodes: (state) => (renderedLinks) => {\n      const nodes = structuredClone(state.rnodesHeader)\n      renderedLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push(Point(\n              point,\n              { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n            ),\n            ),\n\n          )\n        },\n      )\n\n      return nodes\n    },\n    grouprLinks: (state) => (category, group) => {\n      return state.rlinks.features.filter(link => group === link.properties[category])\n    },\n    rlinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.rlineAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n  },\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport linksModule from './links.js'\nimport rlinksModule from './rlinks.js'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  modules: {\n    links: linksModule,\n    rlinks: rlinksModule,\n  },\n\n  state: {\n    notification: {},\n    anchorMode: false,\n    showLeftPanel: true,\n    linksPopupContent: 'trip_id',\n    roadsPopupContent: 'highway',\n    outputName: 'output',\n\n  },\n  mutations: {\n    changeNotification (state, payload) {\n      state.notification = payload\n    },\n    changeLeftPanel (state) {\n      state.showLeftPanel = !state.showLeftPanel\n    },\n    setAnchorMode (state, payload) {\n      state.anchorMode = payload\n    },\n    changeAnchorMode (state) {\n      state.anchorMode = !state.anchorMode\n    },\n    applySettings (state, payload) {\n      state.links.linkSpeed = Number(payload.linkSpeed)\n      state.rlinks.roadSpeed = Number(payload.roadSpeed)\n      state.linksPopupContent = payload.linksPopupContent\n      state.roadsPopupContent = payload.roadsPopupContent\n      state.outputName = payload.outputName\n    },\n    exportFiles (state, payload = 'all') {\n      const zip = new JSZip()\n      // const folder = zip.folder('output') // create a folder for the files.\n      let links = ''\n      let nodes = ''\n      let rlinks = ''\n      let rnodes = ''\n      // export only visible line (line selected)\n      this.commit('applyPropertiesTypes')\n      if (payload !== 'all') {\n        const tempLinks = structuredClone(state.links.links)\n        tempLinks.features = tempLinks.features.filter(\n          link => state.links.selectedTrips.includes(link.properties.trip_id))\n        links = JSON.stringify(tempLinks)\n        // delete every every nodes not in links\n        const a = tempLinks.features.map(item => item.properties.a)\n        const b = tempLinks.features.map(item => item.properties.b)\n        const nodesInLinks = Array.from(new Set([...a, ...b]))\n        const tempNodes = structuredClone(state.links.nodes)\n        tempNodes.features = tempNodes.features.filter(node => nodesInLinks.includes(node.properties.index))\n        nodes = JSON.stringify(tempNodes)\n\n        rlinks = JSON.stringify(state.rlinks.visiblerLinks)\n        rnodes = JSON.stringify(state.rlinks.visiblerNodes)\n      // export everything\n      } else {\n        links = JSON.stringify(state.links.links)\n        nodes = JSON.stringify(state.links.nodes)\n        rlinks = JSON.stringify(state.rlinks.rlinks)\n        rnodes = JSON.stringify(state.rlinks.rnodes)\n      }\n      // export only if not empty\n      if (JSON.parse(links).features.length > 0) {\n        // eslint-disable-next-line no-var\n        var blob = new Blob([links], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([nodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('nodes.geojson', blob)\n      }\n      if (JSON.parse(rlinks).features.length > 0) {\n      // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rlinks], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('road_links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rnodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('road_nodes.geojson', blob)\n      }\n      zip.generateAsync({ type: 'blob' })\n        .then(function (content) {\n          // see FileSaver.js\n          saveAs(content, state.outputName + '.zip')\n        })\n    },\n  },\n  getters: {\n    notification: (state) => state.notification,\n    anchorMode: (state) => state.anchorMode,\n    showLeftPanel: (state) => state.showLeftPanel,\n    linksPopupContent: (state) => state.linksPopupContent,\n    roadsPopupContent: (state) => state.roadsPopupContent,\n\n    outputName: (state) => state.outputName,\n\n  },\n})\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { staticClass: \"layout\" },\n        [\n          _c(\"div\", {\n            staticClass: \"layout-overlay\",\n            class: { \"animate-layer\": _vm.loggedIn },\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-card\",\n            { staticClass: \"card\", class: { \"animate-login\": _vm.loggedIn } },\n            [\n              _c(\"v-card-title\", { staticClass: \"title\" }, [\n                _vm._v(\"\\n        Quetzal Network Editor\\n      \"),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-card-text\", { style: { textAlign: \"center\" } }, [\n                _c(\"div\", { staticClass: \"subtitle\" }, [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(_vm.$gettext(\"Load Files\")) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Links and Nodes files must be geojson in EPSG:4326.\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"text-xs-center\" },\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          loading: _vm.loading.links,\n                          color:\n                            Object.keys(_vm.loadedLinks).length != 0\n                              ? \"primary\"\n                              : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"links\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Links\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          loading: _vm.loading.nodes,\n                          color:\n                            Object.keys(_vm.loadedNodes).length != 0\n                              ? \"primary\"\n                              : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"nodes\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Nodes\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: {\n                                          loading: _vm.loading.zip,\n                                          color: \"normal\",\n                                        },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\"zip\")\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\n                                      \"v-icon\",\n                                      { attrs: { small: \"\", left: \"\" } },\n                                      [\n                                        _vm._v(\n                                          \"\\n                  fas fa-file-archive\\n                \"\n                                        ),\n                                      ]\n                                    ),\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(\"zip\") +\n                                        \"\\n              \"\n                                    ),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(_vm.$gettext(\"Load zip files containing\"))\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"nodes.geojson and links.geojson or\")\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"road_nodes.geojson and road_links.geojson\"\n                              )\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"or both the PT and road geojsons\")\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"fileInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { type: \"file\", accept: \".geojson\" },\n                  on: { change: _vm.onFilePicked },\n                }),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"zipInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { type: \"file\", accept: \".zip\", multiple: \"multiple\" },\n                  on: { change: _vm.readZip },\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { small: \"\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\n                                              \"newProject\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"New Project\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"Create a network from scratch\")\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { \"x-small\": \"\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\"example\")\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"Example\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(_vm._s(_vm.$gettext(\"Load Montral Example\"))),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Overwrite current Project ?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","import JSZip from 'jszip'\n\nasync function extractZip (file) {\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  // process ZIP file content here\n  const result = { links: null, nodes: null, road_links: null, road_nodes: null }\n  for (let i = 0; i < filesNames.length; i++) {\n    if (zip.files[filesNames[i]].name.slice(-7) === 'geojson') {\n      const str = await zip.file(filesNames[i]).async('string')\n      const content = JSON.parse(str)\n      if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(content.crs.properties.name)) {\n        alert('invalid CRS. use CRS84 / EPSG:4326')\n      }\n      if (content.features[0].geometry.type === 'LineString') {\n        if (filesNames[i].includes('road')) {\n          result.road_links = content\n        } else {\n          result.links = content\n        }\n      } else if (content.features[0].geometry.type === 'Point') {\n        if (filesNames[i].includes('road')) {\n          result.road_nodes = content\n        } else {\n          result.nodes = content\n        }\n      }\n    }\n  }\n  if ((result.links == null) && (result.road_links == null)) {\n    throw new Error(`There is no valid link or road_links in ${file.name}`)\n  }\n  if ((result.nodes == null) && result.road_nodes == null) {\n    throw new Error(`There is no valid nodes or road_nodes in ${file.name}`)\n  }\n  return result\n}\n\nfunction getGroupForm (features, lineAttributes, uneditable) {\n  const form = {}\n  lineAttributes.forEach(key => {\n    const val = new Set(features.map(link => link.properties[key]))\n    form[key] = {\n      value: val.size > 1 ? '' : [...val][0],\n      disabled: uneditable.includes(key),\n      placeholder: val.size > 1,\n    }\n  })\n  return form\n}\n\nfunction indexAreUnique (geojson) {\n  // check if all index are unique in a geojson (links or nodes)\n  // return true if they are unique\n  let indexArr = []\n  if (geojson?.features.length > 0) {\n    indexArr = geojson.features.map(item => item.properties.index)\n    return (new Set(indexArr).size === indexArr.length)\n  } else { return true } // if its empty, return true\n}\n\nexport { extractZip, getGroupForm, indexAreUnique }\n","<script>\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nimport { extractZip, indexAreUnique } from '../components/utils/utils.js'\nconst $gettext = s => s\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      loggedIn: false,\n      loadedLinks: {},\n      loadedrLinks: {},\n      loadedrNodes: {},\n      loadedNodes: {},\n      choice: null,\n      loading: { links: false, nodes: false, zip: false },\n      showDialog: false,\n      errorMessage: '',\n    }\n  },\n\n  computed: {\n    filesAreLoaded () { return this.$store.getters.filesAreLoaded },\n    localFilesAreLoaded () {\n      return !((Object.keys(this.loadedLinks).length === 0 ||\n                Object.keys(this.loadedNodes).length === 0 ||\n                Object.keys(this.loadedrLinks).length === 0 ||\n                Object.keys(this.loadedrNodes).length === 0\n      ))\n    },\n  },\n  watch: {\n    loadedLinks (value) {\n      if (value.features) {\n        this.$store.commit('loadLinks', value)\n        this.loading.links = false\n      }\n    },\n    loadedNodes (value) {\n      if (value.features) {\n        this.$store.commit('loadNodes', value)\n        this.loading.nodes = false\n      }\n    },\n    loadedrLinks (value) {\n      if (value.features) {\n        this.$store.commit('loadrLinks', value)\n      }\n    },\n    loadedrNodes (value) {\n      if (value.features) {\n        this.$store.commit('loadrNodes', value)\n      }\n    },\n    localFilesAreLoaded (val) {\n      if (val) {\n        this.loggedIn = true\n        this.login()\n      }\n    },\n\n  },\n  mounted () {\n    this.$store.commit('changeNotification', '')\n  },\n  methods: {\n    login () {\n      // Leave time for animation to end (.animate-login and .animate-layer css rules)\n      setTimeout(() => {\n        this.$router.push('/Home').catch(() => {})\n      }, 1000)\n    },\n    error (message) {\n      this.errorMessage = message\n      this.loading = { links: false, nodes: false, zip: false }\n      this.loadedLinks = {}\n      this.loadedrLinks = {}\n      this.loadedrNodes = {}\n      this.loadedNodes = {}\n    },\n\n    buttonHandle (choice) {\n      this.choice = choice\n      if (!this.filesAreLoaded) {\n        if (choice === 'example') {\n          this.loadExample()\n        } else if (choice === 'newProject') {\n          this.newProject()\n        } else if (choice === 'zip') {\n          // read zip witjh links and nodes.\n          this.$refs.zipInput.click()\n        } else {\n          // read json links or node (depending on choice)\n          this.$refs.fileInput.click()\n        }\n      } else {\n        this.showDialog = true\n      }\n    },\n    applyDialog () {\n      // this only happen when both files are loaded.\n      // remove links and nodes from store. (and filesAreLoaded)\n      this.$store.commit('unloadFiles')\n\n      if (this.choice === 'example') {\n        this.loadExample()\n      } else if (this.choice === 'newProject') {\n        this.newProject()\n      } else if (this.choice === 'zip') {\n        // handle click and open file explorer\n        this.$refs.zipInput.click()\n      } else {\n        // this only happen when both files are loaded.\n        // remove links and nodes from store. (and filesAreLoaded)\n        this.$store.commit('unloadFiles')\n        this.$store.commit('unloadrFiles')\n        // handle click and open file explorer\n        this.$refs.fileInput.click()\n      }\n      this.showDialog = !this.showDialog\n    },\n\n    loadExample () {\n      const url = 'https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/static/'\n      fetch(url + 'links_exemple.geojson')\n        .then(res => res.json())\n        .then(out => { this.loadedLinks = out })\n        .catch(err => { alert(err) })\n\n      fetch(url + 'nodes_exemple.geojson')\n        .then(res => res.json())\n        .then(out => { this.loadedNodes = out })\n        .catch(err => { alert(err) })\n\n      fetch(url + 'road_links_exemple.geojson')\n        .then(res => res.json())\n        .then(out => { this.loadedrLinks = out })\n        .catch(err => { alert(err) })\n\n      fetch(url + 'road_nodes_exemple.geojson')\n        .then(res => res.json())\n        .then(out => { this.loadedrNodes = out })\n        .catch(err => { alert(err) })\n    },\n    newProject () {\n      this.loadedLinks = linksBase\n      this.loadedNodes = nodesBase\n      this.loadedrLinks = linksBase\n      this.loadedrNodes = nodesBase\n    },\n\n    onFilePicked (event) {\n      this.loading[this.choice] = true\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.loading[this.choice] = false\n        return\n      }\n      // it is a geojson\n      if (files[0].name.slice(-7) !== 'geojson') {\n        this.loading[this.choice] = false\n        $gettext('file is not a geojson')\n        return\n      }\n\n      const fileReader = new FileReader()\n      fileReader.readAsText(files[0])\n      if (this.choice === 'links') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedrLinks = JSON.parse(evt.target.result)\n              this.loadedLinks = linksBase\n            } else {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              this.loadedrLinks = linksBase\n            }\n          } catch (e) {\n            this.$store.commit('changeNotification', { text: e.message, autoClose: true, color: 'red darken-2' })\n            this.loading[this.choice] = false\n          }\n        }\n      } else if (this.choice === 'nodes') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedrNodes = JSON.parse(evt.target.result)\n              this.loadedNodes = nodesBase\n            } else {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              this.loadedrNodes = nodesBase\n            }\n          } catch (e) {\n            alert(e.message)\n            this.loading[this.choice] = false\n          }\n        }\n      }\n    },\n    async readZip (event) {\n      this.loading.zip = true\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.loading.zip = false\n        return\n      }\n      // it is a zip\n      if (files[0].name.slice(-3) !== 'zip') {\n        this.loading.zip = false\n        this.errorMessage = $gettext('file is not a zip')\n      }\n      // read every selected zip and create a list of promises.\n      // each promises contain {links, nodes}\n      const PromisesList = []\n      for (let i = 0; i < files.length; i++) {\n        const res = extractZip(files[i])\n        PromisesList.push(res)\n      }\n      // when all files are read\n      Promise.all(PromisesList).then(files => {\n        // asign first file to links and node var\n        const links = structuredClone(linksBase)\n        const nodes = structuredClone(nodesBase)\n        const rlinks = structuredClone(linksBase)\n        const rnodes = structuredClone(nodesBase)\n\n        // for each other files concat, concat to links and nodes\n        for (let i = 0; i < files.length; i++) {\n          if (files[i].links) { // group so there is no links read without nodes\n            links.features.push(...files[i].links.features)\n            nodes.features.push(...files[i].nodes.features)\n          }\n          if (files[i].road_links) {\n            rlinks.features.push(...files[i].road_links.features)\n            rnodes.features.push(...files[i].road_nodes.features)\n          }\n        }\n        // then its finish\n        // if there was nothing, apply base one.\n        if (indexAreUnique(links)) {\n          this.loadedLinks = links\n        } else {\n          this.error($gettext('there is duplicated links index. Import aborted'))\n        }\n        if (indexAreUnique(nodes)) {\n          this.loadedNodes = nodes\n        } else {\n          this.error($gettext('there is duplicated nodes index. Import aborted'))\n        }\n        if (indexAreUnique(rlinks)) {\n          this.loadedrLinks = rlinks\n        } else {\n          this.error($gettext('there is duplicated road links index. Import aborted'))\n        }\n        if (indexAreUnique(rnodes)) {\n          this.loadedrNodes = rnodes\n        } else {\n          this.error($gettext('there is duplicated road nodes index. Import aborted'))\n        }\n\n        this.loading.zip = false\n      }).catch(err => {\n        this.loading.zip = false\n        alert(err)\n      })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <div class=\"layout\">\n      <div\n        class=\"layout-overlay\"\n        :class=\"{ 'animate-layer': loggedIn }\"\n      />\n      <v-card\n        class=\"card\"\n        :class=\"{ 'animate-login': loggedIn }\"\n      >\n        <v-card-title class=\"title\">\n          Quetzal Network Editor\n        </v-card-title>\n        <v-card-text :style=\"{textAlign: 'center'}\">\n          <div class=\"subtitle\">\n            {{ $gettext(\"Load Files\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Links and Nodes files must be geojson in EPSG:4326.\") }}\n          </div>\n          <div class=\" text-xs-center\">\n            <v-btn\n              :loading=\"loading.links\"\n              :color=\" Object.keys(loadedLinks).length != 0? 'primary': 'normal'\"\n              @click=\"buttonHandle('links')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Links') }}\n            </v-btn>\n            <v-btn\n              :loading=\"loading.nodes\"\n              :color=\" Object.keys(loadedNodes).length != 0? 'primary': 'normal'\"\n              @click=\"buttonHandle('nodes')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Nodes') }}\n            </v-btn>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  :loading=\"loading.zip\"\n                  :color=\"'normal'\"\n                  v-on=\"on\"\n                  @click=\"buttonHandle('zip')\"\n                >\n                  <v-icon\n                    small\n                    left\n                  >\n                    fas fa-file-archive\n                  </v-icon>\n                  {{ 'zip' }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load zip files containing\") }}</span>\n              <br>\n              <span>{{ $gettext(\"nodes.geojson and links.geojson or\") }}</span>\n              <br>\n              <span>{{ $gettext(\"road_nodes.geojson and road_links.geojson\") }}</span>\n              <br>\n              <span>{{ $gettext(\"or both the PT and road geojsons\") }}</span>\n            </v-tooltip>\n          </div>\n          <input\n            ref=\"fileInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".geojson\"\n            @change=\"onFilePicked\"\n          >\n          <input\n            ref=\"zipInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".zip\"\n            multiple=\"multiple\"\n            @change=\"readZip\"\n          >\n\n          <div>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  small\n                  v-bind=\"attrs\"\n                  @click=\"buttonHandle('newProject')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('New Project') }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Create a network from scratch\") }}</span>\n            </v-tooltip>\n          </div>\n\n          <div>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  x-small\n                  v-bind=\"attrs\"\n                  @click=\"buttonHandle('example')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('Example') }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load Montral Example\") }}</span>\n            </v-tooltip>\n          </div>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n      </v-card>\n    </div>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Overwrite current Project ?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  max-height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=6f404e79&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=6f404e79&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=6f404e79&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=6f404e79&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f404e79\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { scrollable: \"\", persistent: \"\", \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyAction.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelAction.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"60rem\" } },\n            [\n              _vm.editorForm.length > 1\n                ? _c(\n                    \"v-tabs\",\n                    {\n                      attrs: { grow: \"\" },\n                      model: {\n                        value: _vm.selectedTab,\n                        callback: function ($$v) {\n                          _vm.selectedTab = $$v\n                        },\n                        expression: \"selectedTab\",\n                      },\n                    },\n                    _vm._l(_vm.selectedLink, function (link) {\n                      return _c(\"v-tab\", { key: link }, [\n                        _vm._v(\"\\n          \" + _vm._s(link) + \"\\n        \"),\n                      ])\n                    }),\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(\n                      [\"deleteTrip\", \"deleterGroup\"].includes(_vm.action)\n                        ? _vm.$gettext(\"Delete\") + \" \" + _vm.deleteMessage + \"?\"\n                        : _vm.$gettext(\"Edit Properties\")\n                    ) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              [\n                \"Edit Line Info\",\n                \"Edit Link Info\",\n                \"Edit Node Info\",\n                \"Edit Group Info\",\n                \"Edit rLink Info\",\n                \"Edit Road Group Info\",\n                \"Edit Visible Road Info\",\n                \"Edit rNode Info\",\n              ].includes(_vm.action)\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\n                        \"v-list\",\n                        _vm._l(_vm.orderedForm, function (value, key) {\n                          return _c(\"v-text-field\", {\n                            key: key,\n                            attrs: {\n                              label: key,\n                              filled: !value[\"disabled\"],\n                              type: _vm.$store.getters.attributeType(key),\n                              placeholder: value[\"placeholder\"]\n                                ? _vm.$gettext(\"multiple Values\")\n                                : \"\",\n                              \"persistent-placeholder\": value[\"placeholder\"]\n                                ? true\n                                : false,\n                              disabled: value[\"disabled\"],\n                            },\n                            on: {\n                              wheel: function ($event) {\n                                return $event.target.blur()\n                              },\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                key === \"route_color\"\n                                  ? {\n                                      key: \"append\",\n                                      fn: function () {\n                                        return [\n                                          _c(\"color-picker\", {\n                                            model: {\n                                              value: value[\"value\"],\n                                              callback: function ($$v) {\n                                                _vm.$set(value, \"value\", $$v)\n                                              },\n                                              expression: \"value['value']\",\n                                            },\n                                          }),\n                                        ]\n                                      },\n                                      proxy: true,\n                                    }\n                                  : null,\n                              ],\n                              null,\n                              true\n                            ),\n                            model: {\n                              value: value[\"value\"],\n                              callback: function ($$v) {\n                                _vm.$set(value, \"value\", $$v)\n                              },\n                              expression: \"value['value']\",\n                            },\n                          })\n                        }),\n                        1\n                      ),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: { click: _vm.applyAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"SidePanel\", {\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"selectedr-group\": _vm.selectedrGroup,\n        },\n        on: {\n          \"update-tripList\": _vm.updateSelectedTrips,\n          confirmChanges: _vm.confirmChanges,\n          abortChanges: _vm.abortChanges,\n          deleteButton: _vm.deleteButton,\n          propertiesButton: _vm.actionClick,\n          isRoadMode: (e) => (_vm.isRoadMode = e),\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"Map\", {\n        ref: \"mapref\",\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"is-road-mode\": _vm.isRoadMode,\n        },\n        on: { clickFeature: _vm.actionClick },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? \"400px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondary\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n              {\n                name: \"resize\",\n                rawName: \"v-resize\",\n                value: _vm.onResize,\n                expression: \"onResize\",\n              },\n            ],\n            ref: \"leftPanel\",\n            staticClass: \"left-panel-content\",\n            attrs: { id: \"left-panel\" },\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"v-tabs\",\n                    {\n                      attrs: {\n                        \"background-color\": \"secondarylight\",\n                        dark: \"\",\n                        grow: \"\",\n                      },\n                      model: {\n                        value: _vm.tab,\n                        callback: function ($$v) {\n                          _vm.tab = $$v\n                        },\n                        expression: \"tab\",\n                      },\n                    },\n                    [\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"PT Links\")))]),\n                      _vm._v(\" \"),\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"Road Links\")))]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"LinksSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: !_vm.roadMode,\n                        expression: \"!roadMode\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.height,\n                      \"selected-trips\": _vm.selectedTrips,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"links\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"RoadSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.roadMode,\n                        expression: \"roadMode\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.height,\n                      \"selectedr-goup\": _vm.selectedrGroup,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"rlinks\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              attrs: { icon: \"\", color: \"white\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList == _vm.tripId\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList == _vm.tripId\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              attrs: { icon: \"\", color: \"white\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.propertiesButton(_vm.tripList)\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(\"Lines\")) + \"\\n    \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              attrs: { icon: \"\", color: \"white\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"visibles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: \"filter\",\n                  \"item-color\": \"secondary\",\n                  color: \"secondary\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm._l(_vm.classifiedTripId, function (value, key) {\n            return _c(\n              \"v-list-group\",\n              {\n                key: String(value.name) + String(key),\n                attrs: { color: \"secondary\", value: false, \"no-action\": \"\" },\n                scopedSlots: _vm._u(\n                  [\n                    {\n                      key: \"activator\",\n                      fn: function () {\n                        return [\n                          _c(\n                            \"v-list-item-action\",\n                            [\n                              _c(\n                                \"v-tooltip\",\n                                {\n                                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                  scopedSlots: _vm._u(\n                                    [\n                                      {\n                                        key: \"activator\",\n                                        fn: function ({ on, attrs }) {\n                                          return [\n                                            _c(\n                                              \"v-btn\",\n                                              _vm._g(\n                                                _vm._b(\n                                                  {\n                                                    attrs: { icon: \"\" },\n                                                    on: {\n                                                      click: function ($event) {\n                                                        $event.stopPropagation()\n                                                        return _vm.showGroup(\n                                                          value.tripId\n                                                        )\n                                                      },\n                                                    },\n                                                  },\n                                                  \"v-btn\",\n                                                  attrs,\n                                                  false\n                                                ),\n                                                on\n                                              ),\n                                              [\n                                                _c(\n                                                  \"v-icon\",\n                                                  {\n                                                    staticClass:\n                                                      \"list-item-icon\",\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                  \" +\n                                                        _vm._s(\n                                                          value.tripId.some(\n                                                            (val) =>\n                                                              _vm.tripList.includes(\n                                                                val\n                                                              )\n                                                          )\n                                                            ? \"fa-eye fa\"\n                                                            : \"fa-eye-slash fa\"\n                                                        ) +\n                                                        \"\\n                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                          ]\n                                        },\n                                      },\n                                    ],\n                                    null,\n                                    true\n                                  ),\n                                },\n                                [\n                                  _vm._v(\" \"),\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(\n                                          value.tripId.some((val) =>\n                                            _vm.tripList.includes(val)\n                                          )\n                                            ? _vm.$gettext(\"Hide All\")\n                                            : _vm.$gettext(\"Show All\")\n                                        ) +\n                                        \"\\n            \"\n                                    ),\n                                  ]),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\"v-list-item-title\", [\n                                _c(\"strong\", [\n                                  _vm._v(\n                                    \"\\n              \" +\n                                      _vm._s(\n                                        value.name == \"undefined\"\n                                          ? _vm.$gettext(value.name)\n                                          : value.name\n                                      ) +\n                                      \"\\n            \"\n                                  ),\n                                ]),\n                              ]),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled:\n                                                    _vm.editorTrip != null\n                                                      ? true\n                                                      : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.propertiesButton(\n                                                      value.tripId\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              { attrs: { color: \"regular\" } },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-list\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(\n                                  _vm._s(_vm.$gettext(\"Edit Group Properties\"))\n                                ),\n                              ]),\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled: _vm.editorTrip\n                                                    ? true\n                                                    : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.deleteButton({\n                                                      trip: value.tripId,\n                                                      message: value.name,\n                                                      action: \"deleteTrip\",\n                                                    })\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              {\n                                                attrs: {\n                                                  small: \"\",\n                                                  color: \"regular\",\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-trash\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(_vm._s(_vm.$gettext(\"Delete Group\"))),\n                              ]),\n                            ]\n                          ),\n                        ]\n                      },\n                      proxy: true,\n                    },\n                  ],\n                  null,\n                  true\n                ),\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"v-virtual-scroll\", {\n                  attrs: {\n                    items: value.tripId,\n                    \"item-height\": 45,\n                    height: Math.min(\n                      _vm.height - 220,\n                      45 * value.tripId.length + 3\n                    ),\n                  },\n                  scopedSlots: _vm._u(\n                    [\n                      {\n                        key: \"default\",\n                        fn: function ({ item }) {\n                          return [\n                            _c(\n                              \"v-list-item\",\n                              { key: item, staticClass: \"pl-2\" },\n                              [\n                                _c(\n                                  \"v-list-item-action\",\n                                  [\n                                    _c(\"v-checkbox\", {\n                                      staticClass: \"pl-2\",\n                                      attrs: {\n                                        \"on-icon\": \"fa-eye fa\",\n                                        \"off-icon\": \"fa-eye-slash fa\",\n                                        color: \"primary\",\n                                        value: item,\n                                        size: \"10\",\n                                        \"hide-details\": \"\",\n                                      },\n                                      model: {\n                                        value: _vm.tripList,\n                                        callback: function ($$v) {\n                                          _vm.tripList = $$v\n                                        },\n                                        expression: \"tripList\",\n                                      },\n                                    }),\n                                  ],\n                                  1\n                                ),\n                                _vm._v(\" \"),\n                                item == _vm.editorTrip\n                                  ? _c(\"v-list-item-title\", [\n                                      _c(\"strong\", [_vm._v(_vm._s(item))]),\n                                    ])\n                                  : _c(\"v-list-item-title\", [\n                                      _vm._v(\n                                        \"\\n              \" +\n                                          _vm._s(item) +\n                                          \"\\n            \"\n                                      ),\n                                    ]),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.editButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-pen\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Edit Line\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.propertiesButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-list\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$gettext(\"Edit Line Properties\")\n                                        )\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled: _vm.editorTrip\n                                                          ? true\n                                                          : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.deleteButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                              action:\n                                                                \"deleteTrip\",\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        small: \"\",\n                                                        color: \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-trash\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(_vm.$gettext(\"Delete Line\"))\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ],\n                    null,\n                    true\n                  ),\n                }),\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          (_vm.editorTrip ? true : false)\n            ? _c(\n                \"v-list-item\",\n                [\n                  _c(\n                    \"v-tooltip\",\n                    {\n                      attrs: { right: \"\", \"open-delay\": \"500\" },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        staticClass: \"mx-2\",\n                                        attrs: {\n                                          color: _vm.$store.getters.anchorMode\n                                            ? \"grey\"\n                                            : \"regular\",\n                                        },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.$store.commit(\n                                              \"changeAnchorMode\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                      _vm._v(\n                                        \"\\n              fas fa-bezier-curve\\n            \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ],\n                        null,\n                        false,\n                        724455018\n                      ),\n                    },\n                    [\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(_vm._s(_vm.$gettext(\"Edit Line geometry\"))),\n                      ]),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"abortChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-times-circle\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Abort\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"confirmChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-save\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Confirm\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"v-list-item\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.editorTrip ? false : true,\n                  expression: \"editorTrip ? false: true\",\n                },\n              ],\n            },\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"text--primary\",\n                                  attrs: {\n                                    color: \"primary\",\n                                    fab: \"\",\n                                    small: \"\",\n                                  },\n                                  on: { click: _vm.createNewLine },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [_c(\"v-icon\", [_vm._v(\"fas fa-plus\")])],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"Create new Line\")))]),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nconst $gettext = s => s\nconst short = require('short-uuid')\n\nexport default {\n  name: 'LinksSidePanel',\n  components: {\n  },\n\n  props: ['selectedTrips', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: [],\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.lineAttributes },\n    editorTrip () { return this.$store.getters.editorTrip },\n    tripId () { return this.$store.getters.tripId },\n    arrayUniqueTripId () {\n      // drop duplicates links trips. each line is a trip here.\n      const arrayUniqueByKey = [...new Map(this.$store.getters.links.features.map(item =>\n        [item.properties.trip_id, item.properties])).values()]\n      return arrayUniqueByKey\n    },\n    filteredCat () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.arrayUniqueTripId.map(\n        item => item[this.selectedFilter])))\n      return val\n    },\n\n    classifiedTripId () {\n      // return this list of object, {cat_name, tripId list}\n      const classifiedTripId = []\n      const undefinedCat = { name: $gettext('undefined'), tripId: [] }\n      this.filteredCat.forEach(c => {\n        const arr = this.arrayUniqueTripId.filter(\n          item => item[this.selectedFilter] === c,\n        ).map((item) => item.trip_id)\n\n        // regroup all null values into a single list 'undefined'\n        if (c === null | c === '' | c === undefined) {\n          undefinedCat.tripId.push(...arr)\n        } else {\n          classifiedTripId.push({ name: c, tripId: arr })\n        }\n      })\n      // if there was undefined Categories, append it at the end.\n      if (undefinedCat.tripId.length > 0) {\n        classifiedTripId.push(undefinedCat)\n      }\n      return classifiedTripId\n    },\n  },\n\n  watch: {\n    tripList (val) {\n      this.$emit('update-tripList', val)\n    },\n    tripId (newVal, oldVal) {\n      if (newVal.length < oldVal.length) {\n        // if a trip is deleted. we remove it, no remapping.\n        this.tripList = this.tripList.filter((trip) => newVal.includes(trip))\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        const newTrip = newVal.filter(item => !oldVal.includes(item))[0]\n        this.tripList.push(newTrip)\n      } else {\n        // if a trip name changes.\n        // update TripList v-model when a trip_id is changed.\n        const dict = {}\n        oldVal.forEach(\n          function (key, i) {\n            dict[key] = newVal[i]\n          })\n        this.tripList = this.tripList.map((trip) => dict[trip])\n      }\n    },\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // prevent group larger than 500.\n      if (this.filteredCat.length > 500) {\n        // if it is larger, return to oldValue\n        this.selectedFilter = oldVal\n        // display error message\n        this.$store.commit('changeNotification',\n          {\n            text: $gettext('Cannot filter by this field. There is more than 500 groups'),\n            autoClose: true,\n            color: 'red darken-2',\n          })\n        // return the value in the v-select as the old Value\n        // eslint-disable-next-line no-return-assign\n        this.$nextTick(() => this.vmodelSelectedFilter = oldVal)\n      }\n    },\n\n  },\n  created () {\n    this.tripList = this.selectedTrips\n    this.selectedFilter = 'route_type'\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    editButton (value) {\n      if (this.editorTrip === value) {\n        this.showDialog = true\n      } else {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      if (typeof value === 'object') {\n        this.$emit('propertiesButton', { action: 'Edit Group Info', lingering: false, tripIds: value })\n      } else if (!this.editorTrip) {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: false })\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: false })\n        // just open dialog\n      } else {\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    createNewLine () {\n      const name = 'trip_' + short.generate()\n      this.$store.commit('setEditorTrip', { tripId: name, changeBounds: false })\n      this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n      this.$store.commit('changeNotification',\n        { text: $gettext('Click on the map to start drawing'), autoClose: false })\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList === this.tripId) {\n        this.tripList = []\n      } else {\n        this.tripList = this.tripId\n      }\n    },\n    showGroup (val) {\n      // at least one value is selected in the group : uncheck all\n      if (val.some(value => this.tripList.includes(value))) {\n        this.tripList = this.tripList.filter(trip => !val.includes(trip))\n      // none are selected : select All.\n      } else {\n        this.tripList = Array.from(new Set([...this.tripList, ...val]))\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            color=\"white\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList == tripId ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList == tripId? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            color=\"white\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"propertiesButton(tripList)\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      {{ $gettext(\"Lines\") }}\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            color=\"white\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','visibles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          label=\"filter\"\n          item-color=\"secondary\"\n          color=\"secondary\"\n        />\n      </v-list-item>\n      <v-list-group\n        v-for=\"(value, key) in classifiedTripId\"\n        :key=\"String(value.name) + String(key)\"\n        color=\"secondary\"\n        :value=\"false\"\n        no-action\n      >\n        <template v-slot:activator>\n          <v-list-item-action>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  @click.stop=\"showGroup(value.tripId)\"\n                >\n                  <v-icon class=\"list-item-icon\">\n                    {{ value.tripId.some(val => tripList.includes(val))\n                      ? 'fa-eye fa' :\n                        'fa-eye-slash fa' }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>\n                {{ value.tripId.some(val => tripList.includes(val))\n                  ? $gettext(\"Hide All\"):\n                    $gettext(\"Show All\") }}\n              </span>\n            </v-tooltip>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title>\n              <strong>\n                {{ value.name=='undefined'? $gettext(value.name): value.name }}\n              </strong>\n            </v-list-item-title>\n          </v-list-item-content>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip!=null? true: false\"\n                v-on=\"on\"\n                @click.stop=\"propertiesButton(value.tripId)\"\n              >\n                <v-icon color=\"regular\">\n                  fas fa-list\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Edit Group Properties\") }}</span>\n          </v-tooltip>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip ? true: false\"\n                v-on=\"on\"\n                @click.stop=\"deleteButton({trip:value.tripId, message:value.name,action:'deleteTrip'})\"\n              >\n                <v-icon\n                  small\n                  color=\"regular\"\n                >\n                  fas fa-trash\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Delete Group\") }}</span>\n          </v-tooltip>\n        </template>\n\n        <v-virtual-scroll\n          :items=\"value.tripId\"\n          :item-height=\"45\"\n          :height=\"Math.min(height-220, 45*value.tripId.length+3)\"\n        >\n          <template v-slot=\"{ item }\">\n            <v-list-item\n              :key=\"item\"\n              class=\"pl-2\"\n            >\n              <v-list-item-action>\n                <v-checkbox\n                  v-model=\"tripList\"\n                  class=\"pl-2\"\n                  :on-icon=\"'fa-eye fa'\"\n                  :off-icon=\"'fa-eye-slash fa'\"\n                  :color=\"'primary'\"\n                  :value=\"item\"\n                  size=\"10\"\n                  hide-details\n                />\n              </v-list-item-action>\n              <v-list-item-title v-if=\"item==editorTrip\">\n                <strong>{{ item }}</strong>\n              </v-list-item-title>\n              <v-list-item-title v-else>\n                {{ item }}\n              </v-list-item-title>\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"editButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-pen\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"propertiesButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-list\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"editorTrip ? true: false\"\n                    v-on=\"on\"\n                    @click=\"deleteButton({trip:item,message:item,action:'deleteTrip'})\"\n                  >\n                    <v-icon\n                      small\n                      color=\"regular\"\n                    >\n                      fas fa-trash\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Delete Line\") }}</span>\n              </v-tooltip>\n            </v-list-item>\n          </template>\n        </v-virtual-scroll>\n      </v-list-group>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item v-if=\"editorTrip ? true: false\">\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-bezier-curve\n              </v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $gettext(\"Edit Line geometry\") }}</span>\n        </v-tooltip>\n\n        <v-btn\n          @click=\"$emit('abortChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-times-circle\n          </v-icon>\n          {{ $gettext(\"Abort\") }}\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          @click=\"$emit('confirmChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-save\n          </v-icon>\n          {{ $gettext(\"Confirm\") }}\n        </v-btn>\n      </v-list-item>\n      <v-list-item v-show=\"editorTrip ? false: true\">\n        <v-spacer />\n\n        <v-tooltip\n          bottom\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              color=\"primary\"\n              class=\"text--primary\"\n              fab\n              small\n              v-on=\"on\"\n              @click=\"createNewLine\"\n            >\n              <v-icon>fas fa-plus</v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $gettext(\"Create new Line\") }}</span>\n        </v-tooltip>\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=084196c2&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=084196c2&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LinksSidePanel.vue?vue&type=template&id=084196c2&scoped=true&\"\nimport script from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinksSidePanel.vue?vue&type=style&index=0&id=084196c2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"084196c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              attrs: { icon: \"\", color: \"white\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList.length > 0\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList.length > 0\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              attrs: {\n                                icon: \"\",\n                                color: \"white\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.editVisible()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(\"Roads\")) + \"\\n    \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              attrs: { icon: \"\", color: \"white\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"all\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"visible\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: \"filter\",\n                  \"item-color\": \"secondary\",\n                  color: \"secondary\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-virtual-scroll\", {\n            attrs: {\n              items: _vm.filteredCat,\n              \"item-height\": 45,\n              height: _vm.height - 71,\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function ({ item }) {\n                  return [\n                    _c(\n                      \"v-list-item\",\n                      {\n                        key: _vm.vmodelSelectedFilter.concat(item),\n                        staticClass: \"pl-2\",\n                      },\n                      [\n                        _c(\n                          \"v-list-item-action\",\n                          [\n                            _c(\"v-checkbox\", {\n                              staticClass: \"pl-2\",\n                              attrs: {\n                                \"on-icon\": \"fa-eye fa\",\n                                \"off-icon\": \"fa-eye-slash fa\",\n                                color: \"primary\",\n                                value: item,\n                                size: \"10\",\n                                \"hide-details\": \"\",\n                              },\n                              model: {\n                                value: _vm.tripList,\n                                callback: function ($$v) {\n                                  _vm.tripList = $$v\n                                },\n                                expression: \"tripList\",\n                              },\n                            }),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"v-list-item-title\", [\n                          _vm._v(\n                            \"\\n            \" + _vm._s(item) + \"\\n          \"\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.propertiesButton(\n                                                    item\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            { attrs: { color: \"regular\" } },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-list\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(\n                                _vm._s(_vm.$gettext(\"Edit Line Properties\"))\n                              ),\n                            ]),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.deleteButton({\n                                                    trip: item,\n                                                    group: _vm.selectedFilter,\n                                                    message: item,\n                                                    action: \"deleterGroup\",\n                                                  })\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              attrs: {\n                                                small: \"\",\n                                                color: \"regular\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-trash\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(_vm._s(_vm.$gettext(\"Delete Line\"))),\n                            ]),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ]\n                },\n              },\n            ]),\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { right: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"mx-2\",\n                                  attrs: {\n                                    color: _vm.$store.getters.anchorMode\n                                      ? \"grey\"\n                                      : \"regular\",\n                                  },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.$store.commit(\n                                        \"changeAnchorMode\"\n                                      )\n                                    },\n                                  },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [\n                              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-bezier-curve\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [\n                    _vm._v(_vm._s(_vm.$gettext(\"Edit Line geometry\"))),\n                  ]),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'RoadSidePanel',\n  components: {\n  },\n  props: ['selectedrGoup', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: this.selectedrGoup,\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.rlineAttributes },\n    filteredCat () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.$store.getters.rlinks.features.map(\n        item => item.properties[this.selectedFilter])))\n      return val\n    },\n\n  },\n\n  watch: {\n    tripList (newVal, oldVal) {\n      let changes = ''\n\n      let method = 'add'\n      if (newVal === this.filteredCat) {\n        changes = newVal\n        method = 'showAll'\n      } else if (newVal.length === 0) {\n        changes = []\n        method = 'hideAll'\n      } else if (newVal.length < oldVal.length) {\n        // if a tripis unchecked. we remove it\n        changes = oldVal.filter(item => !newVal.includes(item))\n        method = 'remove'\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        changes = newVal.filter(item => !oldVal.includes(item))\n        method = 'add'\n      }\n      if (changes !== '') {\n        this.$emit('update-tripList', { category: this.vmodelSelectedFilter, data: changes, method: method })\n      }\n    },\n    selectedrGoup (newVal, oldVal) {\n      // check selected group in store. if it changes from another component\n      // (ex: draw line). we update tripList with it.\n      if (newVal.toString() !== this.tripList.toString()) {\n        this.tripList = newVal\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // only reset if we change the filter.\n      // when the component is loaded, oldVal is null and we dont want to overwrite tripList to [].\n      if (oldVal) {\n        this.tripList = []\n      }\n    },\n\n  },\n  mounted () {\n    this.tripList = this.selectedrGoup\n    this.selectedFilter = this.$store.getters.selectedrCategory\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      this.$emit('propertiesButton', {\n        action: 'Edit Road Group Info',\n        lingering: false,\n        category: this.vmodelSelectedFilter,\n        group: value,\n      })\n    },\n    editVisible () {\n      this.$emit('propertiesButton', {\n        action: 'Edit Visible Road Info',\n        lingering: false,\n      })\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList === this.filteredCat) {\n        this.tripList = []\n      } else {\n        this.tripList = this.filteredCat\n      }\n    },\n    showGroup (val) {\n      this.tripList = Array.from(new Set([...this.tripList, ...val]))\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            color=\"white\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            color=\"white\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"editVisible()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      {{ $gettext(\"Roads\") }}\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            color=\"white\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','all')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','visible')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          label=\"filter\"\n          item-color=\"secondary\"\n          color=\"secondary\"\n        />\n      </v-list-item>\n\n      <v-virtual-scroll\n        :items=\"filteredCat\"\n        :item-height=\"45\"\n        :height=\"height-71\"\n      >\n        <template v-slot=\"{ item }\">\n          <v-list-item\n            :key=\"vmodelSelectedFilter.concat(item)\"\n            class=\"pl-2\"\n          >\n            <v-list-item-action>\n              <v-checkbox\n                v-model=\"tripList\"\n                class=\"pl-2\"\n                :on-icon=\"'fa-eye fa'\"\n                :off-icon=\"'fa-eye-slash fa'\"\n                :color=\"'primary'\"\n                :value=\"item\"\n                size=\"10\"\n                hide-details\n              />\n            </v-list-item-action>\n\n            <v-list-item-title>\n              {{ item }}\n            </v-list-item-title>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"propertiesButton(item)\"\n                >\n                  <v-icon :color=\"'regular' \">\n                    fas fa-list\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"deleteButton({trip:item,group:selectedFilter,message:item,action:'deleterGroup'})\"\n                >\n                  <v-icon\n                    small\n                    color=\"regular\"\n                  >\n                    fas fa-trash\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete Line\") }}</span>\n            </v-tooltip>\n          </v-list-item>\n        </template>\n      </v-virtual-scroll>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item>\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-bezier-curve\n              </v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $gettext(\"Edit Line geometry\") }}</span>\n        </v-tooltip>\n        <v-spacer />\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=564e2c31&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=564e2c31&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RoadSidePanel.vue?vue&type=template&id=564e2c31&scoped=true&\"\nimport script from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoadSidePanel.vue?vue&type=style&index=0&id=564e2c31&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"564e2c31\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"","<script>\nimport LinksSidePanel from './LinksSidePanel.vue'\nimport RoadSidePanel from './RoadSidePanel.vue'\nexport default {\n  name: 'SidePanel',\n  components: {\n    LinksSidePanel,\n    RoadSidePanel,\n  },\n  props: ['selectedTrips', 'selectedrGroup'],\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'deleteButton', 'propertiesButton', 'newLine', 'isRoadMode'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      height: null,\n      tab: 0,\n      roadMode: false,\n    }\n  },\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n\n    tab (val) {\n      if (val === 1) {\n        this.roadMode = true\n      } else {\n        this.roadMode = false\n      }\n      this.$emit('isRoadMode', this.roadMode)\n    },\n  },\n\n  created () {\n    this.height = (window.innerHeight - 80) - 20 * 3 - 60\n  },\n\n  methods: {\n    onResize () {\n      this.height = this.$refs.leftPanel.clientHeight - 250\n    },\n  },\n\n}\n</script>\n<template>\n  <section\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{'width': showLeftPanel ? '400px' : '0px'}\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondary\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        id=\"left-panel\"\n        ref=\"leftPanel\"\n        v-resize=\"onResize\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <v-tabs\n              v-model=\"tab\"\n              background-color=\"secondarylight\"\n              dark\n              grow\n            >\n              <v-tab>{{ $gettext(\"PT Links\") }}</v-tab>\n              <v-tab>{{ $gettext(\"Road Links\") }}</v-tab>\n            </v-tabs>\n            <LinksSidePanel\n              v-show=\"!roadMode\"\n              :height=\"height\"\n              :selected-trips=\"selectedTrips\"\n              @update-tripList=\"(e) => $emit('update-tripList', {type: 'links', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n            <RoadSidePanel\n              v-show=\"roadMode\"\n              :height=\"height\"\n              :selectedr-goup=\"selectedrGroup\"\n              @update-tripList=\"(e) => $emit('update-tripList',{type: 'rlinks', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=18d104cf&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=18d104cf&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SidePanel.vue?vue&type=template&id=18d104cf&scoped=true&\"\nimport script from \"./SidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SidePanel.vue?vue&type=style&index=0&id=18d104cf&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18d104cf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": \"mapbox://styles/mapbox/light-v9?optimize=true\",\n      },\n      on: {\n        load: _vm.onMapLoaded,\n        mousemove: _vm.draw,\n        mouseout: function ($event) {\n          return _vm.resetDraw()\n        },\n        click: _vm.addPoint,\n        mouseup: _vm.rightClickMap,\n      },\n    },\n    [\n      _c(\n        \"v-menu\",\n        {\n          attrs: {\n            \"close-on-content-click\": false,\n            \"close-on-click\": false,\n            origin: \"top right\",\n            transition: \"scale-transition\",\n            \"position-y\": 30,\n            \"nudge-width\": 200,\n            \"offset-x\": \"\",\n            \"offset-y\": \"\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"activator\",\n              fn: function ({ on, attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        {\n                          staticClass: \"setting\",\n                          attrs: { fab: \"\", small: \"\" },\n                        },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                        _vm._v(\"\\n          fa-solid fa-cog\\n        \"),\n                      ]),\n                    ],\n                    1\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.showSettings,\n            callback: function ($$v) {\n              _vm.showSettings = $$v\n            },\n            expression: \"showSettings\",\n          },\n        },\n        [\n          _vm._v(\" \"),\n          _vm.showSettings\n            ? _c(\"Settings\", {\n                on: {\n                  submit: function ($event) {\n                    _vm.showSettings = false\n                  },\n                },\n              })\n            : _vm._e(),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"RoadLinks\",\n              _vm._g(\n                {\n                  ref: \"roadref\",\n                  attrs: {\n                    map: _vm.map,\n                    \"is-editor-mode\": _vm.isEditorMode,\n                    \"is-road-mode\": _vm.isRoadMode,\n                    \"anchor-mode\": _vm.anchorMode,\n                  },\n                },\n                _vm.isEditorMode\n                  ? {}\n                  : _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHoverRoad,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\"StaticLinks\", {\n              attrs: {\n                map: _vm.map,\n                \"showed-trips\": _vm.selectedTrips,\n                \"is-editor-mode\": _vm.isEditorMode,\n              },\n              on: { rightClick: (e) => _vm.$emit(\"clickFeature\", e) },\n            }),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"EditorLinks\",\n              _vm._g(\n                { attrs: { map: _vm.map, \"anchor-mode\": _vm.anchorMode } },\n                _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHover,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _vm.drawMode\n              ? _c(\"MglGeojsonLayer\", {\n                  attrs: {\n                    \"source-id\": \"drawLink\",\n                    source: {\n                      type: \"geojson\",\n                      data: _vm.drawLink,\n                      buffer: 0,\n                      generateId: true,\n                    },\n                    \"layer-id\": \"drawLink\",\n                    layer: {\n                      type: \"line\",\n                      minzoom: 2,\n                      paint: {\n                        \"line-opacity\": 1,\n                        \"line-color\": \"#7EBAAC\",\n                        \"line-width\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          5,\n                          3,\n                        ],\n                        \"line-dasharray\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          [\"literal\", []],\n                          [\"literal\", [0, 2, 4]],\n                        ],\n                      },\n                    },\n                  },\n                })\n              : _vm._e(),\n          ]\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.visibleLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: 1,\n                maxzoom: 18,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    \"#B5E0D6\",\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.1,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"has\", \"route_width\"],\n                    [\n                      \"case\",\n                      [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                      [\"to-number\", [\"get\", \"route_width\"]],\n                      3,\n                    ],\n                    3,\n                  ],\n                },\n\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.enterLink,\n                mouseleave: _vm.leaveLink,\n                dblclick: _vm.selectLine,\n                contextmenu: _vm.editLineProperties,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"nodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.visibleNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"nodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 12,\n            maxzoom: 18,\n            paint: {\n              \"circle-color\": [\n                \"case\",\n                [\"boolean\", _vm.isEditorMode, false],\n                \"#9E9E9E\",\n                \"#2C3E4E\",\n              ],\n              \"circle-stroke-color\": \"#ffffff\",\n              \"circle-stroke-width\": 1,\n              \"circle-radius\": [\n                \"case\",\n                [\"has\", \"route_width\"],\n                [\n                  \"case\",\n                  [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                  [\"to-number\", [\"get\", \"route_width\"]],\n                  3,\n                ],\n                3,\n              ],\n            },\n          },\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n  },\n  props: ['map', 'showedTrips', 'isEditorMode'],\n  events: ['rightClick'],\n\n  data () {\n    return {\n      visibleNodes: {},\n      visibleLinks: {},\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.linksPopupContent },\n    links () { return this.$store.getters.links },\n    nodes () { return this.$store.getters.nodes },\n  },\n\n  watch: {\n    showedTrips (newVal, oldVal) {\n      let changes = ''\n      if (newVal.length < oldVal.length) {\n        // if a tripis unchecked. we remove it\n        changes = new Set(oldVal.filter(item => !newVal.includes(item)))\n        this.setHiddenFeatures('remove', changes)\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        changes = new Set(newVal.filter(item => !oldVal.includes(item)))\n        this.setHiddenFeatures('add', changes)\n      } else {\n        this.setHiddenFeatures()\n      }\n    },\n  },\n  created () {\n    this.setHiddenFeatures()\n  },\n\n  methods: {\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      this.popup = new mapboxgl.Popup({ closeButton: false })\n        .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n        .setHTML(event.mapboxEvent.features[0].properties[this.selectedPopupContent])\n        .addTo(event.map)\n    },\n    leaveLink (event) {\n      if (this.popup.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    setHiddenFeatures (method = 'all', trips = []) {\n      // get visible links and nodes.\n      if (method === 'all') {\n        this.visibleLinks = structuredClone(this.$store.getters.linksHeader)\n        this.visibleNodes = structuredClone(this.$store.getters.nodesHeader)\n        const showedTripsSet = new Set(this.showedTrips)\n        this.visibleLinks.features = this.links.features.filter(\n          link => showedTripsSet.has(link.properties.trip_id))\n        // get all unique width\n        const widthArr = [...new Set(this.visibleLinks.features.map(item => Number(item.properties.route_width)))]\n        // create a dict {width:[node_index]}\n        const widthDict = {}\n        widthArr.forEach(key => widthDict[key] = new Set())\n        this.visibleLinks.features.map(item =>\n          [item.properties.a, item.properties.b].forEach(\n            node => widthDict[Number(item.properties.route_width)].add(node)))\n        // remove duplicated nodes. only keep larger one (if node_1 is in a line of size 5 and 3, only keep the 5 one.)\n        let totSet = new Set()\n        for (let i = 0; i < widthArr.length - 1; i++) {\n          const a = widthDict[widthArr[i + 1]]\n          const b = widthDict[widthArr[i]]\n          totSet = new Set([...totSet, ...b])\n          widthDict[widthArr[i + 1]] = new Set([...a].filter(x => !totSet.has(x)))\n        }\n        // for each width, get the nodes and add the width to the properties for rendering.\n        widthArr.forEach(key => {\n          const newNodes = this.nodes.features.filter(node => widthDict[key].has(node.properties.index))\n          newNodes.map(node => node.properties.route_width = key)\n          this.visibleNodes.features.push(...newNodes)\n        })\n      } else if (method === 'remove') {\n        this.visibleLinks.features = this.visibleLinks.features.filter(link => !trips.has(link.properties.trip_id))\n        const a = this.visibleLinks.features.map(item => item.properties.a)\n        const b = this.visibleLinks.features.map(item => item.properties.b)\n        const ab = new Set([...a, ...b])\n        this.visibleNodes.features = this.visibleNodes.features.filter(node => ab.has(node.properties.index))\n      } else if (method === 'add') {\n        const newFeatures = this.links.features.filter(link => trips.has(link.properties.trip_id))\n        this.visibleLinks.features.push(...newFeatures)\n        // get all unique value of width\n        const widthArr = [...new Set(newFeatures.map(item => Number(item.properties.route_width)))]\n        widthArr.sort(function (a, b) { return b - a }) // sort it\n        // create a dict {width:[node_index]}\n        const widthDict = {}\n        widthArr.forEach(key => widthDict[key] = new Set())\n        newFeatures.map(item =>\n          [item.properties.a, item.properties.b].forEach(\n            node => widthDict[Number(item.properties.route_width)].add(node)))\n        // remove duplicated nodes. only keep larger one (if node_1 is in a line of size 5 and 3, only keep the 5 one.)\n        let totSet = new Set()\n        for (let i = 0; i < widthArr.length - 1; i++) {\n          const a = widthDict[widthArr[i + 1]]\n          const b = widthDict[widthArr[i]]\n          totSet = new Set([...totSet, ...b])\n          widthDict[widthArr[i + 1]] = new Set([...a].filter(x => !totSet.has(x)))\n        }\n\n        // for each width, get the nodes and add the width to the properties for rendering.\n        widthArr.forEach(key => {\n          const newNodes = this.nodes.features.filter(node => widthDict[key].has(node.properties.index))\n          newNodes.map(node => node.properties.route_width = key)\n          this.visibleNodes.features.push(...newNodes)\n        })\n      }\n      // const endTime = performance.now()\n    },\n    selectLine (event) {\n      event.mapboxEvent.preventDefault() // prevent map control\n      // eslint-disable-next-line max-len\n      this.$store.commit('setEditorTrip', { tripId: event.mapboxEvent.features[0].properties.trip_id, changeBounds: false })\n      this.$store.commit('changeNotification', { text: '', autoClose: true })\n    },\n    editLineProperties (event) {\n      // eslint-disable-next-line max-len\n      this.$store.commit('setEditorTrip', { tripId: event.mapboxEvent.features[0].properties.trip_id, changeBounds: false })\n      this.$emit('rightClick', { action: 'Edit Line Info', lingering: false })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: 1,\n        maxzoom: 18,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], '#B5E0D6'],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.1, 1],\n          'line-width': ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          3], 3],\n        },\n\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n          'line-cap': 'round',\n        }\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: enterLink, mouseleave: leaveLink, dblclick: selectLine, contextmenu:editLineProperties }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 12,\n        maxzoom: 18,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false],'#9E9E9E', '#2C3E4E'],\n          'circle-stroke-color': '#ffffff',\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['has', 'route_width'],\n                            ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                             ['to-number', ['get', 'route_width']],\n                             3], 3],\n        },\n      }\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaticLinks.vue?vue&type=template&id=459bbda6&scoped=true&\"\nimport script from \"./StaticLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"459bbda6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorLinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorLinks\",\n              layer: {\n                type: \"line\",\n                minzoom: 2,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.anchorMode, false],\n                    \"#B5E0D6\",\n                    \"#7EBAAC\",\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    12,\n                    5,\n                  ],\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              click: _vm.selectClick,\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n            },\n          },\n          _vm.anchorMode ? {} : { contextmenu: _vm.linkRightClick }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"editorLinks\",\n          type: \"symbol\",\n          source: \"editorLinks\",\n          \"layer-id\": \"arrow-layer\",\n          layer: {\n            type: \"symbol\",\n            minzoom: 5,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 30,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": 0.5,\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"boolean\", _vm.anchorMode, false],\n                \"#B5E0D6\",\n                \"#7EBAAC\",\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorNodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorNodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorNodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: 2,\n                paint: {\n                  \"circle-color\": \"#2C3E4E\",\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    16,\n                    8,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n              mousedown: _vm.moveNode,\n            },\n          },\n          _vm.anchorMode\n            ? {}\n            : { click: _vm.selectClick, contextmenu: _vm.contextMenuNode }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.anchorNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 2,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": \"#2C3E4E\",\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.popupEditor.showed,\n            coordinates: _vm.popupEditor.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.popupEditor.showed = false\n            },\n          },\n        },\n        [\n          _c(\"span\", [\n            _c(\"h3\", [_vm._v(_vm._s(_vm.popupEditor.content))]),\n            _vm._v(\" \"),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Left click to add a stop\")\n                    : _vm.$gettext(\"Hold left click to drag\")\n                ) +\n                \"\\n      \"\n            ),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Right click to edit properties\")\n                    : _vm.$gettext(\"Right click for context menu\")\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglPopup, MglImageLayer, MglGeojsonLayer } from 'vue-mapbox'\nconst $gettext = s => s\n\nexport default {\n  name: 'EditorLinks',\n  components: {\n    MglPopup,\n    MglImageLayer,\n    MglGeojsonLayer,\n  },\n  props: ['map', 'anchorMode'],\n  events: ['clickFeature', 'onHover', 'offHover'],\n  data () {\n    return {\n      selectedFeature: null,\n      hoveredStateId: null,\n      disablePopup: false,\n      keepHovering: false,\n      dragNode: false,\n      popupEditor: {\n        coordinates: [0, 0],\n        showed: false,\n        content: null,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n        type: null, // link of node\n      },\n    }\n  },\n  computed: {\n    anchorNodes () { return this.anchorMode ? this.$store.getters.anchorNodes : this.$store.getters.nodesHeader },\n  },\n\n  watch: {\n\n  },\n  created () {\n  },\n\n  methods: {\n    selectClick (event) {\n      if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        // Emit a click base on layer type (node or link)\n\n        if (this.selectedFeature !== null) {\n          if (this.hoveredStateId.layerId === 'editorLinks') {\n            const action = this.anchorMode ? 'Add Anchor Inline' : 'Add Stop Inline'\n            const click = {\n              selectedFeature: this.selectedFeature,\n              action: action,\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          }\n        }\n      }\n    },\n    onCursor (event) {\n      if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'editorLinks') {\n        this.map.getCanvas().style.cursor = 'pointer'\n        if (this.hoveredStateId !== null) {\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n            { hover: false },\n          )\n        }\n        this.hoveredStateId = { layerId: event.layerId, id: event.mapboxEvent.features[0].id }\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n          { hover: true },\n        )\n        if (!this.disablePopup & !this.anchorMode) {\n          this.popupEditor.coordinates = [event.mapboxEvent.lngLat.lng,\n            event.mapboxEvent.lngLat.lat,\n          ]\n          this.popupEditor.content = this.hoveredStateId.id\n          this.popupEditor.showed = true\n        }\n      }\n      this.$emit('onHover', { selectedId: this.hoveredStateId.id })\n    },\n    offCursor (event) {\n      if (this.hoveredStateId !== null) {\n        // eslint-disable-next-line max-len\n        if (!(['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId) && event?.layerId === 'editorLinks')) {\n          // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n          if (this.keepHovering) {\n            this.dragNode = true\n            this.contextMenu.showed = false\n            // normal behaviours, hovering is false\n          } else {\n            this.map.getCanvas().style.cursor = ''\n            this.popupEditor.showed = false\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n              { hover: false },\n            )\n            this.hoveredStateId = null\n            this.$emit('offHover', event)\n          }\n        }\n      }\n    },\n    contextMenuNode (event) {\n      if (this.popupEditor.showed && this.hoveredStateId?.layerId === 'editorNodes') {\n        this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng,\n          event.mapboxEvent.lngLat.lat,\n        ]\n        this.contextMenu.showed = true\n\n        this.contextMenu.type = 'node'\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.contextMenu.feature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        const selectedNode = this.contextMenu.feature.properties.index\n\n        if (selectedNode === this.$store.getters.firstNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else if (selectedNode === this.$store.getters.lastNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else {\n          this.contextMenu.actions =\n           [\n             $gettext('Edit Node Info'),\n             $gettext('Cut Before Node'),\n             $gettext('Cut After Node'),\n             $gettext('Delete Stop'),\n           ]\n        }\n      } else if (this.hoveredStateId?.layerId === 'anchorNodes') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)\n        const click = {\n          selectedFeature: this.selectedFeature[0],\n          action: 'Delete Anchor',\n          lngLat: null,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.hoveredStateId.layerId === 'editorLinks') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: 'Edit Link Info',\n          lngLat: event.mapboxEvent.lngLat,\n          lingering: true,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    actionClick (event) {\n      const click = {\n        selectedFeature: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n    },\n\n    moveNode (event) {\n      if (event.mapboxEvent.originalEvent.button === 0 &\n      ['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId)) {\n        event.mapboxEvent.preventDefault() // prevent map control\n        this.map.getCanvas().style.cursor = 'grab'\n        // disable mouseLeave so we stay in hover state.\n        this.keepHovering = true\n        // get selected node\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        // disable popup\n        this.disablePopup = true\n        this.popupEditor.showed = false\n        // get position\n        this.map.on('mousemove', this.onMove)\n        this.map.on('mouseup', this.stopMovingNode)\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.map.loaded() && this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorNodes') {\n          click.action = 'Move Anchor'\n          this.$emit('clickFeature', click)\n        } else {\n          click.action = 'Move Node'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n\n    stopMovingNode (event) {\n      // stop tracking position (moving node.)\n      this.map.getCanvas().style.cursor = 'pointer'\n      this.map.off('mousemove', this.onMove)\n      // enable popup and hovering off back. disable Dragmode\n      this.keepHovering = false\n      this.dragNode = false\n      this.disablePopup = false\n      // call offCursor event, if we drag too quickly, it will not be call and the node will stay in hovering mode.\n      this.offCursor()\n      this.map.off('mouseup', this.stopMovingNode)\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.\n    },\n  },\n\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"editorLinks\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorLinks\"\n      :layer=\"{\n        type: 'line',\n        minzoom: 2,\n        paint: {\n          'line-color': ['case', ['boolean', anchorMode, false], '#B5E0D6', '#7EBAAC'],\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 12, 5],\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {contextmenu: linkRightClick}\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n    />\n\n    <MglImageLayer\n      source-id=\"editorLinks\"\n      type=\"symbol\"\n      source=\"editorLinks\"\n      layer-id=\"arrow-layer\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: 5,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 30,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': 0.5,\n          'icon-rotate': 90\n        },\n        paint: {\n          'icon-color': ['case', ['boolean', anchorMode, false], '#B5E0D6', '#7EBAAC'],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"editorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': '#2C3E4E',\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 16, 8],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {click: selectClick, contextmenu: contextMenuNode}\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: anchorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': '#2C3E4E',\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"popupEditor.showed\"\n      :coordinates=\"popupEditor.coordinates\"\n      @close=\"popupEditor.showed=false\"\n    >\n      <span>\n        <h3>{{ popupEditor.content }}</h3>\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Left click to add a stop\"):\n          $gettext(\"Hold left click to drag\") }}\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Right click to edit properties\"):\n          $gettext(\"Right click for context menu\") }}\n      </span>\n    </MglPopup>\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorLinks.vue?vue&type=template&id=58974184&scoped=true&\"\nimport script from \"./EditorLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58974184\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rlinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrLinks : _vm.rlinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rlinks\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    \"#B5E0D6\",\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.5,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    12,\n                    2,\n                  ],\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                click: _vm.selectClick,\n                contextmenu: _vm.linkRightClick,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"rlinks\",\n          type: \"symbol\",\n          source: \"rlinks\",\n          \"layer-id\": \"arrow-rlinks\",\n          layer: {\n            type: \"symbol\",\n            minzoom: _vm.minZoom.nodes,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 200,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": 0.3,\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"has\", \"route_color\"],\n                [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                \"#B5E0D6\",\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rnodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrNodes : _vm.rnodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rnodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.nodes,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    \"#9E9E9E\",\n                    \"#2C3E4E\",\n                  ],\n                  \"circle-stroke-color\": \"#ffffff\",\n                  \"circle-stroke-width\": 1,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    14,\n                    3,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                mousedown: _vm.moveNode,\n                contextmenu: _vm.contextMenuNode,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorrNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.isRoadMode\n              ? _vm.renderedAnchorrNodes\n              : _vm.$store.getters.rnodesHeader,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorrNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: _vm.minZoom.nodes,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": \"#2C3E4E\",\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable max-len -->\n<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer, MglImageLayer, MglPopup } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nimport booleanContains from '@turf/boolean-contains'\nimport buffer from '@turf/buffer'\nimport bboxPolygon from '@turf/bbox-polygon'\nconst $gettext = s => s\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n    MglImageLayer,\n    MglPopup,\n  },\n  props: ['map', 'isEditorMode', 'anchorMode', 'isRoadMode'],\n  events: ['clickFeature'],\n\n  data () {\n    return {\n      hoveredStateId: null,\n      visibleNodes: {},\n      visibleLinks: {},\n      disablePopup: false,\n      editorRnodes: {},\n      renderedrLinks: {},\n      renderedrNodes: {},\n      renderedAnchorrNodes: {},\n      bbox: null,\n      minZoom: {\n        nodes: 14,\n        links: 10,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n      },\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.roadsPopupContent },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    rnodes () { return this.$store.getters.visiblerNodes },\n    rlinks () { return this.$store.getters.visiblerLinks },\n    anchorrNodes () {\n      return this.anchorMode ? this.$store.getters.anchorrNodes(this.renderedrLinks) : this.$store.getters.rnodesHeader\n    },\n\n  },\n\n  watch: {\n    anchorMode () { this.getBounds() },\n    selectedrGroup (val) { this.getBounds() },\n    isRoadMode (val) {\n      if (val) {\n        this.map.on('dragend', this.getBounds)\n        this.map.on('zoomend', this.getBounds)\n      } else {\n        this.map.off('dragend', this.getBounds)\n        this.map.off('zoomend', this.getBounds)\n      }\n    },\n\n  },\n  created () {\n    this.renderedrNodes = structuredClone(this.$store.getters.rnodesHeader)\n    this.renderedAnchorrNodes = structuredClone(this.$store.getters.rnodesHeader)\n    this.renderedrLinks = structuredClone(this.$store.getters.rlinksHeader)\n    this.map.on('dragend', this.getBounds)\n    this.map.on('zoomend', this.getBounds)\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    this.map.removeLayer('arrow-rlinks')\n  },\n\n  methods: {\n    getBounds () {\n      // get map bounds and return only the features inside of it.\n      // this way, only the visible links and node are rendered and updating is fast\n      // (i.e. moving a node in real time)\n      // note only line inside the bbox (buffured) are visible.\n      const bounds = this.map.getBounds()\n      // create a BBOX with a 800m buffer\n      this.bbox = buffer(bboxPolygon([bounds._sw.lng, bounds._sw.lat, bounds._ne.lng, bounds._ne.lat]), 0.8)\n      // only get the geojson if the zoom level is bigger than the min.\n      // if not, getting all anchorpoint would be very intensive!!\n      // this way, only a small number of anchor points are computed\n      if (this.map.getZoom() > this.minZoom.links) {\n        this.renderedrLinks.features = this.rlinks.features.filter(link => booleanContains(this.bbox, link))\n      } else {\n        this.renderedrLinks.features = []\n      }\n      if (this.map.getZoom() > this.minZoom.nodes) {\n        this.renderedrNodes.features = this.rnodes.features.filter(node => booleanContains(this.bbox, node))\n        this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node => booleanContains(this.bbox, node))\n      } else {\n        this.renderedrNodes.features = []\n        this.renderedAnchorrNodes.features = []\n      }\n    },\n    onCursor (event) {\n      if (this.isRoadMode) {\n        if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n        if (!this.disablePopup) {\n          this.popup = new mapboxgl.Popup({ closeButton: false })\n            .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n            .setHTML(event.mapboxEvent.features[0].properties[this.selectedPopupContent])\n            .addTo(event.map)\n        }\n        if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'rlinks') {\n          this.map.getCanvas().style.cursor = 'pointer'\n          if (this.hoveredStateId !== null) {\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n              { hover: false },\n            )\n          }\n          // get a list of all overID. if there is multiple superposed link get all of them!\n          const uniqueArray = [...new Set(event.mapboxEvent.features.map(item => item.id))]\n          this.hoveredStateId = { layerId: event.layerId, id: uniqueArray }\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n            { hover: true },\n          )\n\n          this.$emit('onHover', { layerId: this.hoveredStateId.layerId, selectedId: this.hoveredStateId.id })\n        }\n      }\n    },\n\n    offCursor (event) {\n      if (this.isRoadMode) {\n      // todo: error warning is throw sometime when we move a node over another node or anchor.\n        if (this.popup.isOpen()) this.popup.remove()\n        if (this.hoveredStateId !== null) {\n          // eslint-disable-next-line max-len\n          if (!(['rnodes', 'anchorrNodes'].includes(this.hoveredStateId?.layerId) && event?.layerId === 'rlinks')) {\n            // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n            if (this.keepHovering) {\n              this.dragNode = true\n              // normal behaviours, hovering is false\n            } else {\n              this.map.getCanvas().style.cursor = ''\n              this.map.setFeatureState(\n                { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n                { hover: false },\n              )\n              this.hoveredStateId = null\n              this.$emit('offHover', event)\n            }\n          }\n        }\n      }\n    },\n\n    selectClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        // const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        // this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          this.selectedFeature = this.hoveredStateId.id\n          // Emit a click base on layer type (node or link)\n\n          if (this.selectedFeature !== null) {\n            if (this.hoveredStateId.layerId === 'rlinks') {\n              const action = this.anchorMode ? 'Add Road Anchor Inline' : 'Add Road Node Inline'\n              const click = {\n                selectedIndex: this.selectedFeature,\n                action: action,\n                lngLat: event.mapboxEvent.lngLat,\n              }\n              this.$emit('clickFeature', click)\n              this.getBounds()\n            }\n          }\n        }\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId.layerId === 'rlinks') {\n          this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat]\n          this.contextMenu.showed = true\n          this.contextMenu.feature = this.hoveredStateId.id\n          this.contextMenu.actions =\n          [\n            $gettext('Edit rLink Info'),\n            $gettext('Delete rLink'),\n          ]\n        }\n      }\n    },\n    actionClick (event) {\n      const click = {\n        selectedIndex: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n      this.getBounds()\n    },\n\n    contextMenuNode (event) {\n      if (this.isRoadMode) {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => this.hoveredStateId.id.includes(item.id))\n\n        if (this.selectedFeature.length > 0) {\n          if (this.hoveredStateId?.layerId === 'rnodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Edit rNode Info',\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          } else if (this.hoveredStateId?.layerId === 'anchorrNodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Delete Road Anchor',\n              lngLat: null,\n            }\n            this.$emit('clickFeature', click)\n            this.getBounds()\n          }\n        }\n      }\n    },\n\n    moveNode (event) {\n      if (this.isRoadMode) {\n        if (event.mapboxEvent.originalEvent.button === 0 &\n      ['rnodes', 'anchorrNodes'].includes(this.hoveredStateId.layerId)) {\n          event.mapboxEvent.preventDefault() // prevent map control\n          this.map.getCanvas().style.cursor = 'grab'\n          // disable mouseLeave so we stay in hover state.\n          this.keepHovering = true\n          // get selected node\n          const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n          this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          // disable popup\n          this.disablePopup = true\n          if (this.hoveredStateId.layerId === 'rnodes') {\n            this.$store.commit('getConnectedLinks', { selectedNode: this.selectedFeature })\n          }\n          // get position\n          this.map.on('mousemove', this.onMove)\n          this.map.on('mouseup', this.stopMovingNode)\n        }\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.map.loaded() && this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorrNodes') {\n          click.action = 'Move rAnchor'\n          this.$emit('clickFeature', click)\n          // rerender the anchor as they are getter and are not directly modified by the moverAnchor mutation.\n          this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node =>\n            booleanContains(this.bbox, node))\n        } else {\n          click.action = 'Move rNode'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n    stopMovingNode (event) {\n      if (this.isRoadMode) {\n        // stop tracking position (moving node.)\n        this.map.getCanvas().style.cursor = 'pointer'\n        this.map.off('mousemove', this.onMove)\n        // enable popup and hovering off back. disable Dragmode\n        this.keepHovering = false\n        this.dragNode = false\n        this.disablePopup = false\n        // if we drag too quickly, offcursor it will not be call and the node will stay in hovering mode.\n        // calling offscursor will break the sticky node drawlink behaviour, so we only make its state back to hover-false\n        this.map.getCanvas().style.cursor = ''\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n          { hover: false },\n        )\n        this.hoveredStateId = null\n        this.map.off('mouseup', this.stopMovingNode)\n\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.}\n      }\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"rlinks\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrLinks : rlinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rlinks\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], '#B5E0D6'],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.5, 1],\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 12, 2],\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0]\n\n        },\n\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   click: selectClick,\n                                   contextmenu: linkRightClick }\"\n    />\n    <MglImageLayer\n      source-id=\"rlinks\"\n      type=\"symbol\"\n      source=\"rlinks\"\n      layer-id=\"arrow-rlinks\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.nodes,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': 0.3,\n          'icon-rotate': 90\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], '#B5E0D6'],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"rnodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrNodes:rnodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rnodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.nodes,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false],'#9E9E9E', '#2C3E4E'],\n          'circle-stroke-color': '#ffffff',\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 14, 3],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        },\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   mousedown: moveNode,\n                                   contextmenu:contextMenuNode }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorrNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedAnchorrNodes: $store.getters.rnodesHeader,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorrNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.nodes,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': '#2C3E4E',\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoadLinks.vue?vue&type=template&id=047ac28a&scoped=true&\"\nimport script from \"./RoadLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"047ac28a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-card\",\n    {\n      class: { shake: _vm.shake },\n      on: {\n        keydown: [\n          function ($event) {\n            if (\n              !$event.type.indexOf(\"key\") &&\n              _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n            )\n              return null\n            return _vm.submit.apply(null, arguments)\n          },\n          function ($event) {\n            if (\n              !$event.type.indexOf(\"key\") &&\n              _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])\n            )\n              return null\n            return _vm.cancel.apply(null, arguments)\n          },\n        ],\n      },\n    },\n    [\n      _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n        _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n  \"),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-text\",\n        [\n          _c(\n            \"v-form\",\n            { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n            [\n              _c(\n                \"v-container\",\n                [\n                  _c(\n                    \"v-col\",\n                    [\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.linkSpeed.type,\n                          label: _vm.$gettext(_vm.linkSpeed.name),\n                          suffix: _vm.linkSpeed.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.linkSpeed.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.rules,\n                          required: \"\",\n                        },\n                        on: { wheel: () => {} },\n                        model: {\n                          value: _vm.linkSpeed.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.linkSpeed, \"value\", $$v)\n                          },\n                          expression: \"linkSpeed.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.roadSpeed.type,\n                          label: _vm.$gettext(_vm.roadSpeed.name),\n                          suffix: _vm.roadSpeed.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.roadSpeed.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.rules,\n                          required: \"\",\n                        },\n                        on: { wheel: () => {} },\n                        model: {\n                          value: _vm.roadSpeed.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.roadSpeed, \"value\", $$v)\n                          },\n                          expression: \"roadSpeed.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-select\", {\n                        attrs: {\n                          items: _vm.linksPopupContent.choices,\n                          label: _vm.$gettext(_vm.linksPopupContent.name),\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.linksPopupContent.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.linksPopupContent.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.linksPopupContent, \"value\", $$v)\n                          },\n                          expression: \"linksPopupContent.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-select\", {\n                        attrs: {\n                          items: _vm.roadsPopupContent.choices,\n                          label: _vm.$gettext(_vm.roadsPopupContent.name),\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.roadsPopupContent.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.roadsPopupContent.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.roadsPopupContent, \"value\", $$v)\n                          },\n                          expression: \"roadsPopupContent.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.outputName.type,\n                          label: _vm.$gettext(_vm.outputName.name),\n                          suffix: _vm.outputName.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.outputName.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.zipRules,\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.outputName.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.outputName, \"value\", $$v)\n                          },\n                          expression: \"outputName.value\",\n                        },\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-actions\",\n        [\n          _c(\n            \"v-btn\",\n            { attrs: { color: \"grey\", text: \"\" }, on: { click: _vm.cancel } },\n            [_vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n    \")]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: { color: \"green darken-1\", text: \"\" },\n              on: { click: _vm.submit },\n            },\n            [_vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Save\")) + \"\\n    \")]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: { icon: \"\", small: \"\" },\n              on: {\n                click: function ($event) {\n                  _vm.showHint = !_vm.showHint\n                },\n              },\n            },\n            [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\n\nexport default {\n  name: 'Settings',\n  events: ['submit'],\n\n  data () {\n    return {\n\n      linkSpeed: {\n        name: $gettext('PT speed'),\n        type: 'Number',\n        value: this.$store.getters.linkSpeed,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate travel time when a link is drawn, extend or a node is moved'),\n      },\n      roadSpeed: {\n        name: $gettext('Road speed'),\n        type: 'Number',\n        value: this.$store.getters.roadSpeed,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate road travel time when a link is drawn'),\n      },\n      linksPopupContent: {\n        name: $gettext('PT Popup Content'),\n        type: 'String',\n        choices: this.$store.getters.lineAttributes,\n        value: this.$store.getters.linksPopupContent,\n        hint: $gettext('Link field to display when hovering a trip on the map'),\n      },\n      roadsPopupContent: {\n        name: $gettext('Road Popup Content'),\n        type: 'String',\n        choices: this.$store.getters.rlineAttributes,\n        value: this.$store.getters.roadsPopupContent,\n        hint: $gettext('Link field to display when hovering road link on the map'),\n      },\n      outputName: {\n        name: $gettext('Export name'),\n        type: 'String',\n        value: this.$store.getters.outputName,\n        units: '.zip',\n        hint: $gettext('the name of the exported zip file'),\n      },\n      errorMessage: null,\n      showHint: false,\n      shake: false,\n\n      rules: [\n        v => !!v || $gettext('Required'),\n        v => v >= 0 || $gettext('should be larger than 0'),\n      ],\n      zipRules: [v => v.slice(-4) !== '.zip' || $gettext('do not add .zip to the end')],\n      showDialog: true,\n    }\n  },\n\n  methods: {\n    submit () {\n      if (this.$refs.form.validate()) {\n        const payload = {\n          linkSpeed: this.linkSpeed.value,\n          roadSpeed: this.roadSpeed.value,\n          linksPopupContent: this.linksPopupContent.value,\n          roadsPopupContent: this.roadsPopupContent.value,\n          outputName: this.outputName.value,\n        }\n        this.$store.commit('applySettings', payload)\n        this.$emit('submit', true)\n        this.$store.commit('changeNotification',\n          { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () { this.$emit('submit', false) },\n  },\n}\n</script>\n<template>\n  <v-card\n    :class=\"{'shake':shake}\"\n    @keydown.enter=\"submit\"\n    @keydown.esc=\"cancel\"\n  >\n    <v-card-title class=\"subtitle\">\n      {{ $gettext('Settings') }}\n    </v-card-title>\n\n    <v-card-text>\n      <v-form\n        ref=\"form\"\n        lazy-validation\n      >\n        <v-container>\n          <v-col>\n            <v-text-field\n              v-model=\"linkSpeed.value\"\n              :type=\"linkSpeed.type\"\n              :label=\"$gettext(linkSpeed.name)\"\n              :suffix=\"linkSpeed.units\"\n              :hint=\"showHint? $gettext(linkSpeed.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"rules\"\n              required\n              @wheel=\"()=>{}\"\n            />\n            <v-text-field\n              v-model=\"roadSpeed.value\"\n              :type=\"roadSpeed.type\"\n              :label=\"$gettext(roadSpeed.name)\"\n              :suffix=\"roadSpeed.units\"\n              :hint=\"showHint? $gettext(roadSpeed.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"rules\"\n              required\n              @wheel=\"()=>{}\"\n            />\n            <v-select\n              v-model=\"linksPopupContent.value\"\n              :items=\"linksPopupContent.choices\"\n              :label=\"$gettext(linksPopupContent.name)\"\n              :hint=\"showHint? $gettext(linksPopupContent.hint): ''\"\n              :persistent-hint=\"showHint\"\n              required\n            />\n            <v-select\n              v-model=\"roadsPopupContent.value\"\n              :items=\"roadsPopupContent.choices\"\n              :label=\"$gettext(roadsPopupContent.name)\"\n              :hint=\"showHint? $gettext(roadsPopupContent.hint): ''\"\n              :persistent-hint=\"showHint\"\n              required\n            />\n            <v-text-field\n              v-model=\"outputName.value\"\n              :type=\"outputName.type\"\n              :label=\"$gettext(outputName.name)\"\n              :suffix=\"outputName.units\"\n              :hint=\"showHint? $gettext(outputName.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"zipRules\"\n              required\n            />\n          </v-col>\n        </v-container>\n      </v-form>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"grey\"\n        text\n        @click=\"cancel\"\n      >\n        {{ $gettext(\"Cancel\") }}\n      </v-btn>\n\n      <v-btn\n        color=\"green darken-1\"\n        text\n        @click=\"submit\"\n      >\n        {{ $gettext(\"Save\") }}\n      </v-btn>\n\n      <v-spacer />\n      <v-btn\n        icon\n        small\n        @click=\"showHint = !showHint\"\n      >\n        <v-icon>far fa-question-circle small</v-icon>\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<style lang=\"scss\" scoped>\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.card button {\n  margin-top: 40px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=50fa7dc8&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=50fa7dc8&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=50fa7dc8&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=50fa7dc8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50fa7dc8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","<script>\nimport Mapbox from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer } from 'vue-mapbox'\nimport StaticLinks from './StaticLinks.vue'\nimport EditorLinks from './EditorLinks.vue'\nimport RoadLinks from './RoadLinks.vue'\nimport Settings from './Settings.vue'\nimport { mapboxPublicKey } from '@src/config.js'\nimport arrowImage from '@static/arrow.png'\nimport Linestring from 'turf-linestring'\n\n// Filter links from selected line\nconst $gettext = s => s\n\nexport default {\n  name: 'Map',\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    StaticLinks,\n    EditorLinks,\n    RoadLinks,\n    Settings,\n  },\n  props: {\n    selectedTrips: {\n      type: Array,\n      default: () => [],\n    },\n    isRoadMode: {\n      type: Boolean,\n      default: false,\n    },\n\n  },\n  events: ['clickFeature'],\n  data () {\n    return {\n      mapboxPublicKey: null,\n      selectedFeature: null,\n      isEditorMode: false,\n      mapIsLoaded: false,\n      drawMode: false,\n      hoverId: null,\n      hoverLayer: null,\n      mapDiv: null,\n      drawLink: null,\n      mouseout: false,\n      selectedNode: { id: null, layerId: null },\n      connectedDrawLink: false,\n      showSettings: false,\n    }\n  },\n  computed: {\n\n    showLeftPanel () {\n      return this.$store.getters.showLeftPanel\n    },\n    editorTrip () {\n      return this.$store.getters.editorTrip\n    },\n    editorNodes () {\n      return this.$store.getters.editorNodes\n    },\n    firstNode () {\n      return this.$store.getters.firstNode\n    },\n    lastNode () {\n      return this.$store.getters.lastNode\n    },\n    anchorMode () { return this.$store.getters.anchorMode },\n  },\n  watch: {\n    showLeftPanel () {\n      setTimeout(() => this.map.resize(), 250)\n    },\n    anchorMode (val) {\n      if (val) {\n        this.drawMode = false\n        this.$store.commit('changeNotification',\n          { text: $gettext('Left click to add an anchor point, right click to delete'), autoClose: false })\n      } else {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    isRoadMode (val) {\n      if (!val) {\n        this.drawMode = false\n      }\n    },\n\n    editorNodes (newVal, oldVal) {\n      this.$store.commit('setAnchorMode', false)\n      this.isEditorMode = (newVal.features.length > 0)\n      if (this.isEditorMode) {\n        if (this.$store.getters.changeBounds) {\n          const bounds = new Mapbox.LngLatBounds()\n          newVal.features.forEach(node => {\n            bounds.extend(node.geometry.coordinates)\n          })\n          this.map.fitBounds(bounds, {\n            padding: 100,\n          })\n        }\n      }\n    },\n\n    drawMode (val) {\n      // set layer visible if drawMode is true\n      // check if layer exist. will bug if it is check befere rendering the layer\n      if (this.map?.getStyle().layers.filter(layer => layer.id === 'drawLink').length > 0) {\n        if (val) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        } else {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n        }\n      }\n    },\n\n    editorTrip (val) {\n      if (val) {\n        this.isEditorMode = true\n        this.connectedDrawLink = false\n      }\n    },\n    isEditorMode (val) {\n      // check if map is loaded too, there is a bug if not, when component is laoded in edition mode (changing page).\n      if (val && this.editorNodes.features.length > 0 && !this.anchorMode && this.mapIsLoaded) {\n        this.drawMode = true\n      } else {\n        this.drawMode = false\n      }// remove drawmode if we quit edition mode.\n      if (!val & this.drawMode) {\n        this.drawMode = false\n      }\n    },\n    // when the first or last node change (delete or new) change the value of those nodes.\n    'firstNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.firstNode.properties.index\n      }\n    },\n    'lastNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.lastNode.properties.index\n      }\n    },\n  },\n  created () {\n    if (this.editorTrip) { this.isEditorMode = true }\n    this.mapboxPublicKey = mapboxPublicKey\n    this.drawLink = structuredClone(this.$store.getters.linksHeader)\n  },\n\n  methods: {\n    onMapLoaded (event) {\n      const bounds = new Mapbox.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      this.$store.getters.links.features.forEach(link => {\n        bounds.extend([link.geometry.coordinates[0],\n          link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n      })\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n\n    draw (event) {\n      // do not update position on connected link, this makes the node sticky\n      if (!this.connectedDrawLink) {\n        // there is no mousein event, so if drawlink was put nonvisible by mouseout, we cancel here.\n        if (this.drawMode && this.mouseout) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n          this.mouseout = false\n        }\n        if (this.drawMode && !this.anchorMode) {\n        // update draw line with new geometry.\n          const geometry = [this.drawLink.geometry.coordinates[0], Object.values(event.mapboxEvent.lngLat)]\n          this.drawLink = Linestring(geometry)\n        }\n      }\n    },\n    addPoint (event) {\n      if (this.drawMode) {\n        if (this.selectedNode.layerId === 'rnodes') {\n          const pointGeom = Object.values(event.mapboxEvent.lngLat)\n          const payload = {\n            nodeIdA: this.selectedNode.id,\n            nodeIdB: this.hoverId, // could be null, a node or a link.\n            geom: pointGeom,\n            layerId: this.hoverLayer,\n          }\n          // this action overwrite payload.nodeIdB to the actual newLink nodeB.\n          this.$store.commit('createrLink', payload)\n          this.drawMode = false\n          // then, create a hover (and off hover) to the new node b to continue drawing\n          this.onHoverRoad({ layerId: 'rnodes', selectedId: [payload.nodeIdB] })\n          this.offHover()\n\n          // onHoverRoad (event)\n          this.$refs.roadref.getBounds()\n        } else { // PT nodes\n          if (this.drawMode & !this.anchorMode & !this.hoverId) {\n            const action = (this.selectedNode.id === this.$store.getters.lastNodeId)\n              ? 'Extend Line Upward'\n              : 'Extend Line Downward'\n            const pointGeom = Object.values(event.mapboxEvent.lngLat)\n\n            this.$store.commit('applyNewLink', { nodeId: this.selectedNode.id, geom: pointGeom, action: action })\n          }\n        }\n      } else {\n        // for a new Line\n        if (this.editorNodes.features.length === 0 && this.editorTrip) {\n          this.$store.commit('createNewNode', Object.values(event.mapboxEvent.lngLat))\n          this.$store.commit('changeNotification', { text: '', autoClose: true })\n        }\n      }\n    },\n    resetDraw (event) {\n      // reset draw line when we leave the map.\n      // there is no mouseIn event, so we track it with mouseout = true, and reapply visible on mousemove.\n      if (this.drawMode) {\n        this.mouseout = true\n        this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n      }\n    },\n\n    rightClickMap (event) {\n      // remove drawmode when we right click on map\n      if (event.mapboxEvent.originalEvent.button === 2 & !this.hoverId) {\n        this.drawMode = false\n      }\n    },\n    onHover (event) {\n      // no drawing when we hover on link or node\n      this.hoverId = event.selectedId\n      if (this.drawMode) { this.map.setLayoutProperty('drawLink', 'visibility', 'none') }\n      // change hook when we hover first or last node.\n      if ([this.$store.getters.lastNodeId, this.$store.getters.firstNodeId].includes(this.hoverId)) {\n        const node = this.$store.getters.editorNodes.features.filter(node =>\n          node.properties.index === event.selectedId)\n        this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n        this.selectedNode.id = this.hoverId\n        this.selectedNode.layerId = event.layerId\n\n        this.drawMode = true\n      }\n    },\n    onHoverRoad (event) {\n      if (event?.layerId === 'rnodes') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId[0]\n        if (this.drawMode) {\n          // nodes are sticky. drawlink change size and style\n          this.connectedDrawLink = true\n        } else {\n          this.connectedDrawLink = false\n          const node = this.$store.getters.visiblerNodes.features.filter(node =>\n            node.properties.index === this.hoverId)\n          this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n          this.drawMode = true\n          this.connectedDrawLink = false\n          this.selectedNode.id = this.hoverId\n          this.selectedNode.layerId = this.hoverLayer\n        }\n      } else if (event?.layerId === 'rlinks') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId\n      }\n    },\n    offHover (event) {\n      // put back visible draw line\n      this.hoverId = null\n      this.hoverLayer = null\n      if (this.drawMode) {\n        this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        this.connectedDrawLink = false\n      }\n    },\n    clickFeature (event) {\n      // when we move a rNode, we need to update drawlink as it is link to this moved node.\n      if (['Move rNode', 'Delete rLink'].includes(event.action)) {\n        this.drawMode = false\n        // this.drawLink = Linestring([event.lngLat, event.lngLat])\n      }\n      // prevent emitting add road node inline when drawmode is on.\n      // we will add the node inlne and create the new link in this component.\n      if (!(event.action === 'Add Road Node Inline' && this.drawMode)) {\n        this.$emit('clickFeature', event)\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <MglMap\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    map-style=\"mapbox://styles/mapbox/light-v9?optimize=true\"\n    @load=\"onMapLoaded\"\n    @mousemove=\"draw\"\n    @mouseout=\"resetDraw()\"\n    @click=\"addPoint\"\n    @mouseup=\"rightClickMap\"\n  >\n    <v-menu\n      v-model=\"showSettings\"\n      :close-on-content-click=\"false\"\n      :close-on-click=\"false\"\n      :origin=\"'top right'\"\n      transition=\"scale-transition\"\n      :position-y=\"30\"\n      :nudge-width=\"200\"\n      offset-x\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          class=\"setting\"\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            color=\"regular\"\n          >\n            fa-solid fa-cog\n          </v-icon>\n        </v-btn>\n      </template>\n      <Settings\n        v-if=\"showSettings\"\n        @submit=\"showSettings=false\"\n      />\n    </v-menu>\n\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n    <template v-if=\"mapIsLoaded\">\n      <RoadLinks\n        ref=\"roadref\"\n        :map=\"map\"\n        :is-editor-mode=\"isEditorMode\"\n        :is-road-mode=\"isRoadMode\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"(isEditorMode)? {} : anchorMode ? {clickFeature: clickFeature } : {onHover:onHoverRoad, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n\n    <template v-if=\"mapIsLoaded\">\n      <StaticLinks\n        :map=\"map\"\n        :showed-trips=\"selectedTrips\"\n        :is-editor-mode=\"isEditorMode\"\n        @rightClick=\"(e) => $emit('clickFeature',e)\"\n      />\n    </template>\n\n    <template v-if=\"mapIsLoaded\">\n      <EditorLinks\n        :map=\"map\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"anchorMode ? {clickFeature: clickFeature } : {onHover:onHover, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <MglGeojsonLayer\n        v-if=\"drawMode\"\n        source-id=\"drawLink\"\n        :source=\"{\n          type: 'geojson',\n          data:drawLink,\n          buffer: 0,\n          generateId: true,\n        }\"\n        layer-id=\"drawLink\"\n        :layer=\"{\n          type: 'line',\n          minzoom: 2,\n          paint: {\n            'line-opacity': 1,\n            'line-color': '#7EBAAC',\n            'line-width': ['case', ['boolean', connectedDrawLink, false], 5, 3],\n            'line-dasharray':['case', ['boolean', connectedDrawLink, false],['literal', []] , ['literal', [0, 2, 4]]],\n\n          }\n        }\"\n      />\n    </template>\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  width: 100%;\n\n}\n.setting {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n.my-custom-dialog {\n  position: absolute !important;\n  top: 10px !important;\n  right: 20px !important;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=046bd0e2&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=046bd0e2&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=046bd0e2&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=046bd0e2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046bd0e2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        top: \"\",\n        \"nudge-bottom\": \"105\",\n        \"nudge-left\": \"16\",\n        \"close-on-content-click\": false,\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on }) {\n            return [_c(\"div\", _vm._g({ style: _vm.swatchStyle }, on))]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.menu,\n        callback: function ($$v) {\n          _vm.menu = $$v\n        },\n        expression: \"menu\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        [\n          _c(\n            \"v-card-text\",\n            { staticClass: \"pa-0\" },\n            [\n              _c(\"v-color-picker\", {\n                attrs: {\n                  mode: \"hexa\",\n                  swatches: _vm.swatches,\n                  \"show-swatches\": \"\",\n                  flat: \"\",\n                },\n                model: {\n                  value: _vm.color,\n                  callback: function ($$v) {\n                    _vm.color = $$v\n                  },\n                  expression: \"color\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", outlined: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", outlined: \"\" },\n                  on: { click: _vm.updateColor },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"apply\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'EmptyComponent',\n  components: {\n\n  },\n  model: {\n    prop: 'pcolor',\n    event: 'update-color',\n  },\n  props: ['pcolor'],\n  events: ['update-color'],\n  data () {\n    return {\n      color: '$primary',\n      menu: false,\n      swatches: [],\n\n    }\n  },\n  computed: {\n    swatchStyle () {\n      const { color, menu } = this\n\n      return {\n        'backgroundColor': color,\n        'border-style': 'solid',\n        'border-width': '1px',\n        'border-color': '#868686',\n        'cursor': 'pointer',\n        'height': '20px',\n        'width': '20px',\n        'borderRadius': menu ? '50%' : '4px',\n        'transition': 'border-radius 200ms ease-in-out',\n      }\n    },\n  },\n  watch: {\n    // this only happen when we type a value.\n    pcolor (val) {\n      if (this.pcolor[0] !== '#') {\n        this.color = '#'.concat(this.pcolor)\n        this.$emit('update-color', this.pcolor.slice(0, 6))\n      }\n      if (this.pcolor[0] === '#') {\n        this.$emit('update-color', this.pcolor.slice(1, 7))\n      }\n    },\n\n  },\n\n  mounted () {\n    // get chart color and create a 2x4 Swatch for quick color selection.\n    const keys = Object.keys(this.$vuetify.theme.currentTheme.chart)\n    let tempArr = []\n    // eslint-disable-next-line array-callback-return\n    keys.map((key) => {\n      tempArr.push(this.$vuetify.theme.currentTheme.chart[key])\n      if (tempArr.length === 2) {\n        this.swatches.push(tempArr)\n        tempArr = []\n      }\n    })\n\n    // if it is null, do nothing, just put the blue color on the selection square.\n    if ([null, undefined, ''].includes(this.pcolor)) {\n      this.color = this.$vuetify.theme.currentTheme.chart.lightblue\n      // this.$emit('update-color', this.color.slice(1))\n    // the input color never start with #, must add it for this component only (on local var this.color)\n    } else if (this.pcolor[0] !== '#') {\n      this.color = '#'.concat(this.pcolor)\n    // it start with #, leave it as is (this should and will never be the case.)\n    } else {\n      this.color = this.pcolor\n    }\n  },\n\n  methods: {\n    // this method is call when we select a color, the # is remove and pcolor is updated.\n    updateColor () {\n      this.$emit('update-color', this.color)\n\n      this.menu = false\n    },\n    cancel () {\n      this.color = this.pcolor\n      this.menu = false\n    },\n  },\n}\n</script>\n<template\n  v-slot:append\n>\n  <v-menu\n    v-model=\"menu\"\n    top\n    nudge-bottom=\"105\"\n    nudge-left=\"16\"\n    :close-on-content-click=\"false\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <div\n        :style=\"swatchStyle\"\n        v-on=\"on\"\n      />\n    </template>\n    <v-card>\n      <v-card-text\n        class=\"pa-0\"\n      >\n        <v-color-picker\n          v-model=\"color\"\n          mode=\"hexa\"\n          :swatches=\"swatches\"\n          show-swatches\n          flat\n        />\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn\n          color=\"grey\"\n          outlined\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"cancel\") }}\n        </v-btn>\n        <v-btn\n          color=\"green darken-1\"\n          outlined\n          @click=\"updateColor\"\n        >\n          {{ $gettext(\"apply\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","<!-- eslint-disable no-return-assign -->\n<script>\nimport SidePanel from '../components/SidePanel.vue'\nimport Map from '../components/Map.vue'\nimport ColorPicker from '../components/utils/ColorPicker.vue'\nimport { getGroupForm } from '../components/utils/utils.js'\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nexport default {\n  name: 'Home',\n  components: {\n    Map,\n    SidePanel,\n    ColorPicker,\n  },\n  data () {\n    return {\n      editorTrip: null,\n      action: null,\n      selectedNode: null,\n      selectedLink: null,\n      selectedIndex: null,\n      showDialog: false,\n      editorForm: {},\n      cursorPosition: [],\n      tripToDelete: null,\n      deleteMessage: '',\n      lingering: true,\n      groupTripIds: [],\n      selectedTab: 0,\n      isRoadMode: false,\n    }\n  },\n  computed: {\n    selectedTrips () { return this.$store.getters.selectedTrips },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    orderedForm () {\n      // order editor Form in alphatical order\n      let form = this.editorForm\n      // if we have tab. there is a list of form\n      if (form.length >= 1) {\n        form = form[this.selectedTab]\n      }\n      // order keys in alphabetical order, and with disabled last\n      const keys = Object.keys(form).filter(key => !form[key].disabled).sort()\n      keys.push(...Object.keys(form).filter(key => form[key].disabled).sort())\n      const ordered = keys.reduce(\n        (obj, key) => {\n          obj[key] = form[key]\n          return obj\n        },\n        {},\n      )\n      return ordered\n    },\n  },\n  watch: {\n\n  },\n  created () {\n    this.editorTrip = this.$store.getters.editorTrip\n    window.addEventListener('keydown', (e) => {\n      if (e.key === 'Control') {\n        this.$store.commit('changeAnchorMode')\n      }\n    })\n  },\n\n  methods: {\n\n    updateSelectedTrips (event) {\n      if (event.type === 'links') {\n        this.$store.commit('changeSelectedTrips', event.data)\n      } else if (event.type === 'rlinks') {\n        this.$store.commit('changeVisibleRoads', event.data)\n      }\n    },\n\n    actionClick (event) {\n      this.action = event.action\n      if (this.action === 'Edit Line Info') {\n        this.editorForm = structuredClone(this.$store.getters.editorLineInfo)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Group Info') {\n        this.groupTripIds = event.tripIds\n        const uneditable = ['index', 'length', 'a', 'b', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = structuredClone(this.$store.getters.links.features.filter(\n          link => this.groupTripIds.includes(link.properties.trip_id)))\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Link Info') {\n        // link is clicked on the map\n        this.selectedLink = event.selectedFeature.properties\n        const uneditable = ['a', 'b', 'index', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = this.$store.getters.editorLinks.features.filter(\n          (link) => link.properties.index === this.selectedLink.index)\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit rLink Info') {\n        this.selectedLink = event.selectedIndex\n        this.selectedTab = 0\n\n        this.editorForm = this.selectedLink.map(linkId => this.$store.getters.rlinksForm(linkId))\n        this.showDialog = true\n      } else if (this.action === 'Edit Road Group Info') {\n        const features = this.$store.getters.grouprLinks(event.category, event.group)\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Visible Road Info') {\n        const features = this.$store.getters.visiblerLinks.features\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (['Edit Node Info', 'Edit rNode Info'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        // map selected node doesnt not return properties with nanulln value.\n        // we need to get the node in the store with the selected index.\n        if (this.action === 'Edit Node Info') {\n          this.editorForm = this.$store.getters.editorNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        } else if (this.action === 'Edit rNode Info') {\n          this.editorForm = this.$store.getters.visiblerNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        }\n        this.editorForm = this.editorForm[0].properties\n        // filter properties to only the one that are editable.\n        const uneditable = ['index', 'route_width']\n        const filtered = Object.keys(this.editorForm)\n          .reduce((obj, key) => {\n            obj[key] = {\n              value: this.editorForm[key],\n              disabled: uneditable.includes(key),\n              placeholder: false,\n            }\n            return obj\n          }, {})\n        this.editorForm = filtered\n        this.showDialog = true\n      } else if (['Cut Before Node', 'Cut After Node',\n        'Move Stop', 'Delete Stop', 'Delete Anchor', 'Delete Road Anchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        this.applyAction()\n      } else if (['Add Stop Inline', 'Add Anchor Inline'].includes(this.action)) {\n        this.selectedLink = event.selectedFeature.properties\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Add Road Node Inline', 'Add Road Anchor Inline', 'Delete rLink'].includes(this.action)) {\n        this.selectedIndex = event.selectedIndex\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Move Node', 'Move Anchor', 'Move rNode', 'Move rAnchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      }\n    },\n\n    applyAction () {\n      // click yes on dialog\n      this.showDialog = false\n      switch (this.action) {\n        case 'Cut Before Node':\n          this.$store.commit('cutLineAtNode', { selectedNode: this.selectedNode })\n          break\n        case 'Cut After Node':\n          this.$store.commit('cutLineFromNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete Stop':\n          this.$store.commit('deleteNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit Link Info':\n          this.$store.commit('editLinkInfo', { selectedLinkId: this.selectedLink.index, info: this.editorForm })\n          break\n        case 'Edit Node Info':\n          this.$store.commit('editNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Edit Line Info':\n          // check if trip_id was changed and if it already exist.\n          if ((this.editorForm.trip_id.value !== this.$store.getters.editorTrip) &&\n          this.$store.getters.tripId.includes(this.editorForm.trip_id.value)) {\n            // reset all. just like abortChanges but without the abort changes notification\n            this.lingering = true // if not, applyAction is call after and the notification is overwrite.\n            this.editorTrip = null\n            this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n            this.action = null\n            this.$store.commit('changeNotification', {\n              text: $gettext('Could not apply modification. Trip_id already exist'),\n              autoClose: true,\n              color: 'red darken-2',\n            })\n          }\n          this.$store.commit('editLineInfo', this.editorForm)\n          break\n        case 'Edit Group Info':\n          this.$store.commit('editGroupInfo', { groupTripIds: this.groupTripIds, info: this.editorForm })\n          break\n        case 'deleteTrip':\n          this.$store.commit('deleteTrip', this.tripToDelete)\n          break\n        case 'Add Stop Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'editorNodes',\n          })\n          break\n        case 'Add Anchor Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorNodes',\n          })\n          break\n        case 'Delete Anchor':\n          this.$store.commit('deleteAnchorNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit rLink Info':\n          this.$store.commit('editrLinkInfo', { selectedLinkId: this.selectedLink, info: this.editorForm })\n          break\n        case 'Edit Road Group Info':\n          this.$store.commit('editrGroupInfo', { selectedLinks: this.selectedLinks, info: this.editorForm })\n          this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit Visible Road Info':\n          this.$store.commit('editrVisiblesInfo', { info: this.editorForm })\n          this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit rNode Info':\n          this.$store.commit('editrNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Add Road Node Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'rnodes',\n          })\n          break\n        case 'Add Road Anchor Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorrNodes',\n          })\n          break\n        case 'Move Node':\n          this.$store.commit('moveNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move Anchor':\n          this.$store.commit('moveAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rNode':\n          this.$store.commit('moverNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rAnchor':\n          this.$store.commit('moverAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Delete Road Anchor':\n          this.$store.commit('deleteAnchorrNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete rLink':\n          this.$store.commit('deleterLink', { selectedIndex: this.selectedIndex })\n          break\n        case 'deleterGroup':\n          this.$store.commit('deleterGroup', this.tripToDelete)\n          break\n      }\n      if (!this.lingering) {\n        this.confirmChanges()\n        this.lingering = true\n      }\n    },\n    cancelAction () {\n      this.showDialog = false\n      if (!this.lingering) {\n        this.abortChanges()\n        this.lingering = true\n      }\n    },\n    confirmChanges () {\n      // confirm changes on sidePanel, this overwrite Links in store.\n      this.$store.commit('confirmChanges')\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification',\n        { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n    },\n    abortChanges () {\n      // unselect a trip for edition. nothing to commit on link here.\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification', { text: $gettext('modification aborted'), autoClose: true })\n    },\n    deleteButton (selection) {\n      // could be a trip, or a roadLinks group\n      this.tripToDelete = selection.trip\n      this.deleteMessage = selection.message\n      this.action = selection.action\n      this.showDialog = true\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      max-width=\"300\"\n      @keydown.enter=\"applyAction\"\n      @keydown.esc=\"cancelAction\"\n    >\n      <v-card\n        max-height=\"60rem\"\n      >\n        <v-tabs\n          v-if=\" (editorForm.length > 1) \"\n          v-model=\"selectedTab\"\n          grow\n        >\n          <v-tab\n            v-for=\"link in selectedLink\"\n            :key=\"link\"\n          >\n            {{ link }}\n          </v-tab>\n        </v-tabs>\n        <v-card-title class=\"text-h5\">\n          {{ ['deleteTrip','deleterGroup'].includes(action)? $gettext(\"Delete\") + ' '+ deleteMessage + '?': $gettext(\"Edit Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text\n          v-if=\"['Edit Line Info',\n                 'Edit Link Info',\n                 'Edit Node Info',\n                 'Edit Group Info',\n                 'Edit rLink Info',\n                 'Edit Road Group Info',\n                 'Edit Visible Road Info',\n                 'Edit rNode Info'].includes(action)\"\n        >\n          <v-list>\n            <v-text-field\n              v-for=\"(value, key) in orderedForm\"\n              :key=\"key\"\n              v-model=\"value['value']\"\n              :label=\"key\"\n              :filled=\"!value['disabled']\"\n              :type=\"$store.getters.attributeType(key)\"\n              :placeholder=\"value['placeholder']? $gettext('multiple Values'):''\"\n              :persistent-placeholder=\" value['placeholder']? true:false \"\n              :disabled=\"value['disabled']\"\n              @wheel=\"$event.target.blur()\"\n            >\n              <template\n                v-if=\"key==='route_color'\"\n                v-slot:append\n              >\n                <color-picker\n                  v-model=\"value['value']\"\n                />\n              </template>\n            </v-text-field>\n          </v-list>\n        </v-card-text>\n        <v-divider />\n\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelAction\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"applyAction\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <SidePanel\n      :selected-trips=\"selectedTrips\"\n      :selectedr-group=\"selectedrGroup\"\n      @update-tripList=\"updateSelectedTrips\"\n      @confirmChanges=\"confirmChanges\"\n      @abortChanges=\"abortChanges\"\n      @deleteButton=\"deleteButton\"\n      @propertiesButton=\"actionClick\"\n      @isRoadMode=\"(e) => isRoadMode = e\"\n    />\n    <Map\n      ref=\"mapref\"\n      :selected-trips=\"selectedTrips\"\n      :is-road-mode=\"isRoadMode\"\n      @clickFeature=\"actionClick\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n\n</style>\n","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=858aa142&scoped=true&v-slot%3Aappend=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"858aa142\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=42d6dfa2&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=42d6dfa2&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=42d6dfa2&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=42d6dfa2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42d6dfa2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"section\", [\n    _c(\n      \"div\",\n      { staticClass: \"layout\" },\n      [\n        _c(\"div\", {\n          staticClass: \"layout-overlay\",\n          class: { \"animate-layer\": _vm.loggedIn },\n        }),\n        _vm._v(\" \"),\n        _c(\n          \"v-card\",\n          { staticClass: \"card\", class: { \"animate-login\": _vm.loggedIn } },\n          [\n            _c(\"v-card-title\", { staticClass: \"title\" }, [\n              _vm._v(\"\\n        Quetzal Network Editor\\n      \"),\n            ]),\n            _vm._v(\" \"),\n            _c(\"v-card-text\", { style: { textAlign: \"center\" } }, [\n              _c(\"div\", { staticClass: \"subtitle\" }, [\n                _vm._v(\n                  \"\\n          \" +\n                    _vm._s(_vm.$gettext(\"Add Files\")) +\n                    \"\\n        \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", [\n                _vm._v(\n                  \"\\n          \" +\n                    _vm._s(\n                      _vm.$gettext(\n                        \"Links and Nodes files must be geojson in EPSG:4326\"\n                      )\n                    ) +\n                    \"\\n        \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"text-xs-center\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: {\n                        loading: _vm.loading.links,\n                        color:\n                          Object.keys(_vm.loadedLinks).length != 0\n                            ? \"primary\"\n                            : \"normal\",\n                      },\n                      on: {\n                        click: function ($event) {\n                          return _vm.buttonHandle(\"links\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\n                          \"\\n              fa-solid fa-upload\\n            \"\n                        ),\n                      ]),\n                      _vm._v(\n                        \"\\n            \" +\n                          _vm._s(_vm.$gettext(\"Links\")) +\n                          \"\\n          \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: {\n                        loading: _vm.loading.nodes,\n                        color:\n                          Object.keys(_vm.loadedNodes).length != 0\n                            ? \"primary\"\n                            : \"normal\",\n                      },\n                      on: {\n                        click: function ($event) {\n                          return _vm.buttonHandle(\"nodes\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\n                          \"\\n              fa-solid fa-upload\\n            \"\n                        ),\n                      ]),\n                      _vm._v(\n                        \"\\n            \" +\n                          _vm._s(_vm.$gettext(\"Nodes\")) +\n                          \"\\n          \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-tooltip\",\n                    {\n                      attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                      scopedSlots: _vm._u([\n                        {\n                          key: \"activator\",\n                          fn: function ({ on, attrs }) {\n                            return [\n                              _c(\n                                \"v-btn\",\n                                _vm._g(\n                                  _vm._b(\n                                    {\n                                      attrs: {\n                                        loading: _vm.loading.zip,\n                                        color: _vm.localFilesAreLoaded\n                                          ? \"primary\"\n                                          : \"normal\",\n                                      },\n                                      on: {\n                                        click: function ($event) {\n                                          return _vm.buttonHandle(\"zip\")\n                                        },\n                                      },\n                                    },\n                                    \"v-btn\",\n                                    attrs,\n                                    false\n                                  ),\n                                  on\n                                ),\n                                [\n                                  _c(\n                                    \"v-icon\",\n                                    { attrs: { small: \"\", left: \"\" } },\n                                    [\n                                      _vm._v(\n                                        \"\\n                  fas fa-file-archive\\n                \"\n                                      ),\n                                    ]\n                                  ),\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(\"zip\") +\n                                      \"\\n              \"\n                                  ),\n                                ],\n                                1\n                              ),\n                            ]\n                          },\n                        },\n                      ]),\n                    },\n                    [\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(_vm.$gettext(\"Load a zip file containing\"))\n                        ),\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"br\"),\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          _vm._s(\n                            _vm.$gettext(\"nodes.geojson and links.geojson\")\n                          )\n                        ),\n                      ]),\n                    ]\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"input\", {\n                ref: \"fileInput\",\n                staticStyle: { display: \"none\" },\n                attrs: { type: \"file\", accept: \".geojson\" },\n                on: { change: _vm.onFilePicked },\n              }),\n              _vm._v(\" \"),\n              _c(\"input\", {\n                ref: \"zipInput\",\n                staticStyle: { display: \"none\" },\n                attrs: { type: \"file\", accept: \".zip\", multiple: \"multiple\" },\n                on: { change: _vm.readZip },\n              }),\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"v-card-text\",\n              { style: { textAlign: \"center\", color: \"red\" } },\n              [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n            ),\n          ],\n          1\n        ),\n      ],\n      1\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { extractZip } from '../components/utils/utils.js'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'Import',\n  data () {\n    return {\n      loggedIn: false,\n      errorMessage: '',\n      loadedLinks: {},\n      loadedNodes: {},\n      choice: null,\n      loading: { links: false, nodes: false, zip: false },\n    }\n  },\n\n  computed: {\n    localFilesAreLoaded () {\n      return !((Object.keys(this.loadedLinks).length === 0 || Object.keys(this.loadedNodes).length === 0))\n    },\n  },\n  watch: {\n    loadedLinks (newLinks) {\n      if (Object.keys(newLinks).length !== 0) {\n        const linksIndex = new Set(this.$store.getters.links.features.map(item => item.properties.index))\n        const newLinksIndex = new Set(newLinks.features.map(item => item.properties.index))\n        if (new Set([...linksIndex, ...newLinksIndex]).size !== (linksIndex.size + newLinksIndex.size)) {\n          this.loadedLinks = {}\n          this.loadedNodes = {}\n          this.errorMessage = $gettext('there is duplicated links index. Import aborted')\n        } else {\n          // console.log('all good')\n        }\n        if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(newLinks.crs.properties.name)) {\n          this.errorMessage = $gettext('invalid CRS. use CRS84 / EPSG:4326. Import aborted')\n          this.loadedNodes = {}\n          this.loadedLinks = {}\n        }\n      }\n      this.loading.links = false\n    },\n    loadedNodes (newNodes) {\n      if (Object.keys(newNodes).length !== 0) {\n        const nodesIndex = new Set(this.$store.getters.nodes.features.map(item => item.properties.index))\n        const newNodesIndex = new Set(newNodes.features.map(item => item.properties.index))\n        if (new Set([...nodesIndex, ...newNodesIndex]).size !== (nodesIndex.size + newNodesIndex.size)) {\n          this.errorMessage = $gettext('there is duplicated nodes index. Import aborted')\n          this.loadedNodes = {}\n          this.loadedLinks = {}\n        } else {\n          // console.log('all good')\n        }\n        if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(newNodes.crs.properties.name)) {\n          this.errorMessage = $gettext('invalid CRS. use CRS84 / EPSG:4326. Import aborted')\n          this.loadedNodes = {}\n          this.loadedLinks = {}\n        }\n      }\n      this.loading.nodes = false\n    },\n    localFilesAreLoaded (val) {\n      if (val) {\n        this.$store.commit('appendNewFile', { links: this.loadedLinks, nodes: this.loadedNodes })\n        this.loggedIn = true\n        this.login()\n      }\n    },\n\n  },\n  mounted () {\n    this.$store.commit('changeNotification', '')\n  },\n  methods: {\n\n    login () {\n      // Leave time for animation to end (.animate-login and .animate-layer css rules)\n      setTimeout(() => {\n        this.$router.push('/Home').catch(() => {})\n      }, 1000)\n    },\n    buttonHandle (choice) {\n      this.choice = choice\n      if (choice === 'zip') {\n        this.loadedLinks = {}\n        this.loadedNodes = {}\n        this.errorMessage = ''\n        // read zip witjh links and nodes.\n        this.$refs.zipInput.click()\n      } else if (choice === 'links') {\n        this.loadedLinks = {}\n        this.errorMessage = ''\n        this.$refs.fileInput.click()\n      } else if (choice === 'nodes') {\n        this.loadedNodes = {}\n        this.errorMessage = ''\n        this.$refs.fileInput.click()\n      }\n    },\n    onFilePicked (event) {\n      this.loading[this.choice] = true\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.loading[this.choice] = false\n        return\n      }\n      // it is a geojson\n      if (files[0].name.slice(-7) !== 'geojson') {\n        this.loading[this.choice] = false\n        alert('file is not a geojson')\n        return\n      }\n\n      const fileReader = new FileReader()\n      fileReader.readAsText(files[0])\n      if (this.choice === 'links') {\n        fileReader.onload = evt => {\n          try {\n            this.loadedLinks = JSON.parse(evt.target.result)\n          } catch (e) {\n            this.$store.commit('changeNotification', { text: e.message, autoClose: true, color: 'red darken-2' })\n            this.loading[this.choice] = false\n          }\n        }\n      } else if (this.choice === 'nodes') {\n        fileReader.onload = evt => {\n          try {\n            this.loadedNodes = JSON.parse(evt.target.result)\n          } catch (e) {\n            alert(e.message)\n            this.loading[this.choice] = false\n          }\n        }\n      }\n    },\n\n    async readZip (event) {\n      this.loading.zip = true\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.loading.zip = false\n        return\n      }\n      // it is a zip\n      if (files[0].name.slice(-3) !== 'zip') {\n        this.loading.zip = false\n        this.errorMessage = $gettext('file is not a zip. Import aborted')\n        return\n      }\n      // read every selected zip and create a list of promises.\n      // each promises contain {links, nodes}\n      const PromisesList = []\n      for (let i = 0; i < files.length; i++) {\n        const res = extractZip(files[i])\n        PromisesList.push(res)\n      }\n      // when all files are read\n      Promise.all(PromisesList).then(files => {\n        // asign first file to links and node var\n        const links = files[0].links\n        const nodes = files[0].nodes\n        // for each other files concat, concat to links and nodes\n        for (let i = 1; i < files.length; i++) {\n          links.features.push(...files[i].links.features)\n          nodes.features.push(...files[i].nodes.features)\n        }\n        // then its finish\n        this.loadedLinks = links\n        this.loadedNodes = nodes\n        this.loading.zip = false\n      }).catch(err => {\n        this.loading.zip = false\n        this.errorMessage = err\n      })\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <div class=\"layout\">\n      <div\n        class=\"layout-overlay\"\n        :class=\"{ 'animate-layer': loggedIn }\"\n      />\n      <v-card\n        class=\"card\"\n        :class=\"{ 'animate-login': loggedIn }\"\n      >\n        <v-card-title class=\"title\">\n          Quetzal Network Editor\n        </v-card-title>\n        <v-card-text :style=\"{textAlign: 'center'}\">\n          <div class=\"subtitle\">\n            {{ $gettext(\"Add Files\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Links and Nodes files must be geojson in EPSG:4326\") }}\n          </div>\n          <div class=\" text-xs-center\">\n            <v-btn\n              :loading=\"loading.links\"\n              :color=\" Object.keys(loadedLinks).length != 0? 'primary': 'normal'\"\n              @click=\"buttonHandle('links')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Links') }}\n            </v-btn>\n            <v-btn\n              :loading=\"loading.nodes\"\n              :color=\" Object.keys(loadedNodes).length != 0? 'primary': 'normal'\"\n              @click=\"buttonHandle('nodes')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Nodes') }}\n            </v-btn>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  :loading=\"loading.zip\"\n                  :color=\" localFilesAreLoaded? 'primary': 'normal'\"\n                  v-on=\"on\"\n                  @click=\"buttonHandle('zip')\"\n                >\n                  <v-icon\n                    small\n                    left\n                  >\n                    fas fa-file-archive\n                  </v-icon>\n                  {{ 'zip' }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load a zip file containing\") }}</span>\n              <br>\n              <span>{{ $gettext(\"nodes.geojson and links.geojson\") }}</span>\n            </v-tooltip>\n          </div>\n          <input\n            ref=\"fileInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".geojson\"\n            @change=\"onFilePicked\"\n          >\n          <input\n            ref=\"zipInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".zip\"\n            multiple=\"multiple\"\n            @change=\"readZip\"\n          >\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n      </v-card>\n    </div>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  max-height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=3289f409&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=3289f409&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=3289f409&scoped=true&\"\nimport script from \"./Import.vue?vue&type=script&lang=js&\"\nexport * from \"./Import.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Import.vue?vue&type=style&index=0&id=3289f409&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3289f409\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { ref: \"cardBox\", staticClass: \"layout\", attrs: { id: \"card-box\" } },\n        [\n          _c(\"v-card\", { staticClass: \"card\" }, [\n            _c(\n              \"div\",\n              [\n                _c(\"v-data-table\", {\n                  staticClass: \"elevation-3\",\n                  attrs: {\n                    headers: _vm.headers,\n                    height: _vm.divHeight - 240,\n                    \"fixed-header\": \"\",\n                    \"fixed-footer\": \"\",\n                    items: _vm.data,\n                    \"items-per-page\": 100,\n                    \"footer-props\": {\n                      \"items-per-page-options\": [10, 20, 100, 200, -1],\n                    },\n                    \"show-group-by\": \"\",\n                  },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"top\",\n                      fn: function () {\n                        return [\n                          _c(\n                            \"v-toolbar\",\n                            { attrs: { flat: \"\" } },\n                            [\n                              _c(\n                                \"v-toolbar-title\",\n                                { staticClass: \"languages-container\" },\n                                _vm._l(_vm.tableChoices, function (item, key) {\n                                  return _c(\n                                    \"div\",\n                                    {\n                                      key: key,\n                                      staticClass: \"language\",\n                                      class: [\n                                        item.val === _vm.selectedTable\n                                          ? \"active\"\n                                          : \"\",\n                                      ],\n                                      attrs: { title: item.val },\n                                      on: {\n                                        click: () =>\n                                          (_vm.selectedTable = item.val),\n                                      },\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                  \" +\n                                          _vm._s(_vm.$gettext(item.text)) +\n                                          \"\\n                \"\n                                      ),\n                                    ]\n                                  )\n                                }),\n                                0\n                              ),\n                              _vm._v(\" \"),\n                              _c(\"v-divider\", {\n                                staticClass: \"mx-4\",\n                                attrs: { vertical: \"\", inset: \"\" },\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"v-spacer\"),\n                              _vm._v(\" \"),\n                              _c(\n                                \"v-card-actions\",\n                                [\n                                  _c(\n                                    \"v-btn\",\n                                    {\n                                      staticClass: \"btn-links\",\n                                      attrs: {\n                                        href: \"newField\",\n                                        target: \"_blank\",\n                                      },\n                                      on: {\n                                        click: function ($event) {\n                                          $event.preventDefault()\n                                          _vm.showDialog = true\n                                        },\n                                      },\n                                    },\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { attrs: { small: \"\", left: \"\" } },\n                                        [\n                                          _vm._v(\n                                            \"\\n                    fas fa-plus\\n                  \"\n                                          ),\n                                        ]\n                                      ),\n                                      _vm._v(\n                                        \"\\n                  \" +\n                                          _vm._s(_vm.$gettext(\"add field\")) +\n                                          \"\\n                \"\n                                      ),\n                                    ],\n                                    1\n                                  ),\n                                ],\n                                1\n                              ),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                      proxy: true,\n                    },\n                  ]),\n                }),\n              ],\n              1\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"v-row\", {\n        directives: [\n          {\n            name: \"resize\",\n            rawName: \"v-resize\",\n            value: _vm.onResize,\n            expression: \"onResize\",\n          },\n        ],\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.addField.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" + _vm._s(_vm.$gettext(\"New Field\")) + \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        { attrs: { cols: \"12\" } },\n                        [\n                          _c(\"v-text-field\", {\n                            attrs: { label: _vm.$gettext(\"name\") },\n                            model: {\n                              value: _vm.input,\n                              callback: function ($$v) {\n                                _vm.input = $$v\n                              },\n                              expression: \"input\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancel },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: { click: _vm.addField },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Add\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\n\nexport default {\n  name: 'DataFrame',\n  data () {\n    return {\n      data: [],\n      headers: [],\n      showDialog: false,\n      input: '',\n      divHeight: 0,\n      errorMessage: null,\n      tableChoices: [\n        { val: 'links', text: $gettext('Links Table') },\n        { val: 'nodes', text: $gettext('Nodes Table') },\n      ],\n      selectedTable: 'links',\n    }\n  },\n\n  watch: {\n    selectedTable () { this.fetchData() },\n  },\n\n  mounted () {\n    this.$store.commit('changeNotification', '')\n    this.fetchData()\n    this.onResize()\n  },\n  methods: {\n    fetchData () {\n      this.data = []\n      this.headers = []\n      let header = new Set([])\n      const features = this.selectedTable === 'links'\n        ? this.$store.getters.links.features\n        : this.$store.getters.nodes.features\n      features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n        this.data.push(element.properties)\n      })\n      header = Array.from(header)\n      header.forEach(element => {\n        this.headers.push({ text: element, value: element })\n      })\n    },\n    onResize () {\n      this.divHeight = this.$refs.cardBox.clientHeight\n    },\n    addField () {\n      const propsList = []\n      Object.keys(this.headers).forEach(key => propsList.push(this.headers[key].value))\n      if (propsList.includes(this.input)) {\n        this.errorMessage = 'already exist'\n      } else {\n        this.$store.commit('addPropertie', { name: this.input, table: this.selectedTable })\n        this.fetchData()\n        this.input = ''\n        this.errorMessage = ''\n        this.showDialog = false\n      }\n    },\n    cancel () {\n      this.input = ''\n      this.errorMessage = ''\n      this.showDialog = false\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <div\n      id=\"card-box\"\n      ref=\"cardBox\"\n      class=\"layout\"\n    >\n      <v-card\n        class=\"card\"\n      >\n        <div>\n          <v-data-table\n            :headers=\"headers\"\n            :height=\"divHeight-240\"\n            fixed-header\n            fixed-footer\n            :items=\"data\"\n            :items-per-page=\"100\"\n            :footer-props=\"{\n              'items-per-page-options': [10, 20,100,200,-1]\n            }\"\n            class=\"elevation-3\"\n            show-group-by\n          >\n            <template v-slot:top>\n              <v-toolbar\n                flat\n              >\n                <v-toolbar-title class=\"languages-container\">\n                  <div\n                    v-for=\"(item, key) in tableChoices\"\n                    :key=\"key\"\n                    class=\"language\"\n                    :class=\"[item.val === selectedTable ? 'active' : '']\"\n                    :title=\"item.val\"\n                    @click=\"()=> selectedTable=item.val\"\n                  >\n                    {{ $gettext(item.text) }}\n                  </div>\n                </v-toolbar-title>\n                <v-divider\n                  class=\"mx-4\"\n                  vertical\n                  inset\n                />\n                <v-spacer />\n                <v-card-actions>\n                  <!--\n                  <v-btn\n                    class=\" btn-links\"\n                    href=\"settings\"\n                    target=\"_blank\"\n                    @click.prevent=\"\"\n                  >\n                    <v-icon\n                      small\n                      left\n                    >\n                      fas fa-cog\n                    </v-icon>\n                    {{ $gettext('Settings') }}\n                  </v-btn>\n                  -->\n                  <v-btn\n                    class=\" btn-links\"\n                    href=\"newField\"\n                    target=\"_blank\"\n                    @click.prevent=\"showDialog=true\"\n                  >\n                    <v-icon\n                      small\n                      left\n                    >\n                      fas fa-plus\n                    </v-icon>\n                    {{ $gettext('add field') }}\n                  </v-btn>\n                </v-card-actions>\n              </v-toolbar>\n            </template>\n          </v-data-table>\n        </div>\n      </v-card>\n    </div>\n    <v-row\n      v-resize=\"onResize\"\n    />\n\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"addField\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"New Field\") }}\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <v-col cols=\"12\">\n              <v-text-field\n                v-model=\"input\"\n                :label=\"$gettext('name')\"\n              />\n            </v-col>\n          </v-container>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancel\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"addField\"\n          >\n            {{ $gettext(\"Add\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width:  calc(100% - 10em);\n  height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n.languages-container {\n  display: flex;\n}\n.language {\n  border-right: 1px solid $grey-light;\n  padding-right:10px;\n  padding-left:10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color: $secondary;\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=style&index=0&id=02239d78&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=style&index=0&id=02239d78&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DataFrame.vue?vue&type=template&id=02239d78&scoped=true&\"\nimport script from \"./DataFrame.vue?vue&type=script&lang=js&\"\nexport * from \"./DataFrame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataFrame.vue?vue&type=style&index=0&id=02239d78&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02239d78\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from '@page/Login.vue'\nimport Home from '@page/Home.vue'\nimport Import from '@page/Import.vue'\nimport DataFrame from '@page/DataFrame.vue'\nimport { store } from '../store/index.js'\n\nVue.use(Router)\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nconst router = new Router({\n  linkExactActiveClass: 'active',\n  mode: 'history',\n  base: '/quetzal-network-editor-dev/',\n  routes: [\n    {\n      path: '/',\n      name: Login.name,\n      component: Login,\n      icon: 'fa-solid fa-home',\n      title: $gettext('New Project'),\n    },\n    {\n      path: '/Import',\n      name: Import.name,\n      component: Import,\n      icon: 'fa-solid fa-upload',\n      title: $gettext('Import'),\n    },\n    {\n      path: '/Home',\n      name: Home.name,\n      component: Home,\n      icon: 'fa-solid fa-map',\n      title: $gettext('Map'),\n    },\n    {\n      path: '/DataFrame',\n      name: DataFrame.name,\n      component: DataFrame,\n      icon: 'fa-solid fa-table',\n      title: $gettext('Table'),\n    },\n  ],\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== 'Login' && !store.getters.filesAreLoaded) next({ name: 'Login' })\n  else if (to.path === 'login') next('Login')\n  else next()\n})\n\nexport default router\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-app\",\n    { staticClass: \"app\" },\n    [\n      _c(\"NavigationDrawer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"container\", class: [_vm.isLoginPage ? \"login\" : \"\"] },\n        [\n          _c(\"Toolbar\"),\n          _vm._v(\" \"),\n          _c(\"transition\", { attrs: { name: \"fade\" } }, [_c(\"router-view\")], 1),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-snackbar\",\n        {\n          staticClass: \"snackbar\",\n          class: `snackbar-${_vm.notification.type}`,\n          attrs: {\n            timeout: _vm.notification.autoClose ? 3000 : -1,\n            transition: \"slide-y-reverse-transition\",\n            color: _vm.notification.color ? _vm.notification.color : \"white\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"action\",\n              fn: function ({ attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._b(\n                      {\n                        attrs: { small: \"\", color: \"secondary\", text: \"\" },\n                        on: { click: _vm.closeSnackbar },\n                      },\n                      \"v-btn\",\n                      attrs,\n                      false\n                    ),\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Close\")) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.snackbar,\n            callback: function ($$v) {\n              _vm.snackbar = $$v\n            },\n            expression: \"snackbar\",\n          },\n        },\n        [\n          _vm._v(\n            \"\\n    \" + _vm._s(_vm.$gettext(_vm.notification.text)) + \"\\n    \"\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-toolbar\",\n    { class: \"app-toolbar elevation-4\", attrs: { dense: \"\", color: \"white\" } },\n    [\n      _c(\"div\", [_vm._v(\"Quetzal Network Editor\")]),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              attrs: {\n                                icon: \"\",\n                                href: \"https://github.com/systragroup/quetzal-network-editor\",\n                                target: \"_blank\",\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"\\n            fab fa-github\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [_vm._v(\" \"), _c(\"span\", [_vm._v(\"GitHub\")])]\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"language active\",\n                              attrs: { text: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$language.current) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                _vm._l(_vm.$language.available, function (language, lang) {\n                  return _c(\n                    \"v-list-item\",\n                    {\n                      key: lang,\n                      class: language,\n                      on: {\n                        click: function ($event) {\n                          return _vm.handleChangeLanguage(lang)\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(language.toUpperCase()) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'Toolbar',\n  computed: {\n\n  },\n  methods: {\n    handleChangeLanguage (lang) {\n      this.$vuetify.lang.current = lang\n      this.$language.current = lang\n    },\n  },\n}\n</script>\n<template>\n  <v-toolbar\n    :class=\"'app-toolbar elevation-4'\"\n    dense\n    color=\"white\"\n  >\n    <div>Quetzal Network Editor</div>\n\n    <v-spacer />\n    <div>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            href=\"https://github.com/systragroup/quetzal-network-editor\"\n            target=\"_blank\"\n            v-on=\"on\"\n          >\n            <v-icon>\n              fab fa-github\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>GitHub</span>\n      </v-tooltip>\n    </div>\n\n    <div>\n      <v-menu\n        offset-y\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            text\n            class=\"language active\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            {{ $language.current }}\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            v-for=\"(language, lang) in $language.available\"\n            :key=\"lang\"\n            :class=\"language\"\n\n            @click=\"handleChangeLanguage(lang)\"\n          >\n            {{ language.toUpperCase() }}\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </div>\n  </v-toolbar>\n</template>\n<style lang=\"scss\" scoped>\n.app-toolbar {\n  z-index: 100;\n  height: 50px !important;\n  display: flex;\n  color: $secondary !important;\n  position: relative;\n}\n.login {\n  padding-left: 50px;\n}\n.project-name {\n  font-size: 1.3em;\n}\n.languages-container {\n  display: flex;\n}\n.language {\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color: $secondary;\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=1ab24a22&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=1ab24a22&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=1ab24a22&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=1ab24a22&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ab24a22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"transition\",\n    { attrs: { name: \"fade\" } },\n    [\n      _c(\n        \"v-navigation-drawer\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: !_vm.isLoginPage,\n              expression: \"!isLoginPage\",\n            },\n          ],\n          staticClass: \"drawer elevation-4\",\n          attrs: {\n            app: \"\",\n            stateless: \"\",\n            temporary: !_vm.mini,\n            \"mini-variant\": _vm.mini,\n            \"mini-variant-width\": 50,\n          },\n          on: {\n            \"update:miniVariant\": function ($event) {\n              _vm.mini = $event\n            },\n            \"update:mini-variant\": function ($event) {\n              _vm.mini = $event\n            },\n          },\n          model: {\n            value: _vm.drawer,\n            callback: function ($$v) {\n              _vm.drawer = $$v\n            },\n            expression: \"drawer\",\n          },\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"drawer-header\",\n              on: {\n                click: function ($event) {\n                  _vm.mini = !_vm.mini\n                },\n              },\n            },\n            [\n              _c(\"v-icon\", { attrs: { small: \"\", color: \"white\" } }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.mini ? \"fa fa-bars\" : \"fas fa-angle-left\") +\n                    \"\\n      \"\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            { staticClass: \"drawer-list\", attrs: { dense: \"\" } },\n            _vm._l(_vm.getDisplayedRoutes(), function (item, key) {\n              return _c(\n                \"v-list-item\",\n                {\n                  key: key,\n                  staticClass: \"drawer-list-item\",\n                  class: [\n                    _vm.$store.getters.route === item.name\n                      ? \"drawer-list-item-selected\"\n                      : \"\",\n                  ],\n                  style: { marginTop: item.name === \"Export\" ? \"auto\" : \"0\" },\n                  on: {\n                    click: function ($event) {\n                      return _vm.handleClickMenuItem(item)\n                    },\n                  },\n                  nativeOn: {\n                    click: function ($event) {\n                      $event.stopPropagation()\n                    },\n                  },\n                },\n                [\n                  _c(\n                    \"v-list-item-action\",\n                    { staticClass: \"drawer-list-item-icon\" },\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          attrs: { small: \"\", title: _vm.$gettext(item.title) },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(item.icon) +\n                              \"\\n          \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item-content\",\n                    [\n                      _c(\n                        \"v-list-item-title\",\n                        { style: { marginLeft: \"20px\", color: \"white\" } },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(_vm.$gettext(item.title)) +\n                              \"\\n          \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            }),\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Router from '@src/router/index'\n\nexport default {\n  name: 'NavigationDrawer',\n  data () {\n    return {\n      leftSidenav: false,\n      drawer: true,\n      mini: true,\n      menuItems: [],\n    }\n  },\n  computed: {\n    isLoginPage () {\n      return this.$store.getters.route === 'Login'\n    },\n  },\n  created () {\n    this.menuItems = Router.options.routes.concat({\n      name: 'Export',\n      icon: 'fa-solid fa-download',\n      title: this.$gettext('Export'),\n    })\n  },\n  methods: {\n    getDisplayedRoutes () {\n      return this.menuItems.filter(o => o.icon)\n    },\n    getRouteTitle (route) {\n      const tpl = this.$gettext('%{s}')\n      return this.$gettextInterpolate(tpl, { s: route.title })\n    },\n    handleClickMenuItem (route) {\n      switch (route.name) {\n        case 'Export':\n          this.saveFile()\n          break\n        default :\n          this.$router.push(route.path).catch(() => {})\n          this.mini = true\n          break\n      }\n    },\n\n    saveFile () {\n      this.$store.commit('exportFiles', 'all')\n    },\n\n  },\n}\n</script>\n<template>\n  <transition name=\"fade\">\n    <v-navigation-drawer\n      v-show=\"!isLoginPage\"\n      v-model=\"drawer\"\n      app\n      class=\"drawer elevation-4\"\n      stateless\n      :temporary=\"!mini\"\n      :mini-variant.sync=\"mini\"\n      :mini-variant-width=\"50\"\n    >\n      <div\n        class=\"drawer-header\"\n        @click=\"mini = !mini\"\n      >\n        <v-icon\n          small\n          color=\"white\"\n        >\n          {{ mini ? 'fa fa-bars' : 'fas fa-angle-left' }}\n        </v-icon>\n      </div>\n      <v-list\n        dense\n        class=\"drawer-list\"\n      >\n        <v-list-item\n          v-for=\"( item,key ) in getDisplayedRoutes()\"\n          :key=\"key\"\n          class=\"drawer-list-item\"\n          :class=\"[ $store.getters.route === item.name ? 'drawer-list-item-selected' : '']\"\n          :style=\"{marginTop: item.name === 'Export' ? 'auto' : '0'}\"\n          @click.native.stop\n          @click=\"handleClickMenuItem(item)\"\n        >\n          <v-list-item-action class=\"drawer-list-item-icon\">\n            <v-icon\n              small\n              :title=\"$gettext(item.title)\"\n            >\n              {{ item.icon }}\n            </v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title :style=\"{marginLeft: '20px', color: 'white'}\">\n              {{ $gettext(item.title) }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </transition>\n</template>\n<style lang=\"scss\" scoped>\n.drawer {\n  background-color: $secondary !important;\n}\n.drawer-header {\n  width: 100%;\n  height: 50px;\n  border-bottom: 1px solid white;\n  background-color: $secondary;\n  color: white;\n  display: flex;\n  align-items: center;\n  padding-left: 18px;\n  cursor: pointer;\n}\n.drawer-list {\n  height: calc(100% - 50px);\n  display: flex;\n  flex-direction: column;\n  padding: 20px 0;\n}\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n.drawer-list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.drawer-list-item-selected {\n  background-color: $secondary-dark;\n}\n.drawer-list-item:hover {\n  background-color: $secondary-dark;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=64bd8bbc&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=64bd8bbc&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationDrawer.vue?vue&type=template&id=64bd8bbc&scoped=true&\"\nimport script from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationDrawer.vue?vue&type=style&index=0&id=64bd8bbc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64bd8bbc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","<script>\nimport Toolbar from '@comp/layout/Toolbar.vue'\nimport NavigationDrawer from '@comp/layout/NavigationDrawer.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Toolbar,\n    NavigationDrawer,\n  },\n  data () {\n    return {\n      snackbar: false,\n    }\n  },\n  computed: {\n    notification () {\n      return this.$store.getters.notification\n    },\n    isLoginPage () {\n      return this.$store.getters.route === 'Login'\n    },\n  },\n  watch: {\n    notification () {\n      this.snackbar = !!this.notification.text\n    },\n  },\n  methods: {\n    closeSnackbar () {\n      this.snackbar = false\n      this.$store.notification = {}\n    },\n  },\n}\n</script>\n<template>\n  <v-app class=\"app\">\n    <NavigationDrawer />\n    <div\n      class=\"container\"\n      :class=\"[isLoginPage ? 'login' : '']\"\n    >\n      <Toolbar />\n      <transition name=\"fade\">\n        <router-view />\n      </transition>\n    </div>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"notification.autoClose ? 3000 : -1\"\n      transition=\"slide-y-reverse-transition\"\n      :color=\"notification.color? notification.color : 'white'\"\n      class=\"snackbar\"\n      :class=\"`snackbar-${notification.type}`\"\n    >\n      {{ $gettext(notification.text) }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"secondary\"\n          text\n          v-bind=\"attrs\"\n          @click=\"closeSnackbar\"\n        >\n          {{ $gettext(\"Close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-app>\n</template>\n<style lang=\"scss\" scoped>\n.app {\n  background-color: $grey-ultralight !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.container {\n  height: 100%;\n  margin-left: 50px;\n  width: calc(100% - 50px);\n  max-width: calc(100% - 50px);\n  padding: 0;\n}\n.container.login {\n  margin-left: 0;\n  width: 100%;\n}\n</style>\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=64040b5c&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=64040b5c&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=64040b5c&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=64040b5c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64040b5c\",\n  null\n  \n)\n\nexport default component.exports","import '@fortawesome/fontawesome-free/css/all.css'\nimport 'vuetify/dist/vuetify.min.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport '@scss/app.scss'\n\nimport Vue from 'vue'\nimport GetTextPlugin from 'vue-gettext'\nimport { store } from './store'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport VueApexCharts from 'vue-apexcharts'\n\nimport VueLocalStorage from 'vue-localstorage'\n\nimport 'promise-polyfill/src/polyfill'\n\nimport fr from 'vuetify/es5/locale/fr'\nimport en from 'vuetify/es5/locale/en'\nimport de from 'vuetify/es5/locale/de'\nimport es from 'vuetify/es5/locale/es'\nimport pt from 'vuetify/es5/locale/pt'\n\nimport translations from './translations.json'\n\nimport App from './App.vue'\nimport { mapboxPublicKey } from '@src/config.js'\n\nconsole.assert(mapboxPublicKey)\n\nconst languageMixin = {\n  methods: {\n    $selectBestLanguage (browserLangs, supportedLangs) {\n      if (browserLangs.length) {\n        for (const lang of browserLangs) {\n          const parts = lang.toLowerCase().split('-')\n          if (parts.length > 1) {\n            parts[1] = parts[1].toUpperCase()\n          }\n          const normLang = parts.join('-')\n          if (supportedLangs.includes(normLang)) {\n            return normLang\n          } else if (parts.length > 1 && supportedLangs.includes(parts[0])) {\n            return parts[0]\n          }\n        }\n        return supportedLangs[0]\n      } else {\n        return supportedLangs[0]\n      }\n    },\n  },\n}\nVue.component('Apexchart', VueApexCharts)\n\nconst bestLanguage = languageMixin.methods.$selectBestLanguage(navigator.languages, ['en', 'fr', 'es', 'de', 'pt'])\n\nVue.use(Vuetify)\nVue.use(GetTextPlugin, {\n  autoAddKeyAttributes: true,\n  availableLanguages: {\n    en: 'English',\n    fr: 'Franais',\n    es: 'Espaol',\n    de: 'Deutsch',\n    pt: 'Portugus',\n  },\n  defaultLanguage: bestLanguage,\n  translations,\n  silent: true,\n})\n\nVue.use(VueLocalStorage)\n\nVue.config.productionTip = false\nVue.config.devtools = true\nVue.config.performance = false\n\nconst vuetify = new Vuetify({\n  theme: {\n    options: {\n      customProperties: true,\n    },\n    themes: {\n      light: {\n        primary: '#B5E0D6',\n        primarydark: '#7EBAAC',\n        secondary: '#2C3E4E',\n        secondarydark: '#1A242C',\n        secondarylight: '#334453',\n        lightgrey: '#E3E4E6',\n        mediumgrey: '#9E9E9E',\n        darkgrey: '#5B5B5C',\n        accent: '#2C3E4E',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n      },\n    },\n  },\n  icons: {\n    iconfont: 'fa',\n  },\n  lang: {\n    locales: { fr, en, es, de, pt },\n    current: bestLanguage,\n  },\n})\n\nVue.mixin(languageMixin)\n\nVue.mixin({\n  methods: {\n    $flatEdges (obj, recurse = false) {\n      let flatObj = obj\n      if (obj.edges) {\n        flatObj = obj.edges.map(edge => edge.node)\n      }\n      if (recurse) {\n        for (const key in obj) {\n          if (obj[key] !== null && typeof obj[key] === 'object') {\n            obj[key] = this.$flatEdges(obj[key], true)\n          }\n        }\n      }\n      return flatObj\n    },\n  },\n})\n\nconst app = new Vue({\n  localStorage: {\n    info: {\n      type: Object,\n      default: {},\n    },\n  },\n  router,\n  store,\n  vuetify,\n  render: h => h(App),\n  template: '<App/>',\n})\n\napp.$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/quetzal-network-editor-dev/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquetzal_network_editor\"] = self[\"webpackChunkquetzal_network_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [29,182], () => (__webpack_require__(2178)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","state","filesAreLoaded","links","nodes","editorTrip","editorNodes","editorLinks","editorLineInfo","nodesHeader","linksHeader","tripId","selectedTrips","newLink","newNode","changeBounds","linkSpeed","lineAttributes","nodeAttributes","defaultAttributes","name","type","mutations","loadLinks","payload","structuredClone","includes","crs","properties","features","forEach","link","geometry","coordinates","map","points","coord","Math","round","Number","this","commit","alert","loadNodes","JSON","parse","stringify","node","unloadFiles","getLinksProperties","header","Set","element","Object","keys","key","add","attr","att","Array","from","getNodesProperties","addPropertie","table","changeSelectedTrips","setEditorTrip","filtered","filter","trip_id","getEditorNodes","a","item","b","editorNodesList","has","index","getEditorLineInfo","form","uneditable","length","getDefaultValue","route_width","route_color","value","disabled","placeholder","val","size","getTripId","setNewLink","uncopiedPropeties","time","pickup_type","drop_off_type","tempLink","linkProperties","defaultValue","generate","link_sequence","linkFeature","action","assign","slice","nodeCopyId","createNewNode","nodeProperties","nodeFeatures","setNewNode","tempNode","editNewLink","applyNewLink","geom","distance","toFixed","splice","deleteNode","nodeIndex","selectedNode","link1","link2","featureIndex","findIndex","splitLink","linkIndex","selectedLink","ratio","offset","sliceIndex","seq","addNodeInline","linkGeom","clickedPoint","values","lngLat","snapped","units","dist","location","addAnchorNode","deleteAnchorNode","coordinatedIndex","feature","moveAnchor","moveNode","cutLineFromNode","nodeId","sort","toDelete","i","entries","cutLineAtNode","editLineInfo","props","editLinkInfo","selectedLinkId","info","editNodeInfo","selectedNodeId","appendNewFile","editGroupInfo","editorGroupInfo","groupTripIds","deleteUnusedNodes","nodesInLinks","confirmChanges","nodesList","newNodes","eNode","deleteTrip","applyPropertiesTypes","String","getters","linksAreLoaded","nodesAreLoaded","route_id","firstNodeId","lastNodeId","firstNode","lastNode","anchorNodes","point","idx","attributeType","rlinks","rnodes","rlinksHeader","rnodesHeader","selectedrCategory","selectedrGroup","rlineAttributes","rnodeAttributes","newrNode","visiblerLinks","visiblerNodes","connectedLinks","rfilesAreLoaded","roadSpeed","loadrLinks","loadrNodes","unloadrFiles","getrLinksProperties","getrNodesProperties","changeVisibleRoads","method","data","cat","category","tempLinks","el","refreshVisibleRoads","group","possibleGroups","x","getVisiblerNodes","rNodesList","editrLinkInfo","editrNodeInfo","createNewrNode","splitrLink","selectedFeature","addRoadNodeInline","selectedFeatures","selectedIndex","addAnchorrNode","createrLink","nodeIdB","layerId","rnodeA","nodeIdA","rnodeB","linkGeometry","highway","speed","newLinkGroup","getConnectedLinks","moverNode","moverAnchor","deleteAnchorrNode","deleterLink","linkArr","deleterGroup","deleteUnusedrNodes","editrGroupInfo","groupInfo","selectedLinks","editrVisiblesInfo","anchorrNodes","renderedLinks","grouprLinks","rlinksForm","editorForm","store","modules","notification","anchorMode","showLeftPanel","linksPopupContent","roadsPopupContent","outputName","changeNotification","changeLeftPanel","setAnchorMode","changeAnchorMode","applySettings","exportFiles","zip","tempNodes","blob","Blob","file","generateAsync","then","content","render","_vm","_c","_self","staticClass","class","loggedIn","_v","style","textAlign","_s","$gettext","attrs","loading","color","loadedLinks","on","click","$event","buttonHandle","small","left","loadedNodes","bottom","scopedSlots","_u","fn","_g","_b","ref","staticStyle","display","accept","change","onFilePicked","multiple","readZip","errorMessage","persistent","keydown","indexOf","_k","keyCode","applyDialog","apply","arguments","showDialog","model","callback","$$v","expression","_withStripped","async","extractZip","ZIP","loadAsync","filesNames","files","result","road_links","road_nodes","str","Error","getGroupForm","indexAreUnique","geojson","indexArr","loadedrLinks","loadedrNodes","choice","computed","$store","localFilesAreLoaded","watch","login","mounted","methods","setTimeout","$router","catch","error","message","loadExample","newProject","$refs","zipInput","fileInput","url","fetch","res","json","out","err","event","target","fileReader","FileReader","readAsText","onload","evt","e","text","autoClose","PromisesList","Promise","all","scrollable","applyAction","cancelAction","grow","selectedTab","_l","_e","deleteMessage","orderedForm","label","filled","wheel","blur","$set","proxy","updateSelectedTrips","abortChanges","deleteButton","propertiesButton","actionClick","isRoadMode","clickFeature","width","directives","rawName","showLeftPanelContent","onResize","dark","tab","roadMode","height","$emit","icon","showAll","tripList","transition","items","filterChoices","vmodelSelectedFilter","classifiedTripId","stopPropagation","showGroup","some","trip","min","editButton","right","fab","createNewLine","components","events","selectedFilter","arrayUniqueTripId","Map","filteredCat","undefinedCat","c","arr","undefined","newVal","oldVal","newTrip","dict","$nextTick","created","lingering","tripIds","obj","editVisible","concat","selectedrGoup","changes","toString","LinksSidePanel","RoadSidePanel","window","innerHeight","leftPanel","clientHeight","mapboxPublicKey","load","onMapLoaded","mousemove","draw","mouseout","resetDraw","addPoint","mouseup","rightClickMap","origin","showSettings","submit","position","mapIsLoaded","isEditorMode","onHover","onHoverRoad","offHover","rightClick","drawMode","source","drawLink","buffer","generateId","layer","minzoom","paint","connectedDrawLink","visibleLinks","promoteId","interactive","maxzoom","layout","mouseenter","enterLink","mouseleave","leaveLink","dblclick","selectLine","contextmenu","editLineProperties","visibleNodes","MglGeojsonLayer","selectedPopupContent","showedTrips","setHiddenFeatures","getCanvas","cursor","popup","isOpen","remove","closeButton","setLngLat","mapboxEvent","lng","lat","setHTML","addTo","trips","showedTripsSet","widthArr","widthDict","totSet","ab","newFeatures","preventDefault","selectClick","mouseover","onCursor","offCursor","linkRightClick","mousedown","contextMenuNode","showed","popupEditor","close","hoveredStateId","contextMenu","dense","flat","actions","outlined","MglPopup","MglImageLayer","disablePopup","keepHovering","dragNode","querySourceFeatures","setFeatureState","hover","selectedId","originalEvent","button","onMove","stopMovingNode","loaded","off","renderedrLinks","minZoom","renderedrNodes","renderedAnchorrNodes","editorRnodes","bbox","getBounds","beforeDestroy","removeLayer","bounds","_sw","_ne","getZoom","uniqueArray","shake","cancel","suffix","hint","showHint","rules","required","choices","zipRules","v","validate","MglMap","MglNavigationControl","MglScaleControl","StaticLinks","EditorLinks","RoadLinks","Settings","default","Boolean","hoverId","hoverLayer","mapDiv","resize","extend","fitBounds","padding","getStyle","layers","setLayoutProperty","loadImage","image","console","addImage","sdf","dragRotate","disable","pointGeom","roadref","top","swatchStyle","menu","mode","swatches","updateColor","prop","pcolor","$vuetify","theme","currentTheme","chart","tempArr","lightblue","SidePanel","ColorPicker","cursorPosition","tripToDelete","reduce","addEventListener","linkId","mapref","selection","newLinks","linksIndex","newLinksIndex","nodesIndex","newNodesIndex","headers","divHeight","tableChoices","selectedTable","title","vertical","inset","href","addField","cols","input","fetchData","cardBox","propsList","router","linkExactActiveClass","base","routes","path","Login","component","Import","Home","DataFrame","beforeEach","to","next","isLoginPage","timeout","closeSnackbar","snackbar","$language","current","available","language","lang","handleChangeLanguage","toUpperCase","app","stateless","temporary","mini","drawer","getDisplayedRoutes","route","marginTop","handleClickMenuItem","nativeOn","marginLeft","leftSidenav","menuItems","o","getRouteTitle","tpl","$gettextInterpolate","s","saveFile","Toolbar","NavigationDrawer","assert","languageMixin","$selectBestLanguage","browserLangs","supportedLangs","parts","toLowerCase","split","normLang","join","bestLanguage","navigator","languages","autoAddKeyAttributes","availableLanguages","en","fr","es","de","pt","defaultLanguage","translations","silent","customProperties","themes","light","primary","primarydark","secondary","secondarydark","secondarylight","lightgrey","mediumgrey","darkgrey","accent","lightgreen","darkgreen","darkblue","purple","pink","orange","yellow","icons","iconfont","locales","$flatEdges","recurse","flatObj","edges","edge","localStorage","vuetify","h","App","template","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","call","m","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","getPrototypeOf","t","ns","create","def","getOwnPropertyNames","definition","defineProperty","enumerable","get","g","globalThis","Function","prototype","hasOwnProperty","Symbol","toStringTag","p","document","baseURI","self","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","nc","__webpack_exports__"],"sourceRoot":""}