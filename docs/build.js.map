{"version":3,"file":"build.js","mappings":"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","sources":["webpack://quetzal-network-editor/webpack/runtime/chunk loaded","webpack://quetzal-network-editor/webpack/runtime/create fake namespace object","webpack://quetzal-network-editor/./src/scss/app.scss","webpack://quetzal-network-editor/./src/App.vue?83ff","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?cd0a","webpack://quetzal-network-editor/./src/components/Map.vue?6d72","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?1505","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?81ff","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?4d85","webpack://quetzal-network-editor/./src/components/Settings.vue?30c4","webpack://quetzal-network-editor/./src/components/SidePanel.vue?3161","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?7891","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?4e2f","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?036c","webpack://quetzal-network-editor/./src/components/utils/OSMImporter.vue?4caf","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?18de","webpack://quetzal-network-editor/./src/pages/Home.vue?171b","webpack://quetzal-network-editor/./src/pages/Import.vue?2ee5","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?ab5b","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?4ed5","webpack://quetzal-network-editor/./src/scss/app.scss?d10e","webpack://quetzal-network-editor/./src/store/links.js","webpack://quetzal-network-editor/./src/store/rlinks.js","webpack://quetzal-network-editor/./src/store/results.js","webpack://quetzal-network-editor/./src/store/layer.js","webpack://quetzal-network-editor/./src/axiosClient.js","webpack://quetzal-network-editor/./src/store/run.js","webpack://quetzal-network-editor/./src/store/user.js","webpack://quetzal-network-editor/./src/store/index.js","webpack://quetzal-network-editor/./src/pages/Import.vue?9a90","webpack://quetzal-network-editor/./static/links_base.geojson","webpack://quetzal-network-editor/./static/nodes_base.geojson","webpack://quetzal-network-editor/./src/components/utils/utils.js","webpack://quetzal-network-editor/./src/components/utils/OSMImporter.vue?a181","webpack://quetzal-network-editor/src/components/utils/OSMImporter.vue","webpack://quetzal-network-editor/./src/components/utils/OSMImporter.vue?0b57","webpack://quetzal-network-editor/./src/components/utils/OSMImporter.vue?ebaa","webpack://quetzal-network-editor/./src/components/utils/OSMImporter.vue","webpack://quetzal-network-editor/src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/Import.vue?c377","webpack://quetzal-network-editor/./src/pages/Import.vue?e169","webpack://quetzal-network-editor/./src/pages/Import.vue","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?3f28","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?8733","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue","webpack://quetzal-network-editor/src/pages/ResultPicture.vue","webpack://quetzal-network-editor/./src/auth.js","webpack://quetzal-network-editor/./src/pages/Home.vue?deff","webpack://quetzal-network-editor/./src/components/SidePanel.vue?60a0","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?29d1","webpack://quetzal-network-editor/src/components/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?2735","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue?af88","webpack://quetzal-network-editor/./src/components/LinksSidePanel.vue","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?bcd1","webpack://quetzal-network-editor/src/components/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?da18","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue?623b","webpack://quetzal-network-editor/./src/components/RoadSidePanel.vue","webpack://quetzal-network-editor/./src/components/SidePanel.vue?3af0","webpack://quetzal-network-editor/src/components/SidePanel.vue","webpack://quetzal-network-editor/./src/components/SidePanel.vue?fe6a","webpack://quetzal-network-editor/./src/components/SidePanel.vue","webpack://quetzal-network-editor/./src/components/Map.vue?c974","webpack://quetzal-network-editor/./src/components/Settings.vue?145c","webpack://quetzal-network-editor/src/components/Settings.vue","webpack://quetzal-network-editor/./src/components/Settings.vue?e34e","webpack://quetzal-network-editor/./src/components/Settings.vue?1af1","webpack://quetzal-network-editor/./src/components/Settings.vue","webpack://quetzal-network-editor/./src/components/StaticLinks.vue?5d5f","webpack://quetzal-network-editor/src/components/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/StaticLinks.vue?2fc3","webpack://quetzal-network-editor/./src/components/StaticLinks.vue","webpack://quetzal-network-editor/./src/components/EditorLinks.vue?81ee","webpack://quetzal-network-editor/src/components/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/EditorLinks.vue?80e2","webpack://quetzal-network-editor/./src/components/EditorLinks.vue","webpack://quetzal-network-editor/./src/components/RoadLinks.vue?a6a2","webpack://quetzal-network-editor/src/components/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/RoadLinks.vue?4ca6","webpack://quetzal-network-editor/./src/components/RoadLinks.vue","webpack://quetzal-network-editor/./src/components/Map.vue?eaca","webpack://quetzal-network-editor/src/components/Map.vue","webpack://quetzal-network-editor/./src/components/Map.vue?9fe3","webpack://quetzal-network-editor/./src/components/Map.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?120e","webpack://quetzal-network-editor/src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue?6c63","webpack://quetzal-network-editor/./src/pages/Home.vue?e983","webpack://quetzal-network-editor/src/pages/Home.vue","webpack://quetzal-network-editor/./src/components/utils/ColorPicker.vue","webpack://quetzal-network-editor/./src/pages/Home.vue?0aa5","webpack://quetzal-network-editor/./src/pages/Home.vue","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?1dc7","webpack://quetzal-network-editor/src/pages/DataFrame.vue","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?7f06","webpack://quetzal-network-editor/./src/pages/DataFrame.vue?d5fe","webpack://quetzal-network-editor/./src/pages/DataFrame.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?a0f2","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?0529","webpack://quetzal-network-editor/src/components/ResultsSidePanel.vue","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?0669","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue?2042","webpack://quetzal-network-editor/./src/components/ResultsSidePanel.vue","webpack://quetzal-network-editor/./src/components/MapResults.vue?add7","webpack://quetzal-network-editor/src/components/MapResults.vue","webpack://quetzal-network-editor/./src/components/MapResults.vue?ec49","webpack://quetzal-network-editor/./src/components/MapResults.vue","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?fe72","webpack://quetzal-network-editor/src/components/ResultsSettings.vue","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?c070","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue?726d","webpack://quetzal-network-editor/./src/components/ResultsSettings.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?d390","webpack://quetzal-network-editor/src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?631d","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue?d962","webpack://quetzal-network-editor/./src/components/utils/MapLegend.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?fec0","webpack://quetzal-network-editor/src/pages/ResultMap.vue","webpack://quetzal-network-editor/./src/pages/ResultMap.vue?effd","webpack://quetzal-network-editor/./src/pages/ResultMap.vue","webpack://quetzal-network-editor/./src/router/index.js","webpack://quetzal-network-editor/./src/App.vue?24ef","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?ddbd","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?7fd6","webpack://quetzal-network-editor/src/components/utils/Profile.vue","webpack://quetzal-network-editor/./src/components/utils/Profile.vue?8f3a","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?41be","webpack://quetzal-network-editor/src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/utils/Profile.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?cb94","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?3e7b","webpack://quetzal-network-editor/src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1673","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?f71f","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/App.vue?32cf","webpack://quetzal-network-editor/src/App.vue","webpack://quetzal-network-editor/./src/App.vue?ae75","webpack://quetzal-network-editor/./src/App.vue","webpack://quetzal-network-editor/./src/main.js","webpack://quetzal-network-editor/webpack/bootstrap","webpack://quetzal-network-editor/webpack/runtime/compat get default export","webpack://quetzal-network-editor/webpack/runtime/define property getters","webpack://quetzal-network-editor/webpack/runtime/global","webpack://quetzal-network-editor/webpack/runtime/hasOwnProperty shorthand","webpack://quetzal-network-editor/webpack/runtime/make namespace object","webpack://quetzal-network-editor/webpack/runtime/publicPath","webpack://quetzal-network-editor/webpack/runtime/jsonp chunk loading","webpack://quetzal-network-editor/webpack/runtime/nonce","webpack://quetzal-network-editor/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body{font-family:\\\"Roboto\\\",sans-serif;height:100vh}body::-webkit-scrollbar{display:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-clip:padding-box;background-color:#9e9e9e;border-radius:8px}::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#2c3e4e;border-radius:8px}.v-application--wrap{flex-direction:row}.theme--light.v-application{color:#2c3e4e}.theme--light.v-icon{color:inherit !important}.theme--dark.v-label{color:#fff}.v-toolbar__content{display:flex;align-items:center;justify-content:space-between;height:100% !important;width:100%}.v-input__icon>i{font-size:14px !important;margin-right:10px}.v-navigation-drawer--fixed{z-index:200}.v-btn.primary>span{color:#2c3e4e !important}.v-snack__wrapper{margin:20px}.v-snack__content{color:#2c3e4e !important}.snackbar-error>.v-snack__wrapper{border-bottom:5px solid #e42626 !important}.snackbar-warning>.v-snack__wrapper{border-bottom:5px solid #ff7b30 !important}.snackbar-positive>.v-snack__wrapper{border-bottom:5px solid #4caf50 !important}.v-card__subtitle,.v-card__text,.v-card__title{padding:0}.v-card__title{line-height:normal}.mapboxgl-ctrl-bottom-right{right:10px;bottom:10px}.mapboxgl-popup-content{padding:10px;color:#fff;background-color:#2c3e4e}.mapboxgl-popup-tip{border-bottom-color:#2c3e4e !important;border-top-color:#2c3e4e !important}.mapboxgl-popup-close-button{right:20px;top:20px;font-size:1.5em}.mapboxgl-ctrl-attrib-inner>a{color:#2c3e4e !important}.view{padding:20px;height:calc(100% - 50px);width:100%;display:flex}.card{background-color:#fff;border-radius:5px;box-shadow:0px 5px 10px rgba(0,0,0,.05);padding:20px}.card-hover:hover{box-shadow:0px 5px 10px rgba(0,0,0,.1)}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(300px)}.fade-leave-active{display:none !important}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0 !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/scss/generic.scss\",\"webpack://./src/scss/variables.scss\",\"webpack://./src/scss/vuetify.scss\",\"webpack://./src/scss/mapboxgl.scss\",\"webpack://./src/scss/util.scss\",\"webpack://./src/scss/animations.scss\"],\"names\":[],\"mappings\":\"AAAA,KACE,+BAAA,CACA,YAAA,CAEF,wBACE,YAAA,CAEF,oBACE,SAAA,CAEF,0BACE,2BAAA,CACA,wBCJkB,CDKlB,iBAAA,CAEF,0BACE,2BAAA,CACA,wBCfkB,CDgBlB,iBAAA,CElBF,qBACE,kBAAA,CAEF,4BACE,aDFkB,CCIpB,qBACE,wBAAA,CAEF,qBACE,UAAA,CAEF,oBACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,sBAAA,CACA,UAAA,CAEF,iBACE,yBAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CAEF,oBACE,wBAAA,CAEF,kBACE,WAAA,CAEF,kBACE,wBAAA,CAEF,kCACE,0CAAA,CAEF,oCACE,0CAAA,CAEF,qCACE,0CAAA,CAEF,+CACE,SAAA,CAEF,eACE,kBAAA,CChDF,4BACE,UAAA,CACA,WAAA,CAEF,wBACE,YAAA,CACA,UAAA,CACA,wBFLkB,CEOpB,oBACE,sCAAA,CACA,mCAAA,CAEF,6BACE,UAAA,CACA,QAAA,CACA,eAAA,CAEF,8BACE,wBAAA,CCnBF,MACE,YAAA,CACA,wBAAA,CACA,UAAA,CACA,YAAA,CAEF,MACE,qBAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CAEF,kBACE,sCAAA,CCbF,sCACE,iBAAA,CAEF,2BACE,SAAA,CACA,2BAAA,CAEF,mBACE,uBAAA,CAEF,sCACE,sBAAA,CAEF,2BACE,oBAAA\",\"sourcesContent\":[\"body {\\n  font-family: 'Roboto', sans-serif;\\n  height: 100vh;\\n}\\nbody::-webkit-scrollbar {\\n  display: none;\\n}\\n::-webkit-scrollbar {\\n  width: 8px;\\n}\\n::-webkit-scrollbar-track {\\n  background-clip: padding-box;\\n  background-color: $grey-medium;\\n  border-radius: 8px;\\n}\\n::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: $secondary;\\n  border-radius: 8px;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\",\".v-application--wrap {\\n  flex-direction: row;\\n}\\n.theme--light.v-application {\\n  color: $secondary;\\n}\\n.theme--light.v-icon {\\n  color: inherit !important;\\n}\\n.theme--dark.v-label {\\n  color: white;\\n}\\n.v-toolbar__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  height: 100% !important;\\n  width: 100%;\\n}\\n.v-input__icon > i {\\n  font-size: 14px !important;\\n  margin-right: 10px;\\n}\\n.v-navigation-drawer--fixed {\\n  z-index: 200;\\n}\\n.v-btn.primary > span {\\n  color: $secondary !important;\\n}\\n.v-snack__wrapper {\\n  margin: 20px;\\n}\\n.v-snack__content {\\n  color: $secondary !important;\\n}\\n.snackbar-error > .v-snack__wrapper {\\n  border-bottom: 5px solid $negative !important;\\n}\\n.snackbar-warning > .v-snack__wrapper {\\n  border-bottom: 5px solid $warning !important;\\n}\\n.snackbar-positive > .v-snack__wrapper {\\n  border-bottom: 5px solid $positive !important;\\n}\\n.v-card__subtitle, .v-card__text, .v-card__title {\\n  padding: 0;\\n}\\n.v-card__title {\\n  line-height: normal;\\n}\\n\",\".mapboxgl-ctrl-bottom-right {\\n  right: 10px;\\n  bottom: 10px;\\n}\\n.mapboxgl-popup-content {\\n  padding: 10px;\\n  color: white;\\n  background-color: $secondary;\\n}\\n.mapboxgl-popup-tip {\\n  border-bottom-color: $secondary !important;\\n  border-top-color: $secondary !important;\\n}\\n.mapboxgl-popup-close-button {\\n  right: 20px;\\n  top: 20px;\\n  font-size: 1.5em;\\n}\\n.mapboxgl-ctrl-attrib-inner > a {\\n  color: $secondary !important;\\n}\\n\",\".view {\\n  padding: 20px;\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n.card {\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\\n  padding: 20px;\\n}\\n.card-hover:hover {\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.10);\\n}\\n\",\".list-enter-active, .list-leave-active {\\n  transition: all 1s;\\n}\\n.list-enter, .list-leave-to {\\n  opacity: 0;\\n  transform: translateX(300px);\\n}\\n.fade-leave-active {\\n  display: none !important;\\n}\\n.fade-enter-active, .fade-leave-active {\\n  transition: opacity 0.5s;\\n}\\n.fade-enter, .fade-leave-to {\\n  opacity: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app[data-v-7b40e382]{background-color:#f5f5f5 !important;width:100%;height:100%;overflow:hidden}.container[data-v-7b40e382]{height:100%;margin-left:50px;width:calc(100% - 50px);max-width:calc(100% - 50px);padding:0}.container.login[data-v-7b40e382]{margin-left:0;width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.vue\"],\"names\":[],\"mappings\":\"AAEA,sBACE,mCAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEF,4BACE,WAAA,CACA,gBAAA,CACA,uBAAA,CACA,2BAAA,CACA,SAAA,CAEF,kCACE,aAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app {\\n  background-color: $grey-ultralight !important;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.container {\\n  height: 100%;\\n  margin-left: 50px;\\n  width: calc(100% - 50px);\\n  max-width: calc(100% - 50px);\\n  padding: 0;\\n}\\n.container.login {\\n  margin-left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-1e4aade7]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-1e4aade7]{transition:.3s}.left-panel-content[data-v-1e4aade7]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-1e4aade7]{padding:0}.left-panel-toggle-btn[data-v-1e4aade7]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-1e4aade7]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-1e4aade7]{height:height;padding-left:20px}.scrollable[data-v-1e4aade7]{overflow-y:scroll}.drawer-list-item[data-v-1e4aade7]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-1e4aade7]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/LinksSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-view[data-v-25bc03dd]{width:100%}.setting[data-v-25bc03dd]{position:absolute;top:10px;right:20px}.my-custom-dialog[data-v-25bc03dd]{position:absolute !important;top:10px !important;right:20px !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Map.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,UAAA,CAGF,0BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAEF,mCACE,4BAAA,CACA,mBAAA,CACA,qBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  width: 100%;\\n\\n}\\n.setting {\\n  position: absolute;\\n  top: 10px;\\n  right: 20px;\\n}\\n.my-custom-dialog {\\n  position: absolute !important;\\n  top: 10px !important;\\n  right: 20px !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".gradient[data-v-2d20fc31]{width:60%;white-space:nowrap;position:relative;display:inline-block;padding-top:10px;padding-bottom:10px}.gradient .domain-title[data-v-2d20fc31]{position:absolute;padding-left:.5rem;padding-top:.5rem;text-align:center;font-size:16px}.grad-step[data-v-2d20fc31]{display:inline-block;height:40px;width:1%}.subtitle[data-v-2d20fc31]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.setting[data-v-2d20fc31]{left:98%;width:0px;z-index:2;display:flex;position:relative;align-items:center;justify-content:center;height:50px}.shake[data-v-2d20fc31]{animation:shake-2d20fc31 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-2d20fc31{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ResultsSettings.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CAIJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA,CAGJ,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAIF,0BACE,QAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 60%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 10px;\\n    padding-bottom: 10px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    padding-left:0.5rem;\\n    padding-top:0.5rem;\\n    text-align: center;\\n    font-size: 16px;\\n\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 40px;\\n    width: 1%;\\n}\\n\\n.subtitle {\\n  font-size: 2em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n\\n.setting {\\n  left: 98%;\\n  width: 0px;\\n  z-index: 2;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-d6d1e4ce]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.title[data-v-d6d1e4ce]{color:#fff}.left-panel-close[data-v-d6d1e4ce]{transition:.3s}.left-panel-content[data-v-d6d1e4ce]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-d6d1e4ce]{padding:0}.left-panel-toggle-btn[data-v-d6d1e4ce]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-d6d1e4ce]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-d6d1e4ce]{height:height;padding-left:20px}.scrollable[data-v-d6d1e4ce]{overflow-y:scroll}.drawer-list-item[data-v-d6d1e4ce]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-d6d1e4ce]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ResultsSidePanel.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAEF,wBACE,UAAA,CAEF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color: var(--v-primarydark-base);\\n  transition: 0.3s;\\n  position: absolute;\\n  display: flex;\\n  z-index: 20;\\n}\\n.title  {\\n  color:white;\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: var(--v-primarydark-base);\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-06cceff0]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-06cceff0]{transition:.3s}.left-panel-content[data-v-06cceff0]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-06cceff0]{padding:0}.left-panel-toggle-btn[data-v-06cceff0]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-06cceff0]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-06cceff0]{height:height;padding-left:20px}.scrollable[data-v-06cceff0]{overflow-y:scroll}.drawer-list-item[data-v-06cceff0]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-06cceff0]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RoadSidePanel.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n@import \\\"src/scss/variables.scss\\\";\\n.left-panel {\\n  height: 100%;\\n  background-color: $primary-dark;\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: $primary-dark;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-339cfb37]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-339cfb37]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-339cfb37]{width:500px;overflow-y:auto;padding:40px}.title[data-v-339cfb37]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-339cfb37]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.card button[data-v-339cfb37]{margin-top:40px}.shake[data-v-339cfb37]{animation:shake-339cfb37 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-339cfb37{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Settings.vue\"],\"names\":[],\"mappings\":\"AAGA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,8BACE,eAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color:  var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  padding:1rem\\n\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.shake {\\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\\n  transform: translate3d(0, 0, 0);\\n}\\n@keyframes shake {\\n  10%, 90% {\\n    transform: translate3d(-1px, 0, 0);\\n  }\\n  20%, 80% {\\n    transform: translate3d(2px, 0, 0);\\n  }\\n  30%, 50%, 70% {\\n    transform: translate3d(-4px, 0, 0);\\n  }\\n  40%, 60% {\\n    transform: translate3d(4px, 0, 0);\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".left-panel[data-v-2a32919e]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-2a32919e]{transition:.3s}.left-panel-content[data-v-2a32919e]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-2a32919e]{padding:0}.left-panel-toggle-btn[data-v-2a32919e]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-2a32919e]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-2a32919e]{height:height;padding-left:20px}.scrollable[data-v-2a32919e]{overflow-y:scroll}.drawer-list-item[data-v-2a32919e]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-2a32919e]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SidePanel.vue\"],\"names\":[],\"mappings\":\"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.left-panel {\\n  height: 100%;\\n  background-color:var(--v-primarydark-base);\\n  transition: 0.3s;\\n  position: absolute;\\n  display:flex;\\n  z-index: 20;\\n\\n}\\n.left-panel-close {\\ntransition:0.3s\\n}\\n.left-panel-content {\\n  display:inline-block;\\n  width : 100%;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: 100%;\\n  //resize: horizontal;\\n  overflow: auto;\\n\\n}\\n.v-list__tile {\\n  padding: 0\\n}\\n.left-panel-toggle-btn {\\n  left: 100%;\\n  width: 25px;\\n  z-index: 1;\\n  background-color: var(--v-primarydark-base);\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  height: 50px;\\n  transition: 0.3s;\\n  cursor: pointer;\\n}\\n.left-panel-title {\\n  height: 50px;\\n  line-height: 55px;\\n  padding-left: 20px;\\n  font-size: 1.1em;\\n  margin-bottom: 10px;\\n}\\n.trip-list {\\n  height: height;\\n  padding-left:20px\\n}\\n\\n.scrollable {\\n   overflow-y:scroll;\\n\\n}\\n\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n\\n.list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".drawer[data-v-bf4e6672]{background-color:var(--v-secondary-base) !important}.drawer-header[data-v-bf4e6672]{width:100%;height:50px;border-bottom:1px solid #fff;background-color:var(--v-secondary-base);color:#fff;display:flex;align-items:center;padding-left:18px;cursor:pointer}.drawer-list[data-v-bf4e6672]{height:calc(100% - 50px);display:flex;flex-direction:column;padding:20px 0}.drawer-list-item[data-v-bf4e6672]{padding:0 13px !important;justify-content:flex-start !important;color:#fff !important;flex:0;transition:.3s}.version-number[data-v-bf4e6672]{justify-content:flex-start;color:#fff !important;margin-bottom:-1rem;flex:0}.drawer-list-item-icon[data-v-bf4e6672]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.drawer-list-item-selected[data-v-bf4e6672]{background-color:var(--v-secondary-base)}.drawer-list-item[data-v-bf4e6672]:hover{background-color:var(--v-secondary-base)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/NavigationDrawer.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,mDAAA,CAEF,gCACE,UAAA,CACA,WAAA,CACA,4BAAA,CACA,wCAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAEF,8BACE,wBAAA,CACA,YAAA,CAEA,qBAAA,CACA,cAAA,CAEF,mCACE,yBAAA,CACA,qCAAA,CACA,qBAAA,CACA,MAAA,CACA,cAAA,CAEF,iCACE,0BAAA,CACA,qBAAA,CACA,mBAAA,CACA,MAAA,CAEF,wCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,4CACE,wCAAA,CAEF,yCACE,wCAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.drawer {\\n  background-color: var(--v-secondary-base) !important;\\n}\\n.drawer-header {\\n  width: 100%;\\n  height: 50px;\\n  border-bottom: 1px solid white;\\n  background-color: var(--v-secondary-base);\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  padding-left: 18px;\\n  cursor: pointer;\\n}\\n.drawer-list {\\n  height: calc(100% - 50px);\\n  display: flex;\\n\\n  flex-direction: column;\\n  padding: 20px 0;\\n}\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  color:white !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n.version-number {\\n  justify-content: flex-start ;\\n  color:white !important;\\n  margin-bottom:-1rem;\\n  flex: 0;\\n}\\n.drawer-list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n.drawer-list-item-selected {\\n  background-color: var(--v-secondary-base);\\n}\\n.drawer-list-item:hover {\\n  background-color: var(--v-secondary-base);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app-toolbar[data-v-31454615]{z-index:100;height:50px !important;display:flex;color:#2c3e4e !important;position:relative}.login[data-v-31454615]{padding-left:50px}.project-name[data-v-31454615]{font-size:1.3em}.app-name[data-v-31454615]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.copyright[data-v-31454615]{font-size:.9rem;padding-left:5px;padding-top:1rem;color:var(--v-secondarydark-base)}.languages-container[data-v-31454615]{display:flex}.switch[data-v-31454615]{display:flex;padding-top:1rem;padding-left:1rem;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer}.language[data-v-31454615]{width:50px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-31454615],.language[data-v-31454615]:hover{color:var(--v-secondarydark-base)}.language[data-v-31454615]:last-child{border-right:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/Toolbar.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,8BACE,WAAA,CACA,sBAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAEF,wBACE,iBAAA,CAEF,+BACE,eAAA,CAEF,2BACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,iCAAA,CAEF,sCACE,YAAA,CAEF,yBACE,YAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,aC5BkB,CD6BlB,cAAA,CAEF,2BACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aCpCkB,CDqClB,cAAA,CACA,cAAA,CAEF,mEACE,iCAAA,CAEF,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app-toolbar {\\n  z-index: 100;\\n  height: 50px !important;\\n  display: flex;\\n  color: $secondary !important;\\n  position: relative;\\n}\\n.login {\\n  padding-left: 50px;\\n}\\n.project-name {\\n  font-size: 1.3em;\\n}\\n.app-name {\\n  font-size: 1.2em;\\n  padding-left: 1.2rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.copyright {\\n  font-size: 0.9rem;\\n  padding-left: 5px;\\n  padding-top: 1rem;\\n  color:var(--v-secondarydark-base);\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.switch {\\n  display: flex;\\n  padding-top: 1rem;\\n  padding-left:1rem;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n}\\n.language {\\n  width: 50px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color:var(--v-secondarydark-base);\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".gradient[data-v-880a9ea2]{width:85%;white-space:nowrap;position:relative;display:inline-block;padding-top:20px;padding-bottom:15px}.gradient .domain-title[data-v-880a9ea2]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;top:6px}.gradient .domain-min[data-v-880a9ea2]{position:absolute;left:0;font-size:11px;bottom:5px}.gradient .domain-med[data-v-880a9ea2]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;bottom:5px}.gradient .domain-max[data-v-880a9ea2]{position:absolute;right:0;font-size:11px;bottom:5px}.grad-step[data-v-880a9ea2]{display:inline-block;height:20px;width:1%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/MapLegend.vue\"],\"names\":[],\"mappings\":\"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,OAAA,CAIJ,uCACI,iBAAA,CACA,MAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,OAAA,CACA,cAAA,CACA,UAAA,CAGJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.gradient {\\n    width: 85%;\\n    white-space: nowrap;\\n    position: relative;\\n    display: inline-block;\\n    padding-top: 20px;\\n    padding-bottom: 15px;\\n\\n}\\n\\n.gradient .domain-title {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    top: 6px;\\n\\n}\\n\\n.gradient .domain-min {\\n    position: absolute;\\n    left: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-med {\\n    position: absolute;\\n    right: 25%;\\n    left: 25%;\\n    text-align: center;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n.gradient .domain-max {\\n    position: absolute;\\n    right: 0;\\n    font-size: 11px;\\n    bottom: 5px;\\n}\\n\\n.grad-step {\\n    display: inline-block;\\n    height: 20px;\\n    width: 1%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map[data-v-e053904c]{max-width:100rem;height:30rem}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/utils/OSMImporter.vue\"],\"names\":[],\"mappings\":\"AAEA,sBACE,gBAAA,CACA,YAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map {\\n  max-width: 100rem;\\n  height: 30rem;\\n}\\n.dialog {\\n\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-d5dbe778]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;background-color:var(--v-background-base);justify-content:center;align-items:center}.layout-overlay[data-v-d5dbe778]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-d5dbe778]{width:calc(100% - 10em);height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-d5dbe778]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-d5dbe778]{font-size:2em;color:#2c3e4e !important;font-weight:bold;margin:40px}.card button[data-v-d5dbe778]{margin-top:40px}.animate-login[data-v-d5dbe778]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-d5dbe778]{opacity:0;transition:1s}.languages-container[data-v-d5dbe778]{display:flex}.language[data-v-d5dbe778]{border-right:1px solid #e3e3e3;padding-right:10px;padding-left:10px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-d5dbe778],.language[data-v-d5dbe778]:hover{color:#2c3e4e}.language[data-v-d5dbe778]:last-child{border-right:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/DataFrame.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,yCAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,uBAAA,CACA,uBAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA,CAEF,sCACE,YAAA,CAEF,2BACE,8BAAA,CACA,kBAAA,CACA,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aCpDkB,CDqDlB,cAAA,CACA,cAAA,CAEF,mEACE,aC9DkB,CDgEpB,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  background-color:  var(--v-background-base);\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width:  calc(100% - 10em);\\n  height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: $secondary !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.language {\\n  border-right: 1px solid $grey-light;\\n  padding-right:10px;\\n  padding-left:10px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color: $secondary;\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-view[data-v-181166e4]{height:calc(100% - 50px);width:100%;display:flex}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Home.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-0873e98b]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-0873e98b]{height:100%;width:100%;background-color:var(--v-background-base);position:absolute}.card[data-v-0873e98b]{width:500px;max-height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-0873e98b]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:var(--v-primary-base);font-weight:bold}.subtitle[data-v-0873e98b]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;margin:40px}.card button[data-v-0873e98b]{margin-top:40px}.animate-login[data-v-0873e98b]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-0873e98b]{opacity:0;transition:1s}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Import.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,yCAAA,CAEA,iBAAA,CAEF,uBACE,WAAA,CACA,2BAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,2BAAA,CAEA,gBAAA,CAEF,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color:var(--v-background-base);\\n\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  max-height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: var(--v-primary-base);\\n\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: var(--v-secondarydark-base) !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-view[data-v-f6bdcd8e]{height:calc(100% - 50px);width:100%;display:flex}.left-panel[data-v-f6bdcd8e]{height:100%;position:absolute}.legend-open[data-v-f6bdcd8e]{left:350px;width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-white-base);border:thin solid var(--v-mediumgrey-base)}.legend-close[data-v-f6bdcd8e]{left:50px;width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-lightgrey);border:thin solid #c4c4c4}.hist[data-v-f6bdcd8e]{position:relative;bottom:-10px;flex-grow:1;height:20px;background-color:#e71111;text-align:center;width:10px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultMap.vue\"],\"names\":[],\"mappings\":\"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA,CAGF,6BACE,WAAA,CACA,iBAAA,CAGF,8BACE,UAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,oCAAA,CACA,0CAAA,CAEF,+BACE,SAAA,CACA,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,mCAAA,CACA,yBAAA,CAGF,uBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.map-view {\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n\\n}\\n.left-panel {\\n  height: 100%;\\n  position: absolute;\\n\\n}\\n.legend-open {\\n  left: 350px;\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-white-base);\\n  border: thin solid var(--v-mediumgrey-base);\\n}\\n.legend-close {\\n  left: 50px;\\n  width: 160px;\\n  z-index: 3;\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  justify-content: center;\\n  transition: 0.3s;\\n  height: 50px;\\n  background-color: var(--v-lightgrey);\\n  border: thin solid rgb(196, 196, 196);\\n}\\n\\n.hist {\\n  position: relative;\\n  bottom: -10px;\\n  flex-grow: 1;\\n  height: 20px;\\n  background-color: rgba(231, 17, 17);\\n  text-align: center;\\n  width:10px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-8cd52e36]{position:absolute;height:100%;width:100%;margin:20px;padding:100px;display:flex;align-items:center;flex-direction:column;overflow-y:scroll}.card[data-v-8cd52e36]{max-height:100%;padding:100px;margin:50px}.image-fit[data-v-8cd52e36]{height:100%;width:100%;object-fit:cover}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultPicture.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,WAAA,CACA,UAAA,CACA,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,qBAAA,CACA,iBAAA,CAEF,uBACE,eAAA,CACA,aAAA,CACA,WAAA,CAEF,4BACE,WAAA,CACA,UAAA,CACA,gBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  height:100%;\\n  width: calc(100%);\\n  margin:20px;\\n  padding: 100px;\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  overflow-y: scroll;\\n}\\n.card {\\n  max-height: 100%;\\n  padding: 100px;\\n  margin: 50px;\\n}\\n.image-fit{\\n  height: 100%;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    links: {},\n    editorTrip: null,\n    editorNodes: {},\n    editorLinks: {},\n    editorLineInfo: {},\n    nodes: {},\n    nodesHeader: {},\n    linksHeader: {},\n    tripId: [],\n    selectedTrips: [],\n    newLink: {},\n    newNode: {},\n    changeBounds: true,\n    linkSpeed: 20, // 20KmH for time (speed/distance)\n    linksDefaultColor: '2196F3',\n    lineAttributes: [],\n    nodeAttributes: [],\n    defaultAttributes: [\n      { name: 'index', type: 'String' },\n      { name: 'a', type: 'String' },\n      { name: 'b', type: 'String' },\n      { name: 'trip_id', type: 'String' },\n      { name: 'route_id', type: 'String' },\n      { name: 'agency_id', type: 'String' },\n      { name: 'route_long_name', type: 'String' },\n      { name: 'route_short_name', type: 'String' },\n      { name: 'route_type', type: 'String' },\n      { name: 'route_color', type: 'String' },\n      { name: 'length', type: 'Number' }, // float\n      { name: 'time', type: 'Number' }, // float\n      { name: 'headway', type: 'Number' }, // float\n      { name: 'route_width', type: 'Number' }, // float\n      { name: 'pickup_type', type: 'Number' }, // float\n      { name: 'drop_off_type', type: 'Number' }, // int\n      { name: 'link_sequence', type: 'Number' }, // int\n      { name: 'direction_id', type: 'Number' }, // int\n    ],\n  },\n\n  mutations: {\n    loadLinks (state, payload) {\n      state.links = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n\n        state.editorLinks = linksHeader\n        // limit geometry precision to 6 digit\n        state.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('applyPropertiesTypes')\n        this.commit('getTripId')\n        // set all trips visible\n        this.commit('changeSelectedTrips', state.tripId)\n\n        this.commit('getLinksProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadNodes (state, payload) {\n      state.nodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.nodes.crs.properties.name)) {\n        const nodesHeader = { ...state.nodes }\n        nodesHeader.features = []\n        state.nodesHeader = nodesHeader\n        state.editorNodes = nodesHeader\n        // limit geometry precision to 6 digit\n        state.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    unloadFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.links.features = []\n      state.nodes.features = []\n      state.editorTrip = null\n      state.tripId = []\n      state.selectedTrips = []\n    },\n\n    getLinksProperties (state) {\n      let header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = state.defaultAttributes.map(attr => attr.name)\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.lineAttributes = header\n    },\n    getNodesProperties (state) {\n      let header = new Set([])\n      state.nodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index',\n        'stop_code',\n        'stop_name']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.nodeAttributes = header\n    },\n\n    addPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'links') {\n        state.links.features.map(link => link.properties[payload.name] = null)\n        state.lineAttributes.push(payload.name)\n      } else {\n        state.nodes.features.map(node => node.properties[payload.name] = null)\n      }\n    },\n    changeSelectedTrips (state, payload) {\n      // trips list of visible trip_id.\n      state.selectedTrips = payload\n    },\n\n    setEditorTrip (state, payload) {\n      // set Trip Id\n      state.editorTrip = payload.tripId\n      state.changeBounds = payload.changeBounds\n      // set editor links corresponding to trip id\n      // var filtered = {...state.links}\n      const filtered = JSON.parse(JSON.stringify(state.links))\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      state.editorLinks = filtered\n      // get the corresponding nodes\n      this.commit('getEditorNodes', { nodes: state.nodes })\n      this.commit('getEditorLineInfo')\n    },\n\n    cloneTrip (state, payload) {\n      // clone and reversed a trip.\n      const cloned = structuredClone(state.links)\n      cloned.features = cloned.features.filter(link => link.properties.trip_id === payload.tripId)\n\n      let linkSequence = cloned.features.length\n      for (const link of cloned.features) {\n        link.properties.trip_id = payload.name\n        // mettre dans l'autre sens  inverser 0 et 1 et leur coordones\n        link.geometry.coordinates.reverse()//\n        // inverser node a et b (proprits)\n        link.properties.a = [link.properties.b, link.properties.b = link.properties.a][0]\n        // changer le link-sequence de tous les objets\n        link.properties.link_sequence = linkSequence\n        linkSequence -= 1\n        // changer la direction\n        if (link.properties.direction_id === 0) {\n          link.properties.direction_id = 1\n        } else {\n          link.properties.direction_id = 0\n        }\n        // changer nom de l'index\n        link.properties.index = 'link_' + short.generate()\n      }\n      // inverser l'ordre des features\n      cloned.features.reverse()\n      state.links.features.push(...cloned.features)\n      this.commit('getTripId')\n    },\n    getEditorNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      const a = state.editorLinks.features.map(item => item.properties.a)\n      const b = state.editorLinks.features.map(item => item.properties.b)\n      const editorNodesList = new Set([...a, ...b])\n      // set nodes corresponding to trip id\n      const filtered = JSON.parse(JSON.stringify(payload.nodes))\n      filtered.features = filtered.features.filter(node => editorNodesList.has(node.properties.index))\n      state.editorNodes = filtered\n    },\n\n    getEditorLineInfo (state) {\n      const form = {}\n      const uneditable = ['index', 'length', 'a', 'b', 'link_sequence']\n      // empty trip, when its a newLine\n      if (state.editorLinks.features.length === 0) {\n        const defaultValue = {\n          route_id: 'Q1',\n          agency_id: 'QUENEDI',\n          route_long_name: 'QUENEDI 1',\n          route_short_name: 'Q1',\n          route_type: 'quenedi',\n          route_color: state.linksDefaultColor,\n          route_width: 3,\n          headway: 600,\n          pickup_type: 0,\n          drop_off_type: 0,\n          direction_id: 0,\n        }\n\n        state.lineAttributes.forEach(key => {\n          form[key] = {\n            value: defaultValue[key],\n            disabled: uneditable.includes(key),\n            placeholder: false,\n          }\n        })\n\n        form.trip_id = { value: state.editorTrip, disabled: false, placeholder: false }\n      } else {\n        const features = state.editorLinks.features\n\n        state.lineAttributes.forEach(key => {\n          const val = new Set(features.map(link => link.properties[key]))\n          form[key] = {\n            value: val.size > 1 ? '' : [...val][0],\n            disabled: uneditable.includes(key),\n            placeholder: val.size > 1,\n          }\n        })\n      }\n      state.editorLineInfo = form\n    },\n\n    getTripId (state) {\n      state.tripId = Array.from(new Set(state.links.features.map(item => item.properties.trip_id)))\n    },\n\n    setNewLink (state, payload) {\n      // copy editor links geoJSON, only take first (or last) link.\n      // delete some properties like id and index.\n      const uncopiedPropeties = {\n        index: null,\n        length: null,\n        time: null,\n        pickup_type: 0,\n        drop_off_type: 0,\n      }\n      // create link\n      const tempLink = structuredClone(state.editorLinks)\n      // if there is no link to copy, create one. (new Line)\n      if (tempLink.features.length === 0) {\n        // copy Line properties.\n        const linkProperties = {}\n        Object.keys(state.editorLineInfo).forEach((key) => {\n          linkProperties[key] = state.editorLineInfo[key].value\n        })\n        // set default links values\n        const defaultValue = {\n          index: 'link_' + short.generate(),\n          a: state.editorNodes.features[0].properties.index,\n          b: state.editorNodes.features[0].properties.index,\n          length: null,\n          time: null,\n          pickup_type: 0,\n          drop_off_type: 0,\n          link_sequence: 0,\n        }\n        Object.keys(defaultValue).forEach((key) => {\n          linkProperties[key] = defaultValue[key]\n        })\n\n        const linkGeometry = {\n          coordinates: [state.editorNodes.features[0].geometry.coordinates,\n            state.editorNodes.features[0].geometry.coordinates],\n          type: 'LineString',\n        }\n        const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n        tempLink.features = [linkFeature]\n      }\n\n      if (payload.action === 'Extend Line Upward') {\n        // Take last link and copy properties\n        // eslint-disable-next-line no-var\n        var features = tempLink.features[tempLink.features.length - 1]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence +1\n        features.properties.link_sequence = features.properties.link_sequence + 1\n        // replace node a by b and delete node a\n        features.properties.a = features.properties.b\n        features.geometry.coordinates[0] = features.geometry.coordinates.slice(-1)[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.a\n        this.commit('setNewNode', payload)\n\n        features.properties.b = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      } else if (payload.action === 'Extend Line Downward') {\n        // Take first link and copy properties\n        // eslint-disable-next-line no-var, no-redeclare\n        var features = tempLink.features[0]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence + 1\n        features.properties.link_sequence = features.properties.link_sequence - 1\n        //  replace node b by a and delete node b\n        features.properties.b = features.properties.a\n        features.geometry.coordinates[1] = features.geometry.coordinates[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.b\n        this.commit('setNewNode', payload)\n        features.properties.a = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      }\n      tempLink.features = [features]\n      state.newLink = tempLink\n      state.newLink.action = payload.action\n    },\n    createNewNode (state, payload) {\n      const nodeProperties = {}\n      state.nodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'node_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified nodenewNode\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      state.editorNodes.features = [nodeFeatures]\n    },\n\n    setNewNode (state, payload) {\n      const { coordinates = [null, null] } = payload\n      const uncopiedPropeties = {}\n      state.nodeAttributes.forEach(key => {\n        uncopiedPropeties[key] = null\n      })\n      // Copy specified node\n      const tempNode = JSON.parse(JSON.stringify(state.editorNodes))\n      const features = tempNode.features.filter(node => node.properties.index === payload.nodeCopyId)[0]\n      Object.assign(features.properties, uncopiedPropeties)\n      features.properties.index = 'node_' + short.generate()\n      features.geometry.coordinates = coordinates\n      tempNode.features = [features]\n      state.newNode = tempNode\n    },\n\n    editNewLink (state, payload) {\n      // for realtime viz. this method change the linestring to the payload (mouse position)\n      // for some reason, it doesnt work when i only apply payload to coordinates[1]\n      state.newNode.features[0].geometry.coordinates = payload\n      if (state.newLink.action === 'Extend Line Upward') {\n        state.newLink.features[0].geometry.coordinates = [state.newLink.features[0].geometry.coordinates[0], payload]\n      } else {\n        state.newLink.features[0].geometry.coordinates = [payload, state.newLink.features[0].geometry.coordinates[1]]\n      }\n    },\n\n    applyNewLink (state, payload) {\n      // nodeId: this.selectedNodeId, geom: pointGeom, action: Extend Line Upward\n      // get linestring length in km\n      this.commit('setNewLink', { action: payload.action })\n      this.commit('editNewLink', payload.geom)\n\n      const distance = length(state.newLink)\n      state.newLink.features[0].properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n\n      state.newLink.features[0].properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n\n      const action = state.newLink.action\n      if (action === 'Extend Line Upward') {\n        state.editorLinks.features.push(state.newLink.features[0])\n        state.editorNodes.features.push(state.newNode.features[0])\n      } else if (action === 'Extend Line Downward') {\n        state.editorLinks.features.splice(0, 0, state.newLink.features[0])\n        state.editorNodes.features.splice(0, 0, state.newNode.features[0])\n        state.editorLinks.features.forEach(link => link.properties.link_sequence += 1)\n      }\n    },\n\n    deleteNode (state, payload) {\n      const nodeIndex = payload.selectedNode.index\n      // remove node\n      state.editorNodes.features = state.editorNodes.features.filter(node => node.properties.index !== nodeIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0] // link is extented\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0] // link is deleted\n      // if the last or first node is selected, there is only one link. The node and the link are deleted.\n      if (!link1) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n        // a link was remove, link_sequence -1\n        state.editorLinks.features.forEach(link => link.properties.link_sequence -= 1)\n      } else if (!link2) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link1.properties.index)\n        // the node is inbetween 2 links. 1 link is deleted, and the other is extented.\n      } else {\n        link1.geometry.coordinates = [\n          ...link1.geometry.coordinates.slice(0, -1),\n          ...link2.geometry.coordinates.slice(1)]\n        link1.properties.b = link2.properties.b\n        link1.properties.length += link2.properties.length\n        link1.properties.time += link2.properties.time\n        // find removed link index. drop everylinks link_sequence after by 1\n        const featureIndex = state.editorLinks.features.findIndex(\n          link => link.properties.index === link2.properties.index)\n        state.editorLinks.features.slice(featureIndex).forEach(\n          link => link.properties.link_sequence -= 1)\n        // delete link2\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n      }\n    },\n\n    splitLink (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features[featureIndex] // this link is extented\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'link_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.editorLinks.features.splice(featureIndex + 1, 0, link2)\n      state.editorNodes.features.push(state.newNode.features[0])\n\n      // add +1 to every link sequence afer link1\n      const seq = link1.properties.link_sequence\n      // everything after link1 except link2\n      state.editorLinks.features.filter(link => link.properties.link_sequence > seq).forEach(\n        link => link.properties.link_sequence += 1)\n      // add link2 sequence after.\n      link2.properties.link_sequence += 1\n    },\n\n    addNodeInline (state, payload) {\n      // payload contain selectedLink and event.lngLat (clicked point)\n      let linkGeom = state.editorLinks.features.filter((link) => link.properties.index === payload.selectedLink.index)\n      const nodeCopyId = linkGeom[0].properties.a\n      linkGeom = Linestring(linkGeom[0].geometry.coordinates)\n      const clickedPoint = Point(Object.values(payload.lngLat))\n      const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n      const dist = length(linkGeom, { units: 'kilometers' }) // dist\n      // for multiString, gives the index of the closest one, add +1 for the slice.\n      const sliceIndex = snapped.properties.index + 1\n      const offset = snapped.properties.location / dist\n      if (payload.nodes === 'editorNodes') {\n        this.commit('setNewNode', { coordinates: snapped.geometry.coordinates, nodeCopyId: nodeCopyId })\n        this.commit('splitLink', { selectedLink: payload.selectedLink, offset: offset, sliceIndex: sliceIndex })\n      // Anchor Nodes\n      } else {\n        this.commit('addAnchorNode', {\n          selectedLink: payload.selectedLink,\n          coordinates: snapped.geometry.coordinates,\n          sliceIndex: sliceIndex,\n        })\n      }\n\n      // this.commit('setNewNode', null) // init new node to null\n    },\n    addAnchorNode (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change editorLinks as it is an observer.\n      const link = state.editorLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    deleteAnchorNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    moveAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n\n    moveNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.editorNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0]\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0]\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      if (link1) {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link1.geometry.coordinates = [...link1.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link1)\n        link1.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link1.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n      if (link2) {\n        link2.geometry.coordinates = [payload.lngLat, ...link2.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link2)\n        link2.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link2.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n    },\n\n    cutLineFromNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.b === nodeId) {\n          toDelete = state.editorLinks.features.slice(i + 1)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    cutLineAtNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.a === nodeId) {\n          toDelete = state.editorLinks.features.slice(0, i)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    editLineInfo (state, payload) {\n      state.editorLineInfo = payload\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(payload).filter(key =>\n        ((payload[key].value !== '') || !payload[key].placeholder) && (!payload[key].disabled))\n      // add new line info to each links of each trips.\n      state.editorLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = payload[key].value))\n    },\n\n    editLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      const props = Object.keys(info)\n      state.editorLinks.features.filter(\n        function (link) {\n          if (link.properties.index === selectedLinkId) {\n            props.forEach((key) => link.properties[key] = info[key].value)\n          }\n        },\n      )\n      this.commit('getEditorLineInfo')\n    },\n\n    editNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.editorNodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    appendNewLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      payload.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n      // state.links.features.push(...payload.links.features) will crash with large array (stack size limit)\n      payload.links.features.forEach(link => state.links.features.push(link))\n      payload.nodes.features.forEach(node => state.nodes.features.push(node))\n      this.commit('applyPropertiesTypes')\n      this.commit('getLinksProperties')\n      this.commit('getNodesProperties')\n      this.commit('getTripId')\n      this.commit('changeSelectedTrips', state.tripId)\n    },\n\n    editGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const editorGroupInfo = payload.info\n      const groupTripIds = payload.groupTripIds\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(editorGroupInfo).filter(key =>\n        ((editorGroupInfo[key].value !== '') || !editorGroupInfo[key].placeholder))\n      // add new line info to each links of each trips.\n      const tempLinks = state.links.features.filter(link => groupTripIds.includes(link.properties.trip_id))\n      tempLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = editorGroupInfo[key].value))\n      // get tripId list\n      this.commit('getTripId')\n    },\n    deleteUnusedNodes (state) {\n      // delete every every nodes not in links\n      const a = state.links.features.map(item => item.properties.a)\n      const b = state.links.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.nodes.features = state.nodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    confirmChanges (state) { // apply change to Links\n      const filtered = { ...state.links }\n\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      const toDelete = filtered.features.filter(item => !state.editorLinks.features.includes(item))\n      // find index of soon to be deleted links\n      if (state.tripId.includes(state.editorTrip)) {\n        // eslint-disable-next-line no-var\n        var index = state.links.features.findIndex(link => link.properties.trip_id === state.editorTrip)\n      } else {\n        // eslint-disable-next-line no-var, no-redeclare\n        var index = 0\n      }\n      // delete links that were edited.\n      state.links.features = state.links.features.filter(item => !toDelete.includes(item))\n      // add edited links to links.\n\n      state.links.features.splice(index, 0, ...state.editorLinks.features)\n      // all new nodes.\n      const nodesList = state.nodes.features.map(item => item.properties.index)\n      const newNodes = { ...state.editorNodes }\n      newNodes.features = newNodes.features.filter(node => !nodesList.includes(node.properties.index))\n      state.nodes.features.push(...newNodes.features)\n\n      // for each editor nodes, apply new properties.\n      state.nodes.features.filter(\n        function (node) {\n          state.editorNodes.features.forEach(\n            function (eNode) {\n              if (node.properties.index === eNode.properties.index) {\n                node.properties = eNode.properties\n                node.geometry = eNode.geometry\n              }\n            })\n        })\n\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n\n      // For every Links containing an editor Nodes. update Geometry.\n      // (this is necessary when we move a node that is share between multiplde lines)\n      // get a list of all links (excluding editorLinks) that contain the selected node\n      const editorNodesList = new Set(state.editorNodes.features.map(item => item.properties.index))\n      // get list of link with a node A modifieed\n      const linksA = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.a))\n      // apply new node geometry\n      linksA.forEach(link => link.geometry.coordinates = [\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.a)[0].geometry.coordinates,\n        ...link.geometry.coordinates.slice(1),\n      ])\n      // same for nodes b\n      const linksB = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.b))\n      linksB.forEach(link => link.geometry.coordinates = [\n        ...link.geometry.coordinates.slice(0, -1),\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.b)[0].geometry.coordinates,\n      ])\n\n      state.newLink = {}\n      state.newNode = {}\n\n      // get tripId list\n      this.commit('getTripId')\n      this.commit('getLinksProperties')\n    },\n\n    deleteTrip (state, payload) {\n      // payload = a single trip_id or a list or trips_id\n      // if its a list : delete all of them. else: delete single trip\n      if (typeof payload === 'object') {\n        state.links.features = state.links.features.filter(link => !payload.includes(link.properties.trip_id))\n      } else {\n        state.links.features = state.links.features.filter(link => link.properties.trip_id !== payload)\n      }\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n      // get tripId list\n      this.commit('getTripId')\n    },\n    applyPropertiesTypes (state) {\n      state.defaultAttributes.forEach(attr => {\n        if (attr.type === 'String') {\n          state.links.features.forEach(link => link.properties[attr.name] = String(link.properties[attr.name]))\n        } else if (attr.type === 'Number') {\n          state.links.features.forEach(link => link.properties[attr.name] = Number(link.properties[attr.name]))\n        }\n      })\n    },\n  },\n\n  getters: {\n    links: (state) => state.links,\n    nodes: (state) => state.nodes,\n    linkSpeed: (state) => state.linkSpeed,\n    linksIsEmpty: (state) => state.links.features.length === 0,\n    route_id: (state) => state.route_id,\n    editorTrip: (state) => state.editorTrip,\n    editorLinks: (state) => state.editorLinks,\n    editorNodes: (state) => state.editorNodes,\n    tripId: (state) => state.tripId,\n    selectedTrips: (state) => state.selectedTrips,\n    editorLineInfo: (state) => state.editorLineInfo,\n    newLink: (state) => state.newLink,\n    newNode: (state) => state.newNode,\n    firstNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features[0].properties.a\n      : state.editorNodes.features[0].properties.index,\n    lastNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features.slice(-1)[0].properties.b\n      : state.editorNodes.features[0].properties.index,\n    firstNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.firstNodeId)[0]\n      : null,\n    lastNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.lastNodeId)[0]\n      : null,\n    lineAttributes: (state) => state.lineAttributes,\n    nodeAttributes: (state) => state.nodeAttributes,\n    changeBounds: (state) => state.changeBounds,\n    nodesHeader: (state) => state.nodesHeader,\n    linksHeader: (state) => state.linksHeader,\n    anchorNodes: (state) => {\n      const nodes = structuredClone(state.nodesHeader)\n      state.editorLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push({\n              properties: { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n              geometry: { coordinates: point, type: 'Point' },\n            }),\n          )\n        },\n      )\n\n      return nodes\n    },\n    // this return the attribute type, of undefined.\n    attributeType: (state) => (name) => state.defaultAttributes.filter(attr => attr.name === name)[0]?.type,\n  },\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    rlinks: {},\n    rnodes: {},\n    rlinksHeader: {},\n    rnodesHeader: {},\n    selectedrFilter: '',\n    selectedrGroup: [],\n    filteredrCategory: [],\n    rlineAttributes: [],\n    rnodeAttributes: [],\n    newrNode: {},\n    visiblerLinks: {},\n    visiblerNodes: {},\n    connectedLinks: [],\n    defaultHighway: 'quenedi',\n    roadSpeed: 20,\n    rlinksDefaultColor: '2196F3',\n  },\n\n  mutations: {\n    loadrLinks (state, payload) {\n      state.rlinks = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rlinks.crs.properties.name)) {\n        const rlinksHeader = { ...state.rlinks }\n        rlinksHeader.features = []\n        state.rlinksHeader = rlinksHeader\n        state.visiblerLinks = structuredClone(rlinksHeader)\n        // limit geometry precision to 6 digit\n        state.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('getrLinksProperties')\n        // set all trips visible\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadrNodes (state, payload) {\n      state.rnodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rnodes.crs.properties.name)) {\n        const rnodesHeader = { ...state.rnodes }\n        rnodesHeader.features = []\n        state.rnodesHeader = rnodesHeader\n        state.visiblerNodes = structuredClone(rnodesHeader)\n        // limit geometry precision to 6 digit\n        state.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getrNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    appendNewrLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      payload.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n      // state.rlinks.features.push(...payload.rlinks.features) will crash with large array (stack size limit)\n      payload.rlinks.features.forEach(link => state.rlinks.features.push(link))\n      payload.rnodes.features.forEach(node => state.rnodes.features.push(node))\n      this.commit('getrLinksProperties')\n      this.commit('getrNodesProperties')\n      this.commit('getFilteredrCat')\n      // state.selectedrGroup = Array.from(new Set(state.rlinks.features.map(\n      //  item => item.properties[this.selectedrFilter])))\n      // state.visiblerLinks = state.rlinks\n      // state.visiblerNodes = state.rnodes\n    },\n    unloadrFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.rlinks.features = []\n      state.rnodes.features = []\n      state.visiblerLinks.feaures = []\n      state.visiblerNodes.feaures = []\n      state.selectedrGroup = []\n    },\n    getrLinksProperties (state) {\n      let header = new Set([])\n      state.rlinks.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = [\n        'index', 'a', 'b', 'route_color']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rlineAttributes = header\n\n      if (header.includes('highway')) {\n        state.selectedrFilter = 'highway'\n      } else {\n        state.selectedrFilter = header[0]\n      }\n    },\n    getrNodesProperties (state) {\n      let header = new Set([])\n      state.rnodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rnodeAttributes = header\n    },\n    changeSelectedrFilter (state, payload) {\n      state.selectedrFilter = payload\n      this.commit('getFilteredrCat')\n    },\n    getFilteredrCat (state) {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(state.rlinks.features.map(\n        item => item.properties[state.selectedrFilter])))\n      state.filteredrCategory = val\n    },\n\n    changeVisibleRoads (state, payload) {\n      // trips list of visible trip_id.\n      const method = payload.method\n      const data = payload.data\n      const cat = payload.category\n      state.selectedrFilter = cat\n      let tempLinks = null\n      switch (method) {\n        case 'showAll':\n          state.selectedrGroup = data\n          // need to slice. so it doest change if we append to rlinks.\n          state.visiblerLinks.features = state.rlinks.features.slice()\n          break\n        case 'hideAll':\n          state.selectedrGroup = data\n          state.visiblerLinks.features = []\n          break\n        case 'add':\n          if (!state.selectedrGroup.includes(data[0])) {\n            state.selectedrGroup.push(data[0])\n          }\n          tempLinks = state.rlinks.features.filter(\n            link => link.properties[cat] === data[0])\n          state.visiblerLinks.features.push(...tempLinks)\n          break\n        case 'remove':\n          state.selectedrGroup = state.selectedrGroup.filter(el => el !== data[0])\n          tempLinks = new Set(state.visiblerLinks.features.filter(\n            link => link.properties[cat] === data[0]))\n          state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !tempLinks.has(link))\n          break\n      }\n      this.commit('getVisiblerNodes', { method: method })\n    },\n\n    refreshVisibleRoads (state) {\n      const group = new Set(state.selectedrGroup)\n      const cat = state.selectedrFilter\n      state.visiblerLinks.features = state.rlinks.features.filter(link => group.has(link.properties[cat]))\n      this.commit('getVisiblerNodes', { method: 'add' })\n      // when we rename a group (highway => test), are rename many group.\n      // remove nonexistant group in the selected group.\n      const possibleGroups = new Set(state.visiblerLinks.features.map(\n        item => item.properties[cat]))\n      state.selectedrGroup = [...possibleGroups].filter(x => group.has(x))\n    },\n    getVisiblerNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      let a = []\n      let b = []\n      let rNodesList = []\n      switch (payload.method) {\n        case 'showAll':\n          state.visiblerNodes.features = state.rnodes.features\n          break\n        case 'hideAll':\n          state.visiblerNodes.features = []\n          break\n        case 'add':\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use rnodes as they are new to visiblerNodes\n          state.visiblerNodes.features = state.rnodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        case 'remove' :\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use visibleRnodes, as they are already inside of it.\n          state.visiblerNodes.features = state.visiblerNodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        // case 'refresh'\n      }\n    },\n\n    editrLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      for (let i = 0; i < selectedLinkId.length; i++) {\n        const props = Object.keys(info[i])\n        state.rlinks.features.filter(\n          function (link) {\n            if (link.properties.index === selectedLinkId[i]) {\n              props.forEach((key) => link.properties[key] = info[i][key].value)\n            }\n          },\n        )\n      }\n\n      this.commit('getEditorLineInfo')\n    },\n\n    editrNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.rnodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    createNewrNode (state, payload) {\n      const newNode = structuredClone(state.rnodesHeader)\n      const nodeProperties = {}\n      state.rnodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'rnode_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified node\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      newNode.features = [nodeFeatures]\n      state.newrNode = newNode\n    },\n    splitrLink (state, payload) {\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = payload.selectedFeature\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newrNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newrNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newrNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newrNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'rlink_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.visiblerLinks.features.push(link2)\n      // update actual rlinks and rnodes\n      state.rlinks.features.filter((link) => link.properties.index === link1.properties.index)[0] = link1\n      state.rlinks.features.push(link2)\n    },\n\n    addRoadNodeInline (state, payload) {\n      // selectedLink : list of links index\n      // lngLat : object wit click geometry\n      // nodes : str. name of node to add (rnode, anchorrNodeS)\n      const selectedFeatures = state.visiblerLinks.features\n        .filter((link) => payload.selectedIndex.includes(link.properties.index))\n      // for loop. for each selectedc links add the node and split.\n      for (let i = 0; i < selectedFeatures.length; i++) {\n        const linkGeom = Linestring(selectedFeatures[i].geometry.coordinates)\n        const clickedPoint = Point(Object.values(payload.lngLat))\n        const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n        const dist = length(linkGeom, { units: 'kilometers' }) // dist\n        // for multiString, gives the index of the closest one, add +1 for the slice.\n        const sliceIndex = snapped.properties.index + 1\n        const offset = snapped.properties.location / dist\n        if (payload.nodes === 'rnodes') {\n          // only add one node, takes the first one.\n          if (i === 0) {\n            this.commit('createNewrNode', snapped.geometry.coordinates)\n            state.visiblerNodes.features.push(state.newrNode.features[0])\n            state.rnodes.features.push(state.newrNode.features[0])\n          }\n          this.commit('splitrLink', { selectedFeature: selectedFeatures[i], offset: offset, sliceIndex: sliceIndex })\n\n        // Anchor Nodes\n        } else {\n          this.commit('addAnchorrNode', {\n            selectedLink: selectedFeatures[i],\n            coordinates: snapped.geometry.coordinates,\n            sliceIndex: sliceIndex,\n          })\n        }\n      }\n    },\n    addAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedLink.properties.index\n      const featureIndex = state.visiblerLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change visible rLinks as it is an observer.\n      const link = state.visiblerLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    createrLink (state, payload) {\n      // nodeIdA: node id, nodeIdB: node id, geom: array geom where we clicked, layerId: str. the layer id rnodes, rlinks\n      // 3 cases.\n      // 1) click on the map. create a node b then connect.\n      // 2) click on a node. create a link between node a and b\n      // 3) click on a link. create node inline b then create link a to b.\n      // create a node if we click on the map (case 1)\n      if (!payload.nodeIdB) {\n        this.commit('createNewrNode', payload.geom)\n        state.visiblerNodes.features.push(state.newrNode.features[0])\n        state.rnodes.features.push(state.newrNode.features[0])\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      } else if (payload.layerId === 'rlinks') {\n        // create a node inline and then the new link\n        this.commit('addRoadNodeInline', { selectedIndex: payload.nodeIdB, lngLat: payload.geom, nodes: 'rnodes' })\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      }\n      const rnodeA = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdA)[0]\n      const rnodeB = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdB)[0]\n\n      const linkGeometry = {\n        coordinates: [rnodeA.geometry.coordinates, rnodeB.geometry.coordinates],\n        type: 'LineString',\n      }\n\n      const linkProperties = {}\n      // set default links values\n      state.rlineAttributes.forEach((key) => linkProperties[key] = null)\n      linkProperties.index = 'rlink_' + short.generate()\n      linkProperties.a = payload.nodeIdA\n      linkProperties.b = payload.nodeIdB\n      linkProperties.highway = state.defaultHighway // quenedi\n      if (state.rlineAttributes.includes('oneway')) { linkProperties.oneway = 1 }\n      linkProperties.route_color = state.rlinksDefaultColor\n      // add length, speed, time now that we have a geometry.\n      const distance = length(linkGeometry)\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      linkProperties.length = Number((distance * 1000).toFixed(0)) // metres\n      linkProperties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      linkProperties.speed = Number(state.roadSpeed) // rounded to 0 decimals\n\n      const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n      state.rlinks.features.push(linkFeature)\n\n      // add newly generated group (i.e. highway == quenedi), to visibles checked groups.\n      const newLinkGroup = linkProperties[state.selectedrFilter]\n      if (!state.filteredrCategory.includes(newLinkGroup)) {\n        state.filteredrCategory.push(newLinkGroup)\n      }\n      if (!state.selectedrGroup.includes(newLinkGroup)) {\n        // if its not already selected, push it.\n        state.selectedrGroup.push(newLinkGroup)\n      } else {\n        state.visiblerLinks.features.push(linkFeature)\n      }\n    },\n\n    getConnectedLinks (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // get links connected to the node\n      // use rLinks as we could moidified links that are not visible moving a node.\n      state.connectedLinks = {\n        b: state.rlinks.features.filter(link => link.properties.b === nodeIndex),\n        a: state.rlinks.features.filter(link => link.properties.a === nodeIndex),\n      }\n    },\n    moverNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.visiblerNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      state.connectedLinks.b.forEach(link => {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link.geometry.coordinates = [...link.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      })\n      state.connectedLinks.a.forEach(link => {\n        link.geometry.coordinates = [payload.lngLat, ...link.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      })\n    },\n    moverAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n    deleteAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    deleterLink (state, payload) {\n      const linkArr = new Set(payload.selectedIndex)\n      state.rlinks.features = state.rlinks.features.filter(link => !linkArr.has(link.properties.index))\n      state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !linkArr.has(link.properties.index))\n      this.commit('getVisiblerNodes', { method: 'remove' })\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleterGroup (state, payload) {\n      const group = payload\n      const cat = state.selectedrFilter\n      state.rlinks.features = state.rlinks.features.filter(link => link.properties[cat] !== group)\n      this.commit('refreshVisibleRoads')\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleteUnusedrNodes (state) {\n      // delete every every nodes not in links\n      const a = state.rlinks.features.map(item => item.properties.a)\n      const b = state.rlinks.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.rnodes.features = state.rnodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    editrGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      const selectedLinks = payload.selectedLinks // observer of state.links\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      selectedLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('refreshVisibleRoads')\n      this.commit('getFilteredrCat')\n    },\n    editrVisiblesInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      state.visiblerLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('refreshVisibleRoads')\n      this.commit('getFilteredrCat')\n    },\n\n  },\n\n  getters: {\n    rlinks: (state) => state.rlinks,\n    rnodes: (state) => state.rnodes,\n    roadSpeed: (state) => state.roadSpeed,\n    rlinksHeader: (state) => state.rlinksHeader,\n    rnodesHeader: (state) => state.rnodesHeader,\n    rlineAttributes: (state) => state.rlineAttributes,\n    selectedrGroup: (state) => state.selectedrGroup,\n    selectedrFilter: (state) => state.selectedrFilter,\n    filteredrCategory: (state) => state.filteredrCategory,\n    visiblerLinks: (state) => state.visiblerLinks,\n    visiblerNodes: (state) => state.visiblerNodes,\n    defaultHighway: (state) => state.defaultHighway,\n    rlinksIsEmpty: (state) => state.rlinks.features.length === 0,\n\n    newrNode: (state) => state.newrNode,\n    anchorrNodes: (state) => (renderedLinks) => {\n      const nodes = structuredClone(state.rnodesHeader)\n      renderedLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push(Point(\n              point,\n              { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n            ),\n            ),\n\n          )\n        },\n      )\n\n      return nodes\n    },\n    grouprLinks: (state) => (category, group) => {\n      return state.rlinks.features.filter(link => group === link.properties[category])\n    },\n    rlinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.rlineAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\n\nimport chroma from 'chroma-js'\n\nfunction remap (val, minVal, maxVal, reverse, scale) {\n  let res = 0\n  if (reverse) {\n    res = (-val + maxVal) / (maxVal - minVal)\n  } else {\n    res = (val - minVal) / (maxVal - minVal)\n  }\n  if (scale === 'sqrt') {\n    res = Math.sqrt(res)\n  } else if (scale === 'log') {\n    res = res >= 0 ? Math.log10(10 * res) : 0\n  }\n  return res\n}\nexport default {\n  namespaced: true,\n  state: {\n    type: 'links',\n    links: {},\n    visibleLinks: {},\n    linksHeader: {},\n    lineAttributes: [],\n    selectedFilter: '',\n    selectedCategory: [],\n    displaySettings: {\n      selectedFeature: 'volume',\n      maxWidth: 10,\n      minWidth: 1,\n      numStep: 100,\n      scale: 'linear', // 'log'\n      minVal: 0, // option to blocked them. so its an input and its not recompute\n      maxVal: 1,\n      cmap: 'OrRd',\n      opacity: 100,\n      showNaN: true,\n      reverseColor: false,\n    },\n\n  },\n\n  mutations: {\n    loadLinks (state, payload) {\n      state.links = payload.geojson\n      state.type = payload.type\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n        state.visibleLinks = structuredClone(linksHeader)\n        // set all trips visible\n        // this.commit('results/changeSelectedTrips', state.tripId)\n        this.commit('results/getLinksProperties')\n\n        if (payload.selectedFeature) {\n          state.displaySettings.selectedFeature = payload.selectedFeature\n        }\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    updateLinks (state, payload) {\n      state.links = payload\n      this.commit('results/updateSelectedFeature')\n      this.commit('results/refreshVisibleLinks')\n    },\n    changeSelectedFilter (state, payload) {\n      state.selectedFilter = payload\n      this.commit('results/refreshVisibleLinks')\n    },\n    changeSelectedCategory (state, payload) {\n      state.selectedCategory = payload\n      this.commit('results/refreshVisibleLinks')\n    },\n\n    getLinksProperties (state) {\n      const header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      state.lineAttributes = Array.from(header)\n      state.selectedFilter = header.has('route_type') ? 'route_type' : header.has('highway') ? 'highway' : state.lineAttributes[0]\n      state.selectedCategory = Array.from(new Set(state.links.features.map(\n        item => item.properties[state.selectedFilter])))\n    },\n    applySettings (state, payload) {\n      state.displaySettings.selectedFeature = payload.selectedFeature\n      state.displaySettings.maxWidth = payload.maxWidth\n      state.displaySettings.minWidth = payload.minWidth\n      state.displaySettings.numStep = payload.numStep\n      state.displaySettings.scale = payload.scale\n      state.displaySettings.cmap = payload.cmap\n      state.displaySettings.opacity = payload.opacity\n      state.displaySettings.showNaN = payload.showNaN\n      state.displaySettings.reverseColor = payload.reverseColor\n      this.commit('results/updateSelectedFeature')\n      this.commit('results/refreshVisibleLinks')\n    },\n\n    updateSelectedFeature (state) {\n      const key = state.displaySettings.selectedFeature\n      const maxWidth = state.displaySettings.maxWidth\n      const minWidth = state.displaySettings.minWidth\n      const scale = state.displaySettings.scale\n      const numStep = state.displaySettings.numStep\n      const cmap = state.displaySettings.cmap\n      const featureArr = state.visibleLinks.features.filter(\n        link => link.properties[key]).map(\n        link => link.properties[key])\n      const minVal = Math.min.apply(Math, featureArr)\n      const maxVal = Math.max.apply(Math, featureArr)\n      state.displaySettings.minVal = minVal\n      state.displaySettings.maxVal = maxVal\n\n      state.visibleLinks.features.forEach(\n        link => link.properties.display_width =\n        ((maxWidth - minWidth) * ((link.properties[key] - minVal) /\n         (maxVal - minVal))) + minWidth,\n      )\n\n      const colorScale = chroma.scale(cmap).padding([0.1, 0])\n        .domain([0, 1], scale).classes(numStep)\n\n      const reverse = state.displaySettings.reverseColor\n\n      state.visibleLinks.features.forEach(\n        link => link.properties.display_color = colorScale(\n          remap(link.properties[key], minVal, maxVal, reverse, scale)).hex(),\n      )\n    },\n    refreshVisibleLinks (state) {\n      const group = new Set(state.selectedCategory)\n      const cat = state.selectedFilter\n      state.visibleLinks.features = state.links.features.filter(link => group.has(link.properties[cat]))\n      if (!state.displaySettings.showNaN) {\n        const key = state.displaySettings.selectedFeature\n        state.visibleLinks.features = state.visibleLinks.features.filter(link => link.properties[key])\n      }\n    },\n  },\n\n  getters: {\n    type: (state) => state.type,\n    links: (state) => state.links,\n    visibleLinks: (state) => state.visibleLinks,\n    linksHeader: (state) => state.linksHeader,\n    selectedTrips: (state) => state.selectedTrips,\n    lineAttributes: (state) => state.lineAttributes,\n    selectedFilter: (state) => state.selectedFilter,\n    selectedCategory: (state) => state.selectedCategory,\n    displaySettings: (state) => state.displaySettings,\n    selectedFeature: (state) => state.displaySettings.selectedFeature,\n    maxWidth: (state) => state.displaySettings.maxWidth,\n    minWidth: (state) => state.displaySettings.minWidth,\n    numStep: (state) => state.displaySettings.numStep,\n    scale: (state) => state.displaySettings.scale,\n    opacity: (state) => state.displaySettings.opacity,\n    colorScale: (state) => {\n      const arr = []\n      const colorScale = chroma.scale(state.displaySettings.cmap).padding([0.1, 0])\n        .domain([0, 1]).classes(state.displaySettings.numStep)\n      for (let i = 0; i < 100; i++) {\n        arr.push(colorScale(remap(i, 0, 100, state.displaySettings.reverseColor, state.displaySettings.scale)))\n      }\n      return arr\n    },\n  },\n}\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    layer: {},\n    mat: {},\n    properties: [],\n    type: null,\n    selectedProperty: '',\n  }),\n\n  mutations: {\n    loadZones (state, payload) {\n      state.type = 'zones'\n      state.layer = structuredClone(payload.zones)\n      Object.keys(payload.mat).forEach(\n        key => { state.mat[key + ' (OD)'] = payload.mat[key] })\n      state.properties = Object.keys(state.mat)\n      state.selectedProperty = state.properties[0]\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        // if init with nothing, do nothing.\n        if (state.layer.features.length > 0) {\n        // init the property with the first zone index\n          const initIndex = state.layer.features[0].properties.index\n          // for each properties in matrix, init the zones to the fist value.\n\n          state.properties.forEach(\n            prop =>\n              state.layer.features.forEach(\n                zone => zone.properties[prop] = state.mat[prop][initIndex][zone.properties.index]),\n          )\n        }\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadLinks (state, payload) {\n      state.layer = structuredClone(payload.links)\n      state.type = 'links'\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        state.layer.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    loadNodes (state, payload) {\n      state.layer = structuredClone(payload.nodes)\n      state.type = 'nodes'\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.layer.crs.properties.name)) {\n        state.layer.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        // this.commit('getNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    changeZone (state, payload) {\n      const index = payload.index\n      const row = state.mat[state.selectedProperty][index]\n      // apply new value to each zone. (zone_1 is selected, apply time to zone_1 to every zone)\n      // if there is no data, put null (ex: sparse matrix)\n      state.layer.features.forEach(\n        zone => zone.properties[state.selectedProperty] = row ? row[zone.properties.index] : null)\n    },\n\n  },\n\n  getters: {\n    layer: (state) => state.layer,\n    type: (state) => state.type,\n    selectedProperty: (state) => state.selectedProperty,\n  },\n}\n","import axios from 'axios'\n\nconst apiURL = 'https://z0i1paj50k.execute-api.ca-central-1.amazonaws.com/dev'\nconst axiosClient = axios.create({\n  baseURL: apiURL,\n  withCredentials: false,\n  headers: {\n    'Accept': '*/*',\n    'Content-Type': 'text/plain',\n  },\n})\n\nexport { axiosClient }\n","import { axiosClient } from '@src/axiosClient.js'\n\nexport default {\n  namespaced: true,\n  state: {\n    running: false,\n    executionArn: '',\n  },\n  mutations: {\n    startExecution (state, payload) {\n      state.running = true\n      state.executionArn = payload.executionArn\n    },\n    terminateExecution (state) {\n      state.running = false\n      state.executionArn = ''\n    },\n  },\n  actions: {\n    startExecution ({ commit, dispatch }) {\n      let data = {\n        // eslint-disable-next-line no-useless-escape\n        input: '{\\\"launcher_arg\\\":{\\\"scenario\\\":\\\"base\\\", \\\"training_folder\\\":\\\"/tmp\\\"}}',\n        stateMachineArn: 'arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-paris',\n      }\n      axiosClient.post('',\n        data = JSON.stringify(data),\n      ).then(\n        response => {\n          commit('startExecution', response.data)\n          dispatch('pollExecution')\n        }).catch(\n        err => {\n          console.log(err)\n        })\n    },\n    pollExecution ({ commit, state }) {\n      const intervalId = setInterval(() => {\n        let data = { executionArn: state.executionArn }\n        axiosClient.post('/describe',\n          data = JSON.stringify(data),\n        ).then(\n          response => {\n            this.status = response.data.status\n            if (this.status === 'SUCCEEDED') {\n              commit('terminateExecution')\n              clearInterval(intervalId)\n            } else if (['FAILED', 'TIMED_OUT', 'ABORTED'].includes(this.status)) {\n              commit('terminateExecution')\n              clearInterval(intervalId)\n            }\n          }).catch(\n          err => {\n            console.log(err)\n          })\n      }, 5000)\n    },\n  },\n  getters: {\n    running: (state) => state.running,\n    executionArn: (state) => state.executionArn,\n  },\n}\n","\nexport default {\n  namespaced: false,\n  state: {\n    cognitoInfo: {},\n    cognitoGroups: {},\n    accesToken: '',\n    loggedIn: false,\n    loadingState: true,\n    errorLoadingState: false,\n  },\n  mutations: {\n    setLoggedIn (state) {\n      state.loggedIn = true\n    },\n    setLoggedOut (state) {\n      state.loggedIn = false\n      state.cognitoInfo = {}\n    },\n    setCognitoInfo (state, payload) {\n      state.cognitoInfo = payload\n    },\n    setCognitoGroups (state, payload) {\n      state.cognitoGroups = payload\n    },\n    setAccessToken (state, payload) {\n      state.accesToken = payload\n    },\n  },\n\n  getters: {\n    loggedIn: (state) => state.loggedIn,\n    cognitoInfo: (state) => state.cognitoInfo,\n    cognitoGroups: (state) => state.cognitoGroups,\n  },\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport linksModule from './links.js'\nimport rlinksModule from './rlinks.js'\nimport resultsModule from './results.js'\nimport layerModule from './layer.js'\nimport runModule from './run.js'\nimport userModule from './user.js'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  modules: {\n    user: userModule,\n    links: linksModule,\n    rlinks: rlinksModule,\n    results: resultsModule,\n    run: runModule,\n  },\n\n  state: {\n    notification: {},\n    darkMode: false,\n    loading: false,\n    anchorMode: false,\n    showLeftPanel: true,\n    windowHeight: 0,\n    linksPopupContent: ['trip_id'],\n    roadsPopupContent: ['highway'],\n    outputName: 'output',\n    mapCenter: [-73.570337, 45.498310],\n    mapZoom: 11,\n    availableLayers: ['links', 'rlinks', 'nodes', 'rnodes'],\n\n  },\n  mutations: {\n    changeNotification (state, payload) {\n      state.notification = payload\n    },\n    changeDarkMode (state, payload) {\n      state.darkMode = payload\n      state.rlinks.rlinksDefaultColor = state.darkMode ? '2196F3' : '7EBAAC' //  its the primary color.\n      state.links.linksDefaultColor = state.darkMode ? '2196F3' : 'B5E0D6' //  its the primary color.\n    },\n    changeLoading (state, payload) {\n      state.loading = payload\n    },\n    changeWindowHeight (state, payload) {\n      state.windowHeight = payload\n    },\n    changeLeftPanel (state) {\n      state.showLeftPanel = !state.showLeftPanel\n    },\n    saveMapPosition (state, payload) {\n      state.mapCenter = payload.mapCenter\n      state.mapZoom = payload.mapZoom\n    },\n    setAnchorMode (state, payload) {\n      state.anchorMode = payload\n    },\n    changeAnchorMode (state) {\n      state.anchorMode = !state.anchorMode\n    },\n    applySettings (state, payload) {\n      state.links.linkSpeed = Number(payload.linkSpeed)\n      state.rlinks.roadSpeed = Number(payload.roadSpeed)\n      state.linksPopupContent = payload.linksPopupContent\n      state.roadsPopupContent = payload.roadsPopupContent\n      state.rlinks.defaultHighway = payload.defaultHighway\n      state.outputName = payload.outputName\n    },\n    loadLayer (state, payload) {\n      const moduleName = payload.fileName // todo: check if name exist Object.keys(this._modules.root._children)\n      if (!Object.keys(this._modules.root._children).includes(moduleName)) {\n        this.registerModule(moduleName, layerModule)\n      }\n      switch (payload.type) {\n        case 'zones':\n          this.commit(`${moduleName}/loadZones`, payload)\n          break\n        case 'links':\n          this.commit(`${moduleName}/loadLinks`, payload)\n          break\n        case 'nodes':\n          this.commit(`${moduleName}/loadNodes`, payload)\n          break\n      }\n      if (!state.availableLayers.includes(moduleName)) {\n        state.availableLayers.push(moduleName)\n      }\n    },\n    unloadLayers (state) {\n      const moduleToDelete = Object.keys(this._modules.root._children).filter(\n        x => !['links', 'rlinks', 'results'].includes(x))\n      moduleToDelete.forEach(moduleName => this.unregisterModule(moduleName))\n      state.availableLayers = ['links', 'rlinks', 'nodes', 'rnodes']\n    },\n\n    exportFiles (state, payload = 'all') {\n      const zip = new JSZip()\n      // const folder = zip.folder('output') // create a folder for the files.\n      let links = ''\n      let nodes = ''\n      let rlinks = ''\n      let rnodes = ''\n      // export only visible line (line selected)\n      this.commit('applyPropertiesTypes')\n      if (payload !== 'all') {\n        const tempLinks = structuredClone(state.links.links)\n        tempLinks.features = tempLinks.features.filter(\n          link => state.links.selectedTrips.includes(link.properties.trip_id))\n        links = JSON.stringify(tempLinks)\n        // delete every every nodes not in links\n        const a = tempLinks.features.map(item => item.properties.a)\n        const b = tempLinks.features.map(item => item.properties.b)\n        const nodesInLinks = Array.from(new Set([...a, ...b]))\n        const tempNodes = structuredClone(state.links.nodes)\n        tempNodes.features = tempNodes.features.filter(node => nodesInLinks.includes(node.properties.index))\n        nodes = JSON.stringify(tempNodes)\n\n        rlinks = JSON.stringify(state.rlinks.visiblerLinks)\n        rnodes = JSON.stringify(state.rlinks.visiblerNodes)\n      // export everything\n      } else {\n        links = JSON.stringify(state.links.links)\n        nodes = JSON.stringify(state.links.nodes)\n        rlinks = JSON.stringify(state.rlinks.rlinks)\n        rnodes = JSON.stringify(state.rlinks.rnodes)\n      }\n      // export only if not empty\n      if (JSON.parse(links).features.length > 0) {\n        // eslint-disable-next-line no-var\n        var blob = new Blob([links], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([nodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('nodes.geojson', blob)\n      }\n      if (JSON.parse(rlinks).features.length > 0) {\n      // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rlinks], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('road_links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rnodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('road_nodes.geojson', blob)\n      }\n      zip.generateAsync({ type: 'blob' })\n        .then(function (content) {\n          // see FileSaver.js\n          saveAs(content, state.outputName + '.zip')\n        })\n    },\n  },\n  getters: {\n    notification: (state) => state.notification,\n    loading: (state) => state.loading,\n    mapCenter: (state) => state.mapCenter,\n    mapZoom: (state) => state.mapZoom,\n    windowHeight: (state) => state.windowHeight,\n    anchorMode: (state) => state.anchorMode,\n    showLeftPanel: (state) => state.showLeftPanel,\n    linksPopupContent: (state) => state.linksPopupContent,\n    roadsPopupContent: (state) => state.roadsPopupContent,\n    outputName: (state) => state.outputName,\n    projectIsUndefined: (state) => Object.keys(state.links.links).length === 0,\n    projectIsEmpty: (state) => {\n      return (state.links.links.features.length === 0 &&\n              state.rlinks.rlinks.features.length === 0)\n    },\n    availableLayers: (state) => state.availableLayers,\n    mapStyle: (state) => {\n      if (state.darkMode) {\n        return 'mapbox://styles/mapbox/dark-v11?optimize=true'\n      } else {\n        return 'mapbox://styles/mapbox/light-v11?optimize=true'\n      }\n    },\n\n  },\n})\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { staticClass: \"layout\" },\n        [\n          _c(\"div\", {\n            staticClass: \"layout-overlay\",\n            class: { \"animate-layer\": _vm.loggedIn },\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-card\",\n            { staticClass: \"card\", class: { \"animate-login\": _vm.loggedIn } },\n            [\n              _c(\"v-card-title\", { staticClass: \"title\" }, [\n                _vm._v(\"\\n        Quetzal Network Editor\\n      \"),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-card-text\", { style: { textAlign: \"center\" } }, [\n                _c(\"div\", { staticClass: \"subtitle\" }, [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(_vm.$gettext(\"Load Files\")) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Load multiple Transit or road network. Each network will be added to the current project\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Links and Nodes files must be geojson in EPSG:4326.\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"text-xs-center\" },\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          color: !_vm.localLinksLoaded ? \"primary\" : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"links\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Links\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          color: !_vm.localNodesLoaded ? \"primary\" : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"nodes\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Nodes\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { color: \"normal\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\"zip\")\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\n                                      \"v-icon\",\n                                      { attrs: { small: \"\", left: \"\" } },\n                                      [\n                                        _vm._v(\n                                          \"\\n                  fas fa-file-archive\\n                \"\n                                        ),\n                                      ]\n                                    ),\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(\"zip\") +\n                                        \"\\n              \"\n                                    ),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(_vm.$gettext(\"Load zip files containing\"))\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"nodes.geojson and links.geojson or\")\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"road_nodes.geojson and road_links.geojson\"\n                              )\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"or both the PT and road geojsons\")\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"fileInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { id: \"file-input\", type: \"file\", accept: \".geojson\" },\n                  on: { change: _vm.onFilePicked },\n                }),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"zipInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: {\n                    id: \"zip-input\",\n                    type: \"file\",\n                    accept: \".zip\",\n                    multiple: \"multiple\",\n                  },\n                  on: { change: _vm.readZip },\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { small: \"\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\n                                              \"newProject\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"New Project\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"Delete all network and start from scratch\"\n                              )\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-menu\",\n                      {\n                        attrs: {\n                          \"offset-y\": \"\",\n                          \"open-on-hover\": \"\",\n                          \"nudge-left\": \"70\",\n                          \"close-delay\": \"100\",\n                          transition: \"slide-y-transition\",\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on: on, attrs: attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { small: \"\" },\n                                        on: {\n                                          click: () =>\n                                            _vm.buttonHandle(\"example1\"),\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"example\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-list\",\n                          [\n                            _c(\n                              \"v-list-item\",\n                              {\n                                attrs: { link: \"\" },\n                                on: {\n                                  click: () => _vm.buttonHandle(\"example1\"),\n                                },\n                              },\n                              [\n                                _c(\"v-list-item-title\", [\n                                  _vm._v(\n                                    \"\\n                  \" +\n                                      _vm._s(_vm.$gettext(\"PT & Road\")) +\n                                      \"\\n                \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                            _vm._v(\" \"),\n                            _c(\n                              \"v-list-item\",\n                              {\n                                attrs: { link: \"\" },\n                                on: {\n                                  click: () => _vm.buttonHandle(\"example2\"),\n                                },\n                              },\n                              [\n                                _c(\"v-list-item-title\", [\n                                  _vm._v(\n                                    \"\\n                  \" +\n                                      _vm._s(\n                                        _vm.$gettext(\n                                          \"PT, Road, Zones, OD & Results\"\n                                        )\n                                      ) +\n                                      \"\\n                \"\n                                  ),\n                                ]),\n                              ],\n                              1\n                            ),\n                          ],\n                          1\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"div\", [_c(\"OSMImporter\")], 1),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: { disabled: !_vm.filesAdded, color: \"primary\" },\n                        on: {\n                          click: function ($event) {\n                            return _vm.login()\n                          },\n                        },\n                      },\n                      [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Go!\")) +\n                            \"\\n          \"\n                        ),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"green\" } },\n                _vm._l(_vm.message, function (mess) {\n                  return _c(\"p\", { key: mess }, [\n                    _vm._v(\n                      \"\\n          \" + _vm._s(_vm.$gettext(mess)) + \"\\n        \"\n                    ),\n                  ])\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [\n                  _vm._v(\n                    \"\\n        \" +\n                      _vm._s(_vm.$gettext(_vm.errorMessage)) +\n                      \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Overwrite current Project ?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","import JSZip from 'jszip'\nimport { store } from '../../store/index.js'\n\nasync function extractZip (file) {\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  // process ZIP file content here\n  const result = { zipName: file.name, files: [] }\n  for (let i = 0; i < filesNames.length; i++) {\n    const str = await zip.file(filesNames[i]).async('string')\n    const content = JSON.parse(str)\n\n    if (zip.files[filesNames[i]].name.slice(-7) === 'geojson') {\n      console.log(content)\n      console.log(filesNames[i])\n      if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(content.crs.properties.name)) {\n        alert('invalid CRS. use CRS84 / EPSG:4326')\n      }\n\n      if (content.features[0].geometry.type === 'LineString') {\n        if (filesNames[i].includes('road')) {\n          result.files.push({ data: content, type: 'road_links', fileName: filesNames[i] })\n        } else if (filesNames[i].slice(0, 5) === 'links') {\n          result.files.push({ data: content, type: 'links', fileName: filesNames[i] })\n        } else {\n          result.files.push({ data: content, type: 'layerLinks', fileName: filesNames[i] })\n        }\n      } else if (content.features[0].geometry.type === 'Point') {\n        if (filesNames[i].includes('road')) {\n          result.files.push({ data: content, type: 'road_nodes', fileName: filesNames[i] })\n        } else if (filesNames[i].slice(0, 5) === 'nodes') {\n          result.files.push({ data: content, type: 'nodes', fileName: filesNames[i] })\n        } else {\n          result.files.push({ data: content, type: 'layerNodes', fileName: filesNames[i] })\n        }\n      } else if (['MultiPolygon', 'Polygon'].includes(content.features[0].geometry.type)) {\n        result.files.push({ data: content, type: 'zones', fileName: filesNames[i] })\n        console.log('ehe')\n      }\n    } else {\n      result.files.push({ data: content, type: 'json', fileName: filesNames[i] })\n    }\n  }\n\n  return result\n}\n\nfunction getGroupForm (features, lineAttributes, uneditable) {\n  const form = {}\n  lineAttributes.forEach(key => {\n    const val = new Set(features.map(link => link.properties[key]))\n    form[key] = {\n      value: val.size > 1 ? '' : [...val][0],\n      disabled: uneditable.includes(key),\n      placeholder: val.size > 1,\n    }\n  })\n  return form\n}\n\nfunction indexAreUnique (geojson) {\n  // check if all index are unique in a geojson (links or nodes)\n  // return true if they are unique\n  let indexArr = []\n  if (geojson?.features.length > 0) {\n    indexArr = geojson.features.map(item => item.properties.index)\n    return (new Set(indexArr).size === indexArr.length)\n  } else { return true } // if its empty, return true\n}\n\nfunction IndexAreDifferent (geojsonA, geojsonB) {\n  // check if index are duplicated between geojsons (to append new links or nodes) (links or nodes)\n  // return true if they are all unique\n  const linksIndex = new Set(geojsonA.features.map(item => item.properties.index))\n  const newLinksIndex = new Set(geojsonB.features.map(item => item.properties.index))\n  return (new Set([...linksIndex, ...newLinksIndex]).size === (linksIndex.size + newLinksIndex.size))\n}\n\nfunction createIndex (geojson, type, prefix) {\n  // not done. we should check links and node as there is nodes index in links (a,b)\n  switch (type) {\n    case 'PT':\n      // eslint-disable-next-line no-case-declarations\n      const len = store.getters.links.features.length\n      // eslint-disable-next-line no-return-assign\n      geojson.features.forEach((feat, index) => feat.properties.index = prefix + (index + len))\n      break\n    case 'road':\n      break\n  }\n}\n\nfunction geojsonVerification (geojson, type) {}\n\nasync function unzip (file) {\n  // unzip a file and return a json (solo json zipped)\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  const str = await zip.file(filesNames[0]).async('string')\n  const content = JSON.parse(str)\n  return content\n}\n\nexport { extractZip, getGroupForm, indexAreUnique, createIndex, IndexAreDifferent, geojsonVerification, unzip }\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-tooltip\",\n        {\n          attrs: { bottom: \"\", \"open-delay\": \"500\" },\n          scopedSlots: _vm._u([\n            {\n              key: \"activator\",\n              fn: function ({ on, attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        {\n                          style: { margin: \"15px\" },\n                          attrs: { color: \"normal\" },\n                          on: {\n                            click: function ($event) {\n                              _vm.showDialog = true\n                            },\n                          },\n                        },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\n                          \"\\n          fas fa-cloud-download-alt\\n        \"\n                        ),\n                      ]),\n                      _vm._v(\"\\n        \" + _vm._s(\"OSM\") + \"\\n      \"),\n                    ],\n                    1\n                  ),\n                ]\n              },\n            },\n          ]),\n        },\n        [\n          _vm._v(\" \"),\n          _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"Download OSM network\")))]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { \"max-width\": \"600\", \"max-height\": \"600\" },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _vm.showDialog\n            ? _c(\n                \"v-card\",\n                { staticClass: \"card\" },\n                [\n                  _c(\"v-card-title\", [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(\n                          _vm.$gettext(\"Import OSM network in bounding box\")\n                        ) +\n                        \"\\n      \"\n                    ),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\n                        \"MglMap\",\n                        {\n                          key: _vm.mapStyle,\n                          staticClass: \"map\",\n                          style: { width: \"100%\" },\n                          attrs: {\n                            \"access-token\": _vm.mapboxPublicKey,\n                            \"map-style\": _vm.mapStyle,\n                          },\n                          on: { load: _vm.onMapLoaded },\n                        },\n                        [\n                          _c(\"MglScaleControl\", {\n                            attrs: { position: \"bottom-right\" },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"MglNavigationControl\", {\n                            attrs: { position: \"bottom-right\" },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"MglGeojsonLayer\", {\n                            attrs: {\n                              \"source-id\": \"polygon\",\n                              source: {\n                                type: \"geojson\",\n                                data: _vm.poly,\n                                promoteId: \"index\",\n                              },\n                              \"layer-id\": \"poly\",\n                              layer: {\n                                interactive: true,\n                                type: \"fill\",\n                                paint: {\n                                  \"fill-color\":\n                                    _vm.$vuetify.theme.currentTheme\n                                      .linksprimary, // blue color fill\n                                  \"fill-opacity\": 0.3,\n                                },\n                              },\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"MglGeojsonLayer\", {\n                            attrs: {\n                              \"source-id\": \"polygon\",\n                              type: \"line\",\n                              source: \"polygon\",\n                              \"layer-id\": \"stroke\",\n                              layer: {\n                                type: \"line\",\n                                paint: {\n                                  \"line-color\":\n                                    _vm.$vuetify.theme.currentTheme\n                                      .linksprimary,\n                                  \"line-width\": 3,\n                                },\n                              },\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-divider\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card-actions\",\n                    [\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\"v-select\", {\n                        attrs: {\n                          items: _vm.highwayList,\n                          attach: \"\",\n                          chips: \"\",\n                          \"menu-props\": { top: true, offsetY: true },\n                          label: \"Highways to import\",\n                          multiple: \"\",\n                        },\n                        scopedSlots: _vm._u(\n                          [\n                            {\n                              key: \"selection\",\n                              fn: function ({ item, index }) {\n                                return [\n                                  index <= 0\n                                    ? _c(\"v-chip\", [\n                                        _c(\"span\", [_vm._v(_vm._s(item))]),\n                                      ])\n                                    : _vm._e(),\n                                  _vm._v(\" \"),\n                                  index === 1\n                                    ? _c(\n                                        \"span\",\n                                        {\n                                          staticClass:\n                                            \"grey--text text-caption\",\n                                        },\n                                        [\n                                          _vm._v(\n                                            \"\\n              (+\" +\n                                              _vm._s(\n                                                _vm.selectedHighway.length -\n                                                  1 +\n                                                  \" \" +\n                                                  _vm.$gettext(\"more\")\n                                              ) +\n                                              \" )\\n            \"\n                                          ),\n                                        ]\n                                      )\n                                    : _vm._e(),\n                                ]\n                              },\n                            },\n                          ],\n                          null,\n                          false,\n                          2086055037\n                        ),\n                        model: {\n                          value: _vm.selectedHighway,\n                          callback: function ($$v) {\n                            _vm.selectedHighway = $$v\n                          },\n                          expression: \"selectedHighway\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: { text: \"\", outlined: \"\" },\n                          on: { click: () => (_vm.showDialog = false) },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Cancel\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        { attrs: { text: \"\", outlined: \"\", color: \"success\" } },\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$gettext(\"Download\")) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer } from 'vue-mapbox'\nimport buffer from '@turf/buffer'\nimport bboxPolygon from '@turf/bbox-polygon'\nimport { mapboxPublicKey } from '@src/config.js'\nexport default {\n  name: 'OSMImporter',\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n  },\n\n  data () {\n    return {\n      mapboxPublicKey: null,\n      showDialog: false,\n      poly: null,\n      selectedHighway: null,\n      highwayList: ['motorway',\n        'motorway_link',\n        'secondary',\n        'trunk',\n        'residential',\n        'tertiary',\n        'primary',\n        'unclassified',\n        'trunk_link',\n        'secondary_link',\n        'primary_link',\n        'tertiary_link'],\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n\n  },\n  watch: {\n    showDialog (val) {\n      if (!val) {\n        // remove stroke layer as it use the polygon layer data.\n        this.map.removeLayer('stroke')\n      }\n    },\n  },\n  created () {\n    this.selectedHighway = this.highwayList\n    this.mapboxPublicKey = mapboxPublicKey\n  },\n  methods: {\n    onMapLoaded (event) {\n      event.map.dragRotate.disable()\n      this.map = event.map\n      this.map.on('dragend', this.getBounds)\n      this.map.on('zoomend', this.getBounds)\n      this.getBounds()\n    },\n    getBounds () {\n      const bounds = this.map.getBounds()\n      const bbox = bboxPolygon([bounds._sw.lng, bounds._sw.lat, bounds._ne.lng, bounds._ne.lat])\n      this.poly = buffer(bbox, -0.1 * (bounds._ne.lat - bounds._sw.lat), { units: 'degrees' })\n      this.poly.geometry.coordinates[0] = this.poly.geometry.coordinates[0].reverse()\n      console.log(this.poly)\n    },\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-tooltip\n      bottom\n      open-delay=\"500\"\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          :style=\"{margin:'15px'}\"\n          v-bind=\"attrs\"\n          :color=\"'normal'\"\n          v-on=\"on\"\n          @click=\"showDialog=true\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-cloud-download-alt\n          </v-icon>\n          {{ 'OSM' }}\n        </v-btn>\n      </template>\n      <span>{{ $gettext(\"Download OSM network\") }}</span>\n    </v-tooltip>\n\n    <v-dialog\n      v-model=\"showDialog\"\n      max-width=\"600\"\n      max-height=\"600\"\n    >\n      <v-card\n        v-if=\"showDialog\"\n        class=\"card\"\n      >\n        <v-card-title>\n          {{ $gettext(\"Import OSM network in bounding box\") }}\n        </v-card-title>\n        <v-card-actions>\n          <MglMap\n            :key=\"mapStyle\"\n            class=\"map\"\n            :style=\"{'width': '100%'}\"\n            :access-token=\"mapboxPublicKey\"\n            :map-style=\"mapStyle\"\n            @load=\"onMapLoaded\"\n          >\n            <MglScaleControl position=\"bottom-right\" />\n            <MglNavigationControl position=\"bottom-right\" />\n\n            <MglGeojsonLayer\n              source-id=\"polygon\"\n              :source=\"{\n                type: 'geojson',\n                data: poly,\n                promoteId: 'index',\n              }\"\n              layer-id=\"poly\"\n              :layer=\"{\n                interactive: true,\n                type: 'fill',\n                'paint': {\n                  'fill-color': $vuetify.theme.currentTheme.linksprimary, // blue color fill\n                  'fill-opacity': 0.3,\n\n                },\n              }\"\n            />\n\n            <MglGeojsonLayer\n              source-id=\"polygon\"\n              type=\"line\"\n              source=\"polygon\"\n              layer-id=\"stroke\"\n              :layer=\"{\n                type: 'line',\n                paint: {\n                  'line-color':$vuetify.theme.currentTheme.linksprimary,\n                  'line-width':3\n                }\n              }\"\n            />\n          </MglMap>\n        </v-card-actions>\n        <v-divider />\n\n        <v-card-actions>\n          <v-spacer />\n          <v-select\n            v-model=\"selectedHighway\"\n            :items=\"highwayList\"\n            attach\n            chips\n            :menu-props=\"{ top: true, offsetY: true }\"\n            label=\"Highways to import\"\n            multiple\n          >\n            <template v-slot:selection=\"{ item, index }\">\n              <v-chip v-if=\"index <= 0\">\n                <span>{{ item }}</span>\n              </v-chip>\n              <span\n                v-if=\"index === 1\"\n                class=\"grey--text text-caption\"\n              >\n                (+{{ selectedHighway.length - 1 + ' ' + $gettext('more') }} )\n              </span>\n            </template>\n          </v-select>\n          <v-spacer />\n          <v-btn\n            text\n            outlined\n            @click=\"()=>showDialog=false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-btn\n            text\n            outlined\n            color=\"success\"\n          >\n            {{ $gettext(\"Download\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map {\n  max-width: 100rem;\n  height: 30rem;\n}\n.dialog {\n\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=style&index=0&id=e053904c&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OSMImporter.vue?vue&type=style&index=0&id=e053904c&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./OSMImporter.vue?vue&type=template&id=e053904c&scoped=true&\"\nimport script from \"./OSMImporter.vue?vue&type=script&lang=js&\"\nexport * from \"./OSMImporter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OSMImporter.vue?vue&type=style&index=0&id=e053904c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e053904c\",\n  null\n  \n)\n\nexport default component.exports","<!-- eslint-disable no-case-declarations -->\n<script>\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nimport { extractZip, IndexAreDifferent, unzip } from '../components/utils/utils.js'\nimport OSMImporter from '../components/utils/OSMImporter.vue'\n\nconst $gettext = s => s\n\nexport default {\n  name: 'Import',\n  components: { OSMImporter },\n  data () {\n    return {\n      loggedIn: false,\n      choice: null,\n      showDialog: false,\n      loadedLinks: {},\n      loadedNodes: {},\n      loadedType: '',\n      zipName: '',\n      message: [],\n      errorMessage: '',\n      filesAdded: false,\n    }\n  },\n\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    localLinksLoaded () { return Object.keys(this.loadedLinks).length === 0 },\n    localNodesLoaded () { return Object.keys(this.loadedNodes).length === 0 },\n    localFilesAreLoaded () {\n      return !(this.localLinksLoaded || this.localNodesLoaded)\n    },\n\n  },\n  watch: {\n    localFilesAreLoaded (val) {\n      if (val) {\n        this.loadNetwork(this.loadedLinks, this.loadedNodes, this.loadedType, 'individual files')\n        this.loadedLinks = {}\n        this.loadedNodes = {}\n        this.loadedType = ''\n      }\n    },\n\n  },\n  mounted () {\n    this.$store.commit('changeNotification', '')\n  },\n  methods: {\n    login () {\n      // Leave time for animation to end (.animate-login and .animate-layer css rules)\n      setTimeout(() => {\n        this.$router.push('/Home').catch(() => {})\n      }, 300)\n    },\n\n    loadNetwork (links, nodes, type, zipName) {\n      if (links.features.length > 0) {\n        if (!Object.keys(links.features[0].properties).includes('index')) {\n          this.error($gettext('there is no index in links. Import aborted'))\n          return\n        }\n      }\n      if (nodes.features.length > 0) {\n        if (!Object.keys(nodes.features[0].properties).includes('index')) {\n          this.error($gettext('there is no index in nodes. Import aborted'))\n          return\n        }\n      }\n\n      if (type === 'PT') {\n        if (IndexAreDifferent(links, this.$store.getters.links) &&\n            IndexAreDifferent(nodes, this.$store.getters.nodes)) {\n          this.$store.commit('appendNewLinks', { links: links, nodes: nodes })\n          this.filesAdded = true\n          if (zipName) this.message.push($gettext('PT Links and nodes Loaded from') + ' ' + zipName)\n        } else {\n          this.error($gettext('there is duplicated links or nodes index. Import aborted'))\n        }\n      } else if (type === 'road') {\n        if (IndexAreDifferent(links, this.$store.getters.rlinks) &&\n            IndexAreDifferent(nodes, this.$store.getters.rnodes)) {\n          this.$store.commit('appendNewrLinks', { rlinks: links, rnodes: nodes })\n          this.filesAdded = true\n          if (zipName) this.message.push($gettext('ROAD links and nodes Loaded from') + ' ' + zipName)\n        } else {\n          this.error($gettext('there is duplicated links or nodes index. Import aborted'))\n        }\n      }\n    },\n    loadStaticLayer (files, zipName) {\n      // load links and nodes geojson as static layers.\n      files.filter(file => (file.type === 'layerLinks')).forEach(\n        file => {\n          this.$store.commit('loadLayer', { fileName: file.fileName.slice(0, -8), type: 'links', links: file.data })\n          this.message.push(file.fileName + ' ' + $gettext('Loaded from') + ' ' + zipName)\n        })\n      files.filter(file => (file.type === 'layerNodes')).forEach(\n        file => {\n          this.$store.commit('loadLayer', { fileName: file.fileName.slice(0, -8), type: 'nodes', nodes: file.data })\n          this.message.push(file.fileName + ' ' + $gettext('Loaded from') + ' ' + zipName)\n        })\n      // for zones. find the corresponding json file (mat) or nothing.\n      files.filter(file => (file.type === 'zones')).forEach(\n        file => {\n          const zoneData = file.data\n          const fileName = file.fileName.slice(0, -8)\n          let matData = files.filter(json => json.fileName.slice(0, -5) === fileName)[0]?.data\n          matData = matData || {}\n          this.$store.commit('loadLayer', { fileName: fileName, type: 'zones', zones: zoneData, mat: matData })\n          this.message.push(file.fileName + ' ' + $gettext('Loaded from') + ' ' + zipName)\n          if (matData) this.message.push(file.fileName + '.json' + ' ' + $gettext('Loaded from') + ' ' + zipName)\n        })\n    },\n\n    error (message) {\n      this.loadedNodes = {}\n      this.loadedLinks = {}\n      this.loadedType = ''\n      this.message = []\n      this.errorMessage = message\n      this.$store.commit('changeLoading', false)\n    },\n\n    buttonHandle (choice) {\n      this.choice = choice\n      this.errorMessage = ''\n      switch (this.choice) {\n        case 'zip':\n          this.$refs.zipInput.click()\n          document.getElementById('zip-input').value = '' // clean it for next file\n          break\n        case 'links':\n          this.$refs.fileInput.click()\n          document.getElementById('file-input').value = '' // clean it for next file\n          break\n        case 'nodes':\n          this.$refs.fileInput.click()\n          document.getElementById('file-input').value = '' // clean it for next file\n          break\n        case 'example1':\n          this.projectIsEmpty ? this.loadExample(['PT', 'road']) : this.showDialog = true\n          break\n        case 'example2':\n          this.projectIsEmpty ? this.loadExample(['PT', 'road', 'loaded', 'zones']) : this.showDialog = true\n          break\n        case 'newProject':\n          this.projectIsEmpty ? this.newProject() : this.showDialog = true\n      }\n    },\n    applyDialog () {\n      // this only happen when both files are loaded.\n      // remove links and nodes from store. (and filesAreLoaded)\n      this.$store.commit('unloadFiles')\n      this.$store.commit('unloadrFiles')\n\n      if (this.choice === 'example1') {\n        this.loadExample(['PT', 'road'])\n      } else if (this.choice === 'example2') {\n        this.loadExample(['PT', 'road', 'loaded', 'zones'])\n      } else if (this.choice === 'newProject') {\n        this.newProject()\n      }\n      this.showDialog = !this.showDialog\n    },\n\n    async loadExample (filesToLoads) {\n      this.$store.commit('changeLoading', true)\n      const url = 'https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/'\n      let links = {}\n      let nodes = {}\n      if (filesToLoads.includes('PT')) {\n        links = await fetch(url + 'links_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        nodes = await fetch(url + 'nodes_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n        this.loadNetwork(links, nodes, 'PT')\n      }\n      if (filesToLoads.includes('road')) {\n        links = await fetch(url + 'road_links_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        nodes = await fetch(url + 'road_nodes_exemple.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n        this.loadNetwork(links, nodes, 'road')\n      }\n      if (filesToLoads.includes('loaded')) {\n        links = await fetch(url + 'loaded_links.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        this.$store.commit('loadLayer', { fileName: 'loaded_links', type: 'links', links: links })\n\n        nodes = await fetch(url + 'loaded_nodes.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n\n        this.$store.commit('loadLayer', { fileName: 'loaded_nodes', type: 'nodes', nodes: nodes })\n      }\n      if (filesToLoads.includes('zones')) {\n        links = await fetch(url + 'zones.geojson').then(res => res.json())\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!links) return\n        nodes = await fetch(url + 'zones.zip').then(res => unzip(res.blob()))\n          .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n        if (!nodes) return\n\n        this.$store.commit('loadLayer', { fileName: 'zones', type: 'zones', zones: links, mat: nodes })\n      }\n      // this is zones and mat. reuse var to save memory\n\n      this.$store.commit('changeLoading', false)\n      this.loggedIn = true\n      this.login()\n    },\n    newProject () {\n      this.loadNetwork(linksBase, nodesBase, 'PT')\n      this.loadNetwork(linksBase, nodesBase, 'road')\n      this.$store.commit('unloadLayers')\n\n      this.$store.commit('changeNotification',\n        { text: $gettext('project overwrited'), autoClose: true, color: 'success' })\n      this.message = []\n    },\n\n    onFilePicked (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.$store.commit('changeLoading', false)\n        return\n      }\n      // it is a geojson\n      if (files[0].name.slice(-7) !== 'geojson') {\n        this.$store.commit('changeLoading', false)\n        this.error($gettext('file is not a geojson'))\n        return\n      }\n\n      const fileReader = new FileReader()\n      fileReader.readAsText(files[0])\n      if (this.choice === 'links') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              if (this.loadedType === 'PT') { this.error($gettext('road links loaded with PT nodes')); return }\n              this.loadedType = 'road'\n            } else {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              if (this.loadedType === 'road') { this.error($gettext('PT links loaded with road nodes')); return }\n              this.loadedType = 'PT'\n            }\n            this.$store.commit('changeLoading', false)\n          } catch (e) {\n            this.error(e.message)\n            this.$store.commit('changeLoading', false)\n          }\n        }\n      } else if (this.choice === 'nodes') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              if (this.loadedType === 'PT') { this.error($gettext('road nodes loaded for PT links')); return }\n              this.loadedType = 'road'\n            } else {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              if (this.loadedType === 'road') { this.error($gettext('PT nodes loaded for road links')); return }\n              this.loadedType = 'PT'\n            }\n            this.$store.commit('changeLoading', false)\n          } catch (e) {\n            this.error(e.message)\n            this.$store.commit('changeLoading', false)\n          }\n        }\n      }\n    },\n    async readZip (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.$store.commit('changeLoading', false)\n        return\n      }\n      // it is a zip\n      if (files[0].name.slice(-3) !== 'zip') {\n        this.$store.commit('changeLoading', false)\n        this.errorMessage = $gettext('file is not a zip')\n      }\n      // read every selected zip and create a list of promises.\n      // each promises contain {links, nodes}\n\n      const PromisesList = []\n      for (let i = 0; i < files.length; i++) {\n        const res = extractZip(files[i])\n        PromisesList.push(res)\n      }\n      // when all files are read\n      Promise.all(PromisesList).then(zipFiles => {\n        // asign first file to links and node var\n        // for each other files concat, concat to links and nodes\n        for (let i = 0; i < zipFiles.length; i++) {\n          const files = zipFiles[i].files\n          const zipName = zipFiles[i].zipName\n          const importPT = files.filter(file => ['links', 'nodes'].includes(file.type)).length === 2\n          const importRoad = files.filter(file => ['road_links', 'road_nodes'].includes(file.type)).length === 2\n          if (importPT) {\n            this.loadNetwork(\n              files.filter(file => file.type === 'links')[0].data,\n              files.filter(file => file.type === 'nodes')[0].data,\n              'PT',\n              zipName)\n          } if (importRoad) {\n            this.loadNetwork(\n              files.filter(file => file.type === 'road_links')[0].data,\n              files.filter(file => file.type === 'road_nodes')[0].data,\n              'road',\n              zipName)\n          }\n          this.loadStaticLayer(\n            files.filter(file => !['links', 'nodes', 'road_links', 'road_nodes'].includes(file.type)),\n            zipName)\n        }\n\n        this.$store.commit('changeLoading', false)\n      }).catch(err => {\n        this.$store.commit('changeLoading', false)\n        alert(err)\n      })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <div class=\"layout\">\n      <div\n        class=\"layout-overlay\"\n        :class=\"{ 'animate-layer': loggedIn }\"\n      />\n      <v-card\n        class=\"card\"\n        :class=\"{ 'animate-login': loggedIn }\"\n      >\n        <v-card-title class=\"title\">\n          Quetzal Network Editor\n        </v-card-title>\n        <v-card-text :style=\"{textAlign: 'center'}\">\n          <div class=\"subtitle\">\n            {{ $gettext(\"Load Files\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Load multiple Transit or road network. Each network will be added to the current project\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Links and Nodes files must be geojson in EPSG:4326.\") }}\n          </div>\n          <div class=\" text-xs-center\">\n            <v-btn\n              :color=\" !localLinksLoaded? 'primary': 'normal'\"\n              @click=\"buttonHandle('links')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Links') }}\n            </v-btn>\n            <v-btn\n              :color=\" !localNodesLoaded? 'primary': 'normal'\"\n              @click=\"buttonHandle('nodes')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Nodes') }}\n            </v-btn>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  :color=\"'normal'\"\n                  v-on=\"on\"\n                  @click=\"buttonHandle('zip')\"\n                >\n                  <v-icon\n                    small\n                    left\n                  >\n                    fas fa-file-archive\n                  </v-icon>\n                  {{ 'zip' }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load zip files containing\") }}</span>\n              <br>\n              <span>{{ $gettext(\"nodes.geojson and links.geojson or\") }}</span>\n              <br>\n              <span>{{ $gettext(\"road_nodes.geojson and road_links.geojson\") }}</span>\n              <br>\n              <span>{{ $gettext(\"or both the PT and road geojsons\") }}</span>\n            </v-tooltip>\n          </div>\n          <input\n            id=\"file-input\"\n            ref=\"fileInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".geojson\"\n            @change=\"onFilePicked\"\n          >\n          <input\n            id=\"zip-input\"\n            ref=\"zipInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".zip\"\n            multiple=\"multiple\"\n            @change=\"readZip\"\n          >\n\n          <div>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  small\n                  v-bind=\"attrs\"\n                  @click=\"buttonHandle('newProject')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('New Project') }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete all network and start from scratch\") }}</span>\n            </v-tooltip>\n          </div>\n\n          <div>\n            <v-menu\n              offset-y\n              open-on-hover\n              nudge-left=\"70\"\n              close-delay=\"100\"\n              transition=\"slide-y-transition\"\n            >\n              <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n                <v-btn\n                  small\n                  v-bind=\"attrs\"\n                  @click=\"()=>buttonHandle('example1')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('example') }}\n                </v-btn>\n              </template>\n              <v-list>\n                <v-list-item\n                  link\n                  @click=\"()=>buttonHandle('example1')\"\n                >\n                  <v-list-item-title>\n                    {{ $gettext(\"PT & Road\") }}\n                  </v-list-item-title>\n                </v-list-item>\n                <v-list-item\n                  link\n                  @click=\"()=>buttonHandle('example2')\"\n                >\n                  <v-list-item-title>\n                    {{ $gettext(\"PT, Road, Zones, OD & Results\") }}\n                  </v-list-item-title>\n                </v-list-item>\n              </v-list>\n            </v-menu>\n          </div>\n          <div>\n            <OSMImporter />\n          </div>\n          <div>\n            <v-btn\n              :disabled=\"!filesAdded\"\n              color=\"primary\"\n              @click=\"login()\"\n            >\n              {{ $gettext('Go!') }}\n            </v-btn>\n          </div>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'green'}\">\n          <p\n            v-for=\"mess in message\"\n            :key=\"mess\"\n          >\n            {{ $gettext(mess) }}\n          </p>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ $gettext(errorMessage) }}\n        </v-card-text>\n      </v-card>\n    </div>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Overwrite current Project ?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color:var(--v-background-base);\n\n  position: absolute;\n}\n.card {\n  width: 500px;\n  max-height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: var(--v-primary-base);\n\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=0873e98b&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Import.vue?vue&type=style&index=0&id=0873e98b&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=0873e98b&scoped=true&\"\nimport script from \"./Import.vue?vue&type=script&lang=js&\"\nexport * from \"./Import.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Import.vue?vue&type=style&index=0&id=0873e98b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0873e98b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"section\", [\n    _c(\n      \"div\",\n      { staticClass: \"layout\" },\n      _vm._l(_vm.imgs, function (img, key) {\n        return _c(\n          \"v-card\",\n          { key: key, staticClass: \"card\" },\n          [\n            _c(\"v-img\", {\n              staticClass: \"image-fit\",\n              attrs: { src: img, \"lazy-src\": img, contain: \"\" },\n            }),\n          ],\n          1\n        )\n      }),\n      1\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=style&index=0&id=8cd52e36&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=style&index=0&id=8cd52e36&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultPicture.vue?vue&type=template&id=8cd52e36&scoped=true&\"\nimport script from \"./ResultPicture.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultPicture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultPicture.vue?vue&type=style&index=0&id=8cd52e36&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8cd52e36\",\n  null\n  \n)\n\nexport default component.exports","<script>\n\nexport default {\n  name: 'ResultPicture',\n  components: {\n  },\n  data () {\n    return {\n      imgs: ['https://raw.githubusercontent.com/systragroup/quetzal-interface/master/example/boardings_ligne_Orange.png',\n        'https://raw.githubusercontent.com/systragroup/quetzal-interface/master/example/boardings_bus.png',\n        'https://raw.githubusercontent.com/systragroup/quetzal-interface/master/example/load_ba_stm_2.png',\n        'https://raw.githubusercontent.com/systragroup/quetzal-interface/master/example/load_ba_stm_5.png',\n        'https://raw.githubusercontent.com/systragroup/quetzal-interface/master/example/boardings_ppam_exo1_sens0.png',\n      ],\n    }\n  },\n  watch: {\n\n  },\n\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <section>\n    <div class=\"layout\">\n      <v-card\n        v-for=\"(img,key) in imgs\"\n        :key=\"key\"\n        class=\"card\"\n      >\n        <v-img\n          :src=\"img\"\n          :lazy-src=\"img\"\n          contain\n          class=\"image-fit\"\n        />\n      </v-card>\n    </div>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  height:100%;\n  width: calc(100%);\n  margin:20px;\n  padding: 100px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  overflow-y: scroll;\n}\n.card {\n  max-height: 100%;\n  padding: 100px;\n  margin: 50px;\n}\n.image-fit{\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n}\n</style>\n","import { CognitoAuth, StorageHelper } from 'amazon-cognito-auth-js'\nimport router from './router'\nimport { store } from '@src/store/index.js'\nimport axios from 'axios'\nconst CLIENT_ID = process.env.VUE_APP_COGNITO_CLIENT_ID\nconst APP_DOMAIN = process.env.VUE_APP_COGNITO_APP_DOMAIN\nconst REDIRECT_URI = process.env.VUE_APP_COGNITO_REDIRECT_URI\nconst USERPOOL_ID = process.env.VUE_APP_COGNITO_USERPOOL_ID\nconst REDIRECT_URI_SIGNOUT = process.env.VUE_APP_COGNITO_REDIRECT_URI_SIGNOUT\nconst authData = {\n  ClientId: CLIENT_ID, // Your client id here\n  AppWebDomain: APP_DOMAIN,\n  TokenScopesArray: ['openid'],\n  RedirectUriSignIn: REDIRECT_URI,\n  RedirectUriSignOut: REDIRECT_URI_SIGNOUT,\n  UserPoolId: USERPOOL_ID,\n}\nconst auth = new CognitoAuth(authData)\n\nfunction getUserInfo () {\n  const jwtToken = auth.getSignInUserSession().getAccessToken().jwtToken\n  const USERINFO_URL = 'https://' + auth.getAppWebDomain() + '/oauth2/userInfo'\n  const requestData = {\n    headers: {\n      Authorization: 'Bearer ' + jwtToken,\n    },\n  }\n  return axios.get(USERINFO_URL, requestData).then(response => {\n    return response.data\n  })\n}\n\nauth.userhandler = {\n  onSuccess: function (result) {\n    // console.log('On Success result', result)\n    store.commit('setAccessToken', result.accessToken.jwtToken)\n    store.commit('setCognitoGroups', auth.getSignInUserSession().getIdToken().payload['cognito:groups'])\n\n    getUserInfo().then(response => {\n      store.commit('setCognitoInfo', response)\n      store.commit('setLoggedIn', true)\n    })\n  },\n  onFailure: function (err) {\n    store.commit('setLoggedOut')\n    router.go({ path: '/error', query: { message: 'Login failed due to ' + err } })\n  },\n}\n\nfunction getUserInfoStorageKey () {\n  const keyPrefix = 'CognitoIdentityServiceProvider.' + auth.getClientId()\n  const tokenUserName = auth.signInUserSession.getAccessToken().getUsername()\n  const userInfoKey = keyPrefix + '.' + tokenUserName + '.userInfo'\n  return userInfoKey\n}\n\nconst storageHelper = new StorageHelper()\nconst storage = storageHelper.getStorage()\nexport default {\n  auth: auth,\n  login () {\n    auth.getSession()\n  },\n  logout () {\n    if (auth.isUserSignedIn()) {\n      const userInfoKey = this.getUserInfoStorageKey()\n      auth.signOut()\n\n      storage.removeItem(userInfoKey)\n    }\n  },\n  getUserInfoStorageKey,\n  getUserInfo,\n\n}\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { scrollable: \"\", persistent: \"\", \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyAction.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelAction.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"60rem\" } },\n            [\n              _vm.editorForm.length > 1\n                ? _c(\n                    \"v-tabs\",\n                    {\n                      attrs: { grow: \"\" },\n                      model: {\n                        value: _vm.selectedTab,\n                        callback: function ($$v) {\n                          _vm.selectedTab = $$v\n                        },\n                        expression: \"selectedTab\",\n                      },\n                    },\n                    _vm._l(_vm.selectedLink, function (link) {\n                      return _c(\"v-tab\", { key: link }, [\n                        _vm._v(\"\\n          \" + _vm._s(link) + \"\\n        \"),\n                      ])\n                    }),\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(\n                      [\"deleteTrip\", \"deleterGroup\"].includes(_vm.action)\n                        ? _vm.$gettext(\"Delete\") + \" \" + _vm.message + \"?\"\n                        : _vm.$gettext(\"Edit Properties\")\n                    ) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              [\n                \"Edit Line Info\",\n                \"Edit Link Info\",\n                \"Edit Node Info\",\n                \"Edit Group Info\",\n                \"Edit rLink Info\",\n                \"Edit Road Group Info\",\n                \"Edit Visible Road Info\",\n                \"Edit rNode Info\",\n              ].includes(_vm.action)\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\n                        \"v-list\",\n                        _vm._l(_vm.orderedForm, function (value, key) {\n                          return _c(\"v-text-field\", {\n                            key: key,\n                            attrs: {\n                              label: key,\n                              filled: !value[\"disabled\"],\n                              type: _vm.$store.getters.attributeType(key),\n                              placeholder: value[\"placeholder\"]\n                                ? _vm.$gettext(\"multiple Values\")\n                                : \"\",\n                              \"persistent-placeholder\": value[\"placeholder\"]\n                                ? true\n                                : false,\n                              disabled: value[\"disabled\"],\n                            },\n                            on: {\n                              wheel: function ($event) {\n                                return $event.target.blur()\n                              },\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                key === \"route_color\"\n                                  ? {\n                                      key: \"append\",\n                                      fn: function () {\n                                        return [\n                                          _c(\"color-picker\", {\n                                            model: {\n                                              value: value[\"value\"],\n                                              callback: function ($$v) {\n                                                _vm.$set(value, \"value\", $$v)\n                                              },\n                                              expression: \"value['value']\",\n                                            },\n                                          }),\n                                        ]\n                                      },\n                                      proxy: true,\n                                    }\n                                  : null,\n                              ],\n                              null,\n                              true\n                            ),\n                            model: {\n                              value: value[\"value\"],\n                              callback: function ($$v) {\n                                _vm.$set(value, \"value\", $$v)\n                              },\n                              expression: \"value['value']\",\n                            },\n                          })\n                        }),\n                        1\n                      ),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              [\"cloneTrip\"].includes(_vm.action)\n                ? _c(\n                    \"v-card-text\",\n                    [\n                      _c(\"v-text-field\", {\n                        attrs: { label: _vm.$gettext(\"New name\") },\n                        model: {\n                          value: _vm.cloneName,\n                          callback: function ($$v) {\n                            _vm.cloneName = $$v\n                          },\n                          expression: \"cloneName\",\n                        },\n                      }),\n                    ],\n                    1\n                  )\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"success\", text: \"\" },\n                      on: { click: _vm.applyAction },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.duplicate()\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancelClone.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.cloneDialog,\n            callback: function ($$v) {\n              _vm.cloneDialog = $$v\n            },\n            expression: \"cloneDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", [\n                _c(\"span\", { staticClass: \"text-h5\" }, [\n                  _vm._v(_vm._s(_vm.$gettext(\"Duplicate and reverse\"))),\n                ]),\n                _vm._v(\" \"),\n                _c(\"span\", { staticClass: \"text-h5\" }, [\n                  _vm._v(_vm._s(_vm.message + \" ?\")),\n                ]),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\"v-text-field\", {\n                    attrs: { label: _vm.$gettext(\"New name\") },\n                    model: {\n                      value: _vm.cloneName,\n                      callback: function ($$v) {\n                        _vm.cloneName = $$v\n                      },\n                      expression: \"cloneName\",\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancelClone },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.duplicate()\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Save\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"SidePanel\", {\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"selectedr-group\": _vm.selectedrGroup,\n        },\n        on: {\n          \"update-tripList\": _vm.updateSelectedTrips,\n          confirmChanges: _vm.confirmChanges,\n          abortChanges: _vm.abortChanges,\n          deleteButton: _vm.deleteButton,\n          cloneButton: _vm.cloneButton,\n          propertiesButton: _vm.actionClick,\n          isRoadMode: (e) => (_vm.isRoadMode = e),\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"Map\", {\n        ref: \"mapref\",\n        attrs: {\n          \"selected-trips\": _vm.selectedTrips,\n          \"is-road-mode\": _vm.isRoadMode,\n        },\n        on: { clickFeature: _vm.actionClick },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? \"400px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondary\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n            ],\n            ref: \"leftPanel\",\n            staticClass: \"left-panel-content\",\n            attrs: { id: \"left-panel\" },\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"v-tabs\",\n                    {\n                      attrs: {\n                        \"background-color\": \"secondary\",\n                        dark: \"\",\n                        grow: \"\",\n                      },\n                      model: {\n                        value: _vm.tab,\n                        callback: function ($$v) {\n                          _vm.tab = $$v\n                        },\n                        expression: \"tab\",\n                      },\n                    },\n                    [\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"PT Links\")))]),\n                      _vm._v(\" \"),\n                      _c(\"v-tab\", [_vm._v(_vm._s(_vm.$gettext(\"Road Links\")))]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"LinksSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: !_vm.roadMode,\n                        expression: \"!roadMode\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.windowHeight,\n                      \"selected-trips\": _vm.selectedTrips,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"links\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      cloneButton: (e) => _vm.$emit(\"cloneButton\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"RoadSidePanel\", {\n                    directives: [\n                      {\n                        name: \"show\",\n                        rawName: \"v-show\",\n                        value: _vm.roadMode,\n                        expression: \"roadMode\",\n                      },\n                    ],\n                    attrs: {\n                      height: _vm.windowHeight,\n                      \"selectedr-goup\": _vm.selectedrGroup,\n                    },\n                    on: {\n                      \"update-tripList\": (e) =>\n                        _vm.$emit(\"update-tripList\", {\n                          type: \"rlinks\",\n                          data: e,\n                        }),\n                      confirmChanges: (e) => _vm.$emit(\"confirmChanges\", e),\n                      abortChanges: (e) => _vm.$emit(\"abortChanges\", e),\n                      deleteButton: (e) => _vm.$emit(\"deleteButton\", e),\n                      propertiesButton: (e) => _vm.$emit(\"propertiesButton\", e),\n                    },\n                  }),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList == _vm.tripId\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList == _vm.tripId\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.propertiesButton(_vm.tripList)\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Lines\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"visibles\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: \"filter\",\n                  \"item-color\": \"secondary\",\n                  color: \"secondary\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm._l(_vm.classifiedTripId, function (value, key) {\n            return _c(\n              \"v-list-group\",\n              {\n                key: String(value.name) + String(key),\n                attrs: {\n                  color: \"secondarydark\",\n                  value: false,\n                  \"no-action\": \"\",\n                },\n                scopedSlots: _vm._u(\n                  [\n                    {\n                      key: \"activator\",\n                      fn: function () {\n                        return [\n                          _c(\n                            \"v-list-item-action\",\n                            [\n                              _c(\n                                \"v-tooltip\",\n                                {\n                                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                  scopedSlots: _vm._u(\n                                    [\n                                      {\n                                        key: \"activator\",\n                                        fn: function ({ on, attrs }) {\n                                          return [\n                                            _c(\n                                              \"v-btn\",\n                                              _vm._g(\n                                                _vm._b(\n                                                  {\n                                                    attrs: { icon: \"\" },\n                                                    on: {\n                                                      click: function ($event) {\n                                                        $event.stopPropagation()\n                                                        return _vm.showGroup(\n                                                          value.tripId\n                                                        )\n                                                      },\n                                                    },\n                                                  },\n                                                  \"v-btn\",\n                                                  attrs,\n                                                  false\n                                                ),\n                                                on\n                                              ),\n                                              [\n                                                _c(\n                                                  \"v-icon\",\n                                                  {\n                                                    staticClass:\n                                                      \"list-item-icon\",\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                  \" +\n                                                        _vm._s(\n                                                          value.tripId.some(\n                                                            (val) =>\n                                                              _vm.tripList.includes(\n                                                                val\n                                                              )\n                                                          )\n                                                            ? \"fa-eye fa\"\n                                                            : \"fa-eye-slash fa\"\n                                                        ) +\n                                                        \"\\n                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                          ]\n                                        },\n                                      },\n                                    ],\n                                    null,\n                                    true\n                                  ),\n                                },\n                                [\n                                  _vm._v(\" \"),\n                                  _c(\"span\", [\n                                    _vm._v(\n                                      \"\\n              \" +\n                                        _vm._s(\n                                          value.tripId.some((val) =>\n                                            _vm.tripList.includes(val)\n                                          )\n                                            ? _vm.$gettext(\"Hide All\")\n                                            : _vm.$gettext(\"Show All\")\n                                        ) +\n                                        \"\\n            \"\n                                    ),\n                                  ]),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\"v-list-item-title\", [\n                                _c(\"strong\", [\n                                  _vm._v(\n                                    \"\\n              \" +\n                                      _vm._s(\n                                        value.name == \"undefined\"\n                                          ? _vm.$gettext(value.name)\n                                          : value.name\n                                      ) +\n                                      \"\\n            \"\n                                  ),\n                                ]),\n                              ]),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled:\n                                                    _vm.editorTrip != null\n                                                      ? true\n                                                      : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.propertiesButton(\n                                                      value.tripId\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              { attrs: { color: \"regular\" } },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-list\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(\n                                  _vm._s(_vm.$gettext(\"Edit Group Properties\"))\n                                ),\n                              ]),\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-tooltip\",\n                            {\n                              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                              scopedSlots: _vm._u(\n                                [\n                                  {\n                                    key: \"activator\",\n                                    fn: function ({ on, attrs }) {\n                                      return [\n                                        _c(\n                                          \"v-btn\",\n                                          _vm._g(\n                                            _vm._b(\n                                              {\n                                                staticClass: \"ma-1\",\n                                                attrs: {\n                                                  icon: \"\",\n                                                  disabled: _vm.editorTrip\n                                                    ? true\n                                                    : false,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    $event.stopPropagation()\n                                                    return _vm.deleteButton({\n                                                      trip: value.tripId,\n                                                      message: value.name,\n                                                      action: \"deleteTrip\",\n                                                    })\n                                                  },\n                                                },\n                                              },\n                                              \"v-btn\",\n                                              attrs,\n                                              false\n                                            ),\n                                            on\n                                          ),\n                                          [\n                                            _c(\n                                              \"v-icon\",\n                                              {\n                                                attrs: {\n                                                  small: \"\",\n                                                  color: \"regular\",\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                fas fa-trash\\n              \"\n                                                ),\n                                              ]\n                                            ),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    },\n                                  },\n                                ],\n                                null,\n                                true\n                              ),\n                            },\n                            [\n                              _vm._v(\" \"),\n                              _c(\"span\", [\n                                _vm._v(_vm._s(_vm.$gettext(\"Delete Group\"))),\n                              ]),\n                            ]\n                          ),\n                        ]\n                      },\n                      proxy: true,\n                    },\n                  ],\n                  null,\n                  true\n                ),\n              },\n              [\n                _vm._v(\" \"),\n                _c(\"v-virtual-scroll\", {\n                  attrs: {\n                    items: value.tripId,\n                    \"item-height\": 45,\n                    height: Math.min(\n                      _vm.height - 220,\n                      45 * value.tripId.length + 3\n                    ),\n                  },\n                  scopedSlots: _vm._u(\n                    [\n                      {\n                        key: \"default\",\n                        fn: function ({ item }) {\n                          return [\n                            _c(\n                              \"v-list-item\",\n                              { key: item, staticClass: \"pl-2\" },\n                              [\n                                _c(\n                                  \"v-list-item-action\",\n                                  [\n                                    _c(\"v-checkbox\", {\n                                      staticClass: \"pl-2\",\n                                      attrs: {\n                                        \"on-icon\": \"fa-eye fa\",\n                                        \"off-icon\": \"fa-eye-slash fa\",\n                                        color: \"primary\",\n                                        value: item,\n                                        size: \"10\",\n                                        \"hide-details\": \"\",\n                                      },\n                                      model: {\n                                        value: _vm.tripList,\n                                        callback: function ($$v) {\n                                          _vm.tripList = $$v\n                                        },\n                                        expression: \"tripList\",\n                                      },\n                                    }),\n                                  ],\n                                  1\n                                ),\n                                _vm._v(\" \"),\n                                item == _vm.editorTrip\n                                  ? _c(\"v-list-item-title\", [\n                                      _c(\"strong\", [_vm._v(_vm._s(item))]),\n                                    ])\n                                  : _c(\"v-list-item-title\", [\n                                      _vm._v(\n                                        \"\\n              \" +\n                                          _vm._s(item) +\n                                          \"\\n            \"\n                                      ),\n                                    ]),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.editButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-pen\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Edit Line\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.propertiesButton(\n                                                            item\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-list\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(\n                                          _vm.$gettext(\"Edit Line Properties\")\n                                        )\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled:\n                                                          (item !=\n                                                            _vm.editorTrip) &\n                                                          (_vm.editorTrip !=\n                                                            null)\n                                                            ? true\n                                                            : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.cloneButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        color:\n                                                          item == _vm.editorTrip\n                                                            ? \"regular\"\n                                                            : \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-clone\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(_vm._s(_vm.$gettext(\"Duplicate\"))),\n                                    ]),\n                                  ]\n                                ),\n                                _vm._v(\" \"),\n                                _c(\n                                  \"v-tooltip\",\n                                  {\n                                    attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                                    scopedSlots: _vm._u(\n                                      [\n                                        {\n                                          key: \"activator\",\n                                          fn: function ({ on, attrs }) {\n                                            return [\n                                              _c(\n                                                \"v-btn\",\n                                                _vm._g(\n                                                  _vm._b(\n                                                    {\n                                                      staticClass: \"ma-1\",\n                                                      attrs: {\n                                                        icon: \"\",\n                                                        disabled: _vm.editorTrip\n                                                          ? true\n                                                          : false,\n                                                      },\n                                                      on: {\n                                                        click: function (\n                                                          $event\n                                                        ) {\n                                                          return _vm.deleteButton(\n                                                            {\n                                                              trip: item,\n                                                              message: item,\n                                                              action:\n                                                                \"deleteTrip\",\n                                                            }\n                                                          )\n                                                        },\n                                                      },\n                                                    },\n                                                    \"v-btn\",\n                                                    attrs,\n                                                    false\n                                                  ),\n                                                  on\n                                                ),\n                                                [\n                                                  _c(\n                                                    \"v-icon\",\n                                                    {\n                                                      attrs: {\n                                                        small: \"\",\n                                                        color: \"regular\",\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"\\n                    fas fa-trash\\n                  \"\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ],\n                                                1\n                                              ),\n                                            ]\n                                          },\n                                        },\n                                      ],\n                                      null,\n                                      true\n                                    ),\n                                  },\n                                  [\n                                    _vm._v(\" \"),\n                                    _c(\"span\", [\n                                      _vm._v(\n                                        _vm._s(_vm.$gettext(\"Delete Line\"))\n                                      ),\n                                    ]),\n                                  ]\n                                ),\n                              ],\n                              1\n                            ),\n                          ]\n                        },\n                      },\n                    ],\n                    null,\n                    true\n                  ),\n                }),\n              ],\n              1\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          (_vm.editorTrip ? true : false)\n            ? _c(\n                \"v-list-item\",\n                [\n                  _c(\n                    \"v-tooltip\",\n                    {\n                      attrs: { right: \"\", \"open-delay\": \"500\" },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        staticClass: \"mx-2\",\n                                        attrs: {\n                                          color: _vm.$store.getters.anchorMode\n                                            ? \"grey\"\n                                            : \"regular\",\n                                        },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.$store.commit(\n                                              \"changeAnchorMode\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                      _vm._v(\n                                        \"\\n              fas fa-anchor\\n            \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ],\n                        null,\n                        false,\n                        3833012906\n                      ),\n                    },\n                    [\n                      _vm._v(\" \"),\n                      _c(\"span\", [\n                        _vm._v(\n                          \" \" + _vm._s(_vm.$gettext(\"Edit Line geometry\")) + \" \"\n                        ),\n                        _c(\"b\", [_vm._v(\"(CTRL)\")]),\n                      ]),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"abortChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-times-circle\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Abort\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$emit(\"confirmChanges\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                        _vm._v(\"\\n          fas fa-save\\n        \"),\n                      ]),\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Confirm\")) +\n                          \"\\n      \"\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\n            \"v-list-item\",\n            {\n              directives: [\n                {\n                  name: \"show\",\n                  rawName: \"v-show\",\n                  value: _vm.editorTrip ? false : true,\n                  expression: \"editorTrip ? false: true\",\n                },\n              ],\n            },\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"text--primary\",\n                                  attrs: {\n                                    color: \"primary\",\n                                    fab: \"\",\n                                    small: \"\",\n                                  },\n                                  on: { click: _vm.createNewLine },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [_c(\"v-icon\", [_vm._v(\"fas fa-plus\")])],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"Create new Line\")))]),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nconst $gettext = s => s\nconst short = require('short-uuid')\n\nexport default {\n  name: 'LinksSidePanel',\n  components: {\n  },\n\n  props: ['selectedTrips', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'cloneButton', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: [],\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.lineAttributes },\n    editorTrip () { return this.$store.getters.editorTrip },\n    tripId () { return this.$store.getters.tripId },\n    arrayUniqueTripId () {\n      // drop duplicates links trips. each line is a trip here.\n      const arrayUniqueByKey = [...new Map(this.$store.getters.links.features.map(item =>\n        [item.properties.trip_id, item.properties])).values()]\n      return arrayUniqueByKey\n    },\n    filteredCat () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.arrayUniqueTripId.map(\n        item => item[this.selectedFilter])))\n      return val\n    },\n\n    classifiedTripId () {\n      // return this list of object, {cat_name, tripId list}\n      const classifiedTripId = []\n      const undefinedCat = { name: $gettext('undefined'), tripId: [] }\n      this.filteredCat.forEach(c => {\n        const arr = this.arrayUniqueTripId.filter(\n          item => item[this.selectedFilter] === c,\n        ).map((item) => item.trip_id)\n\n        // regroup all null values into a single list 'undefined'\n        if (c === null | c === '' | c === undefined) {\n          undefinedCat.tripId.push(...arr)\n        } else {\n          classifiedTripId.push({ name: c, tripId: arr })\n        }\n      })\n      // if there was undefined Categories, append it at the end.\n      if (undefinedCat.tripId.length > 0) {\n        classifiedTripId.push(undefinedCat)\n      }\n      return classifiedTripId\n    },\n  },\n\n  watch: {\n    tripList (val) {\n      this.$emit('update-tripList', val)\n    },\n    tripId (newVal, oldVal) {\n      if (newVal.length < oldVal.length) {\n        // if a trip is deleted. we remove it, no remapping.\n        this.tripList = this.tripList.filter((trip) => newVal.includes(trip))\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        const newTrip = newVal.filter(item => !oldVal.includes(item))[0]\n        this.tripList.push(newTrip)\n      } else {\n        // if a trip name changes.\n        // update TripList v-model when a trip_id is changed.\n        const dict = {}\n        oldVal.forEach(\n          function (key, i) {\n            dict[key] = newVal[i]\n          })\n        this.tripList = this.tripList.map((trip) => dict[trip])\n      }\n    },\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // prevent group larger than 500.\n      if (this.filteredCat.length > 500) {\n        // if it is larger, return to oldValue\n        this.selectedFilter = oldVal\n        // display error message\n        this.$store.commit('changeNotification',\n          {\n            text: $gettext('Cannot filter by this field. There is more than 500 groups'),\n            autoClose: true,\n            color: 'red darken-2',\n          })\n        // return the value in the v-select as the old Value\n        // eslint-disable-next-line no-return-assign\n        this.$nextTick(() => this.vmodelSelectedFilter = oldVal)\n      }\n    },\n\n  },\n  created () {\n    this.tripList = this.selectedTrips\n    this.selectedFilter = 'route_type'\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    editButton (value) {\n      if (this.editorTrip === value) {\n        this.showDialog = true\n      } else {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      if (typeof value === 'object') {\n        this.$emit('propertiesButton', { action: 'Edit Group Info', lingering: false, tripIds: value })\n      } else if (!this.editorTrip) {\n        this.$store.commit('setEditorTrip', { tripId: value, changeBounds: false })\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: false })\n        // just open dialog\n      } else {\n        this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    createNewLine () {\n      const name = 'trip_' + short.generate()\n      this.$store.commit('setEditorTrip', { tripId: name, changeBounds: false })\n      this.$emit('propertiesButton', { action: 'Edit Line Info', lingering: true })\n    },\n\n    cloneButton (obj) {\n      this.$emit('cloneButton', obj)\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList === this.tripId) {\n        this.tripList = []\n      } else {\n        this.tripList = this.tripId\n      }\n    },\n    showGroup (val) {\n      // at least one value is selected in the group : uncheck all\n      if (val.some(value => this.tripList.includes(value))) {\n        this.tripList = this.tripList.filter(trip => !val.includes(trip))\n      // none are selected : select All.\n      } else {\n        this.tripList = Array.from(new Set([...this.tripList, ...val]))\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList == tripId ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList == tripId? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-on=\"on\"\n            @click=\"propertiesButton(tripList)\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"Lines\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','visibles')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          label=\"filter\"\n          item-color=\"secondary\"\n          color=\"secondary\"\n        />\n      </v-list-item>\n      <v-list-group\n        v-for=\"(value, key) in classifiedTripId\"\n        :key=\"String(value.name) + String(key)\"\n        color=\"secondarydark\"\n        :value=\"false\"\n        no-action\n      >\n        <template v-slot:activator>\n          <v-list-item-action>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  @click.stop=\"showGroup(value.tripId)\"\n                >\n                  <v-icon class=\"list-item-icon\">\n                    {{ value.tripId.some(val => tripList.includes(val))\n                      ? 'fa-eye fa' :\n                        'fa-eye-slash fa' }}\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>\n                {{ value.tripId.some(val => tripList.includes(val))\n                  ? $gettext(\"Hide All\"):\n                    $gettext(\"Show All\") }}\n              </span>\n            </v-tooltip>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title>\n              <strong>\n                {{ value.name=='undefined'? $gettext(value.name): value.name }}\n              </strong>\n            </v-list-item-title>\n          </v-list-item-content>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip!=null? true: false\"\n                v-on=\"on\"\n                @click.stop=\"propertiesButton(value.tripId)\"\n              >\n                <v-icon color=\"regular\">\n                  fas fa-list\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Edit Group Properties\") }}</span>\n          </v-tooltip>\n          <v-tooltip\n            bottom\n            open-delay=\"500\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                icon\n                class=\"ma-1\"\n                v-bind=\"attrs\"\n                :disabled=\"editorTrip ? true: false\"\n                v-on=\"on\"\n                @click.stop=\"deleteButton({trip:value.tripId, message:value.name,action:'deleteTrip'})\"\n              >\n                <v-icon\n                  small\n                  color=\"regular\"\n                >\n                  fas fa-trash\n                </v-icon>\n              </v-btn>\n            </template>\n            <span>{{ $gettext(\"Delete Group\") }}</span>\n          </v-tooltip>\n        </template>\n\n        <v-virtual-scroll\n          :items=\"value.tripId\"\n          :item-height=\"45\"\n          :height=\"Math.min(height-220, 45*value.tripId.length+3)\"\n        >\n          <template v-slot=\"{ item }\">\n            <v-list-item\n              :key=\"item\"\n              class=\"pl-2\"\n            >\n              <v-list-item-action>\n                <v-checkbox\n                  v-model=\"tripList\"\n                  class=\"pl-2\"\n                  :on-icon=\"'fa-eye fa'\"\n                  :off-icon=\"'fa-eye-slash fa'\"\n                  :color=\"'primary'\"\n                  :value=\"item\"\n                  size=\"10\"\n                  hide-details\n                />\n              </v-list-item-action>\n              <v-list-item-title v-if=\"item==editorTrip\">\n                <strong>{{ item }}</strong>\n              </v-list-item-title>\n              <v-list-item-title v-else>\n                {{ item }}\n              </v-list-item-title>\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"editButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-pen\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"propertiesButton(item)\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-list\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"(item != editorTrip) & (editorTrip!=null) ? true: false\"\n                    v-on=\"on\"\n                    @click=\"cloneButton({trip:item,message:item})\"\n                  >\n                    <v-icon :color=\"item == editorTrip? 'regular':'regular' \">\n                      fas fa-clone\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Duplicate\") }}</span>\n              </v-tooltip>\n\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    icon\n                    class=\"ma-1\"\n                    v-bind=\"attrs\"\n                    :disabled=\"editorTrip ? true: false\"\n                    v-on=\"on\"\n                    @click=\"deleteButton({trip:item,message:item,action:'deleteTrip'})\"\n                  >\n                    <v-icon\n                      small\n                      color=\"regular\"\n                    >\n                      fas fa-trash\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ $gettext(\"Delete Line\") }}</span>\n              </v-tooltip>\n            </v-list-item>\n          </template>\n        </v-virtual-scroll>\n      </v-list-group>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item v-if=\"editorTrip ? true: false\">\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-anchor\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Edit Line geometry\") }} <b>(CTRL)</b></span>\n        </v-tooltip>\n\n        <v-btn\n          @click=\"$emit('abortChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-times-circle\n          </v-icon>\n          {{ $gettext(\"Abort\") }}\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          @click=\"$emit('confirmChanges')\"\n        >\n          <v-icon\n            small\n            left\n          >\n            fas fa-save\n          </v-icon>\n          {{ $gettext(\"Confirm\") }}\n        </v-btn>\n      </v-list-item>\n      <v-list-item v-show=\"editorTrip ? false: true\">\n        <v-spacer />\n\n        <v-tooltip\n          bottom\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              color=\"primary\"\n              class=\"text--primary\"\n              fab\n              small\n              v-on=\"on\"\n              @click=\"createNewLine\"\n            >\n              <v-icon>fas fa-plus</v-icon>\n            </v-btn>\n          </template>\n          <span>{{ $gettext(\"Create new Line\") }}</span>\n        </v-tooltip>\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=1e4aade7&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LinksSidePanel.vue?vue&type=style&index=0&id=1e4aade7&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./LinksSidePanel.vue?vue&type=template&id=1e4aade7&scoped=true&\"\nimport script from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./LinksSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LinksSidePanel.vue?vue&type=style&index=0&id=1e4aade7&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e4aade7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"white--text secondary\" },\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\" },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.showAll()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(\n                                  _vm.tripList.length > 0\n                                    ? \"fa-eye fa\"\n                                    : \"fa-eye-slash fa\"\n                                ) +\n                                \"\\n          \"\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(\n                    _vm.tripList.length > 0\n                      ? _vm.$gettext(\"Hide All\")\n                      : _vm.$gettext(\"Show All\")\n                  )\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\", \"open-delay\": \"500\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: {\n                                icon: \"\",\n                                disabled:\n                                  _vm.tripList.length === 0 ? true : false,\n                              },\n                              on: {\n                                click: function ($event) {\n                                  return _vm.editVisible()\n                                },\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", { staticClass: \"list-item-icon\" }, [\n                            _vm._v(\"\\n            fas fa-list\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$gettext(\"Edit Visibles Properties\"))),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"span\", { style: { color: \"white\" } }, [\n            _vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Roads\")) + \"\\n    \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"open-on-hover\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"ma-2\",\n                              style: { color: \"white\" },\n                              attrs: { icon: \"\", dark: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [_c(\"v-icon\", [_vm._v(\"fa-solid fa-download\")])],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                [\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"all\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export All\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item\",\n                    {\n                      attrs: { link: \"\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.$store.commit(\"exportFiles\", \"visible\")\n                        },\n                      },\n                    },\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Export Only Visible\")) +\n                            \"\\n          \"\n                        ),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          staticClass: \"mx-auto scrollable\",\n          attrs: {\n            \"max-width\": \"100%\",\n            \"min-width\": \"100%\",\n            height: _vm.height,\n          },\n        },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\"v-select\", {\n                attrs: {\n                  items: _vm.filterChoices,\n                  \"prepend-icon\": \"fas fa-filter\",\n                  label: \"filter\",\n                  \"item-color\": \"secondary\",\n                  color: \"secondary\",\n                },\n                model: {\n                  value: _vm.vmodelSelectedFilter,\n                  callback: function ($$v) {\n                    _vm.vmodelSelectedFilter = $$v\n                  },\n                  expression: \"vmodelSelectedFilter\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-virtual-scroll\", {\n            attrs: {\n              items: _vm.filteredCat,\n              \"item-height\": 45,\n              height: _vm.height - 71,\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function ({ item }) {\n                  return [\n                    _c(\n                      \"v-list-item\",\n                      {\n                        key: _vm.vmodelSelectedFilter.concat(item),\n                        staticClass: \"pl-2\",\n                      },\n                      [\n                        _c(\n                          \"v-list-item-action\",\n                          [\n                            _c(\"v-checkbox\", {\n                              staticClass: \"pl-2\",\n                              attrs: {\n                                \"on-icon\": \"fa-eye fa\",\n                                \"off-icon\": \"fa-eye-slash fa\",\n                                color: \"primary\",\n                                value: item,\n                                size: \"10\",\n                                \"hide-details\": \"\",\n                              },\n                              model: {\n                                value: _vm.tripList,\n                                callback: function ($$v) {\n                                  _vm.tripList = $$v\n                                },\n                                expression: \"tripList\",\n                              },\n                            }),\n                          ],\n                          1\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"v-list-item-title\", [\n                          _vm._v(\n                            \"\\n            \" + _vm._s(item) + \"\\n          \"\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.propertiesButton(\n                                                    item\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            { attrs: { color: \"regular\" } },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-list\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(\n                                _vm._s(_vm.$gettext(\"Edit Line Properties\"))\n                              ),\n                            ]),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"v-tooltip\",\n                          {\n                            attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"activator\",\n                                  fn: function ({ on, attrs }) {\n                                    return [\n                                      _c(\n                                        \"v-btn\",\n                                        _vm._g(\n                                          _vm._b(\n                                            {\n                                              staticClass: \"ma-1\",\n                                              attrs: {\n                                                icon: \"\",\n                                                disabled: false,\n                                              },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.deleteButton({\n                                                    trip: item,\n                                                    group: _vm.selectedFilter,\n                                                    message: item,\n                                                    action: \"deleterGroup\",\n                                                  })\n                                                },\n                                              },\n                                            },\n                                            \"v-btn\",\n                                            attrs,\n                                            false\n                                          ),\n                                          on\n                                        ),\n                                        [\n                                          _c(\n                                            \"v-icon\",\n                                            {\n                                              attrs: {\n                                                small: \"\",\n                                                color: \"regular\",\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                \"\\n                  fas fa-trash\\n                \"\n                                              ),\n                                            ]\n                                          ),\n                                        ],\n                                        1\n                                      ),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              true\n                            ),\n                          },\n                          [\n                            _vm._v(\" \"),\n                            _c(\"span\", [\n                              _vm._v(_vm._s(_vm.$gettext(\"Delete Line\"))),\n                            ]),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ]\n                },\n              },\n            ]),\n          }),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        { staticClass: \"mx-auto\" },\n        [\n          _c(\n            \"v-list-item\",\n            [\n              _c(\n                \"v-tooltip\",\n                {\n                  attrs: { right: \"\", \"open-delay\": \"500\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  staticClass: \"mx-2\",\n                                  attrs: {\n                                    color: _vm.$store.getters.anchorMode\n                                      ? \"grey\"\n                                      : \"regular\",\n                                  },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.$store.commit(\n                                        \"changeAnchorMode\"\n                                      )\n                                    },\n                                  },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [\n                              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                                _vm._v(\n                                  \"\\n              fas fa-anchor\\n            \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [\n                    _vm._v(\n                      \" \" + _vm._s(_vm.$gettext(\"Edit Line geometry\")) + \" \"\n                    ),\n                    _c(\"b\", [_vm._v(\"(CTRL)\")]),\n                  ]),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.$emit(\"confirmChanges\")\n                _vm.showDialog = !_vm.showDialog\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Save Changes?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\", left: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"abortChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.$emit(\"confirmChanges\")\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'RoadSidePanel',\n  components: {\n  },\n  props: ['selectedrGoup', 'height'], // height is here to resize with the windows...\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'deleteButton', 'propertiesButton', 'newLine'],\n\n  data () {\n    return {\n      showDialog: false,\n      tripList: this.selectedrGoup,\n      // for some reason, the v-model does not update when i force it in a watcher or a method.\n      // I this vmodelselectedFilter for displaying the correct selected filter in the filter selector.\n      selectedFilter: '',\n      vmodelSelectedFilter: '',\n    }\n  },\n  computed: {\n    filterChoices () { return this.$store.getters.rlineAttributes },\n    filteredCat () { return this.$store.getters.filteredrCategory },\n\n  },\n\n  watch: {\n    tripList (newVal, oldVal) {\n      let changes = ''\n      let method = 'add'\n      if (newVal === this.filteredCat) {\n        changes = newVal\n        method = 'showAll'\n      } else if (newVal.length === 0) {\n        changes = []\n        method = 'hideAll'\n      } else if (newVal.length < oldVal.length) {\n        // if a tripis unchecked. we remove it\n        changes = oldVal.filter(item => !newVal.includes(item))\n        method = 'remove'\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        changes = newVal.filter(item => !oldVal.includes(item))\n        method = 'add'\n      }\n      if (changes !== '') {\n        this.$emit('update-tripList', { category: this.vmodelSelectedFilter, data: changes, method: method })\n      }\n    },\n    selectedrGoup (newVal) {\n      // check selected group in store. if it changes from another component\n      const a = new Set(newVal)\n      const b = new Set(this.tripList)\n      if (!(a.size === b.size && new Set([...a, ...b]).size === a.size)) {\n        this.tripList = structuredClone(newVal)\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      this.selectedFilter = newVal\n      // only reset if we change the filter.\n      this.$store.commit('changeSelectedrFilter', this.selectedFilter)\n      // when the component is loaded, oldVal is null and we dont want to overwrite tripList to [].\n      if (oldVal) {\n        this.tripList = []\n      }\n    },\n\n  },\n  mounted () {\n    this.tripList = this.selectedrGoup\n    this.selectedFilter = this.$store.getters.selectedrFilter\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n\n    propertiesButton (value) {\n      // select the TripId and open dialog\n      this.$emit('propertiesButton', {\n        action: 'Edit Road Group Info',\n        lingering: false,\n        category: this.vmodelSelectedFilter,\n        group: value,\n      })\n    },\n    editVisible () {\n      this.$emit('propertiesButton', {\n        action: 'Edit Visible Road Info',\n        lingering: false,\n      })\n    },\n\n    deleteButton (obj) {\n      // obj contain trip and message.\n      this.$emit('deleteButton', obj)\n    },\n    showAll () {\n      if (this.tripList === this.filteredCat) {\n        this.tripList = []\n      } else {\n        this.tripList = this.filteredCat\n      }\n    },\n    showGroup (val) {\n      this.tripList = Array.from(new Set([...this.tripList, ...val]))\n    },\n\n  },\n\n}\n</script>\n<template>\n  <section>\n    <v-card-title class=\"white--text secondary\">\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"showAll()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              {{ tripList.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ tripList.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n      </v-tooltip>\n      <v-tooltip\n        bottom\n        open-delay=\"500\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            :disabled=\"tripList.length===0? true: false\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"editVisible()\"\n          >\n            <v-icon class=\"list-item-icon\">\n              fas fa-list\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext(\"Edit Visibles Properties\") }}</span>\n      </v-tooltip>\n\n      <v-spacer />\n      <span :style=\"{color: 'white'}\">\n        {{ $gettext(\"Roads\") }}\n      </span>\n\n      <v-spacer />\n\n      <v-spacer />\n      <v-menu\n        offset-y\n        open-on-hover\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            icon\n            class=\"ma-2\"\n            :style=\"{color: 'white'}\"\n            dark\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>fa-solid fa-download</v-icon>\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','all')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export All\") }}\n            </v-list-item-title>\n          </v-list-item>\n          <v-list-item\n            link\n            @click=\"$store.commit('exportFiles','visible')\"\n          >\n            <v-list-item-title>\n              {{ $gettext(\"Export Only Visible\") }}\n            </v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-card-title>\n    <v-card\n      max-width=\"100%\"\n      min-width=\"100%\"\n      :height=\"height\"\n      class=\"mx-auto scrollable\"\n    >\n      <v-list-item>\n        <v-select\n          v-model=\"vmodelSelectedFilter\"\n          :items=\"filterChoices\"\n          prepend-icon=\"fas fa-filter\"\n          label=\"filter\"\n          item-color=\"secondary\"\n          color=\"secondary\"\n        />\n      </v-list-item>\n\n      <v-virtual-scroll\n        :items=\"filteredCat\"\n        :item-height=\"45\"\n        :height=\"height-71\"\n      >\n        <template v-slot=\"{ item }\">\n          <v-list-item\n            :key=\"vmodelSelectedFilter.concat(item)\"\n            class=\"pl-2\"\n          >\n            <v-list-item-action>\n              <v-checkbox\n                v-model=\"tripList\"\n                class=\"pl-2\"\n                :on-icon=\"'fa-eye fa'\"\n                :off-icon=\"'fa-eye-slash fa'\"\n                :color=\"'primary'\"\n                :value=\"item\"\n                size=\"10\"\n                hide-details\n              />\n            </v-list-item-action>\n\n            <v-list-item-title>\n              {{ item }}\n            </v-list-item-title>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"propertiesButton(item)\"\n                >\n                  <v-icon :color=\"'regular' \">\n                    fas fa-list\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Edit Line Properties\") }}</span>\n            </v-tooltip>\n\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  icon\n                  class=\"ma-1\"\n                  v-bind=\"attrs\"\n                  :disabled=\"false\"\n                  v-on=\"on\"\n                  @click=\"deleteButton({trip:item,group:selectedFilter,message:item,action:'deleterGroup'})\"\n                >\n                  <v-icon\n                    small\n                    color=\"regular\"\n                  >\n                    fas fa-trash\n                  </v-icon>\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete Line\") }}</span>\n            </v-tooltip>\n          </v-list-item>\n        </template>\n      </v-virtual-scroll>\n\n      <v-divider />\n    </v-card>\n    <v-card class=\"mx-auto\">\n      <v-list-item>\n        <v-tooltip\n          right\n          open-delay=\"500\"\n        >\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              v-bind=\"attrs\"\n              class=\"mx-2\"\n              :color=\"$store.getters.anchorMode? 'grey':'regular'\"\n              v-on=\"on\"\n              @click=\"$store.commit('changeAnchorMode')\"\n            >\n              <v-icon small>\n                fas fa-anchor\n              </v-icon>\n            </v-btn>\n          </template>\n          <span> {{ $gettext(\"Edit Line geometry\") }} <b>(CTRL)</b></span>\n        </v-tooltip>\n        <v-spacer />\n      </v-list-item>\n    </v-card>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"$emit('confirmChanges'); showDialog = !showDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Save Changes?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-btn\n            color=\"regular\"\n            left\n            @click=\"showDialog = false\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"$emit('abortChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n\n            @click=\"$emit('confirmChanges'); showDialog = !showDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n@import \"src/scss/variables.scss\";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=06cceff0&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadSidePanel.vue?vue&type=style&index=0&id=06cceff0&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./RoadSidePanel.vue?vue&type=template&id=06cceff0&scoped=true&\"\nimport script from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoadSidePanel.vue?vue&type=style&index=0&id=06cceff0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06cceff0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=script&lang=js&\"","<script>\nimport LinksSidePanel from './LinksSidePanel.vue'\nimport RoadSidePanel from './RoadSidePanel.vue'\nexport default {\n  name: 'SidePanel',\n  components: {\n    LinksSidePanel,\n    RoadSidePanel,\n  },\n  props: ['selectedTrips', 'selectedrGroup'],\n  events: ['selectEditorTrip', 'confirmChanges', 'abortChanges', 'cloneButton', 'deleteButton', 'propertiesButton', 'newLine', 'isRoadMode'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      tab: 0,\n      roadMode: false,\n    }\n  },\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n    windowHeight () { return this.$store.getters.windowHeight - 200 },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n\n    tab (val) {\n      if (val === 1) {\n        this.roadMode = true\n      } else {\n        this.roadMode = false\n      }\n      this.$emit('isRoadMode', this.roadMode)\n    },\n  },\n\n}\n</script>\n<template>\n  <section\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{'width': showLeftPanel ? '400px' : '0px'}\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondary\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        id=\"left-panel\"\n        ref=\"leftPanel\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <v-tabs\n              v-model=\"tab\"\n              background-color=\"secondary\"\n              dark\n              grow\n            >\n              <v-tab>{{ $gettext(\"PT Links\") }}</v-tab>\n              <v-tab>{{ $gettext(\"Road Links\") }}</v-tab>\n            </v-tabs>\n            <LinksSidePanel\n              v-show=\"!roadMode\"\n              :height=\"windowHeight\"\n              :selected-trips=\"selectedTrips\"\n              @update-tripList=\"(e) => $emit('update-tripList', {type: 'links', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @cloneButton=\"(e) => $emit('cloneButton',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n            <RoadSidePanel\n              v-show=\"roadMode\"\n              :height=\"windowHeight\"\n              :selectedr-goup=\"selectedrGroup\"\n              @update-tripList=\"(e) => $emit('update-tripList',{type: 'rlinks', data: e})\"\n              @confirmChanges=\"(e) => $emit('confirmChanges',e)\"\n              @abortChanges=\"(e) => $emit('abortChanges',e)\"\n              @deleteButton=\"(e) => $emit('deleteButton',e)\"\n              @propertiesButton=\"(e) => $emit('propertiesButton',e)\"\n            />\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color:var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=2a32919e&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidePanel.vue?vue&type=style&index=0&id=2a32919e&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SidePanel.vue?vue&type=template&id=2a32919e&scoped=true&\"\nimport script from \"./SidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SidePanel.vue?vue&type=style&index=0&id=2a32919e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a32919e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      key: _vm.mapStyle,\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": _vm.mapStyle,\n        center: _vm.$store.getters.mapCenter,\n        zoom: _vm.$store.getters.mapZoom,\n      },\n      on: {\n        load: _vm.onMapLoaded,\n        mousemove: _vm.draw,\n        mouseout: function ($event) {\n          return _vm.resetDraw()\n        },\n        click: _vm.addPoint,\n        mouseup: _vm.rightClickMap,\n      },\n    },\n    [\n      _c(\n        \"v-menu\",\n        {\n          attrs: {\n            \"close-on-content-click\": false,\n            \"close-on-click\": false,\n            origin: \"top right\",\n            transition: \"scale-transition\",\n            \"position-y\": 30,\n            \"nudge-width\": 200,\n            \"offset-x\": \"\",\n            \"offset-y\": \"\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"activator\",\n              fn: function ({ on, attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        {\n                          staticClass: \"setting\",\n                          attrs: { fab: \"\", small: \"\" },\n                        },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                        _vm._v(\"\\n          fa-solid fa-cog\\n        \"),\n                      ]),\n                    ],\n                    1\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.showSettings,\n            callback: function ($$v) {\n              _vm.showSettings = $$v\n            },\n            expression: \"showSettings\",\n          },\n        },\n        [\n          _vm._v(\" \"),\n          _vm.showSettings\n            ? _c(\"Settings\", {\n                on: { submit: () => (_vm.showSettings = false) },\n              })\n            : _vm._e(),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"RoadLinks\",\n              _vm._g(\n                {\n                  ref: \"roadref\",\n                  attrs: {\n                    map: _vm.map,\n                    \"is-editor-mode\": _vm.isEditorMode,\n                    \"is-road-mode\": _vm.isRoadMode,\n                    \"anchor-mode\": _vm.anchorMode,\n                  },\n                },\n                _vm.isEditorMode\n                  ? {}\n                  : _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHoverRoad,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\"StaticLinks\", {\n              attrs: {\n                map: _vm.map,\n                \"showed-trips\": _vm.selectedTrips,\n                \"is-editor-mode\": _vm.isEditorMode,\n              },\n              on: { rightClick: (e) => _vm.$emit(\"clickFeature\", e) },\n            }),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _c(\n              \"EditorLinks\",\n              _vm._g(\n                { attrs: { map: _vm.map, \"anchor-mode\": _vm.anchorMode } },\n                _vm.anchorMode\n                  ? { clickFeature: _vm.clickFeature }\n                  : {\n                      onHover: _vm.onHover,\n                      offHover: _vm.offHover,\n                      clickFeature: _vm.clickFeature,\n                    }\n              )\n            ),\n          ]\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.mapIsLoaded\n        ? [\n            _vm.drawMode\n              ? _c(\"MglGeojsonLayer\", {\n                  attrs: {\n                    \"source-id\": \"drawLink\",\n                    source: {\n                      type: \"geojson\",\n                      data: _vm.drawLink,\n                      buffer: 0,\n                      generateId: true,\n                    },\n                    \"layer-id\": \"drawLink\",\n                    layer: {\n                      type: \"line\",\n                      minzoom: 2,\n                      paint: {\n                        \"line-opacity\": 1,\n                        \"line-color\":\n                          _vm.$vuetify.theme.currentTheme.linksprimary,\n                        \"line-width\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          5,\n                          3,\n                        ],\n                        \"line-dasharray\": [\n                          \"case\",\n                          [\"boolean\", _vm.connectedDrawLink, false],\n                          [\"literal\", []],\n                          [\"literal\", [0, 2, 4]],\n                        ],\n                      },\n                    },\n                  },\n                })\n              : _vm._e(),\n          ]\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-card\",\n    {\n      class: { shake: _vm.shake },\n      attrs: { \"max-width\": 300 },\n      on: {\n        keydown: [\n          function ($event) {\n            if (\n              !$event.type.indexOf(\"key\") &&\n              _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n            )\n              return null\n            return _vm.submit.apply(null, arguments)\n          },\n          function ($event) {\n            if (\n              !$event.type.indexOf(\"key\") &&\n              _vm._k($event.keyCode, \"esc\", 27, $event.key, [\"Esc\", \"Escape\"])\n            )\n              return null\n            return _vm.cancel.apply(null, arguments)\n          },\n        ],\n      },\n    },\n    [\n      _c(\"v-card-title\", { staticClass: \"subtitle\" }, [\n        _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n  \"),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-text\",\n        [\n          _c(\n            \"v-form\",\n            { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n            [\n              _c(\n                \"v-container\",\n                [\n                  _c(\n                    \"v-col\",\n                    [\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.linkSpeed.type,\n                          label: _vm.$gettext(_vm.linkSpeed.name),\n                          suffix: _vm.linkSpeed.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.linkSpeed.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.rules,\n                          required: \"\",\n                        },\n                        on: { wheel: () => {} },\n                        model: {\n                          value: _vm.linkSpeed.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.linkSpeed, \"value\", $$v)\n                          },\n                          expression: \"linkSpeed.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.roadSpeed.type,\n                          label: _vm.$gettext(_vm.roadSpeed.name),\n                          suffix: _vm.roadSpeed.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.roadSpeed.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.rules,\n                          required: \"\",\n                        },\n                        on: { wheel: () => {} },\n                        model: {\n                          value: _vm.roadSpeed.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.roadSpeed, \"value\", $$v)\n                          },\n                          expression: \"roadSpeed.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-select\", {\n                        attrs: {\n                          items: _vm.linksPopupContent.choices,\n                          label: _vm.$gettext(_vm.linksPopupContent.name),\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.linksPopupContent.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          \"menu-props\": { top: true, offsetY: true },\n                          chips: \"\",\n                          multiple: \"\",\n                        },\n                        model: {\n                          value: _vm.linksPopupContent.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.linksPopupContent, \"value\", $$v)\n                          },\n                          expression: \"linksPopupContent.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-select\", {\n                        attrs: {\n                          items: _vm.roadsPopupContent.choices,\n                          label: _vm.$gettext(_vm.roadsPopupContent.name),\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.roadsPopupContent.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          \"menu-props\": { top: true, offsetY: true },\n                          chips: \"\",\n                          multiple: \"\",\n                        },\n                        model: {\n                          value: _vm.roadsPopupContent.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.roadsPopupContent, \"value\", $$v)\n                          },\n                          expression: \"roadsPopupContent.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.defaultHighway.type,\n                          label: _vm.$gettext(_vm.defaultHighway.name),\n                          suffix: _vm.defaultHighway.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.defaultHighway.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.zipRules,\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.defaultHighway.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.defaultHighway, \"value\", $$v)\n                          },\n                          expression: \"defaultHighway.value\",\n                        },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"v-text-field\", {\n                        attrs: {\n                          type: _vm.outputName.type,\n                          label: _vm.$gettext(_vm.outputName.name),\n                          suffix: _vm.outputName.units,\n                          hint: _vm.showHint\n                            ? _vm.$gettext(_vm.outputName.hint)\n                            : \"\",\n                          \"persistent-hint\": _vm.showHint,\n                          rules: _vm.zipRules,\n                          required: \"\",\n                        },\n                        model: {\n                          value: _vm.outputName.value,\n                          callback: function ($$v) {\n                            _vm.$set(_vm.outputName, \"value\", $$v)\n                          },\n                          expression: \"outputName.value\",\n                        },\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-actions\",\n        [\n          _c(\n            \"v-btn\",\n            { attrs: { color: \"grey\", text: \"\" }, on: { click: _vm.cancel } },\n            [_vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n    \")]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: { color: \"green darken-1\", text: \"\" },\n              on: { click: _vm.submit },\n            },\n            [_vm._v(\"\\n      \" + _vm._s(_vm.$gettext(\"Save\")) + \"\\n    \")]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: { icon: \"\", small: \"\" },\n              on: {\n                click: function ($event) {\n                  _vm.showHint = !_vm.showHint\n                },\n              },\n            },\n            [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\n\nexport default {\n  name: 'Settings',\n  events: ['submit'],\n\n  data () {\n    return {\n\n      linkSpeed: {\n        name: $gettext('PT speed'),\n        type: 'Number',\n        value: this.$store.getters.linkSpeed,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate travel time when a link is drawn, extend or a node is moved'),\n      },\n      roadSpeed: {\n        name: $gettext('Road speed'),\n        type: 'Number',\n        value: this.$store.getters.roadSpeed,\n        units: 'km/h',\n        hint: $gettext('Speed used to calculate road travel time when a link is drawn'),\n      },\n      linksPopupContent: {\n        name: $gettext('PT Popup Content'),\n        type: 'String',\n        choices: this.$store.getters.lineAttributes,\n        value: this.$store.getters.linksPopupContent,\n        hint: $gettext('Link field to display when hovering a trip on the map'),\n      },\n      roadsPopupContent: {\n        name: $gettext('Road Popup Content'),\n        type: 'String',\n        choices: this.$store.getters.rlineAttributes,\n        value: this.$store.getters.roadsPopupContent,\n        hint: $gettext('Link field to display when hovering road link on the map'),\n      },\n      defaultHighway: {\n        name: $gettext('Road Highway name'),\n        type: 'String',\n        value: this.$store.getters.defaultHighway,\n        hint: $gettext('New road links Highway property name'),\n      },\n      outputName: {\n        name: $gettext('Export name'),\n        type: 'String',\n        value: this.$store.getters.outputName,\n        units: '.zip',\n        hint: $gettext('the name of the exported zip file'),\n      },\n      errorMessage: null,\n      showHint: false,\n      shake: false,\n\n      rules: [\n        v => !!v || $gettext('Required'),\n        v => v >= 0 || $gettext('should be larger than 0'),\n      ],\n      zipRules: [v => v.slice(-4) !== '.zip' || $gettext('do not add .zip to the end')],\n      showDialog: true,\n    }\n  },\n\n  methods: {\n    submit () {\n      if (this.$refs.form.validate()) {\n        const payload = {\n          linkSpeed: this.linkSpeed.value,\n          roadSpeed: this.roadSpeed.value,\n          linksPopupContent: this.linksPopupContent.value,\n          roadsPopupContent: this.roadsPopupContent.value,\n          outputName: this.outputName.value,\n          defaultHighway: this.defaultHighway.value,\n        }\n        this.$store.commit('applySettings', payload)\n        this.$emit('submit', true)\n        this.$store.commit('changeNotification',\n          { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () { this.$emit('submit', false) },\n  },\n}\n</script>\n<template>\n  <v-card\n    :class=\"{'shake':shake}\"\n    :max-width=\"300\"\n    @keydown.enter=\"submit\"\n    @keydown.esc=\"cancel\"\n  >\n    <v-card-title class=\"subtitle\">\n      {{ $gettext('Settings') }}\n    </v-card-title>\n\n    <v-card-text>\n      <v-form\n        ref=\"form\"\n        lazy-validation\n      >\n        <v-container>\n          <v-col>\n            <v-text-field\n              v-model=\"linkSpeed.value\"\n              :type=\"linkSpeed.type\"\n              :label=\"$gettext(linkSpeed.name)\"\n              :suffix=\"linkSpeed.units\"\n              :hint=\"showHint? $gettext(linkSpeed.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"rules\"\n              required\n              @wheel=\"()=>{}\"\n            />\n            <v-text-field\n              v-model=\"roadSpeed.value\"\n              :type=\"roadSpeed.type\"\n              :label=\"$gettext(roadSpeed.name)\"\n              :suffix=\"roadSpeed.units\"\n              :hint=\"showHint? $gettext(roadSpeed.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"rules\"\n              required\n              @wheel=\"()=>{}\"\n            />\n            <v-select\n              v-model=\"linksPopupContent.value\"\n              :items=\"linksPopupContent.choices\"\n              :label=\"$gettext(linksPopupContent.name)\"\n              :hint=\"showHint? $gettext(linksPopupContent.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :menu-props=\"{ top: true, offsetY: true }\"\n              chips\n              multiple\n            />\n            <v-select\n              v-model=\"roadsPopupContent.value\"\n              :items=\"roadsPopupContent.choices\"\n              :label=\"$gettext(roadsPopupContent.name)\"\n              :hint=\"showHint? $gettext(roadsPopupContent.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :menu-props=\"{ top: true, offsetY: true }\"\n              chips\n              multiple\n            />\n            <v-text-field\n              v-model=\"defaultHighway.value\"\n              :type=\"defaultHighway.type\"\n              :label=\"$gettext(defaultHighway.name)\"\n              :suffix=\"defaultHighway.units\"\n              :hint=\"showHint? $gettext(defaultHighway.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"zipRules\"\n              required\n            />\n            <v-text-field\n              v-model=\"outputName.value\"\n              :type=\"outputName.type\"\n              :label=\"$gettext(outputName.name)\"\n              :suffix=\"outputName.units\"\n              :hint=\"showHint? $gettext(outputName.hint): ''\"\n              :persistent-hint=\"showHint\"\n              :rules=\"zipRules\"\n              required\n            />\n          </v-col>\n        </v-container>\n      </v-form>\n    </v-card-text>\n    <v-card-actions>\n      <v-btn\n        color=\"grey\"\n        text\n        @click=\"cancel\"\n      >\n        {{ $gettext(\"Cancel\") }}\n      </v-btn>\n\n      <v-btn\n        color=\"green darken-1\"\n        text\n        @click=\"submit\"\n      >\n        {{ $gettext(\"Save\") }}\n      </v-btn>\n\n      <v-spacer />\n      <v-btn\n        icon\n        small\n        @click=\"showHint = !showHint\"\n      >\n        <v-icon>far fa-question-circle small</v-icon>\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<style lang=\"scss\" scoped>\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.card button {\n  margin-top: 40px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=339cfb37&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=339cfb37&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=339cfb37&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=339cfb37&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"339cfb37\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.visibleLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: 1,\n                maxzoom: 18,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.1,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"has\", \"route_width\"],\n                    [\n                      \"case\",\n                      [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                      [\"to-number\", [\"get\", \"route_width\"]],\n                      3,\n                    ],\n                    3,\n                  ],\n                },\n\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"route_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.enterLink,\n                mouseleave: _vm.leaveLink,\n                contextmenu: _vm.editLineProperties,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"nodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.visibleNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"nodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 12,\n            maxzoom: 18,\n            paint: {\n              \"circle-color\": [\n                \"case\",\n                [\"boolean\", _vm.isEditorMode, false],\n                _vm.$vuetify.theme.currentTheme.mediumgrey,\n                _vm.$vuetify.theme.currentTheme.accent,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.white,\n              \"circle-stroke-width\": 1,\n              \"circle-radius\": [\n                \"case\",\n                [\"has\", \"route_width\"],\n                [\n                  \"case\",\n                  [\"to-boolean\", [\"to-number\", [\"get\", \"route_width\"]]],\n                  [\"to-number\", [\"get\", \"route_width\"]],\n                  3,\n                ],\n                3,\n              ],\n            },\n          },\n        },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n  },\n  props: ['map', 'showedTrips', 'isEditorMode'],\n  events: ['rightClick'],\n\n  data () {\n    return {\n      visibleNodes: {},\n      visibleLinks: {},\n      selectedFeatures: [],\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.linksPopupContent },\n    links () { return this.$store.getters.links },\n    nodes () { return this.$store.getters.nodes },\n  },\n\n  watch: {\n    showedTrips (newVal, oldVal) {\n      let changes = ''\n      if (newVal.length < oldVal.length) {\n        // if a tripis unchecked. we remove it\n        changes = new Set(oldVal.filter(item => !newVal.includes(item)))\n        this.setHiddenFeatures('remove', changes)\n      } else if (newVal.length > oldVal.length) {\n        // if a trip is added, we add it!\n        changes = new Set(newVal.filter(item => !oldVal.includes(item)))\n        this.setHiddenFeatures('add', changes)\n      } else {\n        this.setHiddenFeatures()\n      }\n    },\n    isEditorMode (val) {\n      val ? this.map.off('dblclick', this.selectLine) : this.map.on('dblclick', this.selectLine)\n    },\n  },\n\n  created () {\n    this.setHiddenFeatures()\n    this.map.on('dblclick', this.selectLine)\n  },\n\n  methods: {\n\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      this.selectedFeatures = event.mapboxEvent.features\n\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      if (this.selectedPopupContent.length > 0) { // do not show popup if nothing is selected (selectedPopupContent)\n        let htmlContent = this.selectedPopupContent.map(prop => `${prop}: <b>${this.selectedFeatures[0].properties[prop]}</b>`)\n        htmlContent = htmlContent.join('<br> ')\n        this.popup = new mapboxgl.Popup({ closeButton: false })\n          .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n          .setHTML(htmlContent)\n          .addTo(event.map)\n      }\n    },\n    leaveLink (event) {\n      this.selectedFeatures = []\n      if (this.popup?.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    setHiddenFeatures (method = 'all', trips = []) {\n      // get visible links and nodes.\n      if (method === 'all') {\n        this.visibleLinks = structuredClone(this.$store.getters.linksHeader)\n        this.visibleNodes = structuredClone(this.$store.getters.nodesHeader)\n        const showedTripsSet = new Set(this.showedTrips)\n        this.visibleLinks.features = this.links.features.filter(\n          link => showedTripsSet.has(link.properties.trip_id))\n        // get all unique width\n        const widthArr = [...new Set(this.visibleLinks.features.map(item => Number(item.properties.route_width)))]\n        // create a dict {width:[node_index]}\n        const widthDict = {}\n        widthArr.forEach(key => widthDict[key] = new Set())\n        this.visibleLinks.features.map(item =>\n          [item.properties.a, item.properties.b].forEach(\n            node => widthDict[Number(item.properties.route_width)].add(node)))\n        // remove duplicated nodes. only keep larger one (if node_1 is in a line of size 5 and 3, only keep the 5 one.)\n        let totSet = new Set()\n        for (let i = 0; i < widthArr.length - 1; i++) {\n          const a = widthDict[widthArr[i + 1]]\n          const b = widthDict[widthArr[i]]\n          totSet = new Set([...totSet, ...b])\n          widthDict[widthArr[i + 1]] = new Set([...a].filter(x => !totSet.has(x)))\n        }\n        // for each width, get the nodes and add the width to the properties for rendering.\n        widthArr.forEach(key => {\n          const newNodes = this.nodes.features.filter(node => widthDict[key].has(node.properties.index))\n          newNodes.map(node => node.properties.route_width = key)\n          this.visibleNodes.features.push(...newNodes)\n        })\n      } else if (method === 'remove') {\n        this.visibleLinks.features = this.visibleLinks.features.filter(link => !trips.has(link.properties.trip_id))\n        const a = this.visibleLinks.features.map(item => item.properties.a)\n        const b = this.visibleLinks.features.map(item => item.properties.b)\n        const ab = new Set([...a, ...b])\n        this.visibleNodes.features = this.visibleNodes.features.filter(node => ab.has(node.properties.index))\n      } else if (method === 'add') {\n        const newFeatures = this.links.features.filter(link => trips.has(link.properties.trip_id))\n        this.visibleLinks.features.push(...newFeatures)\n        // get all unique value of width\n        const widthArr = [...new Set(newFeatures.map(item => Number(item.properties.route_width)))]\n        widthArr.sort(function (a, b) { return b - a }) // sort it\n        // create a dict {width:[node_index]}\n        const widthDict = {}\n        widthArr.forEach(key => widthDict[key] = new Set())\n        newFeatures.map(item =>\n          [item.properties.a, item.properties.b].forEach(\n            node => widthDict[Number(item.properties.route_width)].add(node)))\n        // remove duplicated nodes. only keep larger one (if node_1 is in a line of size 5 and 3, only keep the 5 one.)\n        let totSet = new Set()\n        for (let i = 0; i < widthArr.length - 1; i++) {\n          const a = widthDict[widthArr[i + 1]]\n          const b = widthDict[widthArr[i]]\n          totSet = new Set([...totSet, ...b])\n          widthDict[widthArr[i + 1]] = new Set([...a].filter(x => !totSet.has(x)))\n        }\n\n        // for each width, get the nodes and add the width to the properties for rendering.\n        widthArr.forEach(key => {\n          const newNodes = this.nodes.features.filter(node => widthDict[key].has(node.properties.index))\n          newNodes.map(node => node.properties.route_width = key)\n          this.visibleNodes.features.push(...newNodes)\n        })\n      }\n      // const endTime = performance.now()\n    },\n    selectLine (e) {\n      e.preventDefault() // prevent map control\n      // if we are not hovering. select closest link (within 5 pixels)\n      if (this.selectedFeatures.length === 0) {\n        // Set `bbox` as 5px reactangle area around clicked point.\n        const bbox = [\n          [e.point.x - 5, e.point.y - 5],\n          [e.point.x + 5, e.point.y + 5],\n        ]\n        // Find features intersecting the bounding box.\n        this.selectedFeatures = this.map.queryRenderedFeatures(bbox, {\n          layers: ['links'],\n        })\n      }\n      // do nothing if nothing is clicked (clicking on map, not on a link)\n      if (this.selectedFeatures.length > 0) {\n        // set. the first one as editor mode\n        // eslint-disable-next-line max-len\n        this.$store.commit('setEditorTrip', { tripId: this.selectedFeatures[0].properties.trip_id, changeBounds: false })\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    editLineProperties (event) {\n      // eslint-disable-next-line max-len\n      this.$store.commit('setEditorTrip', { tripId: event.mapboxEvent.features[0].properties.trip_id, changeBounds: false })\n      this.$emit('rightClick', { action: 'Edit Line Info', lingering: false })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: 1,\n        maxzoom: 18,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.1, 1],\n          'line-width': ['case', ['has', 'route_width'],\n                         ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                          ['to-number', ['get', 'route_width']],\n                          3], 3],\n        },\n\n        layout: {\n          'line-sort-key': ['to-number',['get', 'route_width']],\n          'line-cap': 'round',\n        }\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: enterLink, mouseleave: leaveLink, contextmenu:editLineProperties }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: visibleNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 12,\n        maxzoom: 18,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false],$vuetify.theme.currentTheme.mediumgrey, $vuetify.theme.currentTheme.accent],\n          'circle-stroke-color': $vuetify.theme.currentTheme.white,\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['has', 'route_width'],\n                            ['case', ['to-boolean', ['to-number', ['get', 'route_width']]],\n                             ['to-number', ['get', 'route_width']],\n                             3], 3],\n        },\n      }\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StaticLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaticLinks.vue?vue&type=template&id=176ec4a2&scoped=true&\"\nimport script from \"./StaticLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./StaticLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"176ec4a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorLinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorLinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorLinks\",\n              layer: {\n                type: \"line\",\n                minzoom: 2,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.anchorMode, false],\n                    _vm.$vuetify.theme.currentTheme.linkssecondary,\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    12,\n                    5,\n                  ],\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              click: _vm.selectClick,\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n            },\n          },\n          _vm.anchorMode ? {} : { contextmenu: _vm.linkRightClick }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"editorLinks\",\n          type: \"symbol\",\n          source: \"editorLinks\",\n          \"layer-id\": \"arrow-layer\",\n          layer: {\n            type: \"symbol\",\n            minzoom: 5,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 30,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": 0.5,\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"boolean\", _vm.anchorMode, false],\n                _vm.$vuetify.theme.currentTheme.linkssecondary,\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"editorNodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.$store.getters.editorNodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"editorNodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: 2,\n                paint: {\n                  \"circle-color\": _vm.$vuetify.theme.currentTheme.accent,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    16,\n                    8,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n            on: {\n              mouseover: _vm.onCursor,\n              mouseleave: _vm.offCursor,\n              mousedown: _vm.moveNode,\n            },\n          },\n          _vm.anchorMode\n            ? {}\n            : { click: _vm.selectClick, contextmenu: _vm.contextMenuNode }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.anchorNodes,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: 2,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": \"#2C3E4E\",\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.popupEditor.showed,\n            coordinates: _vm.popupEditor.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.popupEditor.showed = false\n            },\n          },\n        },\n        [\n          _c(\"span\", [\n            _c(\"h3\", [_vm._v(_vm._s(_vm.popupEditor.content))]),\n            _vm._v(\" \"),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Left click to add a stop\")\n                    : _vm.$gettext(\"Hold left click to drag\")\n                ) +\n                \"\\n      \"\n            ),\n            _c(\"hr\"),\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.hoveredStateId?.layerId == \"editorLinks\"\n                    ? _vm.$gettext(\"Right click to edit properties\")\n                    : _vm.$gettext(\"Right click for context menu\")\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport { MglPopup, MglImageLayer, MglGeojsonLayer } from 'vue-mapbox'\nconst $gettext = s => s\n\nexport default {\n  name: 'EditorLinks',\n  components: {\n    MglPopup,\n    MglImageLayer,\n    MglGeojsonLayer,\n  },\n  props: ['map', 'anchorMode'],\n  events: ['clickFeature', 'onHover', 'offHover'],\n  data () {\n    return {\n      selectedFeature: null,\n      hoveredStateId: null,\n      disablePopup: false,\n      keepHovering: false,\n      dragNode: false,\n      popupEditor: {\n        coordinates: [0, 0],\n        showed: false,\n        content: null,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n        type: null, // link of node\n      },\n    }\n  },\n  computed: {\n    anchorNodes () { return this.anchorMode ? this.$store.getters.anchorNodes : this.$store.getters.nodesHeader },\n  },\n\n  watch: {\n\n  },\n  created () {\n  },\n\n  methods: {\n    selectClick (event) {\n      if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        // Emit a click base on layer type (node or link)\n\n        if (this.selectedFeature !== null) {\n          if (this.hoveredStateId.layerId === 'editorLinks') {\n            const action = this.anchorMode ? 'Add Anchor Inline' : 'Add Stop Inline'\n            const click = {\n              selectedFeature: this.selectedFeature,\n              action: action,\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          }\n        }\n      }\n    },\n    onCursor (event) {\n      if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'editorLinks') {\n        this.map.getCanvas().style.cursor = 'pointer'\n        if (this.hoveredStateId !== null) {\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n            { hover: false },\n          )\n        }\n        this.hoveredStateId = { layerId: event.layerId, id: event.mapboxEvent.features[0].id }\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n          { hover: true },\n        )\n        if (!this.disablePopup & !this.anchorMode) {\n          this.popupEditor.coordinates = [event.mapboxEvent.lngLat.lng,\n            event.mapboxEvent.lngLat.lat,\n          ]\n          this.popupEditor.content = this.hoveredStateId.id\n          this.popupEditor.showed = true\n        }\n      }\n      this.$emit('onHover', { selectedId: this.hoveredStateId.id })\n    },\n    offCursor (event) {\n      if (this.hoveredStateId !== null) {\n        // eslint-disable-next-line max-len\n        if (!(['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId) && event?.layerId === 'editorLinks')) {\n          // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n          if (this.keepHovering) {\n            this.dragNode = true\n            this.contextMenu.showed = false\n            // normal behaviours, hovering is false\n          } else {\n            this.map.getCanvas().style.cursor = ''\n            this.popupEditor.showed = false\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id },\n              { hover: false },\n            )\n            this.hoveredStateId = null\n            this.$emit('offHover', event)\n          }\n        }\n      }\n    },\n    contextMenuNode (event) {\n      if (this.popupEditor.showed && this.hoveredStateId?.layerId === 'editorNodes') {\n        this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng,\n          event.mapboxEvent.lngLat.lat,\n        ]\n        this.contextMenu.showed = true\n\n        this.contextMenu.type = 'node'\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.contextMenu.feature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        const selectedNode = this.contextMenu.feature.properties.index\n\n        if (selectedNode === this.$store.getters.firstNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else if (selectedNode === this.$store.getters.lastNodeId) {\n          this.contextMenu.actions =\n          [\n            $gettext('Edit Node Info'),\n            $gettext('Delete Stop'),\n          ]\n        } else {\n          this.contextMenu.actions =\n           [\n             $gettext('Edit Node Info'),\n             $gettext('Cut Before Node'),\n             $gettext('Cut After Node'),\n             $gettext('Delete Stop'),\n           ]\n        }\n      } else if (this.hoveredStateId?.layerId === 'anchorNodes') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)\n        const click = {\n          selectedFeature: this.selectedFeature[0],\n          action: 'Delete Anchor',\n          lngLat: null,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.hoveredStateId.layerId === 'editorLinks') {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: 'Edit Link Info',\n          lngLat: event.mapboxEvent.lngLat,\n          lingering: true,\n        }\n        this.$emit('clickFeature', click)\n      }\n    },\n\n    actionClick (event) {\n      const click = {\n        selectedFeature: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n    },\n\n    moveNode (event) {\n      if (event.mapboxEvent.originalEvent.button === 0 &\n      ['editorNodes', 'anchorNodes'].includes(this.hoveredStateId.layerId)) {\n        event.mapboxEvent.preventDefault() // prevent map control\n        this.map.getCanvas().style.cursor = 'grab'\n        // disable mouseLeave so we stay in hover state.\n        this.keepHovering = true\n        // get selected node\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id)[0]\n\n        // disable popup\n        this.disablePopup = true\n        this.popupEditor.showed = false\n        // get position\n        this.map.on('mousemove', this.onMove)\n        this.map.on('mouseup', this.stopMovingNode)\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.map.loaded() && this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorNodes') {\n          click.action = 'Move Anchor'\n          this.$emit('clickFeature', click)\n        } else {\n          click.action = 'Move Node'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n\n    stopMovingNode (event) {\n      // stop tracking position (moving node.)\n      this.map.getCanvas().style.cursor = 'pointer'\n      this.map.off('mousemove', this.onMove)\n      // enable popup and hovering off back. disable Dragmode\n      this.keepHovering = false\n      this.dragNode = false\n      this.disablePopup = false\n      // call offCursor event, if we drag too quickly, it will not be call and the node will stay in hovering mode.\n      this.offCursor()\n      this.map.off('mouseup', this.stopMovingNode)\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.\n    },\n  },\n\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"editorLinks\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorLinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorLinks\"\n      :layer=\"{\n        type: 'line',\n        minzoom: 2,\n        paint: {\n          'line-color': ['case', ['boolean', anchorMode, false],$vuetify.theme.currentTheme.linkssecondary, $vuetify.theme.currentTheme.linksprimary],\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 12, 5],\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {contextmenu: linkRightClick}\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n    />\n\n    <MglImageLayer\n      source-id=\"editorLinks\"\n      type=\"symbol\"\n      source=\"editorLinks\"\n      layer-id=\"arrow-layer\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: 5,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 30,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': 0.5,\n          'icon-rotate': 90\n        },\n        paint: {\n          'icon-color': ['case', ['boolean', anchorMode, false], $vuetify.theme.currentTheme.linkssecondary, $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"editorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: $store.getters.editorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"editorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': $vuetify.theme.currentTheme.accent,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 16, 8],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        }\n      }\"\n      v-on=\"anchorMode ? {} : {click: selectClick, contextmenu: contextMenuNode}\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: anchorNodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: 2,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': '#2C3E4E',\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"popupEditor.showed\"\n      :coordinates=\"popupEditor.coordinates\"\n      @close=\"popupEditor.showed=false\"\n    >\n      <span>\n        <h3>{{ popupEditor.content }}</h3>\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Left click to add a stop\"):\n          $gettext(\"Hold left click to drag\") }}\n        <hr>\n        {{ hoveredStateId?.layerId == 'editorLinks'?\n          $gettext(\"Right click to edit properties\"):\n          $gettext(\"Right click for context menu\") }}\n      </span>\n    </MglPopup>\n\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditorLinks.vue?vue&type=template&id=4fa4f540&scoped=true&\"\nimport script from \"./EditorLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./EditorLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fa4f540\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rlinks\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrLinks : _vm.rlinks,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rlinks\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"route_color\"],\n                    [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"line-opacity\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    0.3,\n                    1,\n                  ],\n                  \"line-width\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    12,\n                    2,\n                  ],\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                click: _vm.selectClick,\n                contextmenu: _vm.linkRightClick,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglImageLayer\", {\n        attrs: {\n          \"source-id\": \"rlinks\",\n          type: \"symbol\",\n          source: \"rlinks\",\n          \"layer-id\": \"arrow-rlinks\",\n          layer: {\n            type: \"symbol\",\n            minzoom: _vm.minZoom.rendered,\n            layout: {\n              \"symbol-placement\": \"line\",\n              \"symbol-spacing\": 200,\n              \"icon-ignore-placement\": true,\n              \"icon-image\": \"arrow\",\n              \"icon-size\": [\n                \"case\",\n                [\"has\", \"oneway\"],\n                [\n                  \"case\",\n                  [\"to-boolean\", [\"to-number\", [\"get\", \"oneway\"]]],\n                  0.3,\n                  0,\n                ],\n                0.3,\n              ],\n              \"icon-rotate\": 90,\n            },\n            paint: {\n              \"icon-color\": [\n                \"case\",\n                [\"has\", \"route_color\"],\n                [\"concat\", \"#\", [\"get\", \"route_color\"]],\n                _vm.$vuetify.theme.currentTheme.linksprimary,\n              ],\n            },\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglGeojsonLayer\",\n        _vm._g(\n          {\n            attrs: {\n              \"source-id\": \"rnodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.isRoadMode ? _vm.renderedrNodes : _vm.rnodes,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"rnodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.rendered,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"boolean\", _vm.isEditorMode, false],\n                    _vm.$vuetify.theme.currentTheme.mediumgrey,\n                    _vm.$vuetify.theme.currentTheme.accent,\n                  ],\n                  \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.white,\n                  \"circle-stroke-width\": 1,\n                  \"circle-radius\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    14,\n                    3,\n                  ],\n                  \"circle-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    0.3,\n                    0,\n                  ],\n                },\n              },\n            },\n          },\n          _vm.isEditorMode\n            ? {}\n            : {\n                mouseenter: _vm.onCursor,\n                mouseleave: _vm.offCursor,\n                mousedown: _vm.moveNode,\n                contextmenu: _vm.contextMenuNode,\n              }\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"MglGeojsonLayer\", {\n        attrs: {\n          \"source-id\": \"anchorrNodes\",\n          source: {\n            type: \"geojson\",\n            data: _vm.isRoadMode\n              ? _vm.renderedAnchorrNodes\n              : _vm.$store.getters.rnodesHeader,\n            buffer: 0,\n            promoteId: \"index\",\n          },\n          \"layer-id\": \"anchorrNodes\",\n          layer: {\n            interactive: true,\n            type: \"circle\",\n            minzoom: _vm.minZoom.rendered,\n            paint: {\n              \"circle-color\": \"#ffffff\",\n              \"circle-opacity\": 0.5,\n              \"circle-radius\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                10,\n                5,\n              ],\n              \"circle-blur\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                0.3,\n                0,\n              ],\n              \"circle-stroke-color\": _vm.$vuetify.theme.currentTheme.darkgrey,\n              \"circle-stroke-width\": 2,\n            },\n          },\n        },\n        on: {\n          click: _vm.selectClick,\n          mouseover: _vm.onCursor,\n          mouseleave: _vm.offCursor,\n          mousedown: _vm.moveNode,\n          contextmenu: _vm.contextMenuNode,\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"MglPopup\",\n        {\n          attrs: {\n            \"close-button\": false,\n            showed: _vm.contextMenu.showed,\n            coordinates: _vm.contextMenu.coordinates,\n          },\n          on: {\n            close: function ($event) {\n              _vm.contextMenu.showed = false\n            },\n          },\n        },\n        [\n          _c(\n            \"span\",\n            {\n              on: {\n                mouseleave: function ($event) {\n                  _vm.contextMenu.showed = false\n                },\n              },\n            },\n            [\n              _c(\n                \"v-list\",\n                { attrs: { dense: \"\", flat: \"\" } },\n                [\n                  _c(\n                    \"v-list-item-group\",\n                    _vm._l(_vm.contextMenu.actions, function (action) {\n                      return _c(\n                        \"v-list-item\",\n                        { key: action.id },\n                        [\n                          _c(\n                            \"v-list-item-content\",\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: { outlined: \"\", small: \"\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.actionClick({\n                                        action: action,\n                                        feature: _vm.contextMenu.feature,\n                                        coordinates:\n                                          _vm.contextMenu.coordinates,\n                                      })\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                \" +\n                                      _vm._s(_vm.$gettext(action)) +\n                                      \"\\n              \"\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<!-- eslint-disable max-len -->\n<!-- eslint-disable no-return-assign -->\n<script>\nimport { MglGeojsonLayer, MglImageLayer, MglPopup } from 'vue-mapbox'\nimport mapboxgl from 'mapbox-gl'\nimport booleanContains from '@turf/boolean-contains'\nimport buffer from '@turf/buffer'\nimport bboxPolygon from '@turf/bbox-polygon'\nconst $gettext = s => s\nexport default {\n  name: 'StaticLinks',\n  components: {\n    MglGeojsonLayer,\n    MglImageLayer,\n    MglPopup,\n  },\n  props: ['map', 'isEditorMode', 'anchorMode', 'isRoadMode'],\n  events: ['clickFeature'],\n\n  data () {\n    return {\n      hoveredStateId: null,\n      visibleNodes: {},\n      visibleLinks: {},\n      disablePopup: false,\n      editorRnodes: {},\n      renderedrLinks: {},\n      renderedrNodes: {},\n      renderedAnchorrNodes: {},\n      bbox: null,\n      minZoom: {\n        links: 9,\n        rendered: 14,\n      },\n      contextMenu: {\n        coordinates: [0, 0],\n        showed: false,\n        actions: [],\n        feature: null,\n      },\n\n    }\n  },\n  computed: {\n    selectedPopupContent () { return this.$store.getters.roadsPopupContent },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    rnodes () { return this.$store.getters.visiblerNodes },\n    rlinks () { return this.$store.getters.visiblerLinks },\n    anchorrNodes () {\n      return this.anchorMode ? this.$store.getters.anchorrNodes(this.renderedrLinks) : this.$store.getters.rnodesHeader\n    },\n\n  },\n\n  watch: {\n    anchorMode () { this.getBounds() },\n    selectedrGroup (val) { this.getBounds() },\n    isRoadMode (val) {\n      if (val) {\n        this.map.on('dragend', this.getBounds)\n        this.map.on('zoomend', this.getBounds)\n      } else {\n        this.map.off('dragend', this.getBounds)\n        this.map.off('zoomend', this.getBounds)\n      }\n    },\n\n  },\n  created () {\n    this.renderedrNodes = structuredClone(this.$store.getters.rnodesHeader)\n    this.renderedAnchorrNodes = structuredClone(this.$store.getters.rnodesHeader)\n    this.renderedrLinks = structuredClone(this.$store.getters.rlinksHeader)\n    this.map.on('dragend', this.getBounds)\n    this.map.on('zoomend', this.getBounds)\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    this.map.removeLayer('arrow-rlinks')\n  },\n\n  methods: {\n    getBounds () {\n      // get map bounds and return only the features inside of it.\n      // this way, only the visible links and node are rendered and updating is fast\n      // (i.e. moving a node in real time)\n      // note only line inside the bbox (buffured) are visible.\n      const bounds = this.map.getBounds()\n      // create a BBOX with a 800m buffer\n      this.bbox = buffer(bboxPolygon([bounds._sw.lng, bounds._sw.lat, bounds._ne.lng, bounds._ne.lat]), 0.2)\n      // only get the geojson if the zoom level is bigger than the min.\n      // if not, getting all anchorpoint would be very intensive!!\n      // this way, only a small number of anchor points are computed\n      if (this.map.getZoom() > this.minZoom.rendered) {\n        // this.renderedrLinks.features = this.rlinks.features.filter(link => booleanContains(this.bbox, link))\n        this.renderedrNodes.features = this.rnodes.features.filter(node => booleanContains(this.bbox, node))\n        this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node => booleanContains(this.bbox, node))\n\n        const nodeSet = new Set(this.renderedrNodes.features.map(node => node.properties.index))\n        this.renderedrLinks.features = this.rlinks.features.filter(link => nodeSet.has(link.properties.a) | nodeSet.has(link.properties.b))\n      } else if (this.map.getZoom() > this.minZoom.links) {\n        // ion this case. nodes are unloaded. we display links.\n        this.renderedrLinks.features = this.rlinks.features\n        this.renderedrNodes.features = []\n        this.renderedAnchorrNodes.features = []\n      } else {\n        this.renderedrLinks.features = []\n        this.renderedrNodes.features = []\n        this.renderedAnchorrNodes.features = []\n      }\n    },\n    onCursor (event) {\n      if (this.isRoadMode) {\n        if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n        if (this.hoveredStateId === null || this.hoveredStateId.layerId === 'rlinks') {\n          if (!this.disablePopup && this.selectedPopupContent.length > 0) {\n            const selectedFeature = event.mapboxEvent.features[0]\n            if (selectedFeature.layer.id !== 'rnodes') {\n              let htmlContent = this.selectedPopupContent.map(prop => `${prop}: <b>${selectedFeature.properties[prop]}</b>`)\n              htmlContent = htmlContent.join('<br> ')\n              this.popup = new mapboxgl.Popup({ closeButton: false })\n                .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n                .setHTML(htmlContent)\n                .addTo(event.map)\n            }\n          }\n          this.map.getCanvas().style.cursor = 'pointer'\n          if (this.hoveredStateId !== null) {\n            this.map.setFeatureState(\n              { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n              { hover: false },\n            )\n          }\n          // get a list of all overID. if there is multiple superposed link get all of them!\n          const uniqueArray = [...new Set(event.mapboxEvent.features.map(item => item.id))]\n          this.hoveredStateId = { layerId: event.layerId, id: uniqueArray }\n          this.map.setFeatureState(\n            { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n            { hover: true },\n          )\n\n          this.$emit('onHover', { layerId: this.hoveredStateId.layerId, selectedId: this.hoveredStateId.id })\n        }\n      }\n    },\n\n    offCursor (event) {\n      if (this.isRoadMode) {\n      // todo: error warning is throw sometime when we move a node over another node or anchor.\n        if (this.popup?.isOpen()) this.popup.remove()\n        if (this.hoveredStateId !== null) {\n          // eslint-disable-next-line max-len\n          if (!(['rnodes', 'anchorrNodes'].includes(this.hoveredStateId?.layerId) && event?.layerId === 'rlinks')) {\n            // when we drag a node, we want to start dragging when we leave the node, but we will stay in hovering mode.\n            if (this.keepHovering) {\n              this.dragNode = true\n              // normal behaviours, hovering is false\n            } else {\n              this.map.getCanvas().style.cursor = ''\n              this.map.setFeatureState(\n                { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n                { hover: false },\n              )\n              this.hoveredStateId = null\n              this.$emit('offHover', event)\n            }\n          }\n        }\n      }\n    },\n\n    selectClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId !== null) {\n        // Get the highlighted feature\n        // const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        // this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          this.selectedFeature = this.hoveredStateId.id\n          // Emit a click base on layer type (node or link)\n\n          if (this.selectedFeature !== null) {\n            if (this.hoveredStateId.layerId === 'rlinks') {\n              const action = this.anchorMode ? 'Add Road Anchor Inline' : 'Add Road Node Inline'\n              const click = {\n                selectedIndex: this.selectedFeature,\n                action: action,\n                lngLat: event.mapboxEvent.lngLat,\n              }\n              this.$emit('clickFeature', click)\n              this.getBounds()\n            }\n          }\n        }\n      }\n    },\n\n    linkRightClick (event) {\n      if (this.isRoadMode) {\n        if (this.hoveredStateId.layerId === 'rlinks') {\n          this.contextMenu.coordinates = [event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat]\n          this.contextMenu.showed = true\n          this.contextMenu.feature = this.hoveredStateId.id\n          this.contextMenu.actions =\n          [\n            $gettext('Edit rLink Info'),\n            $gettext('Delete rLink'),\n          ]\n        }\n      }\n    },\n    actionClick (event) {\n      const click = {\n        selectedIndex: event.feature,\n        action: event.action,\n        lngLat: event.coordinates,\n      }\n      this.$emit('clickFeature', click)\n      this.contextMenu.showed = false\n      this.contextMenu.type = null\n      this.getBounds()\n    },\n\n    contextMenuNode (event) {\n      if (this.isRoadMode) {\n        const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n        this.selectedFeature = features.filter(item => this.hoveredStateId.id.includes(item.id))\n\n        if (this.selectedFeature.length > 0) {\n          if (this.hoveredStateId?.layerId === 'rnodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Edit rNode Info',\n              lngLat: event.mapboxEvent.lngLat,\n            }\n            this.$emit('clickFeature', click)\n          } else if (this.hoveredStateId?.layerId === 'anchorrNodes') {\n            const click = {\n              selectedFeature: this.selectedFeature[0],\n              action: 'Delete Road Anchor',\n              lngLat: null,\n            }\n            this.$emit('clickFeature', click)\n            this.getBounds()\n          }\n        }\n      }\n    },\n\n    moveNode (event) {\n      if (this.isRoadMode) {\n        if (event.mapboxEvent.originalEvent.button === 0 &\n      ['rnodes', 'anchorrNodes'].includes(this.hoveredStateId.layerId)) {\n          event.mapboxEvent.preventDefault() // prevent map control\n          this.map.getCanvas().style.cursor = 'grab'\n          // disable mouseLeave so we stay in hover state.\n          this.keepHovering = true\n          // get selected node\n          const features = this.map.querySourceFeatures(this.hoveredStateId.layerId)\n          this.selectedFeature = features.filter(item => item.id === this.hoveredStateId.id[0])[0]\n          // disable popup\n          this.disablePopup = true\n          if (this.hoveredStateId.layerId === 'rnodes') {\n            this.$store.commit('getConnectedLinks', { selectedNode: this.selectedFeature })\n          }\n          // get position\n          this.map.on('mousemove', this.onMove)\n          this.map.on('mouseup', this.stopMovingNode)\n        }\n      }\n    },\n    onMove (event) {\n      // get position and update node position\n      // only if dragmode is activated (we just leave the node hovering state.)\n      if (this.map.loaded() && this.dragNode && this.selectedFeature) {\n        const click = {\n          selectedFeature: this.selectedFeature,\n          action: null,\n          lngLat: Object.values(event.lngLat),\n        }\n        if (this.hoveredStateId.layerId === 'anchorrNodes') {\n          click.action = 'Move rAnchor'\n          this.$emit('clickFeature', click)\n          // rerender the anchor as they are getter and are not directly modified by the moverAnchor mutation.\n          this.renderedAnchorrNodes.features = this.anchorrNodes.features.filter(node =>\n            booleanContains(this.bbox, node))\n        } else {\n          click.action = 'Move rNode'\n          this.$emit('clickFeature', click)\n        }\n      }\n    },\n    stopMovingNode (event) {\n      if (this.isRoadMode) {\n        // stop tracking position (moving node.)\n        this.map.getCanvas().style.cursor = 'pointer'\n        this.map.off('mousemove', this.onMove)\n        // enable popup and hovering off back. disable Dragmode\n        this.keepHovering = false\n        this.dragNode = false\n        this.disablePopup = false\n        // if we drag too quickly, offcursor it will not be call and the node will stay in hovering mode.\n        // calling offscursor will break the sticky node drawlink behaviour, so we only make its state back to hover-false\n        this.map.getCanvas().style.cursor = ''\n        this.map.setFeatureState(\n          { source: this.hoveredStateId.layerId, id: this.hoveredStateId.id[0] },\n          { hover: false },\n        )\n        this.hoveredStateId = null\n        this.map.off('mouseup', this.stopMovingNode)\n\n      // emit a clickNode with the selected node.\n      // this will work with lag as it is the selectedFeature and not the highlighted one.}\n      }\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <MglGeojsonLayer\n      source-id=\"rlinks\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrLinks : rlinks,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rlinks\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n          'line-opacity': ['case', ['boolean', isEditorMode, false], 0.3, 1],\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 12, 2],\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0]\n\n        },\n\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   click: selectClick,\n                                   contextmenu: linkRightClick }\"\n    />\n    <MglImageLayer\n      source-id=\"rlinks\"\n      type=\"symbol\"\n      source=\"rlinks\"\n      layer-id=\"arrow-rlinks\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.rendered,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ['case', ['has', 'oneway'],\n                        ['case',['to-boolean',['to-number',['get','oneway']]],0.3, 0],\n                        0.3],\n          'icon-rotate': 90\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'route_color'], ['concat', '#', ['get', 'route_color']], $vuetify.theme.currentTheme.linksprimary],\n        }\n      }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"rnodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedrNodes:rnodes,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"rnodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.rendered,\n        paint: {\n          'circle-color': ['case', ['boolean', isEditorMode, false], $vuetify.theme.currentTheme.mediumgrey, $vuetify.theme.currentTheme.accent],\n          'circle-stroke-color': $vuetify.theme.currentTheme.white,\n          'circle-stroke-width': 1,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 14, 3],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0]\n        },\n      }\"\n      v-on=\"isEditorMode ? { } : { mouseenter: onCursor,\n                                   mouseleave: offCursor,\n                                   mousedown: moveNode,\n                                   contextmenu:contextMenuNode }\"\n    />\n\n    <MglGeojsonLayer\n      source-id=\"anchorrNodes\"\n      :source=\"{\n        type: 'geojson',\n        data: isRoadMode? renderedAnchorrNodes: $store.getters.rnodesHeader,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"anchorrNodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.rendered,\n        paint: {\n          'circle-color': '#ffffff',\n          'circle-opacity':0.5,\n          'circle-radius': ['case', ['boolean', ['feature-state', 'hover'], false], 10, 5],\n          'circle-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 0.3, 0],\n          'circle-stroke-color': $vuetify.theme.currentTheme.darkgrey,\n          'circle-stroke-width': 2,\n        },\n      }\"\n      @click=\"selectClick\"\n      @mouseover=\"onCursor\"\n      @mouseleave=\"offCursor\"\n      @mousedown=\"moveNode\"\n      @contextmenu=\"contextMenuNode\"\n    />\n    <MglPopup\n      :close-button=\"false\"\n      :showed=\"contextMenu.showed\"\n      :coordinates=\"contextMenu.coordinates\"\n      @close=\"contextMenu.showed=false\"\n    >\n      <span\n        @mouseleave=\"contextMenu.showed=false\"\n      >\n        <v-list\n          dense\n          flat\n        >\n          <v-list-item-group>\n            <v-list-item\n              v-for=\"action in contextMenu.actions\"\n              :key=\"action.id\"\n            >\n              <v-list-item-content>\n                <v-btn\n                  outlined\n                  small\n                  @click=\"actionClick({action: action,\n                                       feature: contextMenu.feature,\n                                       coordinates: contextMenu.coordinates})\"\n                >\n                  {{ $gettext(action) }}\n                </v-btn>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </span>\n    </MglPopup>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoadLinks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoadLinks.vue?vue&type=template&id=7ddf7d4b&scoped=true&\"\nimport script from \"./RoadLinks.vue?vue&type=script&lang=js&\"\nexport * from \"./RoadLinks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ddf7d4b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","<script>\nimport Mapbox from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer } from 'vue-mapbox'\n\nimport { mapboxPublicKey } from '@src/config.js'\nimport arrowImage from '@static/arrow.png'\nimport Linestring from 'turf-linestring'\nimport Settings from './Settings.vue'\nimport StaticLinks from './StaticLinks.vue'\nimport EditorLinks from './EditorLinks.vue'\nimport RoadLinks from './RoadLinks.vue'\n\n// Filter links from selected line\nconst $gettext = s => s\n\nexport default {\n  name: 'Map',\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    StaticLinks,\n    EditorLinks,\n    RoadLinks,\n    Settings,\n  },\n  props: {\n    selectedTrips: {\n      type: Array,\n      default: () => [],\n    },\n    isRoadMode: {\n      type: Boolean,\n      default: false,\n    },\n\n  },\n  events: ['clickFeature'],\n  data () {\n    return {\n      mapboxPublicKey: null,\n      selectedFeature: null,\n      isEditorMode: false,\n      mapIsLoaded: false,\n      drawMode: false,\n      hoverId: null,\n      hoverLayer: null,\n      mapDiv: null,\n      drawLink: null,\n      mouseout: false,\n      selectedNode: { id: null, layerId: null },\n      connectedDrawLink: false,\n      showSettings: false,\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    showLeftPanel () {\n      return this.$store.getters.showLeftPanel\n    },\n    editorTrip () {\n      return this.$store.getters.editorTrip\n    },\n    editorNodes () {\n      return this.$store.getters.editorNodes\n    },\n    firstNode () {\n      return this.$store.getters.firstNode\n    },\n    lastNode () {\n      return this.$store.getters.lastNode\n    },\n    anchorMode () { return this.$store.getters.anchorMode },\n  },\n  watch: {\n\n    showLeftPanel () {\n      setTimeout(() => this.map.resize(), 250)\n    },\n    anchorMode (val) {\n      if (val) {\n        this.drawMode = false\n        this.$store.commit('changeNotification',\n          { text: $gettext('Left click to add an anchor point, right click to delete'), autoClose: false })\n      } else {\n        this.$store.commit('changeNotification', { text: '', autoClose: true })\n      }\n    },\n    isRoadMode (val) {\n      if (!val) {\n        this.drawMode = false\n      }\n    },\n    mapStyle (val) {\n      this.saveMapPosition()\n    },\n\n    editorNodes (newVal, oldVal) {\n      this.$store.commit('setAnchorMode', false)\n      this.isEditorMode = (newVal.features.length > 0)\n      if (this.isEditorMode) {\n        if (this.$store.getters.changeBounds) {\n          const bounds = new Mapbox.LngLatBounds()\n          newVal.features.forEach(node => {\n            bounds.extend(node.geometry.coordinates)\n          })\n          this.map.fitBounds(bounds, {\n            padding: 100,\n          })\n        }\n      }\n    },\n\n    drawMode (val) {\n      // set layer visible if drawMode is true\n      // check if layer exist. will bug if it is check befere rendering the layer\n      if (this.map?.getStyle().layers.filter(layer => layer.id === 'drawLink').length > 0) {\n        if (val) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        } else {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n        }\n      }\n    },\n\n    editorTrip (val) {\n      if (val) {\n        this.isEditorMode = true\n        this.connectedDrawLink = false\n      }\n    },\n    isEditorMode (val) {\n      // check if map is loaded too, there is a bug if not, when component is laoded in edition mode (changing page).\n      if (val && this.editorNodes.features.length > 0 && !this.anchorMode && this.mapIsLoaded) {\n        this.drawMode = true\n      } else {\n        this.drawMode = false\n      }// remove drawmode if we quit edition mode.\n      if (!val & this.drawMode) {\n        this.drawMode = false\n      }\n    },\n    // when the first or last node change (delete or new) change the value of those nodes.\n    'firstNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.firstNode.properties.index\n      }\n    },\n    'lastNode.geometry.coordinates' (val) {\n      if (this.editorTrip) {\n        this.drawLink = Linestring([val, val])\n        this.selectedNode.layerId = 'nodes'\n        this.selectedNode.id = this.lastNode.properties.index\n      }\n    },\n  },\n  created () {\n    if (this.editorTrip) { this.isEditorMode = true }\n    this.mapboxPublicKey = mapboxPublicKey\n    this.drawLink = structuredClone(this.$store.getters.linksHeader)\n  },\n  beforeDestroy () {\n    this.saveMapPosition()\n  },\n\n  methods: {\n    saveMapPosition () {\n      const center = this.map.getCenter()\n      this.$store.commit('saveMapPosition', {\n        mapCenter: [center.lng, center.lat],\n        mapZoom: this.map.getZoom(),\n      })\n    },\n    onMapLoaded (event) {\n      if (this.map) this.map.remove(); this.mapIsLoaded = false\n      const bounds = new Mapbox.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      if (this.$store.getters.links.features.length > 0) {\n        this.$store.getters.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      } else {\n        this.$store.getters.rlinks.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      }\n\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n\n    draw (event) {\n      // do not update position on connected link, this makes the node sticky\n      if (!this.connectedDrawLink) {\n        // there is no mousein event, so if drawlink was put nonvisible by mouseout, we cancel here.\n        if (this.drawMode && this.mouseout) {\n          this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n          this.mouseout = false\n        }\n        if (this.drawMode && !this.anchorMode) {\n        // update draw line with new geometry.\n          const geometry = [this.drawLink.geometry.coordinates[0], Object.values(event.mapboxEvent.lngLat)]\n          this.drawLink = Linestring(geometry)\n        }\n      }\n    },\n    addPoint (event) {\n      if (this.drawMode) {\n        if (this.selectedNode.layerId === 'rnodes') {\n          const pointGeom = Object.values(event.mapboxEvent.lngLat)\n          const payload = {\n            nodeIdA: this.selectedNode.id,\n            nodeIdB: this.hoverId, // could be null, a node or a link.\n            geom: pointGeom,\n            layerId: this.hoverLayer,\n          }\n          // this action overwrite payload.nodeIdB to the actual newLink nodeB.\n          this.$store.commit('createrLink', payload)\n          this.drawMode = false\n          // then, create a hover (and off hover) to the new node b to continue drawing\n          this.onHoverRoad({ layerId: 'rnodes', selectedId: [payload.nodeIdB] })\n          this.offHover()\n\n          // onHoverRoad (event)\n          this.$refs.roadref.getBounds()\n        } else { // PT nodes\n          if (this.drawMode & !this.anchorMode & !this.hoverId) {\n            const action = (this.selectedNode.id === this.$store.getters.lastNodeId)\n              ? 'Extend Line Upward'\n              : 'Extend Line Downward'\n            const pointGeom = Object.values(event.mapboxEvent.lngLat)\n\n            this.$store.commit('applyNewLink', { nodeId: this.selectedNode.id, geom: pointGeom, action: action })\n          }\n        }\n      } else {\n        // for a new Line\n        if (this.editorNodes.features.length === 0 && this.editorTrip) {\n          this.$store.commit('createNewNode', Object.values(event.mapboxEvent.lngLat))\n          this.$store.commit('changeNotification', { text: '', autoClose: true })\n        }\n      }\n    },\n    resetDraw (event) {\n      // reset draw line when we leave the map.\n      // there is no mouseIn event, so we track it with mouseout = true, and reapply visible on mousemove.\n      if (this.drawMode) {\n        this.mouseout = true\n        this.map.setLayoutProperty('drawLink', 'visibility', 'none')\n      }\n    },\n\n    rightClickMap (event) {\n      // remove drawmode when we right click on map\n      if (event.mapboxEvent.originalEvent.button === 2 & !this.hoverId) {\n        this.drawMode = false\n      }\n    },\n    onHover (event) {\n      // no drawing when we hover on link or node\n      this.hoverId = event.selectedId\n      if (this.drawMode) { this.map.setLayoutProperty('drawLink', 'visibility', 'none') }\n      // change hook when we hover first or last node.\n      if ([this.$store.getters.lastNodeId, this.$store.getters.firstNodeId].includes(this.hoverId)) {\n        const node = this.$store.getters.editorNodes.features.filter(node =>\n          node.properties.index === event.selectedId)\n        this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n        this.selectedNode.id = this.hoverId\n        this.selectedNode.layerId = event.layerId\n\n        this.drawMode = true\n      }\n    },\n    onHoverRoad (event) {\n      if (event?.layerId === 'rnodes') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId[0]\n        if (this.drawMode) {\n          // nodes are sticky. drawlink change size and style\n          this.connectedDrawLink = true\n        } else {\n          this.connectedDrawLink = false\n          const node = this.$store.getters.visiblerNodes.features.filter(node =>\n            node.properties.index === this.hoverId)\n          this.drawLink = Linestring([node[0].geometry.coordinates, node[0].geometry.coordinates])\n          this.drawMode = true\n          this.connectedDrawLink = false\n          this.selectedNode.id = this.hoverId\n          this.selectedNode.layerId = this.hoverLayer\n        }\n      } else if (event?.layerId === 'rlinks') {\n        this.hoverLayer = event.layerId\n        this.hoverId = event.selectedId\n      }\n    },\n    offHover (event) {\n      // put back visible draw line\n      this.hoverId = null\n      this.hoverLayer = null\n      if (this.drawMode) {\n        this.map.setLayoutProperty('drawLink', 'visibility', 'visible')\n        this.connectedDrawLink = false\n      }\n    },\n    clickFeature (event) {\n      // when we move a rNode, we need to update drawlink as it is link to this moved node.\n      if (['Move rNode', 'Delete rLink'].includes(event.action)) {\n        this.drawMode = false\n        // this.drawLink = Linestring([event.lngLat, event.lngLat])\n      }\n      // prevent emitting add road node inline when drawmode is on.\n      // we will add the node inlne and create the new link in this component.\n      if (!(event.action === 'Add Road Node Inline' && this.drawMode)) {\n        this.$emit('clickFeature', event)\n      }\n    },\n\n  },\n\n}\n</script>\n<template>\n  <MglMap\n    :key=\"mapStyle\"\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    :map-style=\"mapStyle\"\n    :center=\"$store.getters.mapCenter\"\n    :zoom=\"$store.getters.mapZoom\"\n    @load=\"onMapLoaded\"\n    @mousemove=\"draw\"\n    @mouseout=\"resetDraw()\"\n    @click=\"addPoint\"\n    @mouseup=\"rightClickMap\"\n  >\n    <v-menu\n      v-model=\"showSettings\"\n      :close-on-content-click=\"false\"\n      :close-on-click=\"false\"\n      :origin=\"'top right'\"\n      transition=\"scale-transition\"\n      :position-y=\"30\"\n      :nudge-width=\"200\"\n      offset-x\n      offset-y\n    >\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn\n          class=\"setting\"\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            color=\"regular\"\n          >\n            fa-solid fa-cog\n          </v-icon>\n        </v-btn>\n      </template>\n      <Settings\n        v-if=\"showSettings\"\n        @submit=\"() => showSettings=false\"\n      />\n    </v-menu>\n\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n    <template v-if=\"mapIsLoaded\">\n      <RoadLinks\n        ref=\"roadref\"\n        :map=\"map\"\n        :is-editor-mode=\"isEditorMode\"\n        :is-road-mode=\"isRoadMode\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"(isEditorMode)? {} : anchorMode ? {clickFeature: clickFeature } : {onHover:onHoverRoad, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <StaticLinks\n        :map=\"map\"\n        :showed-trips=\"selectedTrips\"\n        :is-editor-mode=\"isEditorMode\"\n        @rightClick=\"(e) => $emit('clickFeature',e)\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <EditorLinks\n        :map=\"map\"\n        :anchor-mode=\"anchorMode\"\n        v-on=\"anchorMode ? {clickFeature: clickFeature } : {onHover:onHover, offHover:offHover,clickFeature: clickFeature}\"\n      />\n    </template>\n    <template v-if=\"mapIsLoaded\">\n      <MglGeojsonLayer\n        v-if=\"drawMode\"\n        source-id=\"drawLink\"\n        :source=\"{\n          type: 'geojson',\n          data:drawLink,\n          buffer: 0,\n          generateId: true,\n        }\"\n        layer-id=\"drawLink\"\n        :layer=\"{\n          type: 'line',\n          minzoom: 2,\n          paint: {\n            'line-opacity': 1,\n            'line-color': $vuetify.theme.currentTheme.linksprimary,\n            'line-width': ['case', ['boolean', connectedDrawLink, false], 5, 3],\n            'line-dasharray':['case', ['boolean', connectedDrawLink, false],['literal', []] , ['literal', [0, 2, 4]]],\n\n          }\n        }\"\n      />\n    </template>\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  width: 100%;\n\n}\n.setting {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n.my-custom-dialog {\n  position: absolute !important;\n  top: 10px !important;\n  right: 20px !important;\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=25bc03dd&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=25bc03dd&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=25bc03dd&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=25bc03dd&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25bc03dd\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        top: \"\",\n        \"nudge-bottom\": \"105\",\n        \"nudge-left\": \"16\",\n        \"close-on-content-click\": false,\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on }) {\n            return [_c(\"div\", _vm._g({ style: _vm.swatchStyle }, on))]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.menu,\n        callback: function ($$v) {\n          _vm.menu = $$v\n        },\n        expression: \"menu\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        [\n          _c(\n            \"v-card-text\",\n            { staticClass: \"pa-0\" },\n            [\n              _c(\"v-color-picker\", {\n                attrs: {\n                  mode: \"hexa\",\n                  swatches: _vm.swatches,\n                  \"show-swatches\": \"\",\n                  flat: \"\",\n                },\n                model: {\n                  value: _vm.color,\n                  callback: function ($$v) {\n                    _vm.color = $$v\n                  },\n                  expression: \"color\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", outlined: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", outlined: \"\" },\n                  on: { click: _vm.updateColor },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"apply\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'ColorPicker',\n  components: {\n\n  },\n  model: {\n    prop: 'pcolor',\n    event: 'update-color',\n  },\n  props: ['pcolor'],\n  events: ['update-color'],\n  data () {\n    return {\n      color: '$primary',\n      menu: false,\n      swatches: [],\n\n    }\n  },\n  computed: {\n    swatchStyle () {\n      const { color, menu } = this\n\n      return {\n        'backgroundColor': color,\n        'border-style': 'solid',\n        'border-width': '1px',\n        'border-color': '#868686',\n        'cursor': 'pointer',\n        'height': '20px',\n        'width': '20px',\n        'borderRadius': menu ? '50%' : '4px',\n        'transition': 'border-radius 200ms ease-in-out',\n      }\n    },\n  },\n  watch: {\n    // this only happen when we type a value.\n    pcolor (val) {\n      if (this.pcolor[0] !== '#') {\n        this.color = '#'.concat(this.pcolor)\n        this.$emit('update-color', this.pcolor.slice(0, 6))\n      }\n      if (this.pcolor[0] === '#') {\n        this.$emit('update-color', this.pcolor.slice(1, 7))\n      }\n    },\n\n  },\n\n  mounted () {\n    // get chart color and create a 2x4 Swatch for quick color selection.\n    const keys = Object.keys(this.$vuetify.theme.currentTheme.chart)\n    let tempArr = []\n    // eslint-disable-next-line array-callback-return\n    keys.map((key) => {\n      tempArr.push(this.$vuetify.theme.currentTheme.chart[key])\n      if (tempArr.length === 2) {\n        this.swatches.push(tempArr)\n        tempArr = []\n      }\n    })\n\n    // if it is null, do nothing, just put the blue color on the selection square.\n    if ([null, undefined, ''].includes(this.pcolor)) {\n      this.color = this.$vuetify.theme.currentTheme.chart.lightblue\n      // this.$emit('update-color', this.color.slice(1))\n    // the input color never start with #, must add it for this component only (on local var this.color)\n    } else if (this.pcolor[0] !== '#') {\n      this.color = '#'.concat(this.pcolor)\n    // it start with #, leave it as is (this should and will never be the case.)\n    } else {\n      this.color = this.pcolor\n    }\n  },\n\n  methods: {\n    // this method is call when we select a color, the # is remove and pcolor is updated.\n    updateColor () {\n      this.$emit('update-color', this.color)\n\n      this.menu = false\n    },\n    cancel () {\n      this.color = this.pcolor\n      this.menu = false\n    },\n  },\n}\n</script>\n<template\n  v-slot:append\n>\n  <v-menu\n    v-model=\"menu\"\n    top\n    nudge-bottom=\"105\"\n    nudge-left=\"16\"\n    :close-on-content-click=\"false\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <div\n        :style=\"swatchStyle\"\n        v-on=\"on\"\n      />\n    </template>\n    <v-card>\n      <v-card-text\n        class=\"pa-0\"\n      >\n        <v-color-picker\n          v-model=\"color\"\n          mode=\"hexa\"\n          :swatches=\"swatches\"\n          show-swatches\n          flat\n        />\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn\n          color=\"grey\"\n          outlined\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"cancel\") }}\n        </v-btn>\n        <v-btn\n          color=\"green darken-1\"\n          outlined\n          @click=\"updateColor\"\n        >\n          {{ $gettext(\"apply\") }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","<!-- eslint-disable no-return-assign -->\n<script>\nimport SidePanel from '../components/SidePanel.vue'\nimport Map from '../components/Map.vue'\nimport ColorPicker from '../components/utils/ColorPicker.vue'\nimport { getGroupForm } from '../components/utils/utils.js'\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nexport default {\n  name: 'Home',\n  components: {\n    Map,\n    SidePanel,\n    ColorPicker,\n  },\n  data () {\n    return {\n      editorTrip: null,\n      action: null,\n      selectedNode: null,\n      selectedLink: null,\n      selectedIndex: null,\n      showDialog: false,\n      cloneDialog: false,\n      editorForm: {},\n      cursorPosition: [],\n      tripToDelete: null,\n      tripToClone: null,\n      message: '',\n      cloneName: null,\n      errorMessage: null,\n      lingering: true,\n      groupTripIds: [],\n      selectedTab: 0,\n      isRoadMode: false,\n    }\n  },\n  computed: {\n    selectedTrips () { return this.$store.getters.selectedTrips },\n    selectedrGroup () { return this.$store.getters.selectedrGroup },\n    orderedForm () {\n      // order editor Form in alphatical order\n      let form = this.editorForm\n      // if we have tab. there is a list of form\n      if (form.length >= 1) {\n        form = form[this.selectedTab]\n      }\n      // order keys in alphabetical order, and with disabled last\n      const keys = Object.keys(form).filter(key => !form[key].disabled).sort()\n      keys.push(...Object.keys(form).filter(key => form[key].disabled).sort())\n      const ordered = keys.reduce(\n        (obj, key) => {\n          obj[key] = form[key]\n          return obj\n        },\n        {},\n      )\n      return ordered\n    },\n  },\n  watch: {\n    showDialog (val) {\n      // do not show a notification when dialog is on. sometim its over the confirm button\n      if (val) { this.$store.commit('changeNotification', { text: '', autoClose: true }) }\n    },\n\n  },\n  created () {\n    this.editorTrip = this.$store.getters.editorTrip\n    window.addEventListener('keydown', (e) => {\n      if (e.key === 'Control') {\n        this.$store.commit('changeAnchorMode')\n      }\n    })\n  },\n\n  methods: {\n\n    updateSelectedTrips (event) {\n      if (event.type === 'links') {\n        this.$store.commit('changeSelectedTrips', event.data)\n      } else if (event.type === 'rlinks') {\n        this.$store.commit('changeVisibleRoads', event.data)\n      }\n    },\n\n    actionClick (event) {\n      this.action = event.action\n      if (this.action === 'Edit Line Info') {\n        this.editorForm = structuredClone(this.$store.getters.editorLineInfo)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Group Info') {\n        this.groupTripIds = event.tripIds\n        const uneditable = ['index', 'length', 'a', 'b', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = structuredClone(this.$store.getters.links.features.filter(\n          link => this.groupTripIds.includes(link.properties.trip_id)))\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Link Info') {\n        // link is clicked on the map\n        this.selectedLink = event.selectedFeature.properties\n        const uneditable = ['a', 'b', 'index', 'link_sequence', 'trip_id']\n        const lineAttributes = this.$store.getters.lineAttributes\n        const features = this.$store.getters.editorLinks.features.filter(\n          (link) => link.properties.index === this.selectedLink.index)\n\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit rLink Info') {\n        this.selectedLink = event.selectedIndex\n        this.selectedTab = 0\n\n        this.editorForm = this.selectedLink.map(linkId => this.$store.getters.rlinksForm(linkId))\n        this.showDialog = true\n      } else if (this.action === 'Edit Road Group Info') {\n        const features = this.$store.getters.grouprLinks(event.category, event.group)\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (this.action === 'Edit Visible Road Info') {\n        const features = this.$store.getters.visiblerLinks.features\n        this.selectedLinks = features // this is an observer. modification will be applied to it in next commit.\n        const lineAttributes = this.$store.getters.rlineAttributes\n        const uneditable = ['index', 'length', 'a', 'b']\n        this.editorForm = getGroupForm(features, lineAttributes, uneditable)\n        this.lingering = event.lingering\n        this.showDialog = true\n      } else if (['Edit Node Info', 'Edit rNode Info'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        // map selected node doesnt not return properties with nanulln value.\n        // we need to get the node in the store with the selected index.\n        if (this.action === 'Edit Node Info') {\n          this.editorForm = this.$store.getters.editorNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        } else if (this.action === 'Edit rNode Info') {\n          this.editorForm = this.$store.getters.visiblerNodes.features.filter(\n            (node) => node.properties.index === this.selectedNode.index)\n        }\n        this.editorForm = this.editorForm[0].properties\n        // filter properties to only the one that are editable.\n        const uneditable = ['index', 'route_width']\n        const filtered = Object.keys(this.editorForm)\n          .reduce((obj, key) => {\n            obj[key] = {\n              value: this.editorForm[key],\n              disabled: uneditable.includes(key),\n              placeholder: false,\n            }\n            return obj\n          }, {})\n        this.editorForm = filtered\n        this.showDialog = true\n      } else if (['Cut Before Node', 'Cut After Node',\n        'Move Stop', 'Delete Stop', 'Delete Anchor', 'Delete Road Anchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature.properties\n        this.applyAction()\n      } else if (['Add Stop Inline', 'Add Anchor Inline'].includes(this.action)) {\n        this.selectedLink = event.selectedFeature.properties\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Add Road Node Inline', 'Add Road Anchor Inline', 'Delete rLink'].includes(this.action)) {\n        this.selectedIndex = event.selectedIndex\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      } else if (['Move Node', 'Move Anchor', 'Move rNode', 'Move rAnchor'].includes(this.action)) {\n        this.selectedNode = event.selectedFeature\n        this.cursorPosition = event.lngLat\n        this.applyAction()\n      }\n    },\n\n    applyAction () {\n      // click yes on dialog\n      this.showDialog = false\n      switch (this.action) {\n        case 'Cut Before Node':\n          this.$store.commit('cutLineAtNode', { selectedNode: this.selectedNode })\n          break\n        case 'Cut After Node':\n          this.$store.commit('cutLineFromNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete Stop':\n          this.$store.commit('deleteNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit Link Info':\n          this.$store.commit('editLinkInfo', { selectedLinkId: this.selectedLink.index, info: this.editorForm })\n          break\n        case 'Edit Node Info':\n          this.$store.commit('editNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Edit Line Info':\n          // check if trip_id was changed and if it already exist.\n          if ((this.editorForm.trip_id.value !== this.$store.getters.editorTrip) &&\n          this.$store.getters.tripId.includes(this.editorForm.trip_id.value)) {\n            // reset all. just like abortChanges but without the abort changes notification\n            this.lingering = true // if not, applyAction is call after and the notification is overwrite.\n            this.editorTrip = null\n            this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n            this.action = null\n            this.$store.commit('changeNotification', {\n              text: $gettext('Could not apply modification. Trip_id already exist'),\n              autoClose: true,\n              color: 'red darken-2',\n            })\n          }\n          this.$store.commit('editLineInfo', this.editorForm)\n          if (this.$store.getters.editorNodes.features.length === 0) {\n            this.$store.commit('changeNotification',\n              { text: $gettext('Click on the map to start drawing'), autoClose: false })\n          }\n          break\n        case 'Edit Group Info':\n          this.$store.commit('editGroupInfo', { groupTripIds: this.groupTripIds, info: this.editorForm })\n          break\n        case 'deleteTrip':\n          this.$store.commit('deleteTrip', this.tripToDelete)\n          break\n        case 'Add Stop Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'editorNodes',\n          })\n          break\n        case 'Add Anchor Inline':\n          this.$store.commit('addNodeInline', {\n            selectedLink: this.selectedLink,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorNodes',\n          })\n          break\n        case 'Delete Anchor':\n          this.$store.commit('deleteAnchorNode', { selectedNode: this.selectedNode })\n          break\n        case 'Edit rLink Info':\n          this.$store.commit('editrLinkInfo', { selectedLinkId: this.selectedLink, info: this.editorForm })\n          break\n        case 'Edit Road Group Info':\n          this.$store.commit('editrGroupInfo', { selectedLinks: this.selectedLinks, info: this.editorForm })\n          this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit Visible Road Info':\n          this.$store.commit('editrVisiblesInfo', { info: this.editorForm })\n          this.$refs.mapref.$refs.roadref.getBounds()\n          break\n        case 'Edit rNode Info':\n          this.$store.commit('editrNodeInfo', { selectedNodeId: this.selectedNode.index, info: this.editorForm })\n          break\n        case 'Add Road Node Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'rnodes',\n          })\n          break\n        case 'Add Road Anchor Inline':\n          this.$store.commit('addRoadNodeInline', {\n            selectedIndex: this.selectedIndex,\n            lngLat: this.cursorPosition,\n            nodes: 'anchorrNodes',\n          })\n          break\n        case 'Move Node':\n          this.$store.commit('moveNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move Anchor':\n          this.$store.commit('moveAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rNode':\n          this.$store.commit('moverNode', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Move rAnchor':\n          this.$store.commit('moverAnchor', { selectedNode: this.selectedNode, lngLat: this.cursorPosition })\n          break\n        case 'Delete Road Anchor':\n          this.$store.commit('deleteAnchorrNode', { selectedNode: this.selectedNode })\n          break\n        case 'Delete rLink':\n          this.$store.commit('deleterLink', { selectedIndex: this.selectedIndex })\n          break\n        case 'deleterGroup':\n          this.$store.commit('deleterGroup', this.tripToDelete)\n          break\n      }\n      if (!this.lingering) {\n        this.confirmChanges()\n        this.lingering = true\n      }\n    },\n    cancelAction () {\n      this.showDialog = false\n      if (!this.lingering) {\n        this.abortChanges()\n        this.lingering = true\n      }\n    },\n    confirmChanges () {\n      // confirm changes on sidePanel, this overwrite Links in store.\n      this.$store.commit('confirmChanges')\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification',\n        { text: $gettext('modification applied'), autoClose: true, color: 'success' })\n    },\n    abortChanges () {\n      // unselect a trip for edition. nothing to commit on link here.\n      // put editTrip and action to null.\n      this.editorTrip = null\n      this.$store.commit('setEditorTrip', { tripId: null, changeBounds: false })\n      this.action = null\n      // notification\n      this.$store.commit('changeNotification', { text: $gettext('modification aborted'), autoClose: true })\n    },\n    deleteButton (selection) {\n      // could be a trip, or a roadLinks group\n      this.tripToDelete = selection.trip\n      this.message = selection.message\n      this.action = selection.action\n      this.showDialog = true\n    },\n\n    duplicate () {\n      if (this.$store.getters.tripId.includes(this.cloneName)) {\n        this.errorMessage = 'already exist'\n      } else {\n        this.$store.commit('cloneTrip', { tripId: this.tripToClone, name: this.cloneName })\n        this.errorMessage = ''\n        this.cloneDialog = false\n      }\n    },\n\n    cloneButton (selection) {\n      this.tripToClone = selection.trip\n      this.message = selection.message\n      // this.action = 'cloneTrip'\n      this.cloneName = selection.trip + ' copy'\n      this.cloneDialog = true\n    },\n\n    cancelClone () {\n      this.errorMessage = ''\n      this.cloneDialog = false\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      max-width=\"300\"\n      @keydown.enter=\"applyAction\"\n      @keydown.esc=\"cancelAction\"\n    >\n      <v-card\n        max-height=\"60rem\"\n      >\n        <v-tabs\n          v-if=\" (editorForm.length > 1) \"\n          v-model=\"selectedTab\"\n          grow\n        >\n          <v-tab\n            v-for=\"link in selectedLink\"\n            :key=\"link\"\n          >\n            {{ link }}\n          </v-tab>\n        </v-tabs>\n        <v-card-title class=\"text-h5\">\n          {{ ['deleteTrip','deleterGroup'].includes(action)? $gettext(\"Delete\") + ' '+ message + '?': $gettext(\"Edit Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text\n          v-if=\"['Edit Line Info',\n                 'Edit Link Info',\n                 'Edit Node Info',\n                 'Edit Group Info',\n                 'Edit rLink Info',\n                 'Edit Road Group Info',\n                 'Edit Visible Road Info',\n                 'Edit rNode Info'].includes(action)\"\n        >\n          <v-list>\n            <v-text-field\n              v-for=\"(value, key) in orderedForm\"\n              :key=\"key\"\n              v-model=\"value['value']\"\n              :label=\"key\"\n              :filled=\"!value['disabled']\"\n              :type=\"$store.getters.attributeType(key)\"\n              :placeholder=\"value['placeholder']? $gettext('multiple Values'):''\"\n              :persistent-placeholder=\" value['placeholder']? true:false \"\n              :disabled=\"value['disabled']\"\n              @wheel=\"$event.target.blur()\"\n            >\n              <template\n                v-if=\"key==='route_color'\"\n                v-slot:append\n              >\n                <color-picker\n                  v-model=\"value['value']\"\n                />\n              </template>\n            </v-text-field>\n          </v-list>\n        </v-card-text>\n        <v-card-text v-if=\"['cloneTrip'].includes(action)\">\n          <v-text-field\n            v-model=\"cloneName\"\n            :label=\"$gettext('New name')\"\n          />\n        </v-card-text>\n        <v-divider />\n\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelAction\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"applyAction\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog\n      v-model=\"cloneDialog\"\n      max-width=\"300\"\n      @keydown.enter=\"duplicate()\"\n      @keydown.esc=\"cancelClone\"\n    >\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{ $gettext('Duplicate and reverse') }}</span>\n          <span class=\"text-h5\">{{ message +' ?' }}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-text-field\n            v-model=\"cloneName\"\n            :label=\"$gettext('New name')\"\n          />\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancelClone\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"duplicate()\"\n          >\n            {{ $gettext(\"Save\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <SidePanel\n      :selected-trips=\"selectedTrips\"\n      :selectedr-group=\"selectedrGroup\"\n      @update-tripList=\"updateSelectedTrips\"\n      @confirmChanges=\"confirmChanges\"\n      @abortChanges=\"abortChanges\"\n      @deleteButton=\"deleteButton\"\n      @cloneButton=\"cloneButton\"\n      @propertiesButton=\"actionClick\"\n      @isRoadMode=\"(e) => isRoadMode = e\"\n    />\n    <Map\n      ref=\"mapref\"\n      :selected-trips=\"selectedTrips\"\n      :is-road-mode=\"isRoadMode\"\n      @clickFeature=\"actionClick\"\n    />\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n\n</style>\n","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=380a869c&scoped=true&v-slot%3Aappend=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"380a869c\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=181166e4&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=181166e4&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=181166e4&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=181166e4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"181166e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { ref: \"cardBox\", staticClass: \"layout\", attrs: { id: \"card-box\" } },\n        [\n          _c(\"v-card\", { staticClass: \"card\" }, [\n            _c(\n              \"div\",\n              [\n                _c(\"v-data-table\", {\n                  staticClass: \"elevation-3\",\n                  attrs: {\n                    headers: _vm.headers,\n                    height: _vm.divHeight - 240,\n                    \"fixed-header\": \"\",\n                    \"fixed-footer\": \"\",\n                    items: _vm.data,\n                    \"items-per-page\": 100,\n                    \"footer-props\": {\n                      \"items-per-page-options\": [10, 20, 100, 200, -1],\n                    },\n                    \"show-group-by\": \"\",\n                  },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"top\",\n                      fn: function () {\n                        return [\n                          _c(\n                            \"v-toolbar\",\n                            { attrs: { flat: \"\" } },\n                            [\n                              _c(\n                                \"v-toolbar-title\",\n                                { staticClass: \"languages-container\" },\n                                _vm._l(_vm.tableChoices, function (item, key) {\n                                  return _c(\n                                    \"div\",\n                                    {\n                                      key: key,\n                                      staticClass: \"language\",\n                                      class: [\n                                        item.val === _vm.selectedTable\n                                          ? \"active\"\n                                          : \"\",\n                                      ],\n                                      attrs: { title: item.val },\n                                      on: {\n                                        click: () =>\n                                          (_vm.selectedTable = item.val),\n                                      },\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                  \" +\n                                          _vm._s(_vm.$gettext(item.text)) +\n                                          \"\\n                \"\n                                      ),\n                                    ]\n                                  )\n                                }),\n                                0\n                              ),\n                              _vm._v(\" \"),\n                              _c(\"v-divider\", {\n                                staticClass: \"mx-4\",\n                                attrs: { vertical: \"\", inset: \"\" },\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"v-spacer\"),\n                              _vm._v(\" \"),\n                              _c(\n                                \"v-card-actions\",\n                                [\n                                  _c(\n                                    \"v-btn\",\n                                    {\n                                      staticClass: \"btn-links\",\n                                      attrs: {\n                                        href: \"newField\",\n                                        target: \"_blank\",\n                                      },\n                                      on: {\n                                        click: function ($event) {\n                                          $event.preventDefault()\n                                          _vm.showDialog = true\n                                        },\n                                      },\n                                    },\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { attrs: { small: \"\", left: \"\" } },\n                                        [\n                                          _vm._v(\n                                            \"\\n                    fas fa-plus\\n                  \"\n                                          ),\n                                        ]\n                                      ),\n                                      _vm._v(\n                                        \"\\n                  \" +\n                                          _vm._s(_vm.$gettext(\"add field\")) +\n                                          \"\\n                \"\n                                      ),\n                                    ],\n                                    1\n                                  ),\n                                ],\n                                1\n                              ),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                      proxy: true,\n                    },\n                  ]),\n                }),\n              ],\n              1\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"v-row\", {\n        directives: [\n          {\n            name: \"resize\",\n            rawName: \"v-resize\",\n            value: _vm.onResize,\n            expression: \"onResize\",\n          },\n        ],\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"290\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.addField.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" + _vm._s(_vm.$gettext(\"New Field\")) + \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        { attrs: { cols: \"12\" } },\n                        [\n                          _c(\"v-text-field\", {\n                            attrs: { label: _vm.$gettext(\"name\") },\n                            model: {\n                              value: _vm.input,\n                              callback: function ($$v) {\n                                _vm.input = $$v\n                              },\n                              expression: \"input\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [_vm._v(\"\\n        \" + _vm._s(_vm.errorMessage) + \"\\n      \")]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"grey\", text: \"\" },\n                      on: { click: _vm.cancel },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Cancel\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"green darken-1\", text: \"\" },\n                      on: { click: _vm.addField },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Add\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nconst $gettext = s => s\n\nexport default {\n  name: 'DataFrame',\n  data () {\n    return {\n      data: [],\n      headers: [],\n      showDialog: false,\n      input: '',\n      divHeight: 0,\n      errorMessage: null,\n      tableChoices: [\n        { val: 'links', text: $gettext('Links Table') },\n        { val: 'nodes', text: $gettext('Nodes Table') },\n      ],\n      selectedTable: 'links',\n    }\n  },\n\n  watch: {\n    selectedTable () { this.fetchData() },\n  },\n\n  mounted () {\n    this.$store.commit('changeNotification', '')\n    this.fetchData()\n    this.onResize()\n  },\n  methods: {\n    fetchData () {\n      this.data = []\n      this.headers = []\n      let header = new Set([])\n      const features = this.selectedTable === 'links'\n        ? this.$store.getters.links.features\n        : this.$store.getters.nodes.features\n      features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n        this.data.push(element.properties)\n      })\n      header = Array.from(header)\n      header.forEach(element => {\n        this.headers.push({ text: element, value: element })\n      })\n    },\n    onResize () {\n      this.divHeight = this.$refs.cardBox.clientHeight\n    },\n    addField () {\n      const propsList = []\n      Object.keys(this.headers).forEach(key => propsList.push(this.headers[key].value))\n      if (propsList.includes(this.input)) {\n        this.errorMessage = 'already exist'\n      } else {\n        this.$store.commit('addPropertie', { name: this.input, table: this.selectedTable })\n        this.fetchData()\n        this.input = ''\n        this.errorMessage = ''\n        this.showDialog = false\n      }\n    },\n    cancel () {\n      this.input = ''\n      this.errorMessage = ''\n      this.showDialog = false\n    },\n  },\n}\n</script>\n<template>\n  <section>\n    <div\n      id=\"card-box\"\n      ref=\"cardBox\"\n      class=\"layout\"\n    >\n      <v-card\n        class=\"card\"\n      >\n        <div>\n          <v-data-table\n            :headers=\"headers\"\n            :height=\"divHeight-240\"\n            fixed-header\n            fixed-footer\n            :items=\"data\"\n            :items-per-page=\"100\"\n            :footer-props=\"{\n              'items-per-page-options': [10, 20,100,200,-1]\n            }\"\n            class=\"elevation-3\"\n            show-group-by\n          >\n            <template v-slot:top>\n              <v-toolbar\n                flat\n              >\n                <v-toolbar-title class=\"languages-container\">\n                  <div\n                    v-for=\"(item, key) in tableChoices\"\n                    :key=\"key\"\n                    class=\"language\"\n                    :class=\"[item.val === selectedTable ? 'active' : '']\"\n                    :title=\"item.val\"\n                    @click=\"()=> selectedTable=item.val\"\n                  >\n                    {{ $gettext(item.text) }}\n                  </div>\n                </v-toolbar-title>\n                <v-divider\n                  class=\"mx-4\"\n                  vertical\n                  inset\n                />\n                <v-spacer />\n                <v-card-actions>\n                  <!--\n                  <v-btn\n                    class=\" btn-links\"\n                    href=\"settings\"\n                    target=\"_blank\"\n                    @click.prevent=\"\"\n                  >\n                    <v-icon\n                      small\n                      left\n                    >\n                      fas fa-cog\n                    </v-icon>\n                    {{ $gettext('Settings') }}\n                  </v-btn>\n                  -->\n                  <v-btn\n                    class=\" btn-links\"\n                    href=\"newField\"\n                    target=\"_blank\"\n                    @click.prevent=\"showDialog=true\"\n                  >\n                    <v-icon\n                      small\n                      left\n                    >\n                      fas fa-plus\n                    </v-icon>\n                    {{ $gettext('add field') }}\n                  </v-btn>\n                </v-card-actions>\n              </v-toolbar>\n            </template>\n          </v-data-table>\n        </div>\n      </v-card>\n    </div>\n    <v-row\n      v-resize=\"onResize\"\n    />\n\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"290\"\n      @keydown.enter=\"addField\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"New Field\") }}\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <v-col cols=\"12\">\n              <v-text-field\n                v-model=\"input\"\n                :label=\"$gettext('name')\"\n              />\n            </v-col>\n          </v-container>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ errorMessage }}\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer />\n\n          <v-btn\n            color=\"grey\"\n            text\n            @click=\"cancel\"\n          >\n            {{ $gettext(\"Cancel\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"green darken-1\"\n            text\n            @click=\"addField\"\n          >\n            {{ $gettext(\"Add\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  background-color:  var(--v-background-base);\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width:  calc(100% - 10em);\n  height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n.languages-container {\n  display: flex;\n}\n.language {\n  border-right: 1px solid $grey-light;\n  padding-right:10px;\n  padding-left:10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color: $secondary;\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=style&index=0&id=d5dbe778&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataFrame.vue?vue&type=style&index=0&id=d5dbe778&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DataFrame.vue?vue&type=template&id=d5dbe778&scoped=true&\"\nimport script from \"./DataFrame.vue?vue&type=script&lang=js&\"\nexport * from \"./DataFrame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DataFrame.vue?vue&type=style&index=0&id=d5dbe778&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5dbe778\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"map-view\" },\n    [\n      _c(\"ResultsSidePanel\", {\n        attrs: {\n          \"selected-filter\": _vm.selectedFilter,\n          \"layer-choices\": _vm.availableLayers,\n          \"selected-layer\": _vm.selectedLayer,\n          \"filter-choices\": _vm.filterChoices,\n          \"filtered-cat\": _vm.filteredCategory,\n        },\n        on: {\n          \"update-selectedFilter\": _vm.updateSelectedFilter,\n          \"select-layer\": _vm.changeLayer,\n        },\n        model: {\n          value: _vm.selectedCategory,\n          callback: function ($$v) {\n            _vm.selectedCategory = $$v\n          },\n          expression: \"selectedCategory\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"ResultsSettings\", {\n        attrs: {\n          \"display-settings\": _vm.displaySettings,\n          \"feature-choices\": _vm.filterChoices,\n        },\n        on: { submit: _vm.applySettings },\n        model: {\n          value: _vm.showSettings,\n          callback: function ($$v) {\n            _vm.showSettings = $$v\n          },\n          expression: \"showSettings\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"left-panel\" }, [\n        _c(\n          \"div\",\n          {\n            class: _vm.$store.getters.showLeftPanel\n              ? \"legend-open elevation-4\"\n              : \"legend-close elevation-4\",\n            style: { top: `${_vm.windowHeight}px` },\n          },\n          [\n            _c(\"MapLegend\", {\n              attrs: {\n                \"color-scale\": _vm.colorScale,\n                \"display-settings\": _vm.displaySettings,\n              },\n            }),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\"MapResults\", {\n        key: _vm.$store.getters[\"results/type\"],\n        attrs: {\n          links: _vm.visibleLinks,\n          \"selected-feature\": _vm.displaySettings.selectedFeature,\n          opacity: _vm.displaySettings.opacity,\n        },\n        on: { selectClick: _vm.featureClicked },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { scrollable: \"\", persistent: \"\", \"max-width\": \"300\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                _vm.showDialog = false\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            { attrs: { \"max-height\": \"60rem\" } },\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"link Properties\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                [\n                  _c(\n                    \"v-list\",\n                    _vm._l(_vm.form, function (value, key) {\n                      return _c(\"v-text-field\", {\n                        key: key,\n                        attrs: {\n                          value: value,\n                          label: key,\n                          filled: \"\",\n                          readonly: \"\",\n                        },\n                      })\n                    }),\n                    1\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"v-divider\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"success\", text: \"\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = false\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"ok\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    {\n      class: _vm.showLeftPanel ? \"left-panel elevation-4\" : \"left-panel-close\",\n      style: { width: _vm.showLeftPanel ? \"300px\" : \"0px\" },\n    },\n    [\n      _c(\n        \"div\",\n        {\n          staticClass: \"left-panel-toggle-btn elevation-4\",\n          on: {\n            click: function ($event) {\n              return _vm.$store.commit(\"changeLeftPanel\")\n            },\n          },\n        },\n        [\n          _c(\"v-icon\", { attrs: { small: \"\", color: \"secondarydark\" } }, [\n            _vm._v(\n              \"\\n      \" +\n                _vm._s(\n                  _vm.showLeftPanel\n                    ? \"fas fa-chevron-left\"\n                    : \"fas fa-chevron-right\"\n                ) +\n                \"\\n    \"\n            ),\n          ]),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"transition\", { attrs: { name: \"fade\" } }, [\n        _c(\n          \"div\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.showLeftPanelContent,\n                expression: \"showLeftPanelContent\",\n              },\n            ],\n            staticClass: \"left-panel-content\",\n          },\n          [\n            _c(\"div\", [\n              _c(\n                \"div\",\n                {\n                  style: {\n                    \"margin-top\": \"20px\",\n                    \"margin-bottom\": \"20px\",\n                    \"margin-right\": \"20px\",\n                  },\n                },\n                [\n                  _c(\n                    \"v-card-title\",\n                    { staticClass: \"white--text secondary\" },\n                    [\n                      _c(\n                        \"v-tooltip\",\n                        {\n                          attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"v-btn\",\n                                    _vm._g(\n                                      _vm._b(\n                                        {\n                                          staticClass: \"ma-2\",\n                                          style: { color: \"white\" },\n                                          attrs: { icon: \"\" },\n                                          on: {\n                                            click: function ($event) {\n                                              return _vm.showAll()\n                                            },\n                                          },\n                                        },\n                                        \"v-btn\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { staticClass: \"list-item-icon\" },\n                                        [\n                                          _vm._v(\n                                            \"\\n                    \" +\n                                              _vm._s(\n                                                _vm.selectedCat.length > 0\n                                                  ? \"fa-eye fa\"\n                                                  : \"fa-eye-slash fa\"\n                                              ) +\n                                              \"\\n                  \"\n                                          ),\n                                        ]\n                                      ),\n                                    ],\n                                    1\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\"span\", [\n                            _vm._v(\n                              _vm._s(\n                                _vm.selectedCat.length > 0\n                                  ? _vm.$gettext(\"Hide All\")\n                                  : _vm.$gettext(\"Show All\")\n                              )\n                            ),\n                          ]),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-menu\",\n                        {\n                          attrs: {\n                            \"close-delay\": \"100\",\n                            \"offset-y\": \"\",\n                            transition: \"slide-y-transition\",\n                          },\n                          scopedSlots: _vm._u([\n                            {\n                              key: \"activator\",\n                              fn: function ({ on, attrs }) {\n                                return [\n                                  _c(\n                                    \"span\",\n                                    _vm._g(\n                                      _vm._b(\n                                        { staticClass: \"title\" },\n                                        \"span\",\n                                        attrs,\n                                        false\n                                      ),\n                                      on\n                                    ),\n                                    [_vm._v(_vm._s(_vm.selectedLayer))]\n                                  ),\n                                ]\n                              },\n                            },\n                          ]),\n                          model: {\n                            value: _vm.openMenu,\n                            callback: function ($$v) {\n                              _vm.openMenu = $$v\n                            },\n                            expression: \"openMenu\",\n                          },\n                        },\n                        [\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-list\",\n                            _vm._l(_vm.layerChoices, function (layer, key) {\n                              return _c(\n                                \"v-list-item\",\n                                { key: key, attrs: { link: \"\" } },\n                                [\n                                  _c(\n                                    \"v-list-item-title\",\n                                    {\n                                      on: {\n                                        click: () =>\n                                          _vm.$emit(\"select-layer\", layer),\n                                      },\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                    \" +\n                                          _vm._s(layer) +\n                                          \"\\n                  \"\n                                      ),\n                                    ]\n                                  ),\n                                ],\n                                1\n                              )\n                            }),\n                            1\n                          ),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-spacer\"),\n                      _vm._v(\" \"),\n                      _c(\n                        \"v-btn\",\n                        {\n                          staticClass: \"ma-2\",\n                          style: { color: \"white\" },\n                          attrs: { icon: \"\", dark: \"\" },\n                          on: {\n                            click: function ($event) {\n                              _vm.openMenu = !_vm.openMenu\n                            },\n                          },\n                        },\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\n                              \" \" +\n                                _vm._s(\n                                  _vm.openMenu\n                                    ? \"fas fa-chevron-left\"\n                                    : \"fas fa-chevron-down\"\n                                )\n                            ),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-card\",\n                    {\n                      staticClass: \"mx-auto scrollable\",\n                      attrs: {\n                        \"max-width\": \"100%\",\n                        \"min-width\": \"100%\",\n                        height: _vm.windowHeight,\n                      },\n                    },\n                    [\n                      _c(\n                        \"v-list-item\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.filterChoices,\n                              \"prepend-icon\": \"fas fa-filter\",\n                              label: \"filter\",\n                              \"item-color\": \"secondary\",\n                              color: \"secondary\",\n                            },\n                            model: {\n                              value: _vm.vmodelSelectedFilter,\n                              callback: function ($$v) {\n                                _vm.vmodelSelectedFilter = $$v\n                              },\n                              expression: \"vmodelSelectedFilter\",\n                            },\n                          }),\n                        ],\n                        1\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"v-virtual-scroll\", {\n                        attrs: {\n                          items: _vm.filteredCat,\n                          \"item-height\": 45,\n                          height: _vm.windowHeight - 80,\n                        },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"default\",\n                            fn: function ({ item }) {\n                              return [\n                                _c(\n                                  \"v-list-item\",\n                                  {\n                                    key: _vm.vmodelSelectedFilter.concat(item),\n                                    staticClass: \"pl-2\",\n                                  },\n                                  [\n                                    _c(\n                                      \"v-list-item-action\",\n                                      [\n                                        _c(\"v-checkbox\", {\n                                          staticClass: \"pl-2\",\n                                          attrs: {\n                                            \"on-icon\": \"fa-eye fa\",\n                                            \"off-icon\": \"fa-eye-slash fa\",\n                                            color: \"primary\",\n                                            value: item,\n                                            size: \"10\",\n                                            \"hide-details\": \"\",\n                                          },\n                                          model: {\n                                            value: _vm.selectedCat,\n                                            callback: function ($$v) {\n                                              _vm.selectedCat = $$v\n                                            },\n                                            expression: \"selectedCat\",\n                                          },\n                                        }),\n                                      ],\n                                      1\n                                    ),\n                                    _vm._v(\" \"),\n                                    _c(\"v-list-item-title\", [\n                                      _vm._v(\n                                        \"\\n                    \" +\n                                          _vm._s(item) +\n                                          \"\\n                  \"\n                                      ),\n                                    ]),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]),\n          ]\n        ),\n      ]),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'SidePanel',\n  components: {\n\n  },\n  model: {\n    prop: 'selectedCategory',\n    event: 'update-selectedCategory',\n  },\n  props: ['selectedCategory', 'selectedFilter', 'filterChoices', 'filteredCat', 'layerChoices', 'selectedLayer'],\n  events: ['update-selectedCategory', 'select-layer', 'update-selected-filter'],\n\n  data () {\n    return {\n      showLeftPanelContent: true,\n      height: null,\n      editorTrip: false,\n      showDialog: false,\n      openMenu: false,\n      selectedCat: [],\n      vmodelSelectedFilter: '',\n    }\n  },\n\n  computed: {\n    showLeftPanel () { return this.$store.getters.showLeftPanel },\n    windowHeight () { return this.$store.getters.windowHeight - 130 },\n    running () { return this.$store.getters['run/running'] },\n  },\n\n  watch: {\n    showLeftPanel (val) {\n      if (val) {\n        // Leave time for animation to end (.fade-enter-active css rule)\n        setTimeout(() => {\n          this.showLeftPanelContent = true\n        }, 500)\n      } else {\n        this.showLeftPanelContent = false\n      }\n    },\n    selectedCat (val) {\n      this.$emit('update-selectedCategory', val)\n    },\n    selectedFilter (val) {\n      // when we change seledted filter from other component (changing layer.)\n      if (val !== this.vmodelSelectedFilter) {\n        this.vmodelSelectedFilter = val\n        this.selectedCat = this.selectedCategory\n      }\n    },\n\n    vmodelSelectedFilter (newVal, oldVal) {\n      if (oldVal) { // when created, we dont want to emit\n        this.$emit('update-selectedFilter', newVal)\n        this.selectedCat = this.selectedCategory // show all. when we change layer\n      }\n    },\n  },\n\n  created () {\n    this.selectedCat = this.selectedCategory\n    this.vmodelSelectedFilter = this.selectedFilter\n  },\n\n  methods: {\n    showAll () {\n      if (this.selectedCat.length === this.filteredCat.length) {\n        this.selectedCat = []\n      } else {\n        this.selectedCat = this.filteredCat\n      }\n    },\n    run () {\n      this.$store.dispatch('run/startExecution')\n    },\n  },\n}\n</script>\n<template>\n  <section\n    :class=\"showLeftPanel ? 'left-panel elevation-4' : 'left-panel-close'\"\n    :style=\"{'width': showLeftPanel ? '300px' : '0px'}\"\n  >\n    <div\n      class=\"left-panel-toggle-btn elevation-4\"\n      @click=\"$store.commit('changeLeftPanel')\"\n    >\n      <v-icon\n        small\n        color=\"secondarydark\"\n      >\n        {{ showLeftPanel ? 'fas fa-chevron-left' : 'fas fa-chevron-right' }}\n      </v-icon>\n    </div>\n    <transition name=\"fade\">\n      <div\n        v-show=\"showLeftPanelContent\"\n        class=\"left-panel-content\"\n      >\n        <div>\n          <div :style=\"{'margin-top': '20px','margin-bottom': '20px','margin-right':'20px'}\">\n            <v-card-title class=\"white--text secondary\">\n              <v-tooltip\n                bottom\n                open-delay=\"500\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-btn\n                    :style=\"{color: 'white'}\"\n                    icon\n                    class=\"ma-2\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                    @click=\"showAll()\"\n                  >\n                    <v-icon class=\"list-item-icon\">\n                      {{ selectedCat.length > 0 ? 'fa-eye fa' : 'fa-eye-slash fa' }}\n                    </v-icon>\n                  </v-btn>\n                </template>\n                <span>{{ selectedCat.length > 0 ? $gettext(\"Hide All\"): $gettext(\"Show All\") }}</span>\n              </v-tooltip>\n\n              <v-spacer />\n              <v-menu\n                v-model=\"openMenu\"\n                close-delay=\"100\"\n                offset-y\n                transition=\"slide-y-transition\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <span\n                    class=\"title\"\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  >{{ selectedLayer }}</span>\n                </template>\n                <v-list>\n                  <v-list-item\n                    v-for=\"(layer,key) in layerChoices\"\n                    :key=\"key\"\n                    link\n                  >\n                    <v-list-item-title\n                      @click=\"()=>$emit('select-layer',layer)\"\n                    >\n                      {{ layer }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </v-list>\n              </v-menu>\n              <v-spacer />\n\n              <v-btn\n                :style=\"{color: 'white'}\"\n                icon\n                class=\"ma-2\"\n                dark\n                @click=\"openMenu=!openMenu\"\n              >\n                <v-icon> {{ openMenu ? 'fas fa-chevron-left' : 'fas fa-chevron-down' }}</v-icon>\n              </v-btn>\n            </v-card-title>\n            <v-card\n              max-width=\"100%\"\n              min-width=\"100%\"\n              :height=\"windowHeight\"\n              class=\"mx-auto scrollable\"\n            >\n              <v-list-item>\n                <v-select\n                  v-model=\"vmodelSelectedFilter\"\n                  :items=\"filterChoices\"\n                  prepend-icon=\"fas fa-filter\"\n                  label=\"filter\"\n                  item-color=\"secondary\"\n                  color=\"secondary\"\n                />\n              </v-list-item>\n\n              <v-virtual-scroll\n                :items=\"filteredCat\"\n                :item-height=\"45\"\n                :height=\"windowHeight-80\"\n              >\n                <template v-slot=\"{ item }\">\n                  <v-list-item\n                    :key=\"vmodelSelectedFilter.concat(item)\"\n                    class=\"pl-2\"\n                  >\n                    <v-list-item-action>\n                      <v-checkbox\n                        v-model=\"selectedCat\"\n                        class=\"pl-2\"\n                        :on-icon=\"'fa-eye fa'\"\n                        :off-icon=\"'fa-eye-slash fa'\"\n                        :color=\"'primary'\"\n                        :value=\"item\"\n                        size=\"10\"\n                        hide-details\n                      />\n                    </v-list-item-action>\n\n                    <v-list-item-title>\n                      {{ item }}\n                    </v-list-item-title>\n                  </v-list-item>\n                </template>\n              </v-virtual-scroll>\n            </v-card>\n            <!--\n          </div>\n          <v-btn\n            :loading=\"running\"\n            :disabled=\"running\"\n            @click=\"run()\"\n          >\n            TEST API\n          </v-btn>\n        </div>\n        -->\n          </div>\n        </div>\n      </div>\n    </transition>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.left-panel {\n  height: 100%;\n  background-color: var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display: flex;\n  z-index: 20;\n}\n.title  {\n  color:white;\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=style&index=0&id=d6d1e4ce&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSidePanel.vue?vue&type=style&index=0&id=d6d1e4ce&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultsSidePanel.vue?vue&type=template&id=d6d1e4ce&scoped=true&\"\nimport script from \"./ResultsSidePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsSidePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsSidePanel.vue?vue&type=style&index=0&id=d6d1e4ce&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6d1e4ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"MglMap\",\n    {\n      key: _vm.mapStyle,\n      style: { width: \"100%\" },\n      attrs: {\n        \"access-token\": _vm.mapboxPublicKey,\n        \"map-style\": _vm.mapStyle,\n        center: _vm.$store.getters.mapCenter,\n        zoom: _vm.$store.getters.mapZoom,\n      },\n      on: { load: _vm.onMapLoaded },\n    },\n    [\n      _c(\"MglScaleControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _c(\"MglNavigationControl\", { attrs: { position: \"bottom-right\" } }),\n      _vm._v(\" \"),\n      _vm.layerType == \"links\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"links\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"links\",\n              layer: {\n                interactive: true,\n                type: \"line\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"line-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"line-offset\": [\n                    \"*\",\n                    0.5,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                  \"line-opacity\": _vm.opacity / 100,\n                  \"line-blur\": [\n                    \"case\",\n                    [\"boolean\", [\"feature-state\", \"hover\"], false],\n                    6,\n                    0,\n                  ],\n                  \"line-width\": [\"to-number\", [\"get\", \"display_width\"]],\n                },\n                layout: {\n                  \"line-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                  \"line-cap\": \"round\",\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"nodes\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"nodes\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                buffer: 0,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"nodes\",\n              layer: {\n                interactive: true,\n                type: \"circle\",\n                minzoom: _vm.minZoom.links,\n                paint: {\n                  \"circle-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"circle-radius\": [\"to-number\", [\"get\", \"display_width\"]],\n                  \"circle-opacity\": _vm.opacity / 100,\n                },\n                layout: {\n                  \"circle-sort-key\": [\"to-number\", [\"get\", \"display_width\"]],\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"links\"\n        ? _c(\"MglImageLayer\", {\n            attrs: {\n              \"source-id\": \"links\",\n              type: \"symbol\",\n              source: \"links\",\n              \"layer-id\": \"arrow\",\n              layer: {\n                type: \"symbol\",\n                minzoom: _vm.minZoom.nodes,\n                layout: {\n                  \"symbol-placement\": \"line\",\n                  \"symbol-spacing\": 200,\n                  \"icon-ignore-placement\": true,\n                  \"icon-image\": \"arrow\",\n                  \"icon-size\": [\n                    \"*\",\n                    0.1,\n                    [\"to-number\", [\"get\", \"display_width\"]],\n                  ],\n                  \"icon-rotate\": 90,\n                  \"icon-offset\": [5, 5],\n                },\n                paint: {\n                  \"icon-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    \"#B5E0D6\",\n                  ],\n                  \"icon-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.layerType == \"zones\"\n        ? _c(\"MglGeojsonLayer\", {\n            attrs: {\n              \"source-id\": \"polygon\",\n              source: {\n                type: \"geojson\",\n                data: _vm.links,\n                promoteId: \"index\",\n              },\n              \"layer-id\": \"zones\",\n              layer: {\n                interactive: true,\n                type: \"fill\",\n                paint: {\n                  \"fill-color\": [\n                    \"case\",\n                    [\"has\", \"display_color\"],\n                    [\"get\", \"display_color\"],\n                    _vm.$vuetify.theme.currentTheme.linksprimary,\n                  ],\n                  \"fill-opacity\": _vm.opacity / 100,\n                },\n              },\n            },\n            on: {\n              mouseenter: _vm.enterLink,\n              mouseleave: _vm.leaveLink,\n              click: _vm.zoneClick,\n              contextmenu: _vm.selectClick,\n            },\n          })\n        : _vm._e(),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nimport mapboxgl from 'mapbox-gl'\nimport { MglMap, MglNavigationControl, MglScaleControl, MglGeojsonLayer, MglImageLayer } from 'vue-mapbox'\nimport { mapboxPublicKey } from '@src/config.js'\nimport arrowImage from '@static/arrow.png'\n\nexport default {\n  name: 'ResultMap',\n\n  components: {\n    MglMap,\n    MglNavigationControl,\n    MglScaleControl,\n    MglGeojsonLayer,\n    MglImageLayer,\n\n  },\n  props: ['links', 'selectedFeature', 'opacity'],\n  events: ['selectClick'],\n\n  data () {\n    return {\n      mapIsLoaded: false,\n      mapboxPublicKey: null,\n      selectedLinks: [],\n      minZoom: {\n        nodes: 14,\n        links: 8,\n      },\n\n    }\n  },\n  computed: {\n    mapStyle () { return this.$store.getters.mapStyle },\n    layerType () { return this.$store.getters['results/type'] },\n\n  },\n  watch: {\n    mapStyle (val) {\n      if (this.map) {\n        if (this.map.getLayer('arrow')) this.map.removeLayer('arrow')\n        if (this.map.getLayer('links')) this.map.removeLayer('links')\n        if (this.map.getLayer('zones')) this.map.removeLayer('zones')\n        if (this.map.getLayer('nodes')) this.map.removeLayer('nodes')\n        this.mapIsLoaded = false\n        this.saveMapPosition()\n      }\n    },\n  },\n  created () {\n    this.mapboxPublicKey = mapboxPublicKey\n  },\n  beforeDestroy () {\n    // remove arrow layer first as it depend on rlink layer\n    // console.log(this.map)\n    if (this.map.getLayer('arrow')) {\n      this.map.removeLayer('arrow')\n    }\n    this.saveMapPosition()\n  },\n\n  methods: {\n    saveMapPosition () {\n      const center = this.map.getCenter()\n      this.$store.commit('saveMapPosition', {\n        mapCenter: [center.lng, center.lat],\n        mapZoom: this.map.getZoom(),\n      })\n    },\n    onMapLoaded (event) {\n      if (this.map) this.map.remove()\n      const bounds = new mapboxgl.LngLatBounds()\n      // only use first and last point. seems to bug when there is anchor...\n      if (this.layerType === 'zones') {\n        this.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0][0][0],\n            link.geometry.coordinates[0][0][link.geometry.coordinates.length - 1]])\n        })\n      } else {\n        this.links.features.forEach(link => {\n          bounds.extend([link.geometry.coordinates[0],\n            link.geometry.coordinates[link.geometry.coordinates.length - 1]])\n        })\n      }\n\n      // for empty (new) project, do not fit bounds around the links geometries.\n      if (Object.keys(bounds).length !== 0) {\n        event.map.fitBounds(bounds, {\n          padding: 100,\n        })\n      }\n      event.map.loadImage(arrowImage, function (err, image) {\n        if (err) {\n          console.error('err image', err)\n          return\n        }\n        event.map.addImage('arrow', image, { sdf: true })\n      })\n\n      this.map = event.map\n      event.map.dragRotate.disable()\n      this.mapIsLoaded = true\n    },\n    enterLink (event) {\n      event.map.getCanvas().style.cursor = 'pointer'\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.popup?.isOpen()) this.popup.remove() // make sure there is no popup before creating one.\n      if (this.selectedFeature.length > 0 && this.layerType !== 'zones') { // do not show popup if nothing is selected\n        const val = this.selectedLinks[0].properties[this.selectedFeature]\n        this.popup = new mapboxgl.Popup({ closeButton: false })\n          .setLngLat([event.mapboxEvent.lngLat.lng, event.mapboxEvent.lngLat.lat])\n          .setHTML(`${this.selectedFeature}: <br> ${val}`)\n          .addTo(event.map)\n      }\n    },\n    leaveLink (event) {\n      this.selectedLinks = []\n      if (this.popup?.isOpen()) this.popup.remove()\n      event.map.getCanvas().style.cursor = ''\n    },\n    selectClick (event) {\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.selectedLinks?.length > 0) {\n        this.$emit('selectClick', { feature: this.selectedLinks[0].properties, action: 'featureClick' })\n      }\n    },\n    zoneClick (event) {\n      this.selectedLinks = event.mapboxEvent.features\n      if (this.selectedLinks?.length > 0) {\n        this.$emit('selectClick', { feature: this.selectedLinks[0].properties, action: 'zoneClick' })\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <MglMap\n    :key=\"mapStyle\"\n    :style=\"{'width': '100%'}\"\n    :access-token=\"mapboxPublicKey\"\n    :map-style=\"mapStyle\"\n    :center=\"$store.getters.mapCenter\"\n    :zoom=\"$store.getters.mapZoom\"\n    @load=\"onMapLoaded\"\n  >\n    <MglScaleControl position=\"bottom-right\" />\n    <MglNavigationControl position=\"bottom-right\" />\n\n    <MglGeojsonLayer\n      v-if=\"layerType == 'links'\"\n      source-id=\"links\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"links\"\n      :layer=\"{\n        interactive: true,\n        type: 'line',\n        minzoom: minZoom.links,\n        paint: {\n          'line-color': ['case', ['has', 'display_color'],['get', 'display_color'], '#B5E0D6'],\n          'line-offset': ['*',0.5,['to-number', ['get', 'display_width']]],\n          'line-opacity':opacity/100,\n          'line-blur': ['case', ['boolean', ['feature-state', 'hover'], false], 6, 0],\n          'line-width':['to-number', ['get', 'display_width']],\n\n        },\n        layout: {\n          'line-sort-key': ['to-number',['get', 'display_width']],\n          'line-cap': 'round',\n        }\n\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"selectClick\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType == 'nodes'\"\n      source-id=\"nodes\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        buffer: 0,\n        promoteId: 'index',\n      }\"\n      layer-id=\"nodes\"\n      :layer=\"{\n        interactive: true,\n        type: 'circle',\n        minzoom: minZoom.links,\n        paint: {\n          'circle-color': ['case', ['has', 'display_color'],['get', 'display_color'], '#B5E0D6'],\n          'circle-radius':['to-number', ['get', 'display_width']],\n          'circle-opacity':opacity/100,\n        },\n        layout: {\n          'circle-sort-key': ['to-number',['get', 'display_width']],\n        }\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"selectClick\"\n    />\n\n    <MglImageLayer\n      v-if=\"layerType == 'links'\"\n      source-id=\"links\"\n      type=\"symbol\"\n      source=\"links\"\n      layer-id=\"arrow\"\n      :layer=\"{\n        type: 'symbol',\n        minzoom: minZoom.nodes,\n        layout: {\n          'symbol-placement': 'line',\n          'symbol-spacing': 200,\n          'icon-ignore-placement': true,\n          'icon-image':'arrow',\n          'icon-size': ['*',0.1,['to-number', ['get', 'display_width']]],\n          'icon-rotate': 90,\n          'icon-offset': [5,5],\n\n        },\n        paint: {\n          'icon-color': ['case', ['has', 'display_color'], ['get', 'display_color'], '#B5E0D6'],\n          'icon-opacity':opacity/100,\n\n        }\n      }\"\n    />\n    <MglGeojsonLayer\n      v-if=\"layerType == 'zones'\"\n      source-id=\"polygon\"\n      :source=\"{\n        type: 'geojson',\n        data: links,\n        promoteId: 'index',\n      }\"\n      layer-id=\"zones\"\n      :layer=\"{\n        interactive: true,\n        type: 'fill',\n        'paint': {\n          'fill-color':['case', ['has', 'display_color'],['get', 'display_color'],\n                        $vuetify.theme.currentTheme.linksprimary],\n          'fill-opacity': opacity/100,\n\n        }\n      }\"\n      @mouseenter=\"enterLink\"\n      @mouseleave=\"leaveLink\"\n      @click=\"zoneClick\"\n      @contextmenu=\"selectClick\"\n    />\n  </MglMap>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapResults.vue?vue&type=template&id=a894f7a8&scoped=true&\"\nimport script from \"./MapResults.vue?vue&type=script&lang=js&\"\nexport * from \"./MapResults.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a894f7a8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"close-on-click\": false,\n        origin: \"top right\",\n        transition: \"scale-transition\",\n        \"position-y\": 30,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"div\",\n                { staticClass: \"setting\" },\n                [\n                  _c(\n                    \"v-btn\",\n                    _vm._g(\n                      _vm._b(\n                        { attrs: { fab: \"\", small: \"\" } },\n                        \"v-btn\",\n                        attrs,\n                        false\n                      ),\n                      on\n                    ),\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          attrs: {\n                            color: !isFinite(_vm.displaySettings.maxVal)\n                              ? \"error\"\n                              : \"regular\",\n                          },\n                        },\n                        [_vm._v(\"\\n          fa-solid fa-cog\\n        \")]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.showDialog,\n        callback: function ($$v) {\n          _vm.showDialog = $$v\n        },\n        expression: \"showDialog\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        {\n          class: { shake: _vm.shake },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.submit.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                return _vm.cancel.apply(null, arguments)\n              },\n            ],\n          },\n        },\n        [\n          _c(\n            \"v-card-title\",\n            { staticClass: \"subtitle\" },\n            [\n              _vm._v(\n                \"\\n      \" + _vm._s(_vm.$gettext(\"Settings\")) + \"\\n      \"\n              ),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                { attrs: { icon: \"\", small: \"\" }, on: { click: _vm.cancel } },\n                [\n                  _c(\"v-icon\", { attrs: { color: \"regular\" } }, [\n                    _vm._v(\"\\n          fa-solid fa-times\\n        \"),\n                  ]),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-text\",\n            [\n              _c(\n                \"v-form\",\n                { ref: \"form\", attrs: { \"lazy-validation\": \"\" } },\n                [\n                  _c(\n                    \"v-container\",\n                    [\n                      _c(\n                        \"v-col\",\n                        [\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.featureChoices,\n                              label: _vm.$gettext(_vm.parameters[0].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[0].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.parameters[0].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[0], \"value\", $$v)\n                              },\n                              expression: \"parameters[0].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _vm._l(\n                            _vm.parameters.slice(1, 4),\n                            function (item, key) {\n                              return _c(\"v-text-field\", {\n                                key: key,\n                                attrs: {\n                                  type: item.type,\n                                  label: _vm.$gettext(item.name),\n                                  suffix: item.units,\n                                  hint: _vm.showHint\n                                    ? _vm.$gettext(item.hint)\n                                    : \"\",\n                                  \"persistent-hint\": _vm.showHint,\n                                  required: \"\",\n                                },\n                                on: { wheel: () => {} },\n                                model: {\n                                  value: item.value,\n                                  callback: function ($$v) {\n                                    _vm.$set(item, \"value\", $$v)\n                                  },\n                                  expression: \"item.value\",\n                                },\n                              })\n                            }\n                          ),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.parameters[5].choices,\n                              label: _vm.$gettext(_vm.parameters[5].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[5].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            model: {\n                              value: _vm.parameters[5].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[5], \"value\", $$v)\n                              },\n                              expression: \"parameters[5].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-select\", {\n                            attrs: {\n                              items: _vm.parameters[6].choices,\n                              label: _vm.$gettext(_vm.parameters[6].name),\n                              hint: _vm.showHint\n                                ? _vm.$gettext(_vm.parameters[6].hint)\n                                : \"\",\n                              \"persistent-hint\": _vm.showHint,\n                              required: \"\",\n                            },\n                            scopedSlots: _vm._u([\n                              {\n                                key: \"item\",\n                                fn: function ({ item }) {\n                                  return [\n                                    _c(\n                                      \"div\",\n                                      { staticClass: \"gradient\" },\n                                      [\n                                        _vm._l(\n                                          _vm.getColor(item),\n                                          function (color, key) {\n                                            return _c(\"span\", {\n                                              key: key,\n                                              staticClass: \"grad-step\",\n                                              style: { backgroundColor: color },\n                                            })\n                                          }\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"span\",\n                                          { staticClass: \"domain-title\" },\n                                          [_vm._v(_vm._s(item))]\n                                        ),\n                                      ],\n                                      2\n                                    ),\n                                  ]\n                                },\n                              },\n                            ]),\n                            model: {\n                              value: _vm.parameters[6].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[6], \"value\", $$v)\n                              },\n                              expression: \"parameters[6].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-slider\", {\n                            staticClass: \"align-center\",\n                            attrs: {\n                              \"inverse-label\": \"\",\n                              label: _vm.parameters[4].name,\n                              max: 100,\n                              \"thumb-label\": \"\",\n                              min: 0,\n                              \"hide-details\": \"\",\n                            },\n                            scopedSlots: _vm._u([\n                              {\n                                key: \"thumb-label\",\n                                fn: function ({ value }) {\n                                  return [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(value + \"%\") +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                },\n                              },\n                            ]),\n                            model: {\n                              value: _vm.parameters[4].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[4], \"value\", $$v)\n                              },\n                              expression: \"parameters[4].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            attrs: { label: _vm.parameters[7].name },\n                            model: {\n                              value: _vm.parameters[7].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[7], \"value\", $$v)\n                              },\n                              expression: \"parameters[7].value\",\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\"v-switch\", {\n                            attrs: { label: _vm.parameters[8].name },\n                            model: {\n                              value: _vm.parameters[8].value,\n                              callback: function ($$v) {\n                                _vm.$set(_vm.parameters[8], \"value\", $$v)\n                              },\n                              expression: \"parameters[8].value\",\n                            },\n                          }),\n                        ],\n                        2\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"grey\", text: \"\" },\n                  on: { click: _vm.cancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Cancel\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"green darken-1\", text: \"\" },\n                  on: { click: _vm.submit },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"Save\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { icon: \"\", small: \"\" },\n                  on: {\n                    click: function ($event) {\n                      _vm.showHint = !_vm.showHint\n                    },\n                  },\n                },\n                [_c(\"v-icon\", [_vm._v(\"far fa-question-circle small\")])],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport chroma from 'chroma-js'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultsSettings',\n  model: {\n    prop: 'show',\n    event: 'update-show',\n  },\n  props: ['show', 'displaySettings', 'featureChoices'],\n  events: ['update-show', 'submit'],\n\n  data () {\n    return {\n      parameters: [{\n        name: $gettext('selectedFeature'),\n        type: 'String',\n        value: this.displaySettings.selectedFeature,\n        units: '',\n        hint: $gettext('selectedFeature'),\n      },\n      {\n        name: $gettext('maxWidth'),\n        type: 'Number',\n        value: this.displaySettings.maxWidth,\n        units: 'a.u.',\n        hint: $gettext('maxWidth'),\n      },\n      {\n        name: $gettext('minWidth'),\n        type: 'Number',\n        value: this.displaySettings.minWidth,\n        units: 'a.u.',\n        hint: $gettext('minWidth'),\n      },\n      {\n        name: $gettext('numStep'),\n        type: 'Number',\n        value: this.displaySettings.numStep,\n        units: 'int',\n        hint: $gettext('numStep'),\n      },\n      {\n        name: $gettext('opacity'),\n        type: 'Number',\n        value: this.displaySettings.opacity,\n        units: 'number',\n        hint: $gettext('opacity'),\n      },\n      {\n        name: $gettext('scale'),\n        type: 'String',\n        value: this.displaySettings.scale,\n        choices: ['linear', 'sqrt', 'log'],\n        units: '',\n        hint: $gettext('scale'),\n      },\n      {\n        name: $gettext('color map'),\n        type: 'String',\n        choices: Object.keys(chroma.brewer).slice(0, 36),\n        value: this.displaySettings.cmap,\n        units: '',\n        hint: $gettext('cmap to use'),\n      },\n      {\n        name: $gettext('show NaN'),\n        value: this.displaySettings.showNaN,\n        hint: $gettext('Hide NaN on map and color map'),\n      },\n      {\n        name: $gettext('reverse color'),\n        value: this.displaySettings.reverseColor,\n        hint: $gettext('reverse color scale'),\n      },\n\n      ],\n      errorMessage: null,\n      showHint: false,\n      shake: false,\n\n      rules: {\n        required: v => !!v || $gettext('Required'),\n        largerThanZero: v => v > 0 || $gettext('should be larger than 0'),\n        nonNegative: v => v >= 0 || $gettext('should be larger or equal to 0'),\n      },\n      showDialog: false,\n    }\n  },\n  watch: {\n    showDialog (val) {\n      this.reset()\n      this.$emit('update-show', val)\n    },\n    // when we change layer\n    featureChoices () { this.reset() },\n  },\n  created () {\n    this.showDialog = this.show\n  },\n\n  methods: {\n    getColor (scale) {\n      const arr = []\n      const colorScale = chroma.scale(scale).padding([0.2, 0])\n        .domain([0, 100]).classes(25)\n      for (let i = 0; i < 100; i++) {\n        arr.push(colorScale(i).hex())\n      }\n      return arr\n    },\n    reset () {\n      this.parameters[0].value = this.displaySettings.selectedFeature\n      this.parameters[1].value = this.displaySettings.maxWidth\n      this.parameters[2].value = this.displaySettings.minWidth\n      this.parameters[3].value = this.displaySettings.numStep\n      this.parameters[4].value = this.displaySettings.opacity\n      this.parameters[5].value = this.displaySettings.scale\n      this.parameters[6].value = this.displaySettings.cmap\n      this.parameters[7].value = this.displaySettings.showNaN\n      this.parameters[8].value = this.displaySettings.reverseColor\n    },\n    submit () {\n      if (this.$refs.form.validate()) {\n        this.$emit('submit', {\n          selectedFeature: this.parameters[0].value,\n          maxWidth: Number(this.parameters[1].value),\n          minWidth: Number(this.parameters[2].value),\n          numStep: Number(this.parameters[3].value),\n          opacity: Number(this.parameters[4].value),\n          scale: this.parameters[5].value,\n          cmap: this.parameters[6].value,\n          showNaN: this.parameters[7].value,\n          reverseColor: this.parameters[8].value,\n        })\n        // this.showDialog = false\n      } else {\n        this.shake = true\n        setTimeout(() => {\n          this.shake = false\n        }, 500)\n      }\n    },\n    cancel () {\n      this.showDialog = false\n    },\n  },\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"showDialog\"\n    :close-on-content-click=\"false\"\n    :close-on-click=\"false\"\n    :origin=\"'top right'\"\n    transition=\"scale-transition\"\n    :position-y=\"30\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <div class=\"setting\">\n        <v-btn\n          fab\n          small\n          v-bind=\"attrs\"\n          v-on=\"on\"\n        >\n          <v-icon\n            :color=\"!isFinite(displaySettings.maxVal)?'error':'regular'\"\n          >\n            fa-solid fa-cog\n          </v-icon>\n        </v-btn>\n      </div>\n    </template>\n    <v-card\n      :class=\"{'shake':shake}\"\n      @keydown.enter=\"submit\"\n      @keydown.esc=\"cancel\"\n    >\n      <v-card-title class=\"subtitle\">\n        {{ $gettext('Settings') }}\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"cancel\"\n        >\n          <v-icon\n            color=\"regular\"\n          >\n            fa-solid fa-times\n          </v-icon>\n        </v-btn>\n      </v-card-title>\n\n      <v-card-text>\n        <v-form\n          ref=\"form\"\n          lazy-validation\n        >\n          <v-container>\n            <v-col>\n              <v-select\n                v-model=\"parameters[0].value\"\n                :items=\"featureChoices\"\n                :label=\"$gettext(parameters[0].name)\"\n                :hint=\"showHint? $gettext(parameters[0].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              />\n              <v-text-field\n                v-for=\"(item,key) in parameters.slice(1,4)\"\n                :key=\"key\"\n                v-model=\"item.value\"\n                :type=\"item.type\"\n\n                :label=\"$gettext(item.name)\"\n                :suffix=\"item.units\"\n                :hint=\"showHint? $gettext(item.hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n                @wheel=\"()=>{}\"\n              />\n              <v-select\n                v-model=\"parameters[5].value\"\n                :items=\"parameters[5].choices\"\n                :label=\"$gettext(parameters[5].name)\"\n                :hint=\"showHint? $gettext(parameters[5].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              />\n\n              <v-select\n                v-model=\"parameters[6].value\"\n                :items=\"parameters[6].choices\"\n                :label=\"$gettext(parameters[6].name)\"\n                :hint=\"showHint? $gettext(parameters[6].hint): ''\"\n                :persistent-hint=\"showHint\"\n                required\n              >\n                <template v-slot:item=\"{item}\">\n                  <div class=\"gradient\">\n                    <span\n                      v-for=\"(color,key) in getColor(item)\"\n                      :key=\"key\"\n                      class=\"grad-step\"\n                      :style=\"{'backgroundColor':color}\"\n                    />\n                    <span class=\"domain-title\">{{ item }}</span>\n                  </div>\n                </template>\n              </v-select>\n\n              <v-slider\n                v-model=\"parameters[4].value\"\n                class=\"align-center\"\n                inverse-label\n                :label=\"parameters[4].name\"\n                :max=\"100\"\n                thumb-label\n                :min=\"0\"\n                hide-details\n              >\n                <template v-slot:thumb-label=\"{ value }\">\n                  {{ value +'%' }}\n                </template>\n              </v-slider>\n              <v-switch\n                v-model=\"parameters[7].value\"\n                :label=\"parameters[7].name\"\n              />\n              <v-switch\n                v-model=\"parameters[8].value\"\n                :label=\"parameters[8].name\"\n              />\n            </v-col>\n          </v-container>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          color=\"grey\"\n          text\n          @click=\"cancel\"\n        >\n          {{ $gettext(\"Cancel\") }}\n        </v-btn>\n\n        <v-btn\n          color=\"green darken-1\"\n          text\n          @click=\"submit\"\n        >\n          {{ $gettext(\"Save\") }}\n        </v-btn>\n\n        <v-spacer />\n        <v-btn\n          icon\n          small\n          @click=\"showHint = !showHint\"\n        >\n          <v-icon>far fa-question-circle small</v-icon>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 60%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 10px;\n    padding-bottom: 10px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    padding-left:0.5rem;\n    padding-top:0.5rem;\n    text-align: center;\n    font-size: 16px;\n\n}\n\n.grad-step {\n    display: inline-block;\n    height: 40px;\n    width: 1%;\n}\n\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n\n.setting {\n  left: 98%;\n  width: 0px;\n  z-index: 2;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=style&index=0&id=2d20fc31&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultsSettings.vue?vue&type=style&index=0&id=2d20fc31&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultsSettings.vue?vue&type=template&id=2d20fc31&scoped=true&\"\nimport script from \"./ResultsSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultsSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultsSettings.vue?vue&type=style&index=0&id=2d20fc31&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d20fc31\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { staticClass: \"gradient\" },\n    [\n      _vm._l(_vm.colorScale, function (color, key) {\n        return _c(\"span\", {\n          key: key,\n          staticClass: \"grad-step\",\n          style: { backgroundColor: color },\n        })\n      }),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-title\" }, [\n        _vm._v(_vm._s(_vm.displaySettings.selectedFeature)),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-min\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.minVal))),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-med\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.maxVal / 2))),\n      ]),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"domain-max\" }, [\n        _vm._v(_vm._s(Math.round(_vm.displaySettings.maxVal))),\n      ]),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'MapLegend',\n  components: {\n  },\n  props: {\n    colorScale: {\n      type: Array,\n      default: () => [],\n    },\n    displaySettings: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data () {\n    return {\n\n    }\n  },\n  watch: {\n\n  },\n\n  methods: {\n\n  },\n}\n</script>\n<template>\n  <div class=\"gradient\">\n    <span\n      v-for=\"(color,key) in colorScale\"\n      :key=\"key\"\n      class=\"grad-step\"\n      :style=\"{'backgroundColor':color}\"\n    />\n    <span class=\"domain-title\">{{ displaySettings.selectedFeature }}</span>\n    <span class=\"domain-min\">{{ Math.round(displaySettings.minVal) }}</span>\n    <span class=\"domain-med\">{{ Math.round(displaySettings.maxVal/2) }}</span>\n    <span class=\"domain-max\">{{ Math.round(displaySettings.maxVal) }}</span>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n\n.gradient {\n    width: 85%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 20px;\n    padding-bottom: 15px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    top: 6px;\n\n}\n\n.gradient .domain-min {\n    position: absolute;\n    left: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-med {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-max {\n    position: absolute;\n    right: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n\n.grad-step {\n    display: inline-block;\n    height: 20px;\n    width: 1%;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=880a9ea2&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapLegend.vue?vue&type=style&index=0&id=880a9ea2&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./MapLegend.vue?vue&type=template&id=880a9ea2&scoped=true&\"\nimport script from \"./MapLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./MapLegend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapLegend.vue?vue&type=style&index=0&id=880a9ea2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"880a9ea2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=script&lang=js&\"","<script>\n\nimport ResultsSidePanel from '../components/ResultsSidePanel.vue'\nimport MapResults from '../components/MapResults.vue'\nimport ResultsSettings from '../components/ResultsSettings.vue'\nimport MapLegend from '../components/utils/MapLegend.vue'\n\nexport default {\n  name: 'ResultMap',\n  components: {\n    ResultsSidePanel,\n    MapResults,\n    ResultsSettings,\n    MapLegend,\n\n  },\n\n  data () {\n    return {\n      mapIsLoaded: false,\n      mapboxPublicKey: null,\n      minZoom: {\n        nodes: 14,\n        links: 8,\n      },\n      showSettings: false,\n      selectedLayer: 'links',\n      selectedCategory: [],\n      form: {},\n      showDialog: false,\n\n    }\n  },\n  computed: {\n    windowHeight () { return this.$store.getters.windowHeight - 100 },\n    availableLayers () { return this.$store.getters.availableLayers },\n    links () { return this.$store.getters['results/links'] },\n    visibleLinks () { return this.$store.getters['results/visibleLinks'] },\n    filterChoices () { return this.$store.getters['results/lineAttributes'] },\n    displaySettings () { return this.$store.getters['results/displaySettings'] },\n    selectedFilter () { return this.$store.getters['results/selectedFilter'] },\n    colorScale () { return this.$store.getters['results/colorScale'] },\n    filteredCategory () {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(this.links.features.map(\n        item => item.properties[this.selectedFilter])))\n      return val\n    },\n  },\n  watch: {\n    selectedCategory (val) {\n      this.$store.commit('results/changeSelectedCategory', val)\n      this.$store.commit('results/updateSelectedFeature')\n    },\n\n  },\n  created () {\n    this.changeLayer(this.selectedLayer)\n  },\n\n  methods: {\n    applySettings (payload) {\n      this.$store.commit('results/applySettings', payload)\n    },\n    updateSelectedFilter (val) {\n      this.$store.commit('results/changeSelectedFilter', val)\n      this.$store.commit('results/updateSelectedFeature')\n    },\n    changeLayer (layer) {\n      this.selectedLayer = layer\n      switch (layer) {\n        case 'links':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.links,\n            type: 'links',\n            selectedFeature: 'headway',\n          })\n          break\n        case 'rlinks':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.rlinks,\n            type: 'links',\n            selectedFeature: 'speed',\n          })\n          break\n        case 'nodes':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.nodes,\n            type: 'nodes',\n            selectedFeature: 'boardings',\n          })\n          break\n        case 'rnodes':\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters.rnodes,\n            type: 'nodes',\n            selectedFeature: 'boardings',\n          })\n          break\n        default:\n          this.$store.commit('results/loadLinks', {\n            geojson: this.$store.getters[`${layer}/layer`],\n            type: this.$store.getters[`${layer}/type`],\n          })\n          break\n      }\n      // this.selectedFilter = this.$store.getters['results/selectedFilter']\n      this.selectedCategory = this.$store.getters['results/selectedCategory']\n    },\n    featureClicked (event) {\n      if (event.action === 'featureClick') {\n        this.form = event.feature\n        this.showDialog = true\n      } else {\n        this.$store.commit('zones/changeZone', { index: event.feature.index })\n        this.$store.commit('results/updateLinks', this.$store.getters['zones/layer'])\n        this.$store.commit('results/refreshVisibleLinks')\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"map-view\">\n    <ResultsSidePanel\n      v-model=\"selectedCategory\"\n      :selected-filter=\"selectedFilter\"\n      :layer-choices=\"availableLayers\"\n      :selected-layer=\"selectedLayer\"\n      :filter-choices=\"filterChoices\"\n      :filtered-cat=\"filteredCategory\"\n      @update-selectedFilter=\"updateSelectedFilter\"\n      @select-layer=\"changeLayer\"\n    />\n\n    <ResultsSettings\n      v-model=\"showSettings\"\n      :display-settings=\"displaySettings\"\n      :feature-choices=\"filterChoices\"\n      @submit=\"applySettings\"\n    />\n    <div class=\"left-panel\">\n      <div\n        :class=\"$store.getters.showLeftPanel ? 'legend-open elevation-4' : 'legend-close elevation-4'\"\n        :style=\"{'top':`${windowHeight}px`}\"\n      >\n        <MapLegend\n          :color-scale=\"colorScale\"\n          :display-settings=\"displaySettings\"\n        />\n      </div>\n    </div>\n\n    <MapResults\n      :key=\"$store.getters['results/type']\"\n      :links=\"visibleLinks\"\n      :selected-feature=\"displaySettings.selectedFeature\"\n      :opacity=\"displaySettings.opacity\"\n      @selectClick=\"featureClicked\"\n    />\n\n    <v-dialog\n      v-model=\"showDialog\"\n      scrollable\n      persistent\n      max-width=\"300\"\n      @keydown.enter=\"showDialog=false\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card max-height=\"60rem\">\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"link Properties\") }}\n        </v-card-title>\n        <v-divider />\n        <v-card-text>\n          <v-list>\n            <v-text-field\n              v-for=\"(value, key) in form\"\n              :key=\"key\"\n              :value=\"value\"\n              :label=\"key\"\n              filled\n              readonly\n            />\n          </v-list>\n        </v-card-text>\n        <v-divider />\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"success\"\n            text\n            @click=\"showDialog=false\"\n          >\n            {{ $gettext(\"ok\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n\n}\n.left-panel {\n  height: 100%;\n  position: absolute;\n\n}\n.legend-open {\n  left: 350px;\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-white-base);\n  border: thin solid var(--v-mediumgrey-base);\n}\n.legend-close {\n  left: 50px;\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-lightgrey);\n  border: thin solid rgb(196, 196, 196);\n}\n\n.hist {\n  position: relative;\n  bottom: -10px;\n  flex-grow: 1;\n  height: 20px;\n  background-color: rgba(231, 17, 17);\n  text-align: center;\n  width:10px;\n}\n\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=style&index=0&id=f6bdcd8e&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultMap.vue?vue&type=style&index=0&id=f6bdcd8e&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultMap.vue?vue&type=template&id=f6bdcd8e&scoped=true&\"\nimport script from \"./ResultMap.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultMap.vue?vue&type=style&index=0&id=f6bdcd8e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6bdcd8e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Import from '@page/Import.vue'\nimport ResultPicture from '@page/ResultPicture.vue'\nimport auth from '../auth'\nimport Home from '@page/Home.vue'\nimport DataFrame from '@page/DataFrame.vue'\nimport ResultMap from '@page/ResultMap.vue'\nimport { store } from '../store/index.js'\n\nVue.use(Router)\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nconst router = new Router({\n  linkExactActiveClass: 'active',\n  mode: 'history',\n  base: '/quetzal-network-editor-dev/',\n  routes: [\n    {\n      path: '/',\n      name: Import.name,\n      component: Import,\n      icon: 'fa-solid fa-upload',\n      title: $gettext('Import'),\n    },\n    {\n      path: '/Home',\n      name: Home.name,\n      component: Home,\n      icon: 'fa-solid fa-map',\n      title: $gettext('Map'),\n    },\n    {\n      path: '/DataFrame',\n      name: DataFrame.name,\n      component: DataFrame,\n      icon: 'fa-solid fa-table',\n      title: $gettext('Table'),\n    },\n    {\n      path: '/ResultMap',\n      name: ResultMap.name,\n      component: ResultMap,\n      icon: 'fa-solid fa-layer-group',\n      title: $gettext('Results Map'),\n    },\n    {\n      path: '/ResultPicture',\n      name: ResultPicture.name,\n      component: ResultPicture,\n      icon: 'fas fa-images',\n      title: $gettext('Results Pictures'),\n    },\n    {\n      path: '/callback',\n      name: 'callback',\n      beforeEnter: (to, from, next) => {\n        const currUrl = window.location.href\n        auth.auth.parseCognitoWebResponse(currUrl)\n        next('/')\n      },\n    },\n    {\n      path: '/signout',\n      name: 'signout',\n      beforeEnter: (to, from, next) => {\n        next('/')\n      },\n    },\n  ],\n})\n\n// router.beforeEach((to, from, next) => {\n//  if (to.name !== 'Import' && store.getters.projectIsUndefined) next({ name: 'Import' })\n//  else if (to.path === 'Import') next('Import')\n//  else next()\n// })\n\nexport default router\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-app\",\n    { staticClass: \"app\" },\n    [\n      _c(\"NavigationDrawer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"resize\",\n              rawName: \"v-resize\",\n              value: _vm.onResize,\n              expression: \"onResize\",\n            },\n          ],\n          ref: \"container\",\n          staticClass: \"container\",\n        },\n        [\n          _c(\"Toolbar\"),\n          _vm._v(\" \"),\n          _c(\"transition\", { attrs: { name: \"fade\" } }, [_c(\"router-view\")], 1),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-overlay\",\n        { attrs: { value: _vm.loading } },\n        [\n          _c(\"v-progress-circular\", {\n            attrs: { indeterminate: \"\", size: \"64\" },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-snackbar\",\n        {\n          staticClass: \"snackbar\",\n          class: `snackbar-${_vm.notification.type}`,\n          attrs: {\n            timeout: _vm.notification.autoClose ? 3000 : -1,\n            transition: \"slide-y-reverse-transition\",\n            color: _vm.notification.color ? _vm.notification.color : \"white\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"action\",\n              fn: function ({ attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._b(\n                      {\n                        attrs: { small: \"\", color: \"secondary\", text: \"\" },\n                        on: { click: _vm.closeSnackbar },\n                      },\n                      \"v-btn\",\n                      attrs,\n                      false\n                    ),\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Close\")) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.snackbar,\n            callback: function ($$v) {\n              _vm.snackbar = $$v\n            },\n            expression: \"snackbar\",\n          },\n        },\n        [\n          _vm._v(\n            \"\\n    \" + _vm._s(_vm.$gettext(_vm.notification.text)) + \"\\n    \"\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-toolbar\",\n    { class: \"app-toolbar elevation-4\", attrs: { dense: \"\" } },\n    [\n      _c(\"v-img\", {\n        attrs: {\n          src: require(\"@static/systra_logo.png\"),\n          contain: \"\",\n          \"max-width\": \"6rem\",\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\"span\", { staticClass: \"copyright\" }, [_vm._v(\"\")]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"app-name\" }, [\n        _vm._v(\"\\n    Quetzal Network Editor\\n  \"),\n      ]),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              attrs: {\n                                icon: \"\",\n                                href: \"https://github.com/systragroup/quetzal-network-editor\",\n                                target: \"_blank\",\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"\\n            fab fa-github\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [_vm._v(\" \"), _c(\"span\", [_vm._v(\"GitHub\")])]\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"switch\" },\n        [\n          _c(\"v-switch\", {\n            attrs: { \"append-icon\": \"fas fa-moon\" },\n            model: {\n              value: _vm.$vuetify.theme.dark,\n              callback: function ($$v) {\n                _vm.$set(_vm.$vuetify.theme, \"dark\", $$v)\n              },\n              expression: \"$vuetify.theme.dark\",\n            },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"language active\",\n                              attrs: { text: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$language.current) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                _vm._l(_vm.$language.available, function (language, lang) {\n                  return _c(\n                    \"v-list-item\",\n                    {\n                      key: lang,\n                      class: language,\n                      on: { click: () => _vm.handleChangeLanguage(lang) },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(language.toUpperCase()) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _vm.loggedIn\n            ? _c(\"Profile\", { on: { logout: () => _vm.logout() } })\n            : _c(\n                \"v-tooltip\",\n                {\n                  attrs: { bottom: \"\", \"open-delay\": \"250\" },\n                  scopedSlots: _vm._u([\n                    {\n                      key: \"activator\",\n                      fn: function ({ on, attrs }) {\n                        return [\n                          _c(\n                            \"v-btn\",\n                            _vm._g(\n                              _vm._b(\n                                {\n                                  attrs: { icon: \"\" },\n                                  on: { click: _vm.login },\n                                },\n                                \"v-btn\",\n                                attrs,\n                                false\n                              ),\n                              on\n                            ),\n                            [\n                              _c(\"v-icon\", [\n                                _vm._v(\n                                  \"\\n            fas fa-sign-in-alt\\n          \"\n                                ),\n                              ]),\n                            ],\n                            1\n                          ),\n                        ]\n                      },\n                    },\n                  ]),\n                },\n                [\n                  _vm._v(\" \"),\n                  _c(\"span\", [_vm._v(_vm._s(_vm.$gettext(\"login / signin\")))]),\n                ]\n              ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-menu\",\n    {\n      attrs: {\n        \"close-on-content-click\": false,\n        \"nudge-width\": 200,\n        \"offset-x\": \"\",\n        \"offset-y\": \"\",\n      },\n      scopedSlots: _vm._u([\n        {\n          key: \"activator\",\n          fn: function ({ on, attrs }) {\n            return [\n              _c(\n                \"v-avatar\",\n                _vm._g(\n                  _vm._b(\n                    { attrs: { size: \"34\", color: \"primary\" } },\n                    \"v-avatar\",\n                    attrs,\n                    false\n                  ),\n                  on\n                ),\n                [\n                  _c(\"span\", { staticClass: \"white--text text-h6\" }, [\n                    _vm._v(_vm._s(_vm.initial)),\n                  ]),\n                ]\n              ),\n            ]\n          },\n        },\n      ]),\n      model: {\n        value: _vm.menu,\n        callback: function ($$v) {\n          _vm.menu = $$v\n        },\n        expression: \"menu\",\n      },\n    },\n    [\n      _vm._v(\" \"),\n      _c(\n        \"v-card\",\n        [\n          _c(\n            \"v-list\",\n            [\n              _c(\n                \"v-list-item\",\n                [\n                  _c(\n                    \"v-list-item-content\",\n                    [\n                      _c(\"v-list-item-title\", [\n                        _vm._v(\n                          _vm._s(\n                            _vm.cognitoInfo.given_name +\n                              \" \" +\n                              _vm.cognitoInfo.family_name\n                          )\n                        ),\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"v-list-item-subtitle\", [\n                        _vm._v(_vm._s(_vm.cognitoInfo.email)),\n                      ]),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-divider\"),\n          _vm._v(\" \"),\n          _vm._l(_vm.cognitoGroups, function (group) {\n            return _c(\"v-list-item\", { key: group }, [\n              _vm._v(\"\\n      \" + _vm._s(group) + \"\\n    \"),\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-card-actions\",\n            [\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { color: \"primary\", text: \"\" },\n                  on: { click: _vm.logout },\n                },\n                [\n                  _vm._v(\n                    \"\\n        \" + _vm._s(_vm.$gettext(\"logout\")) + \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        2\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\n\nexport default {\n  name: 'Profile',\n  components: {\n\n  },\n\n  props: [],\n  events: ['logout'],\n  data () {\n    return {\n      menu: false,\n    }\n  },\n  computed: {\n    cognitoInfo () { return this.$store.getters.cognitoInfo },\n    cognitoGroups () { return this.$store.getters.cognitoGroups },\n\n    initial () { return (this.cognitoInfo?.given_name[0] + this.cognitoInfo?.family_name[0]).toUpperCase() },\n  },\n  watch: {\n\n  },\n\n  methods: {\n    logout () {\n      this.menu = false\n      this.$emit('logout')\n    },\n\n  },\n}\n</script>\n<template>\n  <v-menu\n    v-model=\"menu\"\n    :close-on-content-click=\"false\"\n    :nudge-width=\"200\"\n    offset-x\n    offset-y\n  >\n    <template v-slot:activator=\"{ on, attrs }\">\n      <v-avatar\n        size=\"34\"\n        color=\"primary\"\n        v-bind=\"attrs\"\n        v-on=\"on\"\n      >\n        <span class=\"white--text text-h6\">{{ initial }}</span>\n      </v-avatar>\n    </template>\n    <v-card>\n      <v-list>\n        <v-list-item>\n          <v-list-item-content>\n            <v-list-item-title>{{ cognitoInfo.given_name+' '+ cognitoInfo.family_name }}</v-list-item-title>\n            <v-list-item-subtitle>{{ cognitoInfo.email }}</v-list-item-subtitle>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n\n      <v-divider />\n      <v-list-item\n        v-for=\"group in cognitoGroups\"\n        :key=\"group\"\n      >\n        {{ group }}\n      </v-list-item>\n      <v-card-actions>\n        <v-spacer />\n\n        <v-btn\n          color=\"primary\"\n          text\n          @click=\"logout\"\n        >\n          {{ $gettext('logout') }}\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-menu>\n</template>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","<script>\nimport auth from '../../auth'\nimport Profile from '../utils/Profile.vue'\nexport default {\n  name: 'Toolbar',\n  components: { Profile },\n  data () {\n    return {\n      dialog: true,\n    }\n  },\n  computed: {\n    loggedIn () { return this.$store.getters.loggedIn },\n  },\n  watch: {\n    '$vuetify.theme.dark' (val) {\n      this.$store.commit('changeDarkMode', val)\n    },\n  },\n\n  methods: {\n    login () {\n      auth.login()\n    },\n    logout () {\n      auth.logout()\n    },\n\n    handleChangeLanguage (lang) {\n      this.$vuetify.lang.current = lang\n      this.$language.current = lang\n    },\n  },\n}\n</script>\n<template>\n  <v-toolbar\n    :class=\"'app-toolbar elevation-4'\"\n    dense\n  >\n    <v-img\n      :src=\"require('@static/systra_logo.png')\"\n      contain\n      max-width=\"6rem\"\n    />\n    <span class=\"copyright\"></span>\n    <div class=\"app-name\">\n      Quetzal Network Editor\n    </div>\n\n    <v-spacer />\n    <div>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            href=\"https://github.com/systragroup/quetzal-network-editor\"\n            target=\"_blank\"\n            v-on=\"on\"\n          >\n            <v-icon>\n              fab fa-github\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>GitHub</span>\n      </v-tooltip>\n    </div>\n    <div class=\"switch\">\n      <v-switch\n        v-model=\"$vuetify.theme.dark\"\n        append-icon=\"fas fa-moon\"\n      />\n    </div>\n    <div>\n      <v-menu\n        offset-y\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            text\n            class=\"language active\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            {{ $language.current }}\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            v-for=\"(language, lang) in $language.available\"\n            :key=\"lang\"\n            :class=\"language\"\n\n            @click=\"()=>handleChangeLanguage(lang)\"\n          >\n            {{ language.toUpperCase() }}\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </div>\n    <div>\n      <Profile\n        v-if=\"loggedIn\"\n        @logout=\"()=>logout()\"\n      />\n      <v-tooltip\n        v-else\n        bottom\n        open-delay=\"250\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            @click=\"login\"\n          >\n            <v-icon>\n              fas fa-sign-in-alt\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>{{ $gettext('login / signin') }}</span>\n      </v-tooltip>\n    </div>\n  </v-toolbar>\n</template>\n\n<style lang=\"scss\" scoped>\n.app-toolbar {\n  z-index: 100;\n  height: 50px !important;\n  display: flex;\n  color: $secondary !important;\n  position: relative;\n}\n.login {\n  padding-left: 50px;\n}\n.project-name {\n  font-size: 1.3em;\n}\n.app-name {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.copyright {\n  font-size: 0.9rem;\n  padding-left: 5px;\n  padding-top: 1rem;\n  color:var(--v-secondarydark-base);\n}\n.languages-container {\n  display: flex;\n}\n.switch {\n  display: flex;\n  padding-top: 1rem;\n  padding-left:1rem;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n}\n.language {\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color:var(--v-secondarydark-base);\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=2d1ff148&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d1ff148\",\n  null\n  \n)\n\nexport default component.exports","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=31454615&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=31454615&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=31454615&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=31454615&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31454615\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"transition\",\n    { attrs: { name: \"fade\" } },\n    [\n      _c(\n        \"v-navigation-drawer\",\n        {\n          staticClass: \"drawer elevation-4\",\n          attrs: {\n            app: \"\",\n            stateless: \"\",\n            temporary: !_vm.mini,\n            \"mini-variant\": _vm.mini,\n            \"mini-variant-width\": 50,\n          },\n          on: {\n            \"update:miniVariant\": function ($event) {\n              _vm.mini = $event\n            },\n            \"update:mini-variant\": function ($event) {\n              _vm.mini = $event\n            },\n          },\n          model: {\n            value: _vm.drawer,\n            callback: function ($$v) {\n              _vm.drawer = $$v\n            },\n            expression: \"drawer\",\n          },\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"drawer-header\",\n              on: {\n                click: function ($event) {\n                  _vm.mini = !_vm.mini\n                },\n              },\n            },\n            [\n              _c(\"v-icon\", { attrs: { small: \"\" } }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.mini ? \"fa fa-bars\" : \"fas fa-angle-left\") +\n                    \"\\n      \"\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            { staticClass: \"drawer-list\", attrs: { dense: \"\" } },\n            [\n              _vm._l(_vm.getDisplayedRoutes(), function (item, key) {\n                return _c(\n                  \"v-list-item\",\n                  {\n                    key: key,\n                    staticClass: \"drawer-list-item\",\n                    class: [\n                      _vm.$route.name === item.name\n                        ? \"drawer-list-item-selected\"\n                        : \"\",\n                    ],\n                    style: {\n                      marginTop:\n                        item.name === \"Export\"\n                          ? \"auto\"\n                          : item.name === \"ResultMap\"\n                          ? \"5rem\"\n                          : \"0\",\n                    },\n                    on: {\n                      click: function ($event) {\n                        return _vm.handleClickMenuItem(item)\n                      },\n                    },\n                    nativeOn: {\n                      click: function ($event) {\n                        $event.stopPropagation()\n                      },\n                    },\n                  },\n                  [\n                    _c(\n                      \"v-list-item-action\",\n                      { staticClass: \"drawer-list-item-icon\" },\n                      [\n                        _c(\n                          \"v-icon\",\n                          {\n                            attrs: {\n                              small: \"\",\n                              title: _vm.$gettext(item.title),\n                            },\n                          },\n                          [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(item.icon) +\n                                \"\\n          \"\n                            ),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-list-item-content\",\n                      [\n                        _c(\n                          \"v-list-item-title\",\n                          { style: { marginLeft: \"20px\", color: \"white\" } },\n                          [\n                            _vm._v(\n                              \"\\n            \" +\n                                _vm._s(_vm.$gettext(item.title)) +\n                                \"\\n          \"\n                            ),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                )\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"v-list-item\",\n                {\n                  staticClass: \"version-number\",\n                  style: { fontSize: 24 - 2 * _vm.version.length + \"px\" },\n                },\n                [_c(\"span\", [_vm._v(_vm._s(_vm.version))])]\n              ),\n            ],\n            2\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Router from '@src/router/index'\n\nexport default {\n  name: 'NavigationDrawer',\n  data () {\n    return {\n      leftSidenav: false,\n      drawer: true,\n      mini: true,\n      menuItems: [],\n      version: 'V4.0',\n    }\n  },\n  computed: {\n  },\n  created () {\n    this.menuItems = Router.options.routes.concat({\n      name: 'Export',\n      icon: 'fa-solid fa-download',\n      title: this.$gettext('Export'),\n    })\n  },\n  methods: {\n    getDisplayedRoutes () {\n      return this.menuItems.filter(o => o.icon)\n    },\n    getRouteTitle (route) {\n      const tpl = this.$gettext('%{s}')\n      return this.$gettextInterpolate(tpl, { s: route.title })\n    },\n    handleClickMenuItem (route) {\n      switch (route.name) {\n        case 'Export':\n          this.saveFile()\n          break\n        default :\n          this.$router.push(route.path).catch(() => {})\n          this.mini = true\n          break\n      }\n    },\n\n    saveFile () {\n      this.$store.commit('exportFiles', 'all')\n    },\n\n  },\n}\n</script>\n<template>\n  <transition name=\"fade\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n      class=\"drawer elevation-4\"\n      stateless\n      :temporary=\"!mini\"\n      :mini-variant.sync=\"mini\"\n      :mini-variant-width=\"50\"\n    >\n      <div\n        class=\"drawer-header\"\n        @click=\"mini = !mini\"\n      >\n        <v-icon\n          small\n        >\n          {{ mini ? 'fa fa-bars' : 'fas fa-angle-left' }}\n        </v-icon>\n      </div>\n      <v-list\n        dense\n        class=\"drawer-list\"\n      >\n        <v-list-item\n          v-for=\"( item,key ) in getDisplayedRoutes()\"\n          :key=\"key\"\n          class=\"drawer-list-item\"\n          :class=\"[ $route.name === item.name ? 'drawer-list-item-selected' : '']\"\n          :style=\"{marginTop: item.name === 'Export' ? 'auto' : item.name ==='ResultMap'? '5rem' : '0' }\"\n          @click.native.stop\n          @click=\"handleClickMenuItem(item)\"\n        >\n          <v-list-item-action class=\"drawer-list-item-icon\">\n            <v-icon\n              small\n              :title=\"$gettext(item.title)\"\n            >\n              {{ item.icon }}\n            </v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title :style=\"{marginLeft: '20px', color: 'white'}\">\n              {{ $gettext(item.title) }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <v-list-item\n          class=\"version-number\"\n          :style=\"{fontSize:24 - 2*version.length+'px'}\"\n        >\n          <span>{{ version }}</span>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </transition>\n</template>\n<style lang=\"scss\" scoped>\n.drawer {\n  background-color: var(--v-secondary-base) !important;\n}\n.drawer-header {\n  width: 100%;\n  height: 50px;\n  border-bottom: 1px solid white;\n  background-color: var(--v-secondary-base);\n  color: white;\n  display: flex;\n  align-items: center;\n  padding-left: 18px;\n  cursor: pointer;\n}\n.drawer-list {\n  height: calc(100% - 50px);\n  display: flex;\n\n  flex-direction: column;\n  padding: 20px 0;\n}\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  color:white !important;\n  flex: 0;\n  transition: 0.3s;\n}\n.version-number {\n  justify-content: flex-start ;\n  color:white !important;\n  margin-bottom:-1rem;\n  flex: 0;\n}\n.drawer-list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.drawer-list-item-selected {\n  background-color: var(--v-secondary-base);\n}\n.drawer-list-item:hover {\n  background-color: var(--v-secondary-base);\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=bf4e6672&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=bf4e6672&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationDrawer.vue?vue&type=template&id=bf4e6672&scoped=true&\"\nimport script from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationDrawer.vue?vue&type=style&index=0&id=bf4e6672&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf4e6672\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","<script>\nimport Toolbar from '@comp/layout/Toolbar.vue'\nimport NavigationDrawer from '@comp/layout/NavigationDrawer.vue'\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nimport auth from './auth'\n\nexport default {\n  name: 'App',\n  components: {\n    Toolbar,\n    NavigationDrawer,\n  },\n  data () {\n    return {\n      snackbar: false,\n    }\n  },\n  computed: {\n    notification () {\n      return this.$store.getters.notification\n    },\n    loading () {\n      return this.$store.getters.loading\n    },\n  },\n  watch: {\n    notification () {\n      this.snackbar = !!this.notification.text\n    },\n  },\n  created () {\n    // init links and node to empty one (new project)\n    this.$store.commit('loadLinks', linksBase)\n    this.$store.commit('loadrLinks', linksBase)\n    this.$store.commit('loadNodes', nodesBase)\n    this.$store.commit('loadrNodes', nodesBase)\n    this.$store.commit('changeDarkMode', this.$vuetify.theme.dark)\n\n    if (auth.auth.isUserSignedIn()) {\n      // console.log(auth.auth.getSignInUserSession().getAccessToken().jwtToken)\n      auth.login()\n    }\n  },\n  methods: {\n    closeSnackbar () {\n      this.snackbar = false\n      this.$store.notification = {}\n    },\n    onResize () {\n      // -50 for the ToolBar\n      this.$store.commit('changeWindowHeight', this.$refs.container.clientHeight - 50)\n    },\n  },\n}\n</script>\n<template>\n  <v-app class=\"app\">\n    <NavigationDrawer />\n    <div\n      ref=\"container\"\n      v-resize=\"onResize\"\n      class=\"container\"\n    >\n      <Toolbar />\n      <transition name=\"fade\">\n        <router-view />\n      </transition>\n    </div>\n    <v-overlay :value=\"loading\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      />\n    </v-overlay>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"notification.autoClose ? 3000 : -1\"\n      transition=\"slide-y-reverse-transition\"\n      :color=\"notification.color? notification.color : 'white'\"\n      class=\"snackbar\"\n      :class=\"`snackbar-${notification.type}`\"\n    >\n      {{ $gettext(notification.text) }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"secondary\"\n          text\n          v-bind=\"attrs\"\n          @click=\"closeSnackbar\"\n        >\n          {{ $gettext(\"Close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-app>\n</template>\n<style lang=\"scss\" scoped>\n.app {\n  background-color: $grey-ultralight !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.container {\n  height: 100%;\n  margin-left: 50px;\n  width: calc(100% - 50px);\n  max-width: calc(100% - 50px);\n  padding: 0;\n}\n.container.login {\n  margin-left: 0;\n  width: 100%;\n}\n</style>\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=7b40e382&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=7b40e382&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7b40e382&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7b40e382&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b40e382\",\n  null\n  \n)\n\nexport default component.exports","import '@fortawesome/fontawesome-free/css/all.css'\nimport 'vuetify/dist/vuetify.min.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport '@scss/app.scss'\n\nimport Vue from 'vue'\nimport GetTextPlugin from 'vue-gettext'\nimport { store } from './store'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport VueApexCharts from 'vue-apexcharts'\n\nimport 'promise-polyfill/src/polyfill'\n\nimport fr from 'vuetify/es5/locale/fr'\nimport en from 'vuetify/es5/locale/en'\nimport de from 'vuetify/es5/locale/de'\nimport es from 'vuetify/es5/locale/es'\nimport pt from 'vuetify/es5/locale/pt'\n\nimport translations from './translations.json'\n\nimport App from './App.vue'\nimport { mapboxPublicKey } from '@src/config.js'\n\nconsole.assert(mapboxPublicKey)\n\nconst languageMixin = {\n  methods: {\n    $selectBestLanguage (browserLangs, supportedLangs) {\n      if (browserLangs.length) {\n        for (const lang of browserLangs) {\n          const parts = lang.toLowerCase().split('-')\n          if (parts.length > 1) {\n            parts[1] = parts[1].toUpperCase()\n          }\n          const normLang = parts.join('-')\n          if (supportedLangs.includes(normLang)) {\n            return normLang\n          } else if (parts.length > 1 && supportedLangs.includes(parts[0])) {\n            return parts[0]\n          }\n        }\n        return supportedLangs[0]\n      } else {\n        return supportedLangs[0]\n      }\n    },\n  },\n}\nVue.component('Apexchart', VueApexCharts)\n\nconst bestLanguage = languageMixin.methods.$selectBestLanguage(navigator.languages, ['en', 'fr', 'es', 'de', 'pt'])\nconst darkMode = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)\n\nVue.use(Vuetify)\nVue.use(GetTextPlugin, {\n  autoAddKeyAttributes: true,\n  availableLanguages: {\n    en: 'English',\n    fr: 'Franais',\n    es: 'Espaol',\n    de: 'Deutsch',\n    pt: 'Portugus',\n  },\n  defaultLanguage: bestLanguage,\n  translations,\n  silent: true,\n})\n\nVue.config.productionTip = false\nVue.config.devtools = true\nVue.config.performance = false\n\nconst vuetify = new Vuetify({\n  theme: {\n    dark: !!darkMode,\n    options: {\n      customProperties: true,\n    },\n    themes: {\n\n      light: {\n        primary: '#B5E0D6',\n        primarydark: '#7EBAAC',\n        secondary: '#2C3E4E',\n        secondarydark: '#1A242C',\n        secondarylight: '#334453',\n        background: '#808080',\n        lightgrey: '#E3E4E6',\n        white: '#fff',\n        black: '#000000',\n        mediumgrey: '#9E9E9E',\n        darkgrey: '#5B5B5C',\n        accent: '#2C3E4E',\n        linksprimary: '#7EBAAC',\n        linkssecondary: '#B5E0D6',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n      },\n      dark: {\n        primary: '#2196F3',\n        primarydark: '#191919',\n        secondary: '#263238',\n        secondarydark: '#fff',\n        mediumgrey: '#575757',\n        darkgrey: '#d9d9db',\n        background: '#000000',\n        white: '#000000',\n        black: '#fff',\n        success: '#2196F3',\n        accent: '#d3c1b1',\n        linksprimary: '#2196F3',\n        linkssecondary: '#90CAF9',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n\n      },\n\n    },\n  },\n  icons: {\n    iconfont: 'fa',\n  },\n  lang: {\n    locales: { fr, en, es, de, pt },\n    current: bestLanguage,\n  },\n})\n\nVue.mixin(languageMixin)\n\nVue.mixin({\n  methods: {\n    $flatEdges (obj, recurse = false) {\n      let flatObj = obj\n      if (obj.edges) {\n        flatObj = obj.edges.map(edge => edge.node)\n      }\n      if (recurse) {\n        for (const key in obj) {\n          if (obj[key] !== null && typeof obj[key] === 'object') {\n            obj[key] = this.$flatEdges(obj[key], true)\n          }\n        }\n      }\n      return flatObj\n    },\n  },\n})\n\nconst app = new Vue({\n\n  router,\n  store,\n  vuetify,\n  render: h => h(App),\n  template: '<App/>',\n})\n\napp.$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/quetzal-network-editor-dev/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquetzal_network_editor\"] = self[\"webpackChunkquetzal_network_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [958,182], () => (__webpack_require__(9278)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","state","links","editorTrip","editorNodes","editorLinks","editorLineInfo","nodes","nodesHeader","linksHeader","tripId","selectedTrips","newLink","newNode","changeBounds","linkSpeed","linksDefaultColor","lineAttributes","nodeAttributes","defaultAttributes","name","type","mutations","loadLinks","payload","structuredClone","includes","crs","properties","features","forEach","link","geometry","coordinates","map","points","coord","Math","round","Number","this","commit","alert","loadNodes","JSON","parse","stringify","node","unloadFiles","getLinksProperties","header","Set","element","Object","keys","key","add","attr","att","Array","from","getNodesProperties","addPropertie","table","changeSelectedTrips","setEditorTrip","filtered","filter","trip_id","cloneTrip","cloned","linkSequence","length","reverse","a","b","link_sequence","direction_id","index","generate","getEditorNodes","item","editorNodesList","has","getEditorLineInfo","form","uneditable","defaultValue","route_id","agency_id","route_long_name","route_short_name","route_type","route_color","route_width","headway","pickup_type","drop_off_type","value","disabled","placeholder","val","size","getTripId","setNewLink","uncopiedPropeties","time","tempLink","linkProperties","linkFeature","action","assign","slice","nodeCopyId","createNewNode","nodeProperties","nodeFeatures","setNewNode","tempNode","editNewLink","applyNewLink","geom","distance","toFixed","splice","deleteNode","nodeIndex","selectedNode","link1","link2","featureIndex","findIndex","splitLink","linkIndex","selectedLink","ratio","offset","sliceIndex","seq","addNodeInline","linkGeom","clickedPoint","values","lngLat","snapped","units","dist","location","addAnchorNode","deleteAnchorNode","coordinatedIndex","feature","moveAnchor","moveNode","cutLineFromNode","nodeId","sort","toDelete","i","entries","cutLineAtNode","editLineInfo","props","editLinkInfo","selectedLinkId","info","editNodeInfo","selectedNodeId","appendNewLinks","editGroupInfo","editorGroupInfo","groupTripIds","deleteUnusedNodes","nodesInLinks","confirmChanges","nodesList","newNodes","eNode","deleteTrip","applyPropertiesTypes","String","getters","linksIsEmpty","firstNodeId","lastNodeId","firstNode","lastNode","anchorNodes","point","idx","attributeType","rlinks","rnodes","rlinksHeader","rnodesHeader","selectedrFilter","selectedrGroup","filteredrCategory","rlineAttributes","rnodeAttributes","newrNode","visiblerLinks","visiblerNodes","connectedLinks","defaultHighway","roadSpeed","rlinksDefaultColor","loadrLinks","loadrNodes","appendNewrLinks","unloadrFiles","feaures","getrLinksProperties","getrNodesProperties","changeSelectedrFilter","getFilteredrCat","changeVisibleRoads","method","data","cat","category","tempLinks","el","refreshVisibleRoads","group","possibleGroups","x","getVisiblerNodes","rNodesList","editrLinkInfo","editrNodeInfo","createNewrNode","splitrLink","selectedFeature","addRoadNodeInline","selectedFeatures","selectedIndex","addAnchorrNode","createrLink","nodeIdB","layerId","rnodeA","nodeIdA","rnodeB","linkGeometry","highway","oneway","speed","newLinkGroup","getConnectedLinks","moverNode","moverAnchor","deleteAnchorrNode","deleterLink","linkArr","deleterGroup","deleteUnusedrNodes","editrGroupInfo","groupInfo","selectedLinks","editrVisiblesInfo","rlinksIsEmpty","anchorrNodes","renderedLinks","grouprLinks","rlinksForm","editorForm","remap","minVal","maxVal","scale","res","sqrt","log10","namespaced","visibleLinks","selectedFilter","selectedCategory","displaySettings","maxWidth","minWidth","numStep","cmap","opacity","showNaN","reverseColor","geojson","updateLinks","changeSelectedFilter","changeSelectedCategory","applySettings","updateSelectedFeature","featureArr","min","apply","max","display_width","colorScale","padding","domain","classes","display_color","hex","refreshVisibleLinks","arr","layer","mat","selectedProperty","loadZones","zones","initIndex","prop","zone","changeZone","row","axiosClient","axios","baseURL","withCredentials","headers","running","executionArn","startExecution","terminateExecution","actions","dispatch","input","stateMachineArn","post","then","response","catch","err","console","log","pollExecution","intervalId","setInterval","status","clearInterval","cognitoInfo","cognitoGroups","accesToken","loggedIn","loadingState","errorLoadingState","setLoggedIn","setLoggedOut","setCognitoInfo","setCognitoGroups","setAccessToken","modules","user","results","run","notification","darkMode","loading","anchorMode","showLeftPanel","windowHeight","linksPopupContent","roadsPopupContent","outputName","mapCenter","mapZoom","availableLayers","changeNotification","changeDarkMode","changeLoading","changeWindowHeight","changeLeftPanel","saveMapPosition","setAnchorMode","changeAnchorMode","loadLayer","moduleName","fileName","_modules","root","_children","registerModule","unloadLayers","unregisterModule","exportFiles","zip","tempNodes","blob","Blob","file","generateAsync","content","projectIsUndefined","projectIsEmpty","mapStyle","render","_vm","_c","_self","staticClass","class","_v","style","textAlign","_s","$gettext","attrs","color","localLinksLoaded","on","click","$event","buttonHandle","small","left","localNodesLoaded","bottom","scopedSlots","_u","fn","_g","_b","ref","staticStyle","display","accept","change","onFilePicked","multiple","readZip","transition","filesAdded","login","_l","message","mess","errorMessage","persistent","keydown","indexOf","_k","keyCode","applyDialog","arguments","showDialog","model","callback","$$v","expression","_withStripped","async","extractZip","ZIP","loadAsync","filesNames","files","result","zipName","str","getGroupForm","IndexAreDifferent","geojsonA","geojsonB","linksIndex","newLinksIndex","margin","width","mapboxPublicKey","load","onMapLoaded","position","source","poly","promoteId","interactive","paint","$vuetify","theme","currentTheme","linksprimary","items","highwayList","attach","chips","top","offsetY","label","_e","selectedHighway","text","outlined","components","MglMap","MglNavigationControl","MglScaleControl","MglGeojsonLayer","computed","$store","watch","removeLayer","created","methods","event","dragRotate","disable","getBounds","bounds","bbox","_sw","lng","lat","_ne","OSMImporter","choice","loadedLinks","loadedNodes","loadedType","localFilesAreLoaded","loadNetwork","mounted","setTimeout","$router","error","loadStaticLayer","zoneData","matData","json","$refs","zipInput","document","getElementById","fileInput","loadExample","newProject","filesToLoads","url","fetch","unzip","autoClose","target","fileReader","FileReader","readAsText","onload","evt","e","PromisesList","Promise","all","zipFiles","importPT","importRoad","imgs","img","src","contain","auth","ClientId","AppWebDomain","TokenScopesArray","RedirectUriSignIn","RedirectUriSignOut","UserPoolId","getUserInfo","jwtToken","getSignInUserSession","getAccessToken","USERINFO_URL","getAppWebDomain","requestData","Authorization","userhandler","onSuccess","accessToken","getIdToken","onFailure","path","query","storage","getStorage","getSession","logout","isUserSignedIn","userInfoKey","getUserInfoStorageKey","signOut","removeItem","getClientId","signInUserSession","getUsername","scrollable","applyAction","cancelAction","grow","selectedTab","orderedForm","filled","wheel","blur","$set","proxy","cloneName","duplicate","cancelClone","cloneDialog","updateSelectedTrips","abortChanges","deleteButton","cloneButton","propertiesButton","actionClick","isRoadMode","clickFeature","directives","rawName","showLeftPanelContent","dark","tab","roadMode","height","$emit","icon","showAll","tripList","filterChoices","vmodelSelectedFilter","classifiedTripId","stopPropagation","showGroup","some","trip","editButton","right","fab","createNewLine","events","arrayUniqueTripId","Map","filteredCat","undefinedCat","c","undefined","newVal","oldVal","newTrip","dict","$nextTick","lingering","tripIds","obj","editVisible","concat","selectedrGoup","changes","LinksSidePanel","RoadSidePanel","center","zoom","mousemove","draw","mouseout","resetDraw","addPoint","mouseup","rightClickMap","origin","showSettings","submit","mapIsLoaded","isEditorMode","onHover","onHoverRoad","offHover","rightClick","drawMode","drawLink","buffer","generateId","minzoom","connectedDrawLink","shake","cancel","suffix","hint","showHint","rules","required","choices","zipRules","v","validate","maxzoom","layout","mouseenter","enterLink","mouseleave","leaveLink","contextmenu","editLineProperties","visibleNodes","mediumgrey","accent","white","selectedPopupContent","showedTrips","setHiddenFeatures","off","selectLine","getCanvas","cursor","mapboxEvent","popup","isOpen","remove","htmlContent","join","closeButton","setLngLat","setHTML","addTo","trips","showedTripsSet","widthArr","widthDict","totSet","ab","newFeatures","preventDefault","y","queryRenderedFeatures","layers","linkssecondary","selectClick","mouseover","onCursor","offCursor","linkRightClick","mousedown","contextMenuNode","showed","popupEditor","close","hoveredStateId","contextMenu","dense","flat","MglPopup","MglImageLayer","disablePopup","keepHovering","dragNode","querySourceFeatures","setFeatureState","hover","selectedId","originalEvent","button","onMove","stopMovingNode","loaded","renderedrLinks","minZoom","rendered","renderedrNodes","renderedAnchorrNodes","darkgrey","editorRnodes","beforeDestroy","getZoom","nodeSet","uniqueArray","StaticLinks","EditorLinks","RoadLinks","Settings","default","Boolean","hoverId","hoverLayer","mapDiv","resize","extend","fitBounds","getStyle","setLayoutProperty","getCenter","loadImage","image","addImage","sdf","pointGeom","roadref","swatchStyle","menu","mode","swatches","updateColor","pcolor","chart","tempArr","lightblue","SidePanel","ColorPicker","cursorPosition","tripToDelete","tripToClone","reduce","window","addEventListener","linkId","mapref","selection","divHeight","tableChoices","selectedTable","title","vertical","inset","href","onResize","addField","cols","fetchData","cardBox","clientHeight","propsList","selectedLayer","filteredCategory","updateSelectedFilter","changeLayer","featureClicked","readonly","selectedCat","openMenu","layerChoices","layerType","zoneClick","getLayer","isFinite","featureChoices","parameters","getColor","backgroundColor","largerThanZero","nonNegative","reset","show","ResultsSidePanel","MapResults","ResultsSettings","MapLegend","linkExactActiveClass","base","routes","Import","component","Home","DataFrame","ResultMap","ResultPicture","beforeEnter","to","next","currUrl","indeterminate","timeout","closeSnackbar","snackbar","$language","current","available","language","lang","handleChangeLanguage","toUpperCase","initial","given_name","family_name","email","Profile","dialog","app","stateless","temporary","mini","drawer","getDisplayedRoutes","$route","marginTop","handleClickMenuItem","nativeOn","marginLeft","fontSize","version","leftSidenav","menuItems","o","getRouteTitle","route","tpl","$gettextInterpolate","s","saveFile","Toolbar","NavigationDrawer","container","assert","languageMixin","$selectBestLanguage","browserLangs","supportedLangs","parts","toLowerCase","split","normLang","bestLanguage","navigator","languages","matchMedia","matches","autoAddKeyAttributes","availableLanguages","en","fr","es","de","pt","defaultLanguage","translations","silent","customProperties","themes","light","primary","primarydark","secondary","secondarydark","secondarylight","background","lightgrey","black","lightgreen","darkgreen","darkblue","purple","pink","orange","yellow","success","icons","iconfont","locales","$flatEdges","recurse","flatObj","edges","edge","router","store","vuetify","h","App","template","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","call","m","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","getPrototypeOf","t","ns","create","def","getOwnPropertyNames","definition","defineProperty","enumerable","get","g","globalThis","Function","prototype","hasOwnProperty","Symbol","toStringTag","p","baseURI","self","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","nc","__webpack_exports__"],"sourceRoot":""}