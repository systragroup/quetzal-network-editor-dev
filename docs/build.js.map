{"version":3,"file":"build.js","mappings":"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","sources":["webpack://quetzal-network-editor/webpack/runtime/chunk loaded","webpack://quetzal-network-editor/webpack/runtime/create fake namespace object","webpack://quetzal-network-editor/webpack/runtime/load script","webpack://quetzal-network-editor/./src/scss/app.scss","webpack://quetzal-network-editor/./src/App.vue?d6d3","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?a0d9","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?fe88","webpack://quetzal-network-editor/./src/pages/Login.vue?2d79","webpack://quetzal-network-editor/./src/components/utils/utils.js","webpack://quetzal-network-editor/./src/scss/app.scss?d10e","webpack://quetzal-network-editor/./src/store/links.js","webpack://quetzal-network-editor/./src/store/rlinks.js","webpack://quetzal-network-editor/./src/store/index.js","webpack://quetzal-network-editor/./src/pages/Login.vue?8d62","webpack://quetzal-network-editor/./static/links_base.geojson","webpack://quetzal-network-editor/./static/nodes_base.geojson","webpack://quetzal-network-editor/src/pages/Login.vue","webpack://quetzal-network-editor/./src/pages/Login.vue?9899","webpack://quetzal-network-editor/./src/pages/Login.vue?77dc","webpack://quetzal-network-editor/./src/pages/Login.vue","webpack://quetzal-network-editor/./src/router/index.js","webpack://quetzal-network-editor/./src/App.vue?a5c9","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?01c9","webpack://quetzal-network-editor/src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?41be","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue?bef5","webpack://quetzal-network-editor/./src/components/layout/Toolbar.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?54d0","webpack://quetzal-network-editor/src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1673","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue?1871","webpack://quetzal-network-editor/./src/components/layout/NavigationDrawer.vue","webpack://quetzal-network-editor/./src/App.vue?32cf","webpack://quetzal-network-editor/src/App.vue","webpack://quetzal-network-editor/./src/App.vue?13bc","webpack://quetzal-network-editor/./src/App.vue","webpack://quetzal-network-editor/./src/main.js","webpack://quetzal-network-editor/webpack/bootstrap","webpack://quetzal-network-editor/webpack/runtime/compat get default export","webpack://quetzal-network-editor/webpack/runtime/define property getters","webpack://quetzal-network-editor/webpack/runtime/ensure chunk","webpack://quetzal-network-editor/webpack/runtime/get javascript chunk filename","webpack://quetzal-network-editor/webpack/runtime/get mini-css chunk filename","webpack://quetzal-network-editor/webpack/runtime/global","webpack://quetzal-network-editor/webpack/runtime/hasOwnProperty shorthand","webpack://quetzal-network-editor/webpack/runtime/make namespace object","webpack://quetzal-network-editor/webpack/runtime/publicPath","webpack://quetzal-network-editor/webpack/runtime/jsonp chunk loading","webpack://quetzal-network-editor/webpack/runtime/nonce","webpack://quetzal-network-editor/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"quetzal-network-editor:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"body{font-family:\\\"Roboto\\\",sans-serif;height:100vh}body::-webkit-scrollbar{display:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-clip:padding-box;background-color:#9e9e9e;border-radius:8px}::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#2c3e4e;border-radius:8px}.v-application--wrap{flex-direction:row}.theme--light.v-application{color:#2c3e4e}.theme--light.v-icon{color:inherit !important}.theme--dark.v-label{color:#fff}.v-toolbar__content{display:flex;align-items:center;justify-content:space-between;height:100% !important;width:100%}.v-input__icon>i{font-size:14px !important;margin-right:10px}.v-navigation-drawer--fixed{z-index:200}.v-btn.primary>span{color:#2c3e4e !important}.v-snack__wrapper{margin:20px}.v-snack__content{color:#2c3e4e !important}.snackbar-error>.v-snack__wrapper{border-bottom:5px solid #e42626 !important}.snackbar-warning>.v-snack__wrapper{border-bottom:5px solid #ff7b30 !important}.snackbar-positive>.v-snack__wrapper{border-bottom:5px solid #4caf50 !important}.v-card__subtitle,.v-card__text,.v-card__title{padding:0}.v-card__title{line-height:normal}.mapboxgl-ctrl-bottom-right{right:10px;bottom:10px}.mapboxgl-popup-content{padding:10px;color:#fff;background-color:#2c3e4e}.mapboxgl-popup-tip{border-bottom-color:#2c3e4e !important;border-top-color:#2c3e4e !important}.mapboxgl-popup-close-button{right:20px;top:20px;font-size:1.5em}.mapboxgl-ctrl-attrib-inner>a{color:#2c3e4e !important}.view{padding:20px;height:calc(100% - 50px);width:100%;display:flex}.card{background-color:#fff;border-radius:5px;box-shadow:0px 5px 10px rgba(0,0,0,.05);padding:20px}.card-hover:hover{box-shadow:0px 5px 10px rgba(0,0,0,.1)}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(300px)}.fade-leave-active{display:none !important}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0 !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/scss/generic.scss\",\"webpack://./src/scss/variables.scss\",\"webpack://./src/scss/vuetify.scss\",\"webpack://./src/scss/mapboxgl.scss\",\"webpack://./src/scss/util.scss\",\"webpack://./src/scss/animations.scss\"],\"names\":[],\"mappings\":\"AAAA,KACE,+BAAA,CACA,YAAA,CAEF,wBACE,YAAA,CAEF,oBACE,SAAA,CAEF,0BACE,2BAAA,CACA,wBCJkB,CDKlB,iBAAA,CAEF,0BACE,2BAAA,CACA,wBCfkB,CDgBlB,iBAAA,CElBF,qBACE,kBAAA,CAEF,4BACE,aDFkB,CCIpB,qBACE,wBAAA,CAEF,qBACE,UAAA,CAEF,oBACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,sBAAA,CACA,UAAA,CAEF,iBACE,yBAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CAEF,oBACE,wBAAA,CAEF,kBACE,WAAA,CAEF,kBACE,wBAAA,CAEF,kCACE,0CAAA,CAEF,oCACE,0CAAA,CAEF,qCACE,0CAAA,CAEF,+CACE,SAAA,CAEF,eACE,kBAAA,CChDF,4BACE,UAAA,CACA,WAAA,CAEF,wBACE,YAAA,CACA,UAAA,CACA,wBFLkB,CEOpB,oBACE,sCAAA,CACA,mCAAA,CAEF,6BACE,UAAA,CACA,QAAA,CACA,eAAA,CAEF,8BACE,wBAAA,CCnBF,MACE,YAAA,CACA,wBAAA,CACA,UAAA,CACA,YAAA,CAEF,MACE,qBAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CAEF,kBACE,sCAAA,CCbF,sCACE,iBAAA,CAEF,2BACE,SAAA,CACA,2BAAA,CAEF,mBACE,uBAAA,CAEF,sCACE,sBAAA,CAEF,2BACE,oBAAA\",\"sourcesContent\":[\"body {\\n  font-family: 'Roboto', sans-serif;\\n  height: 100vh;\\n}\\nbody::-webkit-scrollbar {\\n  display: none;\\n}\\n::-webkit-scrollbar {\\n  width: 8px;\\n}\\n::-webkit-scrollbar-track {\\n  background-clip: padding-box;\\n  background-color: $grey-medium;\\n  border-radius: 8px;\\n}\\n::-webkit-scrollbar-thumb {\\n  background-clip: padding-box;\\n  background-color: $secondary;\\n  border-radius: 8px;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\",\".v-application--wrap {\\n  flex-direction: row;\\n}\\n.theme--light.v-application {\\n  color: $secondary;\\n}\\n.theme--light.v-icon {\\n  color: inherit !important;\\n}\\n.theme--dark.v-label {\\n  color: white;\\n}\\n.v-toolbar__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  height: 100% !important;\\n  width: 100%;\\n}\\n.v-input__icon > i {\\n  font-size: 14px !important;\\n  margin-right: 10px;\\n}\\n.v-navigation-drawer--fixed {\\n  z-index: 200;\\n}\\n.v-btn.primary > span {\\n  color: $secondary !important;\\n}\\n.v-snack__wrapper {\\n  margin: 20px;\\n}\\n.v-snack__content {\\n  color: $secondary !important;\\n}\\n.snackbar-error > .v-snack__wrapper {\\n  border-bottom: 5px solid $negative !important;\\n}\\n.snackbar-warning > .v-snack__wrapper {\\n  border-bottom: 5px solid $warning !important;\\n}\\n.snackbar-positive > .v-snack__wrapper {\\n  border-bottom: 5px solid $positive !important;\\n}\\n.v-card__subtitle, .v-card__text, .v-card__title {\\n  padding: 0;\\n}\\n.v-card__title {\\n  line-height: normal;\\n}\\n\",\".mapboxgl-ctrl-bottom-right {\\n  right: 10px;\\n  bottom: 10px;\\n}\\n.mapboxgl-popup-content {\\n  padding: 10px;\\n  color: white;\\n  background-color: $secondary;\\n}\\n.mapboxgl-popup-tip {\\n  border-bottom-color: $secondary !important;\\n  border-top-color: $secondary !important;\\n}\\n.mapboxgl-popup-close-button {\\n  right: 20px;\\n  top: 20px;\\n  font-size: 1.5em;\\n}\\n.mapboxgl-ctrl-attrib-inner > a {\\n  color: $secondary !important;\\n}\\n\",\".view {\\n  padding: 20px;\\n  height: calc(100% - 50px);\\n  width: 100%;\\n  display: flex;\\n}\\n.card {\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\\n  padding: 20px;\\n}\\n.card-hover:hover {\\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.10);\\n}\\n\",\".list-enter-active, .list-leave-active {\\n  transition: all 1s;\\n}\\n.list-enter, .list-leave-to {\\n  opacity: 0;\\n  transform: translateX(300px);\\n}\\n.fade-leave-active {\\n  display: none !important;\\n}\\n.fade-enter-active, .fade-leave-active {\\n  transition: opacity 0.5s;\\n}\\n.fade-enter, .fade-leave-to {\\n  opacity: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app[data-v-73b9d0b4]{background-color:#f5f5f5 !important;width:100%;height:100%;overflow:hidden}.container[data-v-73b9d0b4]{height:100%;margin-left:50px;width:calc(100% - 50px);max-width:calc(100% - 50px);padding:0}.container.login[data-v-73b9d0b4]{margin-left:0;width:100%}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.vue\"],\"names\":[],\"mappings\":\"AAEA,sBACE,mCAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEF,4BACE,WAAA,CACA,gBAAA,CACA,uBAAA,CACA,2BAAA,CACA,SAAA,CAEF,kCACE,aAAA,CACA,UAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app {\\n  background-color: $grey-ultralight !important;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n}\\n.container {\\n  height: 100%;\\n  margin-left: 50px;\\n  width: calc(100% - 50px);\\n  max-width: calc(100% - 50px);\\n  padding: 0;\\n}\\n.container.login {\\n  margin-left: 0;\\n  width: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".drawer[data-v-32f4fdde]{background-color:#2c3e4e !important}.drawer-header[data-v-32f4fdde]{width:100%;height:50px;border-bottom:1px solid #fff;background-color:#2c3e4e;color:#fff;display:flex;align-items:center;padding-left:18px;cursor:pointer}.drawer-list[data-v-32f4fdde]{height:calc(100% - 50px);display:flex;flex-direction:column;padding:20px 0}.drawer-list-item[data-v-32f4fdde]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.drawer-list-item-icon[data-v-32f4fdde]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.drawer-list-item-selected[data-v-32f4fdde]{background-color:#0f1c27}.drawer-list-item[data-v-32f4fdde]:hover{background-color:#0f1c27}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/NavigationDrawer.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,yBACE,mCAAA,CAEF,gCACE,UAAA,CACA,WAAA,CACA,4BAAA,CACA,wBCPkB,CDQlB,UAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAEF,8BACE,wBAAA,CACA,YAAA,CACA,qBAAA,CACA,cAAA,CAEF,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAEF,wCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,4CACE,wBCjCkB,CDmCpB,yCACE,wBCpCkB\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.drawer {\\n  background-color: $secondary !important;\\n}\\n.drawer-header {\\n  width: 100%;\\n  height: 50px;\\n  border-bottom: 1px solid white;\\n  background-color: $secondary;\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  padding-left: 18px;\\n  cursor: pointer;\\n}\\n.drawer-list {\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-direction: column;\\n  padding: 20px 0;\\n}\\n.drawer-list-item {\\n  padding: 0 13px !important;\\n  justify-content: flex-start !important;\\n  flex: 0;\\n  transition: 0.3s;\\n}\\n.drawer-list-item-icon {\\n  display: flex !important;\\n  flex-flow: row !important;\\n  justify-content: center !important;\\n  margin: 0 !important;\\n  color: white;\\n}\\n.drawer-list-item-selected {\\n  background-color: $secondary-dark;\\n}\\n.drawer-list-item:hover {\\n  background-color: $secondary-dark;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".app-toolbar[data-v-1ab24a22]{z-index:100;height:50px !important;display:flex;color:#2c3e4e !important;position:relative}.login[data-v-1ab24a22]{padding-left:50px}.project-name[data-v-1ab24a22]{font-size:1.3em}.languages-container[data-v-1ab24a22]{display:flex}.language[data-v-1ab24a22]{width:50px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-1ab24a22],.language[data-v-1ab24a22]:hover{color:#2c3e4e}.language[data-v-1ab24a22]:last-child{border-right:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/layout/Toolbar.vue\",\"webpack://./src/scss/variables.scss\"],\"names\":[],\"mappings\":\"AAEA,8BACE,WAAA,CACA,sBAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAEF,wBACE,iBAAA,CAEF,+BACE,eAAA,CAEF,sCACE,YAAA,CAEF,2BACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aChBkB,CDiBlB,cAAA,CACA,cAAA,CAEF,mEACE,aC1BkB,CD4BpB,sCACE,cAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.app-toolbar {\\n  z-index: 100;\\n  height: 50px !important;\\n  display: flex;\\n  color: $secondary !important;\\n  position: relative;\\n}\\n.login {\\n  padding-left: 50px;\\n}\\n.project-name {\\n  font-size: 1.3em;\\n}\\n.languages-container {\\n  display: flex;\\n}\\n.language {\\n  width: 50px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: $grey-light;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.language.active, .language:hover {\\n  color: $secondary;\\n}\\n.language:last-child {\\n  border-right: 0;\\n}\\n\",\"$primary          : #B5E0D6;\\n$primary-dark     : #7EBAAC;\\n$secondary        : #2C3E4E;\\n$secondary-dark   : #0F1C27;\\n$secondary-light  : #334453;\\n\\n$grey-ultralight  : #F5F5F5;\\n$grey-light       : #E3E3E3;\\n$grey-medium      : #9E9E9E;\\n$grey-dark        : #5B5B5B;\\n\\n$negative         : #E42626;\\n$warning          : #FF7B30;\\n$positive         : #4CAF50;\\n\\n$chart-lightgreen : #CDDC39;\\n$chart-darkgreen  : #4CAF50;\\n$chart-lightblue  : #00BCD4;\\n$chart-darkblue   : #2196F3;\\n$chart-purple     : #673AB7;\\n$chart-pink       : #E91E63;\\n$chart-orange     : #FF7B30;\\n$chart-yellow     : #FFC107;\\n\\n$list-item-padding : 0px;\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".layout[data-v-1901dfce]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-1901dfce]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-1901dfce]{width:500px;max-height:calc(100% - 2em);overflow-y:auto;padding:40px}.title[data-v-1901dfce]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-1901dfce]{font-size:2em;color:#2c3e4e !important;font-weight:bold;margin:40px}.card button[data-v-1901dfce]{margin-top:40px}.animate-login[data-v-1901dfce]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-1901dfce]{opacity:0;transition:1s}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/Login.vue\"],\"names\":[],\"mappings\":\"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,2BAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,eAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n.layout {\\n  position: absolute;\\n  width: calc(100%);\\n  height: calc(100% - 50px);\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.layout-overlay {\\n  height: 100%;\\n  width: 100%;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  position: absolute;\\n}\\n.card {\\n  width: 500px;\\n  max-height: calc(100% - 2em);\\n  overflow-y: auto;\\n  padding: 40px;\\n}\\n.title {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 3.5em;\\n  color: $primary !important;\\n  font-weight: bold;\\n}\\n.subtitle {\\n  font-size: 2em;\\n  color: $secondary !important;\\n  font-weight: bold;\\n  margin: 40px;\\n}\\n.card button {\\n  margin-top: 40px;\\n}\\n.animate-login {\\n  transform: translateY(-185%);\\n  transition: 1s;\\n}\\n.animate-layer {\\n  opacity: 0;\\n  transition: 1s;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import JSZip from 'jszip'\n\nasync function extractZip (file) {\n  const ZIP = new JSZip()\n  const zip = await ZIP.loadAsync(file)\n  const filesNames = Object.keys(zip.files)\n  // process ZIP file content here\n  const result = { zipName: file.name }\n  for (let i = 0; i < filesNames.length; i++) {\n    if (zip.files[filesNames[i]].name.slice(-7) === 'geojson') {\n      const str = await zip.file(filesNames[i]).async('string')\n      const content = JSON.parse(str)\n      if (!['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(content.crs.properties.name)) {\n        alert('invalid CRS. use CRS84 / EPSG:4326')\n      }\n      if (content.features[0].geometry.type === 'LineString') {\n        if (filesNames[i].includes('road')) {\n          result.road_links = content\n        } else {\n          result.links = content\n        }\n      } else if (content.features[0].geometry.type === 'Point') {\n        if (filesNames[i].includes('road')) {\n          result.road_nodes = content\n        } else {\n          result.nodes = content\n        }\n      }\n    }\n  }\n  if ((result.links == null) && (result.road_links == null)) {\n    throw new Error(`There is no valid link or road_links in ${file.name}`)\n  }\n  if ((result.nodes == null) && result.road_nodes == null) {\n    throw new Error(`There is no valid nodes or road_nodes in ${file.name}`)\n  }\n  return result\n}\n\nfunction getGroupForm (features, lineAttributes, uneditable) {\n  const form = {}\n  lineAttributes.forEach(key => {\n    const val = new Set(features.map(link => link.properties[key]))\n    form[key] = {\n      value: val.size > 1 ? '' : [...val][0],\n      disabled: uneditable.includes(key),\n      placeholder: val.size > 1,\n    }\n  })\n  return form\n}\n\nfunction indexAreUnique (geojson) {\n  // check if all index are unique in a geojson (links or nodes)\n  // return true if they are unique\n  let indexArr = []\n  if (geojson?.features.length > 0) {\n    indexArr = geojson.features.map(item => item.properties.index)\n    return (new Set(indexArr).size === indexArr.length)\n  } else { return true } // if its empty, return true\n}\n\nfunction IndexAreDifferent (geojsonA, geojsonB) {\n  // check if index are duplicated between geojsons (to append new links or nodes) (links or nodes)\n  // return true if they are all unique\n  const linksIndex = new Set(geojsonA.features.map(item => item.properties.index))\n  const newLinksIndex = new Set(geojsonB.features.map(item => item.properties.index))\n  return (new Set([...linksIndex, ...newLinksIndex]).size === (linksIndex.size + newLinksIndex.size))\n}\n\nexport { extractZip, getGroupForm, indexAreUnique, IndexAreDifferent }\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./app.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    links: {},\n    editorTrip: null,\n    editorNodes: {},\n    editorLinks: {},\n    editorLineInfo: {},\n    nodes: {},\n    nodesHeader: {},\n    linksHeader: {},\n    tripId: [],\n    selectedTrips: [],\n    newLink: {},\n    newNode: {},\n    changeBounds: true,\n    linkSpeed: 20, // 20KmH for time (speed/distance)\n    lineAttributes: [],\n    nodeAttributes: [],\n    defaultAttributes: [\n      { name: 'index', type: 'String' },\n      { name: 'a', type: 'String' },\n      { name: 'b', type: 'String' },\n      { name: 'trip_id', type: 'String' },\n      { name: 'route_id', type: 'String' },\n      { name: 'agency_id', type: 'String' },\n      { name: 'route_long_name', type: 'String' },\n      { name: 'route_short_name', type: 'String' },\n      { name: 'route_type', type: 'String' },\n      { name: 'route_color', type: 'String' },\n      { name: 'length', type: 'Number' }, // float\n      { name: 'time', type: 'Number' }, // float\n      { name: 'headway', type: 'Number' }, // float\n      { name: 'route_width', type: 'Number' }, // float\n      { name: 'pickup_type', type: 'Number' }, // float\n      { name: 'drop_off_type', type: 'Number' }, // int\n      { name: 'link_sequence', type: 'Number' }, // int\n      { name: 'direction_id', type: 'Number' }, // int\n    ],\n  },\n\n  mutations: {\n    loadLinks (state, payload) {\n      state.links = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.links.crs.properties.name)) {\n        const linksHeader = { ...state.links }\n        linksHeader.features = []\n        state.linksHeader = linksHeader\n\n        state.editorLinks = linksHeader\n        // limit geometry precision to 6 digit\n        state.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('applyPropertiesTypes')\n        this.commit('getTripId')\n        // set all trips visible\n        this.commit('changeSelectedTrips', state.tripId)\n\n        this.commit('getLinksProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadNodes (state, payload) {\n      state.nodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.nodes.crs.properties.name)) {\n        const nodesHeader = { ...state.nodes }\n        nodesHeader.features = []\n        state.nodesHeader = nodesHeader\n        state.editorNodes = nodesHeader\n        // limit geometry precision to 6 digit\n        state.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n    unloadFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.links.features = []\n      state.nodes.features = []\n      state.editorTrip = null\n      state.tripId = []\n      state.selectedTrips = []\n    },\n\n    getLinksProperties (state) {\n      let header = new Set([])\n      state.links.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = state.defaultAttributes.map(attr => attr.name)\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.lineAttributes = header\n    },\n    getNodesProperties (state) {\n      let header = new Set([])\n      state.nodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index',\n        'stop_code',\n        'stop_name']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.nodeAttributes = header\n    },\n\n    addPropertie (state, payload) {\n      // when a new line properties is added (in dataframe page)\n      if (payload.table === 'links') {\n        state.links.features.map(link => link.properties[payload.name] = null)\n        state.lineAttributes.push(payload.name)\n      } else {\n        state.nodes.features.map(node => node.properties[payload.name] = null)\n      }\n    },\n    changeSelectedTrips (state, payload) {\n      // trips list of visible trip_id.\n      state.selectedTrips = payload\n    },\n\n    setEditorTrip (state, payload) {\n      // set Trip Id\n      state.editorTrip = payload.tripId\n      state.changeBounds = payload.changeBounds\n      // set editor links corresponding to trip id\n      // var filtered = {...state.links}\n      const filtered = JSON.parse(JSON.stringify(state.links))\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      state.editorLinks = filtered\n      // get the corresponding nodes\n      this.commit('getEditorNodes', { nodes: state.nodes })\n      this.commit('getEditorLineInfo')\n    },\n\n    cloneTrip (state, payload) {\n      // clone and reversed a trip.\n      const cloned = structuredClone(state.links)\n      cloned.features = cloned.features.filter(link => link.properties.trip_id === payload.tripId)\n\n      let linkSequence = cloned.features.length\n      for (const link of cloned.features) {\n        link.properties.trip_id = payload.name\n        // mettre dans l'autre sens » inverser 0 et 1 et leur coordonées\n        link.geometry.coordinates.reverse()//\n        // inverser node a et b (propriétés)\n        link.properties.a = [link.properties.b, link.properties.b = link.properties.a][0]\n        // changer le link-sequence de tous les objets\n        link.properties.link_sequence = linkSequence\n        linkSequence -= 1\n        // changer la direction\n        if (link.properties.direction_id === 0) {\n          link.properties.direction_id = 1\n        } else {\n          link.properties.direction_id = 0\n        }\n        // changer nom de l'index\n        link.properties.index = 'link_' + short.generate()\n      }\n      // inverser l'ordre des features\n      cloned.features.reverse()\n      state.links.features.push(...cloned.features)\n      this.commit('getTripId')\n    },\n    getEditorNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      const a = state.editorLinks.features.map(item => item.properties.a)\n      const b = state.editorLinks.features.map(item => item.properties.b)\n      const editorNodesList = new Set([...a, ...b])\n      // set nodes corresponding to trip id\n      const filtered = JSON.parse(JSON.stringify(payload.nodes))\n      filtered.features = filtered.features.filter(node => editorNodesList.has(node.properties.index))\n      state.editorNodes = filtered\n    },\n\n    getEditorLineInfo (state) {\n      const form = {}\n      const uneditable = ['index', 'length', 'a', 'b', 'link_sequence']\n      // empty trip, when its a newLine\n      if (state.editorLinks.features.length === 0) {\n        function getDefaultValue (key) {\n          const defaultValue = { route_width: 3, route_color: '00BCD4' }\n          return defaultValue[key] || null\n        }\n\n        state.lineAttributes.forEach(key => {\n          form[key] = {\n            value: getDefaultValue[key],\n            disabled: uneditable.includes(key),\n            placeholder: false,\n          }\n        })\n\n        form.trip_id = { value: state.editorTrip, disabled: false, placeholder: false }\n      } else {\n        const features = state.editorLinks.features\n\n        state.lineAttributes.forEach(key => {\n          const val = new Set(features.map(link => link.properties[key]))\n          form[key] = {\n            value: val.size > 1 ? '' : [...val][0],\n            disabled: uneditable.includes(key),\n            placeholder: val.size > 1,\n          }\n        })\n      }\n      state.editorLineInfo = form\n    },\n\n    getTripId (state) {\n      state.tripId = Array.from(new Set(state.links.features.map(item => item.properties.trip_id)))\n    },\n\n    setNewLink (state, payload) {\n      // copy editor links geoJSON, only take first (or last) link.\n      // delete some properties like id and index.\n      const uncopiedPropeties = {\n        index: null,\n        length: null,\n        time: null,\n        pickup_type: 0,\n        drop_off_type: 0,\n      }\n      // create link\n      const tempLink = structuredClone(state.editorLinks)\n      // if there is no link to copy, create one. (new Line)\n      if (tempLink.features.length === 0) {\n        // copy Line properties.\n        const linkProperties = {}\n        Object.keys(state.editorLineInfo).forEach((key) => {\n          linkProperties[key] = state.editorLineInfo[key].value\n        })\n        // set default links values\n        const defaultValue = {\n          index: 'link_' + short.generate(),\n          a: state.editorNodes.features[0].properties.index,\n          b: state.editorNodes.features[0].properties.index,\n          length: null,\n          time: null,\n          pickup_type: 0,\n          drop_off_type: 0,\n          link_sequence: 0,\n        }\n        Object.keys(defaultValue).forEach((key) => {\n          linkProperties[key] = defaultValue[key]\n        })\n\n        const linkGeometry = {\n          coordinates: [state.editorNodes.features[0].geometry.coordinates,\n            state.editorNodes.features[0].geometry.coordinates],\n          type: 'LineString',\n        }\n        const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n        tempLink.features = [linkFeature]\n      }\n\n      if (payload.action === 'Extend Line Upward') {\n        // Take last link and copy properties\n        // eslint-disable-next-line no-var\n        var features = tempLink.features[tempLink.features.length - 1]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence +1\n        features.properties.link_sequence = features.properties.link_sequence + 1\n        // replace node a by b and delete node a\n        features.properties.a = features.properties.b\n        features.geometry.coordinates[0] = features.geometry.coordinates.slice(-1)[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.a\n        this.commit('setNewNode', payload)\n\n        features.properties.b = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      } else if (payload.action === 'Extend Line Downward') {\n        // Take first link and copy properties\n        // eslint-disable-next-line no-var, no-redeclare\n        var features = tempLink.features[0]\n        Object.assign(features.properties, uncopiedPropeties)\n        // sequence + 1\n        features.properties.link_sequence = features.properties.link_sequence - 1\n        //  replace node b by a and delete node b\n        features.properties.b = features.properties.a\n        features.geometry.coordinates[1] = features.geometry.coordinates[0]\n        // new node index (hash)\n        payload.nodeCopyId = features.properties.b\n        this.commit('setNewNode', payload)\n        features.properties.a = state.newNode.features[0].properties.index\n        features.properties.index = 'link_' + short.generate()\n      }\n      tempLink.features = [features]\n      state.newLink = tempLink\n      state.newLink.action = payload.action\n    },\n    createNewNode (state, payload) {\n      const nodeProperties = {}\n      state.nodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'node_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified nodenewNode\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      state.editorNodes.features = [nodeFeatures]\n    },\n\n    setNewNode (state, payload) {\n      const { coordinates = [null, null] } = payload\n      const uncopiedPropeties = {}\n      state.nodeAttributes.forEach(key => {\n        uncopiedPropeties[key] = null\n      })\n      // Copy specified node\n      const tempNode = JSON.parse(JSON.stringify(state.editorNodes))\n      const features = tempNode.features.filter(node => node.properties.index === payload.nodeCopyId)[0]\n      Object.assign(features.properties, uncopiedPropeties)\n      features.properties.index = 'node_' + short.generate()\n      features.geometry.coordinates = coordinates\n      tempNode.features = [features]\n      state.newNode = tempNode\n    },\n\n    editNewLink (state, payload) {\n      // for realtime viz. this method change the linestring to the payload (mouse position)\n      // for some reason, it doesnt work when i only apply payload to coordinates[1]\n      state.newNode.features[0].geometry.coordinates = payload\n      if (state.newLink.action === 'Extend Line Upward') {\n        state.newLink.features[0].geometry.coordinates = [state.newLink.features[0].geometry.coordinates[0], payload]\n      } else {\n        state.newLink.features[0].geometry.coordinates = [payload, state.newLink.features[0].geometry.coordinates[1]]\n      }\n    },\n\n    applyNewLink (state, payload) {\n      // nodeId: this.selectedNodeId, geom: pointGeom, action: Extend Line Upward\n      // get linestring length in km\n      this.commit('setNewLink', { action: payload.action })\n      this.commit('editNewLink', payload.geom)\n\n      const distance = length(state.newLink)\n      state.newLink.features[0].properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n\n      state.newLink.features[0].properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n\n      const action = state.newLink.action\n      if (action === 'Extend Line Upward') {\n        state.editorLinks.features.push(state.newLink.features[0])\n        state.editorNodes.features.push(state.newNode.features[0])\n      } else if (action === 'Extend Line Downward') {\n        state.editorLinks.features.splice(0, 0, state.newLink.features[0])\n        state.editorNodes.features.splice(0, 0, state.newNode.features[0])\n        state.editorLinks.features.forEach(link => link.properties.link_sequence += 1)\n      }\n    },\n\n    deleteNode (state, payload) {\n      const nodeIndex = payload.selectedNode.index\n      // remove node\n      state.editorNodes.features = state.editorNodes.features.filter(node => node.properties.index !== nodeIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0] // link is extented\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0] // link is deleted\n      // if the last or first node is selected, there is only one link. The node and the link are deleted.\n      if (!link1) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n        // a link was remove, link_sequence -1\n        state.editorLinks.features.forEach(link => link.properties.link_sequence -= 1)\n      } else if (!link2) {\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link1.properties.index)\n        // the node is inbetween 2 links. 1 link is deleted, and the other is extented.\n      } else {\n        link1.geometry.coordinates = [\n          ...link1.geometry.coordinates.slice(0, -1),\n          ...link2.geometry.coordinates.slice(1)]\n        link1.properties.b = link2.properties.b\n        link1.properties.length += link2.properties.length\n        link1.properties.time += link2.properties.time\n        // find removed link index. drop everylinks link_sequence after by 1\n        const featureIndex = state.editorLinks.features.findIndex(\n          link => link.properties.index === link2.properties.index)\n        state.editorLinks.features.slice(featureIndex).forEach(\n          link => link.properties.link_sequence -= 1)\n        // delete link2\n        state.editorLinks.features = state.editorLinks.features.filter(\n          link => link.properties.index !== link2.properties.index)\n      }\n    },\n\n    splitLink (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = state.editorLinks.features[featureIndex] // this link is extented\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'link_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.editorLinks.features.splice(featureIndex + 1, 0, link2)\n      state.editorNodes.features.push(state.newNode.features[0])\n\n      // add +1 to every link sequence afer link1\n      const seq = link1.properties.link_sequence\n      // everything after link1 except link2\n      state.editorLinks.features.filter(link => link.properties.link_sequence > seq).forEach(\n        link => link.properties.link_sequence += 1)\n      // add link2 sequence after.\n      link2.properties.link_sequence += 1\n    },\n\n    addNodeInline (state, payload) {\n      // payload contain selectedLink and event.lngLat (clicked point)\n      let linkGeom = state.editorLinks.features.filter((link) => link.properties.index === payload.selectedLink.index)\n      const nodeCopyId = linkGeom[0].properties.a\n      linkGeom = Linestring(linkGeom[0].geometry.coordinates)\n      const clickedPoint = Point(Object.values(payload.lngLat))\n      const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n      const dist = length(linkGeom, { units: 'kilometers' }) // dist\n      // for multiString, gives the index of the closest one, add +1 for the slice.\n      const sliceIndex = snapped.properties.index + 1\n      const offset = snapped.properties.location / dist\n      if (payload.nodes === 'editorNodes') {\n        this.commit('setNewNode', { coordinates: snapped.geometry.coordinates, nodeCopyId: nodeCopyId })\n        this.commit('splitLink', { selectedLink: payload.selectedLink, offset: offset, sliceIndex: sliceIndex })\n      // Anchor Nodes\n      } else {\n        this.commit('addAnchorNode', {\n          selectedLink: payload.selectedLink,\n          coordinates: snapped.geometry.coordinates,\n          sliceIndex: sliceIndex,\n        })\n      }\n\n      // this.commit('setNewNode', null) // init new node to null\n    },\n    addAnchorNode (state, payload) {\n      const linkIndex = payload.selectedLink.index\n      const featureIndex = state.editorLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change editorLinks as it is an observer.\n      const link = state.editorLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    deleteAnchorNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    moveAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.editorLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n\n    moveNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.editorNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n      const link1 = state.editorLinks.features.filter(link => link.properties.b === nodeIndex)[0]\n      const link2 = state.editorLinks.features.filter(link => link.properties.a === nodeIndex)[0]\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      if (link1) {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link1.geometry.coordinates = [...link1.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link1)\n        link1.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link1.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n      if (link2) {\n        link2.geometry.coordinates = [payload.lngLat, ...link2.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link2)\n        link2.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        const time = distance / state.linkSpeed * 3600 // 20kmh hard code speed. time in secs\n        link2.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      }\n    },\n\n    cutLineFromNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.b === nodeId) {\n          toDelete = state.editorLinks.features.slice(i + 1)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    cutLineAtNode (state, payload) {\n      // Filter links from selected line\n      const nodeId = payload.selectedNode.index\n      state.editorLinks.features.sort((a, b) => a.properties.link_sequence - b.properties.link_sequence)\n\n      let toDelete = []\n      for (const [i, link] of state.editorLinks.features.entries()) {\n        if (link.properties.a === nodeId) {\n          toDelete = state.editorLinks.features.slice(0, i)\n          break\n        }\n      }\n      // Delete links\n      state.editorLinks.features = state.editorLinks.features.filter(item => !toDelete.includes(item))\n      this.commit('getEditorNodes', { nodes: state.editorNodes })\n    },\n\n    editLineInfo (state, payload) {\n      state.editorLineInfo = payload\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(payload).filter(key =>\n        ((payload[key].value !== '') || !payload[key].placeholder) && (!payload[key].disabled))\n      // add new line info to each links of each trips.\n      state.editorLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = payload[key].value))\n    },\n\n    editLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      const props = Object.keys(info)\n      state.editorLinks.features.filter(\n        function (link) {\n          if (link.properties.index === selectedLinkId) {\n            props.forEach((key) => link.properties[key] = info[key].value)\n          }\n        },\n      )\n      this.commit('getEditorLineInfo')\n    },\n\n    editNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.editorNodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    appendNewLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.links.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      payload.nodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n      // state.links.features.push(...payload.links.features) will crash with large array (stack size limit)\n      payload.links.features.forEach(link => state.links.features.push(link))\n      payload.nodes.features.forEach(node => state.nodes.features.push(node))\n      this.commit('applyPropertiesTypes')\n      this.commit('getLinksProperties')\n      this.commit('getNodesProperties')\n      this.commit('getTripId')\n      this.commit('changeSelectedTrips', state.tripId)\n    },\n\n    editGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const editorGroupInfo = payload.info\n      const groupTripIds = payload.groupTripIds\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(editorGroupInfo).filter(key =>\n        ((editorGroupInfo[key].value !== '') || !editorGroupInfo[key].placeholder))\n      // add new line info to each links of each trips.\n      const tempLinks = state.links.features.filter(link => groupTripIds.includes(link.properties.trip_id))\n      tempLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = editorGroupInfo[key].value))\n      // get tripId list\n      this.commit('getTripId')\n    },\n    deleteUnusedNodes (state) {\n      // delete every every nodes not in links\n      const a = state.links.features.map(item => item.properties.a)\n      const b = state.links.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.nodes.features = state.nodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    confirmChanges (state) { // apply change to Links\n      const filtered = { ...state.links }\n\n      filtered.features = filtered.features.filter(link => link.properties.trip_id === state.editorTrip)\n      const toDelete = filtered.features.filter(item => !state.editorLinks.features.includes(item))\n      // find index of soon to be deleted links\n      if (state.tripId.includes(state.editorTrip)) {\n        // eslint-disable-next-line no-var\n        var index = state.links.features.findIndex(link => link.properties.trip_id === state.editorTrip)\n      } else {\n        // eslint-disable-next-line no-var, no-redeclare\n        var index = 0\n      }\n      // delete links that were edited.\n      state.links.features = state.links.features.filter(item => !toDelete.includes(item))\n      // add edited links to links.\n\n      state.links.features.splice(index, 0, ...state.editorLinks.features)\n      // all new nodes.\n      const nodesList = state.nodes.features.map(item => item.properties.index)\n      const newNodes = { ...state.editorNodes }\n      newNodes.features = newNodes.features.filter(node => !nodesList.includes(node.properties.index))\n      state.nodes.features.push(...newNodes.features)\n\n      // for each editor nodes, apply new properties.\n      state.nodes.features.filter(\n        function (node) {\n          state.editorNodes.features.forEach(\n            function (eNode) {\n              if (node.properties.index === eNode.properties.index) {\n                node.properties = eNode.properties\n                node.geometry = eNode.geometry\n              }\n            })\n        })\n\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n\n      // For every Links containing an editor Nodes. update Geometry.\n      // (this is necessary when we move a node that is share between multiplde lines)\n      // get a list of all links (excluding editorLinks) that contain the selected node\n      const editorNodesList = new Set(state.editorNodes.features.map(item => item.properties.index))\n      // get list of link with a node A modifieed\n      const linksA = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.a))\n      // apply new node geometry\n      linksA.forEach(link => link.geometry.coordinates = [\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.a)[0].geometry.coordinates,\n        ...link.geometry.coordinates.slice(1),\n      ])\n      // same for nodes b\n      const linksB = state.links.features.filter(\n        link => link.properties.trip_id !== state.editorTrip).filter(\n        item => editorNodesList.has(item.properties.b))\n      linksB.forEach(link => link.geometry.coordinates = [\n        ...link.geometry.coordinates.slice(0, -1),\n        state.editorNodes.features.filter(node => node.properties.index === link.properties.b)[0].geometry.coordinates,\n      ])\n\n      state.newLink = {}\n      state.newNode = {}\n\n      // get tripId list\n      this.commit('getTripId')\n      this.commit('getLinksProperties')\n    },\n\n    deleteTrip (state, payload) {\n      // payload = a single trip_id or a list or trips_id\n      // if its a list : delete all of them. else: delete single trip\n      if (typeof payload === 'object') {\n        state.links.features = state.links.features.filter(link => !payload.includes(link.properties.trip_id))\n      } else {\n        state.links.features = state.links.features.filter(link => link.properties.trip_id !== payload)\n      }\n      // delete every every nodes not in links\n      this.commit('deleteUnusedNodes')\n      // get tripId list\n      this.commit('getTripId')\n    },\n    applyPropertiesTypes (state) {\n      state.defaultAttributes.forEach(attr => {\n        if (attr.type === 'String') {\n          state.links.features.forEach(link => link.properties[attr.name] = String(link.properties[attr.name]))\n        } else if (attr.type === 'Number') {\n          state.links.features.forEach(link => link.properties[attr.name] = Number(link.properties[attr.name]))\n        }\n      })\n    },\n  },\n\n  getters: {\n    links: (state) => state.links,\n    nodes: (state) => state.nodes,\n    linkSpeed: (state) => state.linkSpeed,\n    linksIsEmpty: (state) => state.links.features.length === 0,\n    route_id: (state) => state.route_id,\n    editorTrip: (state) => state.editorTrip,\n    editorLinks: (state) => state.editorLinks,\n    editorNodes: (state) => state.editorNodes,\n    tripId: (state) => state.tripId,\n    selectedTrips: (state) => state.selectedTrips,\n    editorLineInfo: (state) => state.editorLineInfo,\n    linksPopupChoices: (state) => { const ls = structuredClone(state.lineAttributes); ls.unshift([]); return ls },\n    newLink: (state) => state.newLink,\n    newNode: (state) => state.newNode,\n    firstNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features[0].properties.a\n      : state.editorNodes.features[0].properties.index,\n    lastNodeId: (state) => state.editorNodes.features.length > 1\n      ? state.editorLinks.features.slice(-1)[0].properties.b\n      : state.editorNodes.features[0].properties.index,\n    firstNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.firstNodeId)[0]\n      : null,\n    lastNode: (state, getters) => state.editorTrip\n      ? state.editorNodes.features.filter(\n        (node) => node.properties.index === getters.lastNodeId)[0]\n      : null,\n    lineAttributes: (state) => state.lineAttributes,\n    nodeAttributes: (state) => state.nodeAttributes,\n    changeBounds: (state) => state.changeBounds,\n    nodesHeader: (state) => state.nodesHeader,\n    linksHeader: (state) => state.linksHeader,\n    anchorNodes: (state) => {\n      const nodes = structuredClone(state.nodesHeader)\n      state.editorLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push({\n              properties: { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n              geometry: { coordinates: point, type: 'Point' },\n            }),\n          )\n        },\n      )\n\n      return nodes\n    },\n    // this return the attribute type, of undefined.\n    attributeType: (state) => (name) => state.defaultAttributes.filter(attr => attr.name === name)[0]?.type,\n  },\n}\n","/* eslint-disable no-case-declarations */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-return-assign */\nimport length from '@turf/length'\nimport nearestPointOnLine from '@turf/nearest-point-on-line'\nimport Linestring from 'turf-linestring'\nimport Point from 'turf-point'\n\nconst short = require('short-uuid')\n\nexport default {\n  state: {\n    rlinks: {},\n    rnodes: {},\n    rlinksHeader: {},\n    rnodesHeader: {},\n    selectedrFilter: '',\n    selectedrGroup: [],\n    filteredrCategory: [],\n    rlineAttributes: [],\n    rnodeAttributes: [],\n    newrNode: {},\n    visiblerLinks: {},\n    visiblerNodes: {},\n    connectedLinks: [],\n    defaultHighway: 'quenedi',\n    roadSpeed: 20,\n  },\n\n  mutations: {\n    loadrLinks (state, payload) {\n      state.rlinks = structuredClone(payload)\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rlinks.crs.properties.name)) {\n        const rlinksHeader = { ...state.rlinks }\n        rlinksHeader.features = []\n        state.rlinksHeader = rlinksHeader\n        state.visiblerLinks = structuredClone(rlinksHeader)\n        // limit geometry precision to 6 digit\n        state.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n          points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n        this.commit('getrLinksProperties')\n        // set all trips visible\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    loadrNodes (state, payload) {\n      state.rnodes = JSON.parse(JSON.stringify(payload))\n      if (['urn:ogc:def:crs:OGC:1.3:CRS84', 'EPSG:4326'].includes(state.rnodes.crs.properties.name)) {\n        const rnodesHeader = { ...state.rnodes }\n        rnodesHeader.features = []\n        state.rnodesHeader = rnodesHeader\n        state.visiblerNodes = structuredClone(rnodesHeader)\n        // limit geometry precision to 6 digit\n        state.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n          coord => Math.round(Number(coord) * 1000000) / 1000000))\n\n        this.commit('getrNodesProperties')\n      } else { alert('invalid CRS. use CRS84 / EPSG:4326') }\n    },\n\n    appendNewrLinks (state, payload) {\n      // append new links and node to the project (import page)\n      payload.rlinks.features.forEach(link => link.geometry.coordinates = link.geometry.coordinates.map(\n        points => points.map(coord => Math.round(Number(coord) * 1000000) / 1000000)))\n      payload.rnodes.features.forEach(node => node.geometry.coordinates = node.geometry.coordinates.map(\n        coord => Math.round(Number(coord) * 1000000) / 1000000))\n      // state.rlinks.features.push(...payload.rlinks.features) will crash with large array (stack size limit)\n      payload.rlinks.features.forEach(link => state.rlinks.features.push(link))\n      payload.rnodes.features.forEach(node => state.rnodes.features.push(node))\n      this.commit('getrLinksProperties')\n      this.commit('getrNodesProperties')\n      this.commit('getFilteredrCat')\n      // state.selectedrGroup = Array.from(new Set(state.rlinks.features.map(\n      //  item => item.properties[this.selectedrFilter])))\n      // state.visiblerLinks = state.rlinks\n      // state.visiblerNodes = state.rnodes\n    },\n    unloadrFiles (state) {\n      // when we reload files (some were already loaded.)\n      state.rlinks.features = []\n      state.rnodes.features = []\n      state.visiblerLinks.feaures = []\n      state.visiblerNodes.feaures = []\n      state.selectedrGroup = []\n    },\n    getrLinksProperties (state) {\n      let header = new Set([])\n      state.rlinks.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // header.delete('index')\n      // add all default attributes\n      const defaultAttributes = [\n        'index', 'a', 'b', 'route_color']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rlineAttributes = header\n\n      if (header.includes('highway')) {\n        state.selectedrFilter = 'highway'\n      } else {\n        state.selectedrFilter = header[0]\n      }\n    },\n    getrNodesProperties (state) {\n      let header = new Set([])\n      state.rnodes.features.forEach(element => {\n        Object.keys(element.properties).forEach(key => header.add(key))\n      })\n      // add all default attributes\n      const defaultAttributes = [\n        'index']\n      defaultAttributes.forEach(att => header.add(att))\n      header = Array.from(header)\n      state.rnodeAttributes = header\n    },\n    changeSelectedrFilter (state, payload) {\n      state.selectedrFilter = payload\n      this.commit('getFilteredrCat')\n    },\n    getFilteredrCat (state) {\n      // for a given filter (key) get array of unique value\n      // e.g. get ['bus','subway'] for route_type\n      const val = Array.from(new Set(state.rlinks.features.map(\n        item => item.properties[state.selectedrFilter])))\n      state.filteredrCategory = val\n    },\n\n    changeVisibleRoads (state, payload) {\n      // trips list of visible trip_id.\n      const method = payload.method\n      const data = payload.data\n      const cat = payload.category\n      state.selectedrFilter = cat\n      let tempLinks = null\n      switch (method) {\n        case 'showAll':\n          state.selectedrGroup = data\n          // need to slice. so it doest change if we append to rlinks.\n          state.visiblerLinks.features = state.rlinks.features.slice()\n          break\n        case 'hideAll':\n          state.selectedrGroup = data\n          state.visiblerLinks.features = []\n          break\n        case 'add':\n          if (!state.selectedrGroup.includes(data[0])) {\n            state.selectedrGroup.push(data[0])\n          }\n          tempLinks = state.rlinks.features.filter(\n            link => link.properties[cat] === data[0])\n          state.visiblerLinks.features.push(...tempLinks)\n          break\n        case 'remove':\n          state.selectedrGroup = state.selectedrGroup.filter(el => el !== data[0])\n          tempLinks = new Set(state.visiblerLinks.features.filter(\n            link => link.properties[cat] === data[0]))\n          state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !tempLinks.has(link))\n          break\n      }\n      this.commit('getVisiblerNodes', { method: method })\n    },\n\n    refreshVisibleRoads (state) {\n      const group = new Set(state.selectedrGroup)\n      const cat = state.selectedrFilter\n      state.visiblerLinks.features = state.rlinks.features.filter(link => group.has(link.properties[cat]))\n      this.commit('getVisiblerNodes', { method: 'add' })\n      // when we rename a group (highway => test), are rename many group.\n      // remove nonexistant group in the selected group.\n      const possibleGroups = new Set(state.visiblerLinks.features.map(\n        item => item.properties[cat]))\n      state.selectedrGroup = [...possibleGroups].filter(x => group.has(x))\n    },\n    getVisiblerNodes (state, payload) {\n      // payload contain nodes. state.nodes or state.editorNodes\n      // find the nodes in the editor links\n      let a = []\n      let b = []\n      let rNodesList = []\n      switch (payload.method) {\n        case 'showAll':\n          state.visiblerNodes.features = state.rnodes.features\n          break\n        case 'hideAll':\n          state.visiblerNodes.features = []\n          break\n        case 'add':\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use rnodes as they are new to visiblerNodes\n          state.visiblerNodes.features = state.rnodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        case 'remove' :\n          // cannot simply remove the nodes from the deleted links. they can be used by others visibles links\n          a = state.visiblerLinks.features.map(item => item.properties.a)\n          b = state.visiblerLinks.features.map(item => item.properties.b)\n          rNodesList = new Set([...a, ...b])\n          // use visibleRnodes, as they are already inside of it.\n          state.visiblerNodes.features = state.visiblerNodes.features.filter(\n            node => rNodesList.has(node.properties.index))\n          break\n        // case 'refresh'\n      }\n    },\n\n    editrLinkInfo (state, payload) {\n      // get selected link in editorLinks and modify the changes attributes.\n      const { selectedLinkId, info } = payload\n      for (let i = 0; i < selectedLinkId.length; i++) {\n        const props = Object.keys(info[i])\n        state.rlinks.features.filter(\n          function (link) {\n            if (link.properties.index === selectedLinkId[i]) {\n              props.forEach((key) => link.properties[key] = info[i][key].value)\n            }\n          },\n        )\n      }\n\n      this.commit('getEditorLineInfo')\n    },\n\n    editrNodeInfo (state, payload) {\n      // get selected node in editorNodes and modify the changes attributes.\n      const { selectedNodeId, info } = payload\n      const props = Object.keys(info)\n      state.rnodes.features.filter(\n        // eslint-disable-next-line array-callback-return\n        function (node) {\n          if (node.properties.index === selectedNodeId) {\n            props.forEach((key) => node.properties[key] = info[key].value)\n          }\n        },\n      )\n    },\n\n    createNewrNode (state, payload) {\n      const newNode = structuredClone(state.rnodesHeader)\n      const nodeProperties = {}\n      state.rnodeAttributes.forEach(key => {\n        nodeProperties[key] = null\n      })\n      nodeProperties.index = 'rnode_' + short.generate()\n      const nodeGeometry = {\n        coordinates: payload,\n        type: 'Point',\n      }\n      // Copy specified node\n      const nodeFeatures = { geometry: nodeGeometry, properties: nodeProperties, type: 'Feature' }\n      newNode.features = [nodeFeatures]\n      state.newrNode = newNode\n    },\n    splitrLink (state, payload) {\n      // changing link1 change editorLinks as it is an observer.\n      const link1 = payload.selectedFeature\n      const link2 = structuredClone(link1)\n      // distance du point (entre 0 et 1) sur le lien original\n      const ratio = payload.offset\n\n      link1.properties.b = state.newrNode.features[0].properties.index\n      link1.geometry.coordinates = [\n        ...link1.geometry.coordinates.slice(0, payload.sliceIndex),\n        state.newrNode.features[0].geometry.coordinates,\n      ]\n\n      link1.properties.index = 'link_' + short.generate() // link1.properties.index+ '-1'\n      link1.properties.length = link1.properties.length * ratio\n      link1.properties.time = link1.properties.time * ratio\n\n      link2.properties.a = state.newrNode.features[0].properties.index\n      link2.geometry.coordinates = [\n        state.newrNode.features[0].geometry.coordinates,\n        ...link2.geometry.coordinates.slice(payload.sliceIndex),\n      ]\n      link2.properties.index = 'rlink_' + short.generate() // link2.properties.index+ '-2'\n      link2.properties.length = link2.properties.length * (1 - ratio)\n      link2.properties.time = link2.properties.time * (1 - ratio)\n\n      state.visiblerLinks.features.push(link2)\n      // update actual rlinks and rnodes\n      state.rlinks.features.filter((link) => link.properties.index === link1.properties.index)[0] = link1\n      state.rlinks.features.push(link2)\n    },\n\n    addRoadNodeInline (state, payload) {\n      // selectedLink : list of links index\n      // lngLat : object wit click geometry\n      // nodes : str. name of node to add (rnode, anchorrNodeS)\n      const selectedFeatures = state.visiblerLinks.features\n        .filter((link) => payload.selectedIndex.includes(link.properties.index))\n      // for loop. for each selectedc links add the node and split.\n      for (let i = 0; i < selectedFeatures.length; i++) {\n        const linkGeom = Linestring(selectedFeatures[i].geometry.coordinates)\n        const clickedPoint = Point(Object.values(payload.lngLat))\n        const snapped = nearestPointOnLine(linkGeom, clickedPoint, { units: 'kilometers' })\n        const dist = length(linkGeom, { units: 'kilometers' }) // dist\n        // for multiString, gives the index of the closest one, add +1 for the slice.\n        const sliceIndex = snapped.properties.index + 1\n        const offset = snapped.properties.location / dist\n        if (payload.nodes === 'rnodes') {\n          // only add one node, takes the first one.\n          if (i === 0) {\n            this.commit('createNewrNode', snapped.geometry.coordinates)\n            state.visiblerNodes.features.push(state.newrNode.features[0])\n            state.rnodes.features.push(state.newrNode.features[0])\n          }\n          this.commit('splitrLink', { selectedFeature: selectedFeatures[i], offset: offset, sliceIndex: sliceIndex })\n\n        // Anchor Nodes\n        } else {\n          this.commit('addAnchorrNode', {\n            selectedLink: selectedFeatures[i],\n            coordinates: snapped.geometry.coordinates,\n            sliceIndex: sliceIndex,\n          })\n        }\n      }\n    },\n    addAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedLink.properties.index\n      const featureIndex = state.visiblerLinks.features.findIndex(link => link.properties.index === linkIndex)\n      // changing link change visible rLinks as it is an observer.\n      const link = state.visiblerLinks.features[featureIndex]\n      link.geometry.coordinates.splice(payload.sliceIndex, 0, payload.coordinates)\n    },\n    createrLink (state, payload) {\n      // nodeIdA: node id, nodeIdB: node id, geom: array geom where we clicked, layerId: str. the layer id rnodes, rlinks\n      // 3 cases.\n      // 1) click on the map. create a node b then connect.\n      // 2) click on a node. create a link between node a and b\n      // 3) click on a link. create node inline b then create link a to b.\n      // create a node if we click on the map (case 1)\n      if (!payload.nodeIdB) {\n        this.commit('createNewrNode', payload.geom)\n        state.visiblerNodes.features.push(state.newrNode.features[0])\n        state.rnodes.features.push(state.newrNode.features[0])\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      } else if (payload.layerId === 'rlinks') {\n        // create a node inline and then the new link\n        this.commit('addRoadNodeInline', { selectedIndex: payload.nodeIdB, lngLat: payload.geom, nodes: 'rnodes' })\n        payload.nodeIdB = state.newrNode.features[0].properties.index\n      }\n      const rnodeA = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdA)[0]\n      const rnodeB = state.visiblerNodes.features.filter(node => node.properties.index === payload.nodeIdB)[0]\n\n      const linkGeometry = {\n        coordinates: [rnodeA.geometry.coordinates, rnodeB.geometry.coordinates],\n        type: 'LineString',\n      }\n\n      const linkProperties = {}\n      // set default links values\n      state.rlineAttributes.forEach((key) => linkProperties[key] = null)\n      linkProperties.index = 'rlink_' + short.generate()\n      linkProperties.a = payload.nodeIdA\n      linkProperties.b = payload.nodeIdB\n      linkProperties.highway = state.defaultHighway // quenedi\n      if (state.rlineAttributes.includes('oneway')) { linkProperties.oneway = 1 }\n      linkProperties.route_color = 'B5E0D6'\n      // add length, speed, time now that we have a geometry.\n      const distance = length(linkGeometry)\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      linkProperties.length = Number((distance * 1000).toFixed(0)) // metres\n      linkProperties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      linkProperties.speed = Number(state.roadSpeed) // rounded to 0 decimals\n\n      const linkFeature = { geometry: linkGeometry, properties: linkProperties, type: 'Feature' }\n      state.rlinks.features.push(linkFeature)\n\n      // add newly generated group (i.e. highway == quenedi), to visibles checked groups.\n      const newLinkGroup = linkProperties[state.selectedrFilter]\n      if (!state.filteredrCategory.includes(newLinkGroup)) {\n        state.filteredrCategory.push(newLinkGroup)\n      }\n      if (!state.selectedrGroup.includes(newLinkGroup)) {\n        // if its not already selected, push it.\n        state.selectedrGroup.push(newLinkGroup)\n      } else {\n        state.visiblerLinks.features.push(linkFeature)\n      }\n    },\n\n    getConnectedLinks (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // get links connected to the node\n      // use rLinks as we could moidified links that are not visible moving a node.\n      state.connectedLinks = {\n        b: state.rlinks.features.filter(link => link.properties.b === nodeIndex),\n        a: state.rlinks.features.filter(link => link.properties.a === nodeIndex),\n      }\n    },\n    moverNode (state, payload) {\n      const nodeIndex = payload.selectedNode.properties.index\n      // remove node\n      const newNode = state.visiblerNodes.features.filter(node => node.properties.index === nodeIndex)[0]\n      newNode.geometry.coordinates = payload.lngLat\n\n      // changing links\n\n      // update links geometry. check if exist first (if we take the first|last node there is only 1 link)\n      state.connectedLinks.b.forEach(link => {\n        // note: props are unchanged. even tho the length change, the time and length are unchanged.\n        link.geometry.coordinates = [...link.geometry.coordinates.slice(0, -1), payload.lngLat]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      })\n      state.connectedLinks.a.forEach(link => {\n        link.geometry.coordinates = [payload.lngLat, ...link.geometry.coordinates.slice(1)]\n        // update time and distance\n        const distance = length(link)\n        link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n        // const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n        const time = distance / link.properties.speed * 3600\n        link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n      })\n    },\n    moverAnchor (state, payload) {\n      const linkIndex = payload.selectedNode.properties.linkIndex\n      const coordinatedIndex = payload.selectedNode.properties.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        payload.lngLat,\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n\n      // update time and distance\n      const distance = length(link)\n      link.properties.length = Number((distance * 1000).toFixed(0)) // metres\n      const time = distance / state.roadSpeed * 3600 // 20kmh hard code speed. time in secs\n      link.properties.time = Number(time.toFixed(0)) // rounded to 0 decimals\n    },\n    deleteAnchorrNode (state, payload) {\n      const linkIndex = payload.selectedNode.linkIndex\n      const coordinatedIndex = payload.selectedNode.coordinatedIndex\n      const link = state.visiblerLinks.features.filter(feature => feature.properties.index === linkIndex)[0]\n      link.geometry.coordinates = [...link.geometry.coordinates.slice(0, coordinatedIndex),\n        ...link.geometry.coordinates.slice(coordinatedIndex + 1)]\n    },\n    deleterLink (state, payload) {\n      const linkArr = new Set(payload.selectedIndex)\n      state.rlinks.features = state.rlinks.features.filter(link => !linkArr.has(link.properties.index))\n      state.visiblerLinks.features = state.visiblerLinks.features.filter(link => !linkArr.has(link.properties.index))\n      this.commit('getVisiblerNodes', { method: 'remove' })\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleterGroup (state, payload) {\n      const group = payload\n      const cat = state.selectedrFilter\n      state.rlinks.features = state.rlinks.features.filter(link => link.properties[cat] !== group)\n      this.commit('refreshVisibleRoads')\n      this.commit('deleteUnusedrNodes')\n      this.commit('getFilteredrCat')\n    },\n    deleteUnusedrNodes (state) {\n      // delete every every nodes not in links\n      const a = state.rlinks.features.map(item => item.properties.a)\n      const b = state.rlinks.features.map(item => item.properties.b)\n      const nodesInLinks = new Set([...a, ...b])\n      state.rnodes.features = state.rnodes.features.filter(node => nodesInLinks.has(node.properties.index))\n    },\n\n    editrGroupInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      const selectedLinks = payload.selectedLinks // observer of state.links\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      selectedLinks.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('refreshVisibleRoads')\n      this.commit('getFilteredrCat')\n    },\n    editrVisiblesInfo (state, payload) {\n      // edit line info on multiple trips at once.\n      const groupInfo = payload.info\n      // get only keys that are not unmodified multipled Values (value=='' and placeholder==true)\n      const props = Object.keys(groupInfo).filter(key =>\n        ((groupInfo[key].value !== '') || !groupInfo[key].placeholder))\n      // this is an oberver. modification will be applied to state.links.\n      state.visiblerLinks.features.forEach(\n        (features) => props.forEach((key) => features.properties[key] = groupInfo[key].value))\n\n      this.commit('refreshVisibleRoads')\n      this.commit('getFilteredrCat')\n    },\n\n  },\n\n  getters: {\n    rlinks: (state) => state.rlinks,\n    rnodes: (state) => state.rnodes,\n    roadSpeed: (state) => state.roadSpeed,\n    rlinksHeader: (state) => state.rlinksHeader,\n    rnodesHeader: (state) => state.rnodesHeader,\n    rlineAttributes: (state) => state.rlineAttributes,\n    roadPopupChoices: (state) => { const ls = structuredClone(state.rlineAttributes); ls.unshift([]); return ls },\n    selectedrGroup: (state) => state.selectedrGroup,\n    selectedrFilter: (state) => state.selectedrFilter,\n    filteredrCategory: (state) => state.filteredrCategory,\n    visiblerLinks: (state) => state.visiblerLinks,\n    visiblerNodes: (state) => state.visiblerNodes,\n    defaultHighway: (state) => state.defaultHighway,\n    rlinksIsEmpty: (state) => state.rlinks.features.length === 0,\n    newrNode: (state) => state.newrNode,\n    anchorrNodes: (state) => (renderedLinks) => {\n      const nodes = structuredClone(state.rnodesHeader)\n      renderedLinks.features.filter(link => link.geometry.coordinates.length > 2).forEach(\n        feature => {\n          const linkIndex = feature.properties.index\n          feature.geometry.coordinates.slice(1, -1).forEach(\n            (point, idx) => nodes.features.push(Point(\n              point,\n              { index: short.generate(), linkIndex: linkIndex, coordinatedIndex: idx + 1 },\n            ),\n            ),\n\n          )\n        },\n      )\n\n      return nodes\n    },\n    grouprLinks: (state) => (category, group) => {\n      return state.rlinks.features.filter(link => group === link.properties[category])\n    },\n    rlinksForm: (state) => (linkIndex) => {\n      const uneditable = ['a', 'b', 'index']\n      const editorForm = state.visiblerLinks.features.filter(\n        (link) => link.properties.index === linkIndex)[0].properties\n\n      // filter properties to only the one that are editable.\n      const form = {}\n      state.rlineAttributes.forEach(key => {\n        form[key] = {\n          value: editorForm[key],\n          disabled: uneditable.includes(key),\n          placeholder: false,\n        }\n      })\n      return form\n    },\n  },\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport linksModule from './links.js'\nimport rlinksModule from './rlinks.js'\nimport JSZip from 'jszip'\nimport saveAs from 'file-saver'\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  modules: {\n    links: linksModule,\n    rlinks: rlinksModule,\n  },\n\n  state: {\n    notification: {},\n    loading: false,\n    anchorMode: false,\n    showLeftPanel: true,\n    linksPopupContent: 'trip_id',\n    roadsPopupContent: 'highway',\n    outputName: 'output',\n\n  },\n  mutations: {\n    changeNotification (state, payload) {\n      state.notification = payload\n    },\n    changeLoading (state, payload) {\n      state.loading = payload\n    },\n    changeLeftPanel (state) {\n      state.showLeftPanel = !state.showLeftPanel\n    },\n    setAnchorMode (state, payload) {\n      state.anchorMode = payload\n    },\n    changeAnchorMode (state) {\n      state.anchorMode = !state.anchorMode\n    },\n    applySettings (state, payload) {\n      state.links.linkSpeed = Number(payload.linkSpeed)\n      state.rlinks.roadSpeed = Number(payload.roadSpeed)\n      state.linksPopupContent = payload.linksPopupContent\n      state.roadsPopupContent = payload.roadsPopupContent\n      state.rlinks.defaultHighway = payload.defaultHighway\n      state.outputName = payload.outputName\n    },\n    exportFiles (state, payload = 'all') {\n      const zip = new JSZip()\n      // const folder = zip.folder('output') // create a folder for the files.\n      let links = ''\n      let nodes = ''\n      let rlinks = ''\n      let rnodes = ''\n      // export only visible line (line selected)\n      this.commit('applyPropertiesTypes')\n      if (payload !== 'all') {\n        const tempLinks = structuredClone(state.links.links)\n        tempLinks.features = tempLinks.features.filter(\n          link => state.links.selectedTrips.includes(link.properties.trip_id))\n        links = JSON.stringify(tempLinks)\n        // delete every every nodes not in links\n        const a = tempLinks.features.map(item => item.properties.a)\n        const b = tempLinks.features.map(item => item.properties.b)\n        const nodesInLinks = Array.from(new Set([...a, ...b]))\n        const tempNodes = structuredClone(state.links.nodes)\n        tempNodes.features = tempNodes.features.filter(node => nodesInLinks.includes(node.properties.index))\n        nodes = JSON.stringify(tempNodes)\n\n        rlinks = JSON.stringify(state.rlinks.visiblerLinks)\n        rnodes = JSON.stringify(state.rlinks.visiblerNodes)\n      // export everything\n      } else {\n        links = JSON.stringify(state.links.links)\n        nodes = JSON.stringify(state.links.nodes)\n        rlinks = JSON.stringify(state.rlinks.rlinks)\n        rnodes = JSON.stringify(state.rlinks.rnodes)\n      }\n      // export only if not empty\n      if (JSON.parse(links).features.length > 0) {\n        // eslint-disable-next-line no-var\n        var blob = new Blob([links], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([nodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('nodes.geojson', blob)\n      }\n      if (JSON.parse(rlinks).features.length > 0) {\n      // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rlinks], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('road_links.geojson', blob)\n        // eslint-disable-next-line no-var, no-redeclare\n        var blob = new Blob([rnodes], { type: 'application/json' })\n        // use folder.file if you want to add it to a folder\n        zip.file('road_nodes.geojson', blob)\n      }\n      zip.generateAsync({ type: 'blob' })\n        .then(function (content) {\n          // see FileSaver.js\n          saveAs(content, state.outputName + '.zip')\n        })\n    },\n  },\n  getters: {\n\n    notification: (state) => state.notification,\n    loading: (state) => state.loading,\n    anchorMode: (state) => state.anchorMode,\n    showLeftPanel: (state) => state.showLeftPanel,\n    linksPopupContent: (state) => state.linksPopupContent,\n    roadsPopupContent: (state) => state.roadsPopupContent,\n    outputName: (state) => state.outputName,\n    projectIsUndefined: (state) => Object.keys(state.links.links).length === 0,\n    projectIsEmpty: (state) => {\n      return (state.links.links.features.length === 0 &&\n              state.rlinks.rlinks.features.length === 0)\n    },\n\n  },\n})\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    [\n      _c(\n        \"div\",\n        { staticClass: \"layout\" },\n        [\n          _c(\"div\", {\n            staticClass: \"layout-overlay\",\n            class: { \"animate-layer\": _vm.loggedIn },\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-card\",\n            { staticClass: \"card\", class: { \"animate-login\": _vm.loggedIn } },\n            [\n              _c(\"v-card-title\", { staticClass: \"title\" }, [\n                _vm._v(\"\\n        Quetzal Network Editor\\n      \"),\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-card-text\", { style: { textAlign: \"center\" } }, [\n                _c(\"div\", { staticClass: \"subtitle\" }, [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(_vm.$gettext(\"Load Files\")) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Load multiple Transit or road network. Each network will be added to the current project\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _vm._v(\n                    \"\\n          \" +\n                      _vm._s(\n                        _vm.$gettext(\n                          \"Links and Nodes files must be geojson in EPSG:4326.\"\n                        )\n                      ) +\n                      \"\\n        \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"text-xs-center\" },\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          color: !_vm.localLinksLoaded ? \"primary\" : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"links\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Links\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: {\n                          color: !_vm.localNodesLoaded ? \"primary\" : \"normal\",\n                        },\n                        on: {\n                          click: function ($event) {\n                            return _vm.buttonHandle(\"nodes\")\n                          },\n                        },\n                      },\n                      [\n                        _c(\"v-icon\", { attrs: { small: \"\", left: \"\" } }, [\n                          _vm._v(\n                            \"\\n              fa-solid fa-upload\\n            \"\n                          ),\n                        ]),\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Nodes\")) +\n                            \"\\n          \"\n                        ),\n                      ],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { color: \"normal\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\"zip\")\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _c(\n                                      \"v-icon\",\n                                      { attrs: { small: \"\", left: \"\" } },\n                                      [\n                                        _vm._v(\n                                          \"\\n                  fas fa-file-archive\\n                \"\n                                        ),\n                                      ]\n                                    ),\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(\"zip\") +\n                                        \"\\n              \"\n                                    ),\n                                  ],\n                                  1\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(_vm.$gettext(\"Load zip files containing\"))\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"nodes.geojson and links.geojson or\")\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"road_nodes.geojson and road_links.geojson\"\n                              )\n                            )\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\"br\"),\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\"or both the PT and road geojsons\")\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"fileInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { id: \"file-input\", type: \"file\", accept: \".geojson\" },\n                  on: { change: _vm.onFilePicked },\n                }),\n                _vm._v(\" \"),\n                _c(\"input\", {\n                  ref: \"zipInput\",\n                  staticStyle: { display: \"none\" },\n                  attrs: { type: \"file\", accept: \".zip\", multiple: \"multiple\" },\n                  on: { change: _vm.readZip },\n                }),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { small: \"\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\n                                              \"newProject\"\n                                            )\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"New Project\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$gettext(\n                                \"Delete all network and start from scratch\"\n                              )\n                            )\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-tooltip\",\n                      {\n                        attrs: { bottom: \"\", \"open-delay\": \"500\" },\n                        scopedSlots: _vm._u([\n                          {\n                            key: \"activator\",\n                            fn: function ({ on, attrs }) {\n                              return [\n                                _c(\n                                  \"v-btn\",\n                                  _vm._g(\n                                    _vm._b(\n                                      {\n                                        attrs: { \"x-small\": \"\" },\n                                        on: {\n                                          click: function ($event) {\n                                            return _vm.buttonHandle(\"example\")\n                                          },\n                                        },\n                                      },\n                                      \"v-btn\",\n                                      attrs,\n                                      false\n                                    ),\n                                    on\n                                  ),\n                                  [\n                                    _vm._v(\n                                      \"\\n                \" +\n                                        _vm._s(_vm.$gettext(\"Example\")) +\n                                        \"\\n              \"\n                                    ),\n                                  ]\n                                ),\n                              ]\n                            },\n                          },\n                        ]),\n                      },\n                      [\n                        _vm._v(\" \"),\n                        _c(\"span\", [\n                          _vm._v(_vm._s(_vm.$gettext(\"Load Montréal Example\"))),\n                        ]),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  [\n                    _c(\n                      \"v-btn\",\n                      {\n                        attrs: { disabled: !_vm.filesAdded, color: \"primary\" },\n                        on: {\n                          click: function ($event) {\n                            return _vm.login()\n                          },\n                        },\n                      },\n                      [\n                        _vm._v(\n                          \"\\n            \" +\n                            _vm._s(_vm.$gettext(\"Go!\")) +\n                            \"\\n          \"\n                        ),\n                      ]\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"green\" } },\n                _vm._l(_vm.message, function (mess) {\n                  return _c(\"p\", { key: mess }, [\n                    _vm._v(\n                      \"\\n          \" + _vm._s(_vm.$gettext(mess)) + \"\\n        \"\n                    ),\n                  ])\n                }),\n                0\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-text\",\n                { style: { textAlign: \"center\", color: \"red\" } },\n                [\n                  _vm._v(\n                    \"\\n        \" +\n                      _vm._s(_vm.$gettext(_vm.errorMessage)) +\n                      \"\\n      \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { persistent: \"\", \"max-width\": \"350\" },\n          on: {\n            keydown: [\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                )\n                  return null\n                return _vm.applyDialog.apply(null, arguments)\n              },\n              function ($event) {\n                if (\n                  !$event.type.indexOf(\"key\") &&\n                  _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                    \"Esc\",\n                    \"Escape\",\n                  ])\n                )\n                  return null\n                _vm.showDialog = false\n              },\n            ],\n          },\n          model: {\n            value: _vm.showDialog,\n            callback: function ($$v) {\n              _vm.showDialog = $$v\n            },\n            expression: \"showDialog\",\n          },\n        },\n        [\n          _c(\n            \"v-card\",\n            [\n              _c(\"v-card-title\", { staticClass: \"text-h5\" }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.$gettext(\"Overwrite current Project ?\")) +\n                    \"\\n      \"\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\n                \"v-card-actions\",\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"regular\" },\n                      on: {\n                        click: function ($event) {\n                          _vm.showDialog = !_vm.showDialog\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"No\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { color: \"primary\" },\n                      on: { click: _vm.applyDialog },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(_vm.$gettext(\"Yes\")) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","export default {type:'FeatureCollection',crs:{type:'name',properties:{name:'urn:ogc:def:crs:OGC:1.3:CRS84'}},features:[]}","<script>\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nimport { extractZip, IndexAreDifferent } from '../components/utils/utils.js'\nconst $gettext = s => s\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      loggedIn: false,\n      choice: null,\n      showDialog: false,\n      loadedLinks: {},\n      loadedNodes: {},\n      loadedType: '',\n      zipName: '',\n      message: [],\n      errorMessage: '',\n      filesAdded: false,\n    }\n  },\n\n  computed: {\n    projectIsEmpty () { return this.$store.getters.projectIsEmpty },\n    localLinksLoaded () { return Object.keys(this.loadedLinks).length === 0 },\n    localNodesLoaded () { return Object.keys(this.loadedNodes).length === 0 },\n    localFilesAreLoaded () {\n      return !(this.localLinksLoaded || this.localNodesLoaded)\n    },\n\n  },\n  watch: {\n    localFilesAreLoaded (val) {\n      if (val) {\n        this.loadNetwork(this.loadedLinks, this.loadedNodes, this.loadedType, 'individual files')\n        this.loadedLinks = {}\n        this.loadedNodes = {}\n        this.loadedType = ''\n      }\n    },\n\n  },\n  mounted () {\n    this.$store.commit('changeNotification', '')\n  },\n  methods: {\n    login () {\n      // Leave time for animation to end (.animate-login and .animate-layer css rules)\n      setTimeout(() => {\n        this.$router.push('/Home').catch(() => {})\n      }, 300)\n    },\n\n    loadNetwork (links, nodes, type, zipName) {\n      if (type === 'PT') {\n        if (IndexAreDifferent(links, this.$store.getters.links) &&\n            IndexAreDifferent(nodes, this.$store.getters.nodes)) {\n          this.$store.commit('appendNewLinks', { links: links, nodes: nodes })\n          this.filesAdded = true\n          if (zipName) this.message.push($gettext('PT Links and nodes Loaded from') + ' ' + zipName)\n        } else {\n          this.error($gettext('there is duplicated links or nodes index. Import aborted'))\n        }\n      } else if (type === 'road') {\n        if (IndexAreDifferent(links, this.$store.getters.rlinks) &&\n            IndexAreDifferent(nodes, this.$store.getters.rnodes)) {\n          this.$store.commit('appendNewrLinks', { rlinks: links, rnodes: nodes })\n          this.filesAdded = true\n          if (zipName) this.message.push($gettext('ROAD links and nodes Loaded from') + ' ' + zipName)\n        } else {\n          this.error($gettext('there is duplicated links or nodes index. Import aborted'))\n        }\n      }\n    },\n\n    error (message) {\n      this.loadedNodes = {}\n      this.loadedLinks = {}\n      this.loadedType = ''\n      this.message = []\n      this.errorMessage = message\n      this.$store.commit('changeLoading', false)\n    },\n\n    buttonHandle (choice) {\n      this.choice = choice\n      this.errorMessage = ''\n      switch (this.choice) {\n        case 'zip':\n          this.$refs.zipInput.click()\n          break\n        case 'links':\n          this.$refs.fileInput.click()\n          document.getElementById('file-input').value = '' // clean it for next file\n          break\n        case 'nodes':\n          this.$refs.fileInput.click()\n          document.getElementById('file-input').value = '' // clean it for next file\n          break\n        case 'example':\n          this.projectIsEmpty ? this.loadExample() : this.showDialog = true\n          break\n        case 'newProject':\n          this.projectIsEmpty ? this.newProject() : this.showDialog = true\n      }\n    },\n    applyDialog () {\n      // this only happen when both files are loaded.\n      // remove links and nodes from store. (and filesAreLoaded)\n      this.$store.commit('unloadFiles')\n      this.$store.commit('unloadrFiles')\n\n      if (this.choice === 'example') {\n        this.loadExample()\n      } else if (this.choice === 'newProject') {\n        this.newProject()\n      }\n      this.showDialog = !this.showDialog\n    },\n\n    async loadExample () {\n      this.$store.commit('changeLoading', true)\n      const url = 'https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/'\n      const links = await fetch(url + 'links_exemple.geojson').then(res => res.json())\n        .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n\n      if (!links) return\n\n      const nodes = await fetch(url + 'nodes_exemple.geojson').then(res => res.json())\n        .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n\n      if (!nodes) return\n\n      const rlinks = await fetch(url + 'road_links_exemple.geojson').then(res => res.json())\n        .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n\n      if (!rlinks) return\n\n      const rnodes = await fetch(url + 'road_nodes_exemple.geojson').then(res => res.json())\n        .catch(() => { this.error($gettext('An error occur fetching example on github')) })\n\n      if (!rnodes) return\n\n      this.loadNetwork(links, nodes, 'PT')\n      this.loadNetwork(rlinks, rnodes, 'road')\n\n      this.$store.commit('changeLoading', false)\n      this.loggedIn = true\n      this.login()\n    },\n    newProject () {\n      this.loadNetwork(linksBase, nodesBase, 'PT')\n      this.loadNetwork(linksBase, nodesBase, 'road')\n      this.$store.commit('changeNotification', { text: $gettext('project overwrited'), autoClose: true, color: 'success' })\n      this.message = []\n    },\n\n    onFilePicked (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.$store.commit('changeLoading', false)\n        return\n      }\n      // it is a geojson\n      if (files[0].name.slice(-7) !== 'geojson') {\n        this.$store.commit('changeLoading', false)\n        this.error($gettext('file is not a geojson'))\n        return\n      }\n\n      const fileReader = new FileReader()\n      fileReader.readAsText(files[0])\n      if (this.choice === 'links') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              if (this.loadedType === 'PT') { this.error($gettext('road links loaded with PT nodes')); return }\n              this.loadedType = 'road'\n            } else {\n              this.loadedLinks = JSON.parse(evt.target.result)\n              if (this.loadedType === 'road') { this.error($gettext('PT links loaded with road nodes')); return }\n              this.loadedType = 'PT'\n            }\n            this.$store.commit('changeLoading', false)\n          } catch (e) {\n            this.error(e.message)\n            this.$store.commit('changeLoading', false)\n          }\n        }\n      } else if (this.choice === 'nodes') {\n        fileReader.onload = evt => {\n          try {\n            if (files[0].name.includes('road')) {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              if (this.loadedType === 'PT') { this.error($gettext('road nodes loaded for PT links')); return }\n              this.loadedType = 'road'\n            } else {\n              this.loadedNodes = JSON.parse(evt.target.result)\n              if (this.loadedType === 'road') { this.error($gettext('PT nodes loaded for road links')); return }\n              this.loadedType = 'PT'\n            }\n            this.$store.commit('changeLoading', false)\n          } catch (e) {\n            this.error(e.message)\n            this.$store.commit('changeLoading', false)\n          }\n        }\n      }\n    },\n    async readZip (event) {\n      this.$store.commit('changeLoading', true)\n      const files = event.target.files\n      // there is a file\n      if (!files.length) {\n        this.$store.commit('changeLoading', false)\n        return\n      }\n      // it is a zip\n      if (files[0].name.slice(-3) !== 'zip') {\n        this.$store.commit('changeLoading', false)\n        this.errorMessage = $gettext('file is not a zip')\n      }\n      // read every selected zip and create a list of promises.\n      // each promises contain {links, nodes}\n\n      const PromisesList = []\n      for (let i = 0; i < files.length; i++) {\n        const res = extractZip(files[i])\n        PromisesList.push(res)\n      }\n      // when all files are read\n      Promise.all(PromisesList).then(files => {\n        // asign first file to links and node var\n        // for each other files concat, concat to links and nodes\n        for (let i = 0; i < files.length; i++) {\n          const file = files[i]\n          if (Object.keys(file).includes('links') && Object.keys(file).includes('nodes')) {\n            this.loadNetwork(file.links, file.nodes, 'PT', file.zipName)\n          } if (Object.keys(file).includes('road_links') && Object.keys(file).includes('road_nodes')) {\n            this.loadNetwork(file.road_links, file.road_nodes, 'road', file.zipName)\n          }\n        }\n\n        this.$store.commit('changeLoading', false)\n      }).catch(err => {\n        this.$store.commit('changeLoading', false)\n        alert(err)\n      })\n    },\n\n  },\n}\n</script>\n<template>\n  <section>\n    <div class=\"layout\">\n      <div\n        class=\"layout-overlay\"\n        :class=\"{ 'animate-layer': loggedIn }\"\n      />\n      <v-card\n        class=\"card\"\n        :class=\"{ 'animate-login': loggedIn }\"\n      >\n        <v-card-title class=\"title\">\n          Quetzal Network Editor\n        </v-card-title>\n        <v-card-text :style=\"{textAlign: 'center'}\">\n          <div class=\"subtitle\">\n            {{ $gettext(\"Load Files\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Load multiple Transit or road network. Each network will be added to the current project\") }}\n          </div>\n          <div>\n            {{ $gettext(\"Links and Nodes files must be geojson in EPSG:4326.\") }}\n          </div>\n          <div class=\" text-xs-center\">\n            <v-btn\n              :color=\" !localLinksLoaded? 'primary': 'normal'\"\n              @click=\"buttonHandle('links')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Links') }}\n            </v-btn>\n            <v-btn\n              :color=\" !localNodesLoaded? 'primary': 'normal'\"\n              @click=\"buttonHandle('nodes')\"\n            >\n              <v-icon\n                small\n                left\n              >\n                fa-solid fa-upload\n              </v-icon>\n              {{ $gettext('Nodes') }}\n            </v-btn>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  v-bind=\"attrs\"\n                  :color=\"'normal'\"\n                  v-on=\"on\"\n                  @click=\"buttonHandle('zip')\"\n                >\n                  <v-icon\n                    small\n                    left\n                  >\n                    fas fa-file-archive\n                  </v-icon>\n                  {{ 'zip' }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load zip files containing\") }}</span>\n              <br>\n              <span>{{ $gettext(\"nodes.geojson and links.geojson or\") }}</span>\n              <br>\n              <span>{{ $gettext(\"road_nodes.geojson and road_links.geojson\") }}</span>\n              <br>\n              <span>{{ $gettext(\"or both the PT and road geojsons\") }}</span>\n            </v-tooltip>\n          </div>\n          <input\n            id=\"file-input\"\n            ref=\"fileInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".geojson\"\n            @change=\"onFilePicked\"\n          >\n          <input\n            ref=\"zipInput\"\n            type=\"file\"\n            style=\"display: none\"\n            accept=\".zip\"\n            multiple=\"multiple\"\n            @change=\"readZip\"\n          >\n\n          <div>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  small\n                  v-bind=\"attrs\"\n                  @click=\"buttonHandle('newProject')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('New Project') }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Delete all network and start from scratch\") }}</span>\n            </v-tooltip>\n          </div>\n\n          <div>\n            <v-tooltip\n              bottom\n              open-delay=\"500\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  x-small\n                  v-bind=\"attrs\"\n                  @click=\"buttonHandle('example')\"\n                  v-on=\"on\"\n                >\n                  {{ $gettext('Example') }}\n                </v-btn>\n              </template>\n              <span>{{ $gettext(\"Load Montréal Example\") }}</span>\n            </v-tooltip>\n          </div>\n          <div>\n            <v-btn\n              :disabled=\"!filesAdded\"\n              color=\"primary\"\n              @click=\"login()\"\n            >\n              {{ $gettext('Go!') }}\n            </v-btn>\n          </div>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'green'}\">\n          <p\n            v-for=\"mess in message\"\n            :key=\"mess\"\n          >\n            {{ $gettext(mess) }}\n          </p>\n        </v-card-text>\n        <v-card-text :style=\"{textAlign: 'center',color:'red'}\">\n          {{ $gettext(errorMessage) }}\n        </v-card-text>\n      </v-card>\n    </div>\n    <v-dialog\n      v-model=\"showDialog\"\n      persistent\n      max-width=\"350\"\n      @keydown.enter=\"applyDialog\"\n      @keydown.esc=\"showDialog=false\"\n    >\n      <v-card>\n        <v-card-title class=\"text-h5\">\n          {{ $gettext(\"Overwrite current Project ?\") }}\n        </v-card-title>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn\n            color=\"regular\"\n            @click=\"showDialog = !showDialog\"\n          >\n            {{ $gettext(\"No\") }}\n          </v-btn>\n\n          <v-btn\n            color=\"primary\"\n            @click=\"applyDialog\"\n          >\n            {{ $gettext(\"Yes\") }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  max-height: calc(100% - 2em);\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  margin: 40px;\n}\n.card button {\n  margin-top: 40px;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=1901dfce&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=1901dfce&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1901dfce&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=1901dfce&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1901dfce\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from '@page/Login.vue'\nimport { store } from '../store/index.js'\nconst Home = () => import('@page/Home.vue')\nconst DataFrame = () => import('@page/DataFrame.vue')\n\nVue.use(Router)\n\n// only used to force to see translation to vue-gettext\nconst $gettext = s => s\n\nconst router = new Router({\n  linkExactActiveClass: 'active',\n  mode: 'history',\n  base: '/quetzal-network-editor-dev/',\n  routes: [\n    {\n      path: '/',\n      name: Login.name,\n      component: Login,\n      icon: 'fa-solid fa-upload',\n      title: $gettext('Import'),\n    },\n\n    {\n      path: '/Home',\n      name: Home.name,\n      component: Home,\n      icon: 'fa-solid fa-map',\n      title: $gettext('Map'),\n    },\n    {\n      path: '/DataFrame',\n      name: DataFrame.name,\n      component: DataFrame,\n      icon: 'fa-solid fa-table',\n      title: $gettext('Table'),\n    },\n  ],\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.name !== 'Login' && store.getters.projectIsUndefined) next({ name: 'Login' })\n  else if (to.path === 'login') next('Login')\n  else next()\n})\n\nexport default router\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-app\",\n    { staticClass: \"app\" },\n    [\n      _c(\"NavigationDrawer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"container\" },\n        [\n          _c(\"Toolbar\"),\n          _vm._v(\" \"),\n          _c(\"transition\", { attrs: { name: \"fade\" } }, [_c(\"router-view\")], 1),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-overlay\",\n        { attrs: { value: _vm.loading } },\n        [\n          _c(\"v-progress-circular\", {\n            attrs: { indeterminate: \"\", size: \"64\" },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-snackbar\",\n        {\n          staticClass: \"snackbar\",\n          class: `snackbar-${_vm.notification.type}`,\n          attrs: {\n            timeout: _vm.notification.autoClose ? 3000 : -1,\n            transition: \"slide-y-reverse-transition\",\n            color: _vm.notification.color ? _vm.notification.color : \"white\",\n          },\n          scopedSlots: _vm._u([\n            {\n              key: \"action\",\n              fn: function ({ attrs }) {\n                return [\n                  _c(\n                    \"v-btn\",\n                    _vm._b(\n                      {\n                        attrs: { small: \"\", color: \"secondary\", text: \"\" },\n                        on: { click: _vm.closeSnackbar },\n                      },\n                      \"v-btn\",\n                      attrs,\n                      false\n                    ),\n                    [\n                      _vm._v(\n                        \"\\n        \" +\n                          _vm._s(_vm.$gettext(\"Close\")) +\n                          \"\\n      \"\n                      ),\n                    ]\n                  ),\n                ]\n              },\n            },\n          ]),\n          model: {\n            value: _vm.snackbar,\n            callback: function ($$v) {\n              _vm.snackbar = $$v\n            },\n            expression: \"snackbar\",\n          },\n        },\n        [\n          _vm._v(\n            \"\\n    \" + _vm._s(_vm.$gettext(_vm.notification.text)) + \"\\n    \"\n          ),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"v-toolbar\",\n    { class: \"app-toolbar elevation-4\", attrs: { dense: \"\", color: \"white\" } },\n    [\n      _c(\"div\", [_vm._v(\"Quetzal Network Editor\")]),\n      _vm._v(\" \"),\n      _c(\"v-spacer\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-tooltip\",\n            {\n              attrs: { bottom: \"\" },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on, attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              attrs: {\n                                icon: \"\",\n                                href: \"https://github.com/systragroup/quetzal-network-editor\",\n                                target: \"_blank\",\n                              },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _c(\"v-icon\", [\n                            _vm._v(\"\\n            fab fa-github\\n          \"),\n                          ]),\n                        ],\n                        1\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [_vm._v(\" \"), _c(\"span\", [_vm._v(\"GitHub\")])]\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        [\n          _c(\n            \"v-menu\",\n            {\n              attrs: {\n                \"offset-y\": \"\",\n                \"close-delay\": \"100\",\n                transition: \"slide-y-transition\",\n              },\n              scopedSlots: _vm._u([\n                {\n                  key: \"activator\",\n                  fn: function ({ on: on, attrs: attrs }) {\n                    return [\n                      _c(\n                        \"v-btn\",\n                        _vm._g(\n                          _vm._b(\n                            {\n                              staticClass: \"language active\",\n                              attrs: { text: \"\" },\n                            },\n                            \"v-btn\",\n                            attrs,\n                            false\n                          ),\n                          on\n                        ),\n                        [\n                          _vm._v(\n                            \"\\n          \" +\n                              _vm._s(_vm.$language.current) +\n                              \"\\n        \"\n                          ),\n                        ]\n                      ),\n                    ]\n                  },\n                },\n              ]),\n            },\n            [\n              _vm._v(\" \"),\n              _c(\n                \"v-list\",\n                _vm._l(_vm.$language.available, function (language, lang) {\n                  return _c(\n                    \"v-list-item\",\n                    {\n                      key: lang,\n                      class: language,\n                      on: {\n                        click: function ($event) {\n                          return _vm.handleChangeLanguage(lang)\n                        },\n                      },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n          \" +\n                          _vm._s(language.toUpperCase()) +\n                          \"\\n        \"\n                      ),\n                    ]\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  name: 'Toolbar',\n  computed: {\n\n  },\n  methods: {\n    handleChangeLanguage (lang) {\n      this.$vuetify.lang.current = lang\n      this.$language.current = lang\n    },\n  },\n}\n</script>\n<template>\n  <v-toolbar\n    :class=\"'app-toolbar elevation-4'\"\n    dense\n    color=\"white\"\n  >\n    <div>Quetzal Network Editor</div>\n\n    <v-spacer />\n    <div>\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            href=\"https://github.com/systragroup/quetzal-network-editor\"\n            target=\"_blank\"\n            v-on=\"on\"\n          >\n            <v-icon>\n              fab fa-github\n            </v-icon>\n          </v-btn>\n        </template>\n        <span>GitHub</span>\n      </v-tooltip>\n    </div>\n\n    <div>\n      <v-menu\n        offset-y\n        close-delay=\"100\"\n        transition=\"slide-y-transition\"\n      >\n        <template v-slot:activator=\"{ on: on,attrs:attrs }\">\n          <v-btn\n            text\n            class=\"language active\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            {{ $language.current }}\n          </v-btn>\n        </template>\n        <v-list>\n          <v-list-item\n            v-for=\"(language, lang) in $language.available\"\n            :key=\"lang\"\n            :class=\"language\"\n\n            @click=\"handleChangeLanguage(lang)\"\n          >\n            {{ language.toUpperCase() }}\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </div>\n  </v-toolbar>\n</template>\n<style lang=\"scss\" scoped>\n.app-toolbar {\n  z-index: 100;\n  height: 50px !important;\n  display: flex;\n  color: $secondary !important;\n  position: relative;\n}\n.login {\n  padding-left: 50px;\n}\n.project-name {\n  font-size: 1.3em;\n}\n.languages-container {\n  display: flex;\n}\n.language {\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color: $secondary;\n}\n.language:last-child {\n  border-right: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=1ab24a22&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=style&index=0&id=1ab24a22&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=1ab24a22&scoped=true&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Toolbar.vue?vue&type=style&index=0&id=1ab24a22&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ab24a22\",\n  null\n  \n)\n\nexport default component.exports","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"transition\",\n    { attrs: { name: \"fade\" } },\n    [\n      _c(\n        \"v-navigation-drawer\",\n        {\n          staticClass: \"drawer elevation-4\",\n          attrs: {\n            app: \"\",\n            stateless: \"\",\n            temporary: !_vm.mini,\n            \"mini-variant\": _vm.mini,\n            \"mini-variant-width\": 50,\n          },\n          on: {\n            \"update:miniVariant\": function ($event) {\n              _vm.mini = $event\n            },\n            \"update:mini-variant\": function ($event) {\n              _vm.mini = $event\n            },\n          },\n          model: {\n            value: _vm.drawer,\n            callback: function ($$v) {\n              _vm.drawer = $$v\n            },\n            expression: \"drawer\",\n          },\n        },\n        [\n          _c(\n            \"div\",\n            {\n              staticClass: \"drawer-header\",\n              on: {\n                click: function ($event) {\n                  _vm.mini = !_vm.mini\n                },\n              },\n            },\n            [\n              _c(\"v-icon\", { attrs: { small: \"\", color: \"white\" } }, [\n                _vm._v(\n                  \"\\n        \" +\n                    _vm._s(_vm.mini ? \"fa fa-bars\" : \"fas fa-angle-left\") +\n                    \"\\n      \"\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-list\",\n            { staticClass: \"drawer-list\", attrs: { dense: \"\" } },\n            _vm._l(_vm.getDisplayedRoutes(), function (item, key) {\n              return _c(\n                \"v-list-item\",\n                {\n                  key: key,\n                  staticClass: \"drawer-list-item\",\n                  class: [\n                    _vm.$route.name === item.name\n                      ? \"drawer-list-item-selected\"\n                      : \"\",\n                  ],\n                  style: { marginTop: item.name === \"Export\" ? \"auto\" : \"0\" },\n                  on: {\n                    click: function ($event) {\n                      return _vm.handleClickMenuItem(item)\n                    },\n                  },\n                  nativeOn: {\n                    click: function ($event) {\n                      $event.stopPropagation()\n                    },\n                  },\n                },\n                [\n                  _c(\n                    \"v-list-item-action\",\n                    { staticClass: \"drawer-list-item-icon\" },\n                    [\n                      _c(\n                        \"v-icon\",\n                        {\n                          attrs: { small: \"\", title: _vm.$gettext(item.title) },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(item.icon) +\n                              \"\\n          \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-list-item-content\",\n                    [\n                      _c(\n                        \"v-list-item-title\",\n                        { style: { marginLeft: \"20px\", color: \"white\" } },\n                        [\n                          _vm._v(\n                            \"\\n            \" +\n                              _vm._s(_vm.$gettext(item.title)) +\n                              \"\\n          \"\n                          ),\n                        ]\n                      ),\n                    ],\n                    1\n                  ),\n                ],\n                1\n              )\n            }),\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport Router from '@src/router/index'\n\nexport default {\n  name: 'NavigationDrawer',\n  data () {\n    return {\n      leftSidenav: false,\n      drawer: true,\n      mini: true,\n      menuItems: [],\n    }\n  },\n  computed: {\n  },\n  created () {\n    this.menuItems = Router.options.routes.concat({\n      name: 'Export',\n      icon: 'fa-solid fa-download',\n      title: this.$gettext('Export'),\n    })\n  },\n  methods: {\n    getDisplayedRoutes () {\n      return this.menuItems.filter(o => o.icon)\n    },\n    getRouteTitle (route) {\n      const tpl = this.$gettext('%{s}')\n      return this.$gettextInterpolate(tpl, { s: route.title })\n    },\n    handleClickMenuItem (route) {\n      switch (route.name) {\n        case 'Export':\n          this.saveFile()\n          break\n        default :\n          this.$router.push(route.path).catch(() => {})\n          this.mini = true\n          break\n      }\n    },\n\n    saveFile () {\n      this.$store.commit('exportFiles', 'all')\n    },\n\n  },\n}\n</script>\n<template>\n  <transition name=\"fade\">\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      app\n      class=\"drawer elevation-4\"\n      stateless\n      :temporary=\"!mini\"\n      :mini-variant.sync=\"mini\"\n      :mini-variant-width=\"50\"\n    >\n      <div\n        class=\"drawer-header\"\n        @click=\"mini = !mini\"\n      >\n        <v-icon\n          small\n          color=\"white\"\n        >\n          {{ mini ? 'fa fa-bars' : 'fas fa-angle-left' }}\n        </v-icon>\n      </div>\n      <v-list\n        dense\n        class=\"drawer-list\"\n      >\n        <v-list-item\n          v-for=\"( item,key ) in getDisplayedRoutes()\"\n          :key=\"key\"\n          class=\"drawer-list-item\"\n          :class=\"[ $route.name === item.name ? 'drawer-list-item-selected' : '']\"\n          :style=\"{marginTop: item.name === 'Export' ? 'auto' : '0'}\"\n          @click.native.stop\n          @click=\"handleClickMenuItem(item)\"\n        >\n          <v-list-item-action class=\"drawer-list-item-icon\">\n            <v-icon\n              small\n              :title=\"$gettext(item.title)\"\n            >\n              {{ item.icon }}\n            </v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title :style=\"{marginLeft: '20px', color: 'white'}\">\n              {{ $gettext(item.title) }}\n            </v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n  </transition>\n</template>\n<style lang=\"scss\" scoped>\n.drawer {\n  background-color: $secondary !important;\n}\n.drawer-header {\n  width: 100%;\n  height: 50px;\n  border-bottom: 1px solid white;\n  background-color: $secondary;\n  color: white;\n  display: flex;\n  align-items: center;\n  padding-left: 18px;\n  cursor: pointer;\n}\n.drawer-list {\n  height: calc(100% - 50px);\n  display: flex;\n  flex-direction: column;\n  padding: 20px 0;\n}\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n.drawer-list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.drawer-list-item-selected {\n  background-color: $secondary-dark;\n}\n.drawer-list-item:hover {\n  background-color: $secondary-dark;\n}\n</style>\n","import mod from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=32f4fdde&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavigationDrawer.vue?vue&type=style&index=0&id=32f4fdde&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./NavigationDrawer.vue?vue&type=template&id=32f4fdde&scoped=true&\"\nimport script from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavigationDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavigationDrawer.vue?vue&type=style&index=0&id=32f4fdde&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32f4fdde\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","<script>\nimport Toolbar from '@comp/layout/Toolbar.vue'\nimport NavigationDrawer from '@comp/layout/NavigationDrawer.vue'\n\nimport linksBase from '@static/links_base.geojson'\nimport nodesBase from '@static/nodes_base.geojson'\nexport default {\n  name: 'App',\n  components: {\n    Toolbar,\n    NavigationDrawer,\n  },\n  data () {\n    return {\n      snackbar: false,\n    }\n  },\n  computed: {\n    notification () {\n      return this.$store.getters.notification\n    },\n    loading () {\n      return this.$store.getters.loading\n    },\n  },\n  watch: {\n    notification () {\n      this.snackbar = !!this.notification.text\n    },\n  },\n  created () {\n    // init links and node to empty one (new project)\n    this.$store.commit('loadLinks', linksBase)\n    this.$store.commit('loadrLinks', linksBase)\n    this.$store.commit('loadNodes', nodesBase)\n    this.$store.commit('loadrNodes', nodesBase)\n  },\n  methods: {\n    closeSnackbar () {\n      this.snackbar = false\n      this.$store.notification = {}\n    },\n  },\n}\n</script>\n<template>\n  <v-app class=\"app\">\n    <NavigationDrawer />\n    <div\n      class=\"container\"\n    >\n      <Toolbar />\n      <transition name=\"fade\">\n        <router-view />\n      </transition>\n    </div>\n    <v-overlay :value=\"loading\">\n      <v-progress-circular\n        indeterminate\n        size=\"64\"\n      />\n    </v-overlay>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"notification.autoClose ? 3000 : -1\"\n      transition=\"slide-y-reverse-transition\"\n      :color=\"notification.color? notification.color : 'white'\"\n      class=\"snackbar\"\n      :class=\"`snackbar-${notification.type}`\"\n    >\n      {{ $gettext(notification.text) }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"secondary\"\n          text\n          v-bind=\"attrs\"\n          @click=\"closeSnackbar\"\n        >\n          {{ $gettext(\"Close\") }}\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-app>\n</template>\n<style lang=\"scss\" scoped>\n.app {\n  background-color: $grey-ultralight !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.container {\n  height: 100%;\n  margin-left: 50px;\n  width: calc(100% - 50px);\n  max-width: calc(100% - 50px);\n  padding: 0;\n}\n.container.login {\n  margin-left: 0;\n  width: 100%;\n}\n</style>\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=73b9d0b4&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=73b9d0b4&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=73b9d0b4&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=73b9d0b4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73b9d0b4\",\n  null\n  \n)\n\nexport default component.exports","import '@fortawesome/fontawesome-free/css/all.css'\nimport 'vuetify/dist/vuetify.min.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport '@scss/app.scss'\n\nimport Vue from 'vue'\nimport GetTextPlugin from 'vue-gettext'\nimport { store } from './store'\nimport router from './router'\nimport Vuetify from 'vuetify'\nimport VueApexCharts from 'vue-apexcharts'\n\nimport 'promise-polyfill/src/polyfill'\n\nimport fr from 'vuetify/es5/locale/fr'\nimport en from 'vuetify/es5/locale/en'\nimport de from 'vuetify/es5/locale/de'\nimport es from 'vuetify/es5/locale/es'\nimport pt from 'vuetify/es5/locale/pt'\n\nimport translations from './translations.json'\n\nimport App from './App.vue'\nimport { mapboxPublicKey } from '@src/config.js'\n\nconsole.assert(mapboxPublicKey)\n\nconst languageMixin = {\n  methods: {\n    $selectBestLanguage (browserLangs, supportedLangs) {\n      if (browserLangs.length) {\n        for (const lang of browserLangs) {\n          const parts = lang.toLowerCase().split('-')\n          if (parts.length > 1) {\n            parts[1] = parts[1].toUpperCase()\n          }\n          const normLang = parts.join('-')\n          if (supportedLangs.includes(normLang)) {\n            return normLang\n          } else if (parts.length > 1 && supportedLangs.includes(parts[0])) {\n            return parts[0]\n          }\n        }\n        return supportedLangs[0]\n      } else {\n        return supportedLangs[0]\n      }\n    },\n  },\n}\nVue.component('Apexchart', VueApexCharts)\n\nconst bestLanguage = languageMixin.methods.$selectBestLanguage(navigator.languages, ['en', 'fr', 'es', 'de', 'pt'])\n\nVue.use(Vuetify)\nVue.use(GetTextPlugin, {\n  autoAddKeyAttributes: true,\n  availableLanguages: {\n    en: 'English',\n    fr: 'Français',\n    es: 'Español',\n    de: 'Deutsch',\n    pt: 'Português',\n  },\n  defaultLanguage: bestLanguage,\n  translations,\n  silent: true,\n})\n\nVue.config.productionTip = false\nVue.config.devtools = false\nVue.config.performance = false\n\nconst vuetify = new Vuetify({\n  theme: {\n    options: {\n      customProperties: true,\n    },\n    themes: {\n      light: {\n        primary: '#B5E0D6',\n        primarydark: '#7EBAAC',\n        secondary: '#2C3E4E',\n        secondarydark: '#1A242C',\n        secondarylight: '#334453',\n        lightgrey: '#E3E4E6',\n        mediumgrey: '#9E9E9E',\n        darkgrey: '#5B5B5C',\n        accent: '#2C3E4E',\n        chart: {\n          lightgreen: '#CDDC39',\n          darkgreen: '#4CAF50',\n          lightblue: '#00BCD4',\n          darkblue: '#2196F3',\n          purple: '#673AB7',\n          pink: '#E91E63',\n          orange: '#FF7B30',\n          yellow: '#FFC107',\n        },\n      },\n    },\n  },\n  icons: {\n    iconfont: 'fa',\n  },\n  lang: {\n    locales: { fr, en, es, de, pt },\n    current: bestLanguage,\n  },\n})\n\nVue.mixin(languageMixin)\n\nVue.mixin({\n  methods: {\n    $flatEdges (obj, recurse = false) {\n      let flatObj = obj\n      if (obj.edges) {\n        flatObj = obj.edges.map(edge => edge.node)\n      }\n      if (recurse) {\n        for (const key in obj) {\n          if (obj[key] !== null && typeof obj[key] === 'object') {\n            obj[key] = this.$flatEdges(obj[key], true)\n          }\n        }\n      }\n      return flatObj\n    },\n  },\n})\n\nconst app = new Vue({\n\n  router,\n  store,\n  vuetify,\n  render: h => h(App),\n  template: '<App/>',\n})\n\napp.$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".build.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/quetzal-network-editor-dev/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkquetzal_network_editor\"] = self[\"webpackChunkquetzal_network_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [374,182], () => (__webpack_require__(9192)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","inProgress","dataWebpackPrefix","___CSS_LOADER_EXPORT___","push","module","id","async","extractZip","file","ZIP","zip","loadAsync","filesNames","Object","keys","files","result","zipName","name","i","length","slice","str","content","JSON","parse","includes","crs","properties","alert","features","geometry","type","road_links","links","road_nodes","nodes","Error","getGroupForm","lineAttributes","uneditable","form","forEach","key","val","Set","map","link","value","size","disabled","placeholder","IndexAreDifferent","geojsonA","geojsonB","linksIndex","item","index","newLinksIndex","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","state","editorTrip","editorNodes","editorLinks","editorLineInfo","nodesHeader","linksHeader","tripId","selectedTrips","newLink","newNode","changeBounds","linkSpeed","nodeAttributes","defaultAttributes","mutations","loadLinks","payload","structuredClone","coordinates","points","coord","Math","round","Number","this","commit","loadNodes","stringify","node","unloadFiles","getLinksProperties","header","element","add","attr","att","Array","from","getNodesProperties","addPropertie","table","changeSelectedTrips","setEditorTrip","filtered","filter","trip_id","cloneTrip","cloned","linkSequence","reverse","a","b","link_sequence","direction_id","generate","getEditorNodes","editorNodesList","has","getEditorLineInfo","getDefaultValue","route_width","route_color","getTripId","setNewLink","uncopiedPropeties","time","pickup_type","drop_off_type","tempLink","linkProperties","defaultValue","linkFeature","action","assign","nodeCopyId","createNewNode","nodeProperties","nodeFeatures","setNewNode","tempNode","editNewLink","applyNewLink","geom","distance","toFixed","splice","deleteNode","nodeIndex","selectedNode","link1","link2","featureIndex","findIndex","splitLink","linkIndex","selectedLink","ratio","offset","sliceIndex","seq","addNodeInline","linkGeom","clickedPoint","values","lngLat","snapped","units","dist","location","addAnchorNode","deleteAnchorNode","coordinatedIndex","feature","moveAnchor","moveNode","cutLineFromNode","nodeId","sort","toDelete","entries","cutLineAtNode","editLineInfo","props","editLinkInfo","selectedLinkId","info","editNodeInfo","selectedNodeId","appendNewLinks","editGroupInfo","editorGroupInfo","groupTripIds","deleteUnusedNodes","nodesInLinks","confirmChanges","nodesList","newNodes","eNode","deleteTrip","applyPropertiesTypes","String","getters","linksIsEmpty","route_id","linksPopupChoices","ls","unshift","firstNodeId","lastNodeId","firstNode","lastNode","anchorNodes","point","idx","attributeType","rlinks","rnodes","rlinksHeader","rnodesHeader","selectedrFilter","selectedrGroup","filteredrCategory","rlineAttributes","rnodeAttributes","newrNode","visiblerLinks","visiblerNodes","connectedLinks","defaultHighway","roadSpeed","loadrLinks","loadrNodes","appendNewrLinks","unloadrFiles","feaures","getrLinksProperties","getrNodesProperties","changeSelectedrFilter","getFilteredrCat","changeVisibleRoads","method","data","cat","category","tempLinks","el","refreshVisibleRoads","group","possibleGroups","x","getVisiblerNodes","rNodesList","editrLinkInfo","editrNodeInfo","createNewrNode","splitrLink","selectedFeature","addRoadNodeInline","selectedFeatures","selectedIndex","addAnchorrNode","createrLink","nodeIdB","layerId","rnodeA","nodeIdA","rnodeB","linkGeometry","highway","oneway","speed","newLinkGroup","getConnectedLinks","moverNode","moverAnchor","deleteAnchorrNode","deleterLink","linkArr","deleterGroup","deleteUnusedrNodes","editrGroupInfo","groupInfo","selectedLinks","editrVisiblesInfo","roadPopupChoices","rlinksIsEmpty","anchorrNodes","renderedLinks","grouprLinks","rlinksForm","editorForm","store","modules","notification","loading","anchorMode","showLeftPanel","linksPopupContent","roadsPopupContent","outputName","changeNotification","changeLoading","changeLeftPanel","setAnchorMode","changeAnchorMode","applySettings","exportFiles","tempNodes","blob","Blob","generateAsync","then","projectIsUndefined","projectIsEmpty","render","_vm","_c","_self","staticClass","class","loggedIn","_v","style","textAlign","_s","$gettext","attrs","color","localLinksLoaded","on","click","$event","buttonHandle","small","left","localNodesLoaded","bottom","scopedSlots","_u","fn","_g","_b","ref","staticStyle","display","accept","change","onFilePicked","multiple","readZip","filesAdded","login","_l","message","mess","errorMessage","persistent","keydown","indexOf","_k","keyCode","applyDialog","apply","arguments","showDialog","model","callback","$$v","expression","_withStripped","choice","loadedLinks","loadedNodes","loadedType","computed","$store","localFilesAreLoaded","watch","loadNetwork","mounted","methods","setTimeout","$router","catch","error","$refs","zipInput","fileInput","document","getElementById","loadExample","newProject","url","fetch","res","json","text","autoClose","event","target","fileReader","FileReader","readAsText","onload","evt","e","PromisesList","Promise","all","err","Home","DataFrame","router","linkExactActiveClass","mode","base","routes","path","Login","component","icon","title","beforeEach","to","next","indeterminate","timeout","transition","closeSnackbar","snackbar","dense","href","$language","current","available","language","lang","handleChangeLanguage","toUpperCase","$vuetify","app","stateless","temporary","mini","drawer","getDisplayedRoutes","$route","marginTop","handleClickMenuItem","nativeOn","stopPropagation","marginLeft","leftSidenav","menuItems","created","o","getRouteTitle","route","tpl","$gettextInterpolate","s","saveFile","components","Toolbar","NavigationDrawer","console","assert","languageMixin","$selectBestLanguage","browserLangs","supportedLangs","parts","toLowerCase","split","normLang","join","bestLanguage","navigator","languages","autoAddKeyAttributes","availableLanguages","en","fr","es","de","pt","defaultLanguage","translations","silent","theme","customProperties","themes","light","primary","primarydark","secondary","secondarydark","secondarylight","lightgrey","mediumgrey","darkgrey","accent","chart","lightgreen","darkgreen","lightblue","darkblue","purple","pink","orange","yellow","icons","iconfont","locales","$flatEdges","obj","recurse","flatObj","edges","edge","vuetify","h","App","template","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","__webpack_modules__","call","m","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","getPrototypeOf","t","ns","create","def","getOwnPropertyNames","definition","defineProperty","enumerable","get","f","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","window","prop","prototype","hasOwnProperty","l","done","script","needAttach","scripts","getElementsByTagName","getAttribute","createElement","charset","nc","setAttribute","src","onScriptComplete","prev","onerror","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","p","baseURI","self","installedChunks","installedChunkData","promise","resolve","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}