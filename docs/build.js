(()=>{var e,t,i,s,r,o={60069:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,'body{font-family:"Roboto",sans-serif;height:100vh}body::-webkit-scrollbar{display:none}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background-clip:padding-box;background-color:#9e9e9e;border-radius:8px}::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:#2c3e4e;border-radius:8px}.v-application--wrap{flex-direction:row}.theme--light.v-application{color:#2c3e4e}.theme--light.v-icon{color:inherit !important}.theme--dark.v-label{color:#fff}.v-toolbar__content{display:flex;align-items:center;justify-content:space-between;height:100% !important;width:100%}.v-input__icon>i{font-size:14px !important;margin-right:10px}.v-navigation-drawer--fixed{z-index:200}.v-btn.primary>span{color:#2c3e4e !important}.v-snack__wrapper{margin:20px}.v-snack__content{color:#2c3e4e !important}.snackbar-error>.v-snack__wrapper{border-bottom:5px solid #e42626 !important}.snackbar-warning>.v-snack__wrapper{border-bottom:5px solid #ff7b30 !important}.snackbar-positive>.v-snack__wrapper{border-bottom:5px solid #4caf50 !important}.v-card__subtitle,.v-card__text,.v-card__title{padding:0}.v-card__title{line-height:normal}.mapboxgl-ctrl-bottom-right{right:10px;bottom:10px}.mapboxgl-popup-content{padding:10px;color:#fff;background-color:#2c3e4e}.mapboxgl-popup-tip{border-bottom-color:#2c3e4e !important;border-top-color:#2c3e4e !important}.mapboxgl-popup-close-button{right:20px;top:20px;font-size:1.5em}.mapboxgl-ctrl-attrib-inner>a{color:#2c3e4e !important}.view{padding:20px;height:calc(100% - 50px);width:100%;display:flex}.card{background-color:#fff;border-radius:5px;box-shadow:0px 5px 10px rgba(0,0,0,.05);padding:20px}.card-hover:hover{box-shadow:0px 5px 10px rgba(0,0,0,.1)}.list-enter-active,.list-leave-active{transition:all 1s}.list-enter,.list-leave-to{opacity:0;transform:translateX(300px)}.fade-leave-active{display:none !important}.fade-enter-active,.fade-leave-active{transition:opacity .5s}.fade-enter,.fade-leave-to{opacity:0 !important}',"",{version:3,sources:["webpack://./src/scss/generic.scss","webpack://./src/scss/variables.scss","webpack://./src/scss/vuetify.scss","webpack://./src/scss/mapboxgl.scss","webpack://./src/scss/util.scss","webpack://./src/scss/animations.scss"],names:[],mappings:"AAAA,KACE,+BAAA,CACA,YAAA,CAEF,wBACE,YAAA,CAEF,oBACE,SAAA,CAEF,0BACE,2BAAA,CACA,wBCJkB,CDKlB,iBAAA,CAEF,0BACE,2BAAA,CACA,wBCfkB,CDgBlB,iBAAA,CElBF,qBACE,kBAAA,CAEF,4BACE,aDFkB,CCIpB,qBACE,wBAAA,CAEF,qBACE,UAAA,CAEF,oBACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,sBAAA,CACA,UAAA,CAEF,iBACE,yBAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CAEF,oBACE,wBAAA,CAEF,kBACE,WAAA,CAEF,kBACE,wBAAA,CAEF,kCACE,0CAAA,CAEF,oCACE,0CAAA,CAEF,qCACE,0CAAA,CAEF,+CACE,SAAA,CAEF,eACE,kBAAA,CChDF,4BACE,UAAA,CACA,WAAA,CAEF,wBACE,YAAA,CACA,UAAA,CACA,wBFLkB,CEOpB,oBACE,sCAAA,CACA,mCAAA,CAEF,6BACE,UAAA,CACA,QAAA,CACA,eAAA,CAEF,8BACE,wBAAA,CCnBF,MACE,YAAA,CACA,wBAAA,CACA,UAAA,CACA,YAAA,CAEF,MACE,qBAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CAEF,kBACE,sCAAA,CCbF,sCACE,iBAAA,CAEF,2BACE,SAAA,CACA,2BAAA,CAEF,mBACE,uBAAA,CAEF,sCACE,sBAAA,CAEF,2BACE,oBAAA",sourcesContent:["body {\n  font-family: 'Roboto', sans-serif;\n  height: 100vh;\n}\nbody::-webkit-scrollbar {\n  display: none;\n}\n::-webkit-scrollbar {\n  width: 8px;\n}\n::-webkit-scrollbar-track {\n  background-clip: padding-box;\n  background-color: $grey-medium;\n  border-radius: 8px;\n}\n::-webkit-scrollbar-thumb {\n  background-clip: padding-box;\n  background-color: $secondary;\n  border-radius: 8px;\n}\n","$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;",".v-application--wrap {\n  flex-direction: row;\n}\n.theme--light.v-application {\n  color: $secondary;\n}\n.theme--light.v-icon {\n  color: inherit !important;\n}\n.theme--dark.v-label {\n  color: white;\n}\n.v-toolbar__content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100% !important;\n  width: 100%;\n}\n.v-input__icon > i {\n  font-size: 14px !important;\n  margin-right: 10px;\n}\n.v-navigation-drawer--fixed {\n  z-index: 200;\n}\n.v-btn.primary > span {\n  color: $secondary !important;\n}\n.v-snack__wrapper {\n  margin: 20px;\n}\n.v-snack__content {\n  color: $secondary !important;\n}\n.snackbar-error > .v-snack__wrapper {\n  border-bottom: 5px solid $negative !important;\n}\n.snackbar-warning > .v-snack__wrapper {\n  border-bottom: 5px solid $warning !important;\n}\n.snackbar-positive > .v-snack__wrapper {\n  border-bottom: 5px solid $positive !important;\n}\n.v-card__subtitle, .v-card__text, .v-card__title {\n  padding: 0;\n}\n.v-card__title {\n  line-height: normal;\n}\n",".mapboxgl-ctrl-bottom-right {\n  right: 10px;\n  bottom: 10px;\n}\n.mapboxgl-popup-content {\n  padding: 10px;\n  color: white;\n  background-color: $secondary;\n}\n.mapboxgl-popup-tip {\n  border-bottom-color: $secondary !important;\n  border-top-color: $secondary !important;\n}\n.mapboxgl-popup-close-button {\n  right: 20px;\n  top: 20px;\n  font-size: 1.5em;\n}\n.mapboxgl-ctrl-attrib-inner > a {\n  color: $secondary !important;\n}\n",".view {\n  padding: 20px;\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n.card {\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\n  padding: 20px;\n}\n.card-hover:hover {\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.10);\n}\n",".list-enter-active, .list-leave-active {\n  transition: all 1s;\n}\n.list-enter, .list-leave-to {\n  opacity: 0;\n  transform: translateX(300px);\n}\n.fade-leave-active {\n  display: none !important;\n}\n.fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0 !important;\n}\n"],sourceRoot:""}]);const a=n},64229:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".app[data-v-025303a8]{background-color:#f5f5f5 !important;width:100%;height:100%;overflow:hidden}.snackbar-text[data-v-025303a8]{color:var(--v-secondarydark-base)}.container[data-v-025303a8]{height:100%;margin-left:50px;width:calc(100% - 50px);max-width:calc(100% - 50px);padding:0}.container.login[data-v-025303a8]{margin-left:0;width:100%}","",{version:3,sources:["webpack://./src/App.vue"],names:[],mappings:"AAEA,sBACE,mCAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEF,gCACE,iCAAA,CAEF,4BACE,WAAA,CACA,gBAAA,CACA,uBAAA,CACA,2BAAA,CACA,SAAA,CAEF,kCACE,aAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.app {\n  background-color: $grey-ultralight !important;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n.snackbar-text{\n  color:var(--v-secondarydark-base);\n}\n.container {\n  height: 100%;\n  margin-left: 50px;\n  width: calc(100% - 50px);\n  max-width: calc(100% - 50px);\n  padding: 0;\n}\n.container.login {\n  margin-left: 0;\n  width: 100%;\n}\n'],sourceRoot:""}]);const a=n},56174:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".row[data-v-d3a53384]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:30px;padding-top:18px}.container[data-v-d3a53384]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;padding-left:2em;padding-right:2em}.type-icon[data-v-d3a53384]{padding-right:.2em}.element[data-v-d3a53384]{margin-left:auto}.check-icon[data-v-d3a53384]{padding-left:1em}.subtitle[data-v-d3a53384]{flex:2;font-size:1.5em;font-weight:bold}","",{version:3,sources:["webpack://./src/components/import/FileLoader.vue"],names:[],mappings:"AAGA,sBACE,YAAA,CACA,qBAAA,CACA,sBAAA,CACA,kBAAA,CACA,mBAAA,CACA,gBAAA,CAGF,4BACE,YAAA,CACA,kBAAA,CACA,4BAAA,CACA,kBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,4BACE,kBAAA,CAEF,0BACE,gBAAA,CAEF,6BACE,gBAAA,CAEF,2BACE,MAAA,CACA,eAAA,CACA,gBAAA",sourcesContent:['@import "@scss/variables.scss";\n\n\n.row{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 30px;\n  padding-top:18px;\n\n}\n.container{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  padding-left: 2em;\n  padding-right: 2em;\n\n}\n.type-icon{\n  padding-right: 0.2em;\n}\n.element{\n  margin-left: auto;\n}\n.check-icon{\n  padding-left: 1em;\n}\n.subtitle {\n  flex:2;\n  font-size: 1.5em;\n  font-weight: bold;\n}\n'],sourceRoot:""}]);const a=n},77697:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".files-container[data-v-e186d29a]{height:17rem;border-radius:5px;background:var(--v-background-lighten4);display:flex;margin:10px 0px 0px 0px;flex-direction:column}.title-box[data-v-e186d29a]{display:flex;flex-direction:row;background:var(--v-background-lighten3);border-radius:5px 5px 0px 0px;padding:.5rem .5rem .5rem 1rem}.title[data-v-e186d29a]{font-size:2em !important;font-weight:bold}.upload-button[data-v-e186d29a]{margin-left:auto;margin-right:.75rem}.list-button[data-v-e186d29a]{margin-left:auto;margin-right:1rem}.list-icon[data-v-e186d29a]{margin-left:.5rem}.list[data-v-e186d29a]{font-size:1em;font-weight:bold;overflow-y:auto;padding-left:1rem;padding-top:.5rem}.list li[data-v-e186d29a]{display:flex;align-items:center}","",{version:3,sources:["webpack://./src/components/import/FilesList.vue"],names:[],mappings:"AAEA,kCACE,YAAA,CACA,iBAAA,CACA,uCAAA,CACA,YAAA,CACA,uBAAA,CACA,qBAAA,CAGF,4BACE,YAAA,CACA,kBAAA,CACA,uCAAA,CAEA,6BAAA,CACA,8BAAA,CAGF,wBACE,wBAAA,CACA,gBAAA,CAEF,gCACE,gBAAA,CACA,mBAAA,CAEF,8BACE,gBAAA,CACA,iBAAA,CAEF,4BACE,iBAAA,CAEF,uBACE,aAAA,CACA,gBAAA,CAEA,eAAA,CACA,iBAAA,CACA,iBAAA,CAEF,0BAEE,YAAA,CACA,kBAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.files-container{\n  height: 17rem;\n  border-radius: 5px;\n  background:var(--v-background-lighten4);\n  display: flex;\n  margin: 10px 0px 0px 00px;\n  flex-direction: column;\n\n}\n.title-box {\n  display: flex;\n  flex-direction: row;\n  background:var(--v-background-lighten3);\n\n  border-radius: 5px 5px 0px 0px;\n  padding: 0.5rem 0.5rem 0.5rem 1rem;\n\n}\n.title{\n  font-size: 2em !important;\n  font-weight: bold;\n}\n.upload-button {\n  margin-left: auto;\n  margin-right:0.75rem\n}\n.list-button{\n  margin-left:auto;\n  margin-right:1rem\n}\n.list-icon{\n  margin-left:0.5rem\n}\n.list {\n  font-size: 1em;\n  font-weight: bold;\n  //border: 1px solid red;\n  overflow-y: auto;\n  padding-left: 1rem;\n  padding-top:0.5rem\n}\n.list li {\n  /* Add individual list item styles here */\n  display: flex; /* Use flexbox layout for each list item */\n  align-items: center; /* Align button vertically in the list item */\n}\n\n'],sourceRoot:""}]);const a=n},5576:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".drawer[data-v-5b138161]{background-color:var(--v-secondary-base) !important}.drawer-header[data-v-5b138161]{width:100%;height:50px;border-bottom:1px solid #fff;background-color:var(--v-secondary-base);color:#fff;display:flex;align-items:center;padding-left:18px;cursor:pointer}.drawer-list[data-v-5b138161]{height:calc(100% - 50px);display:flex;flex-direction:column;padding:20px 0}.drawer-list-item[data-v-5b138161]{padding:0 13px !important;justify-content:flex-start !important;color:#fff;flex:0;transition:.3s}.version-number[data-v-5b138161]{justify-content:flex-start;color:#fff !important;margin-bottom:-1rem;flex:0}.drawer-list-item-icon[data-v-5b138161]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.drawer-list-item-icon-disabled[data-v-5b138161]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;opacity:.4}.drawer-list-item-selected[data-v-5b138161]{background-color:var(--v-secondarydarkfix-base)}.drawer-list-item[data-v-5b138161]:hover{background-color:var(--v-secondary-base)}","",{version:3,sources:["webpack://./src/components/layout/NavigationDrawer.vue"],names:[],mappings:"AAEA,yBACE,mDAAA,CAEF,gCACE,UAAA,CACA,WAAA,CACA,4BAAA,CACA,wCAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,cAAA,CAEF,8BACE,wBAAA,CACA,YAAA,CAEA,qBAAA,CACA,cAAA,CAEF,mCACE,yBAAA,CACA,qCAAA,CACA,UAAA,CACA,MAAA,CACA,cAAA,CAEF,iCACE,0BAAA,CACA,qBAAA,CACA,mBAAA,CACA,MAAA,CAEF,wCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,iDACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,4CACE,+CAAA,CAEF,yCACE,wCAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.drawer {\n  background-color: var(--v-secondary-base) !important;\n}\n.drawer-header {\n  width: 100%;\n  height: 50px;\n  border-bottom: 1px solid white;\n  background-color: var(--v-secondary-base);\n  color: white;\n  display: flex;\n  align-items: center;\n  padding-left: 18px;\n  cursor: pointer;\n}\n.drawer-list {\n  height: calc(100% - 50px);\n  display: flex;\n\n  flex-direction: column;\n  padding: 20px 0;\n}\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  color:white ;\n  flex: 0;\n  transition: 0.3s;\n}\n.version-number {\n  justify-content: flex-start ;\n  color:white !important;\n  margin-bottom:-1rem;\n  flex: 0;\n}\n.drawer-list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.drawer-list-item-icon-disabled {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  opacity: 0.4;\n}\n.drawer-list-item-selected {\n  background-color: var(--v-secondarydarkfix-base);\n}\n.drawer-list-item:hover {\n  background-color: var(--v-secondary-base);\n}\n'],sourceRoot:""}]);const a=n},18422:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".title[data-v-095af231]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.is-active[data-v-095af231]{opacity:1;background-color:var(--v-primary-base)}","",{version:3,sources:["webpack://./src/components/layout/ScenariosExplorer.vue"],names:[],mappings:"AAEA,wBACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,SAAA,CACA,sCAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.title {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.is-active{\n  opacity:1;\n  background-color:var(--v-primary-base);\n\n}\n'],sourceRoot:""}]);const a=n},94e3:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".app-toolbar[data-v-4f697eca]{z-index:100;height:50px !important;display:flex;color:#2c3e4e !important;position:relative}.login[data-v-4f697eca]{padding-left:50px}.project-name[data-v-4f697eca]{font-size:1.3em}.app-name[data-v-4f697eca]{font-size:1.2em;padding-left:1.2rem;color:var(--v-secondarydark-base)}.copyright[data-v-4f697eca]{font-size:.9rem;padding-left:5px;padding-top:1rem;color:var(--v-secondarydark-base)}.languages-container[data-v-4f697eca]{display:flex}.switch[data-v-4f697eca]{display:flex;padding-top:1rem;padding-left:1rem;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer}.language[data-v-4f697eca]{width:50px;display:flex;align-items:center;justify-content:center;color:#e3e3e3;cursor:pointer;transition:.3s}.language.active[data-v-4f697eca],.language[data-v-4f697eca]:hover{color:var(--v-secondarydark-base)}.language[data-v-4f697eca]:last-child{border-right:0}","",{version:3,sources:["webpack://./src/components/layout/Toolbar.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAEA,8BACE,WAAA,CACA,sBAAA,CACA,YAAA,CACA,wBAAA,CACA,iBAAA,CAEF,wBACE,iBAAA,CAEF,+BACE,eAAA,CAEF,2BACE,eAAA,CACA,mBAAA,CACA,iCAAA,CAEF,4BACE,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,iCAAA,CAEF,sCACE,YAAA,CAEF,yBACE,YAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,aC5BkB,CD6BlB,cAAA,CAEF,2BACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,aCpCkB,CDqClB,cAAA,CACA,cAAA,CAEF,mEACE,iCAAA,CAEF,sCACE,cAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.app-toolbar {\n  z-index: 100;\n  height: 50px !important;\n  display: flex;\n  color: $secondary !important;\n  position: relative;\n}\n.login {\n  padding-left: 50px;\n}\n.project-name {\n  font-size: 1.3em;\n}\n.app-name {\n  font-size: 1.2em;\n  padding-left: 1.2rem;\n  color:var(--v-secondarydark-base);\n}\n.copyright {\n  font-size: 0.9rem;\n  padding-left: 5px;\n  padding-top: 1rem;\n  color:var(--v-secondarydark-base);\n}\n.languages-container {\n  display: flex;\n}\n.switch {\n  display: flex;\n  padding-top: 1rem;\n  padding-left:1rem;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n}\n.language {\n  width: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: $grey-light;\n  cursor: pointer;\n  transition: 0.3s;\n}\n.language.active, .language:hover {\n  color:var(--v-secondarydark-base);\n}\n.language:last-child {\n  border-right: 0;\n}\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=n},67308:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".left-panel[data-v-61e624f6]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-61e624f6]{transition:.3s}.left-panel-content[data-v-61e624f6]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-61e624f6]{padding:0}.left-panel-toggle-btn[data-v-61e624f6]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-61e624f6]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-61e624f6]{height:height;padding-left:20px}.scrollable[data-v-61e624f6]{overflow-y:scroll}.drawer-list-item[data-v-61e624f6]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-61e624f6]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}.custom-tooltip[data-v-61e624f6]{opacity:1 !important;background:var(--v-tooltip-bg, rgb(97, 97, 97)) !important}","",{version:3,sources:["webpack://./src/components/map/LinksSidePanel.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA,CAEF,iCACI,oBAAA,CACA,0DAAA",sourcesContent:['@import "@scss/variables.scss";\n\n@import "src/scss/variables.scss";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n.custom-tooltip {\n    opacity: 1!important;\n    background: var(--v-tooltip-bg, rgba(97, 97, 97, 1)) !important;\n}\n\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=n},76278:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".map-view[data-v-66748ace]{width:100%}.my-custom-dialog[data-v-66748ace]{position:absolute !important;top:10px !important;right:20px !important}","",{version:3,sources:["webpack://./src/components/map/Map.vue"],names:[],mappings:"AAEA,2BACE,UAAA,CAGF,mCACE,4BAAA,CACA,mBAAA,CACA,qBAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.map-view {\n  width: 100%;\n\n}\n.my-custom-dialog {\n  position: absolute !important;\n  top: 10px !important;\n  right: 20px !important;\n}\n'],sourceRoot:""}]);const a=n},55271:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".left-panel[data-v-56780b52]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-56780b52]{transition:.3s}.left-panel-content[data-v-56780b52]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-56780b52]{padding:0}.left-panel-toggle-btn[data-v-56780b52]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-56780b52]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-56780b52]{height:height;padding-left:20px}.scrollable[data-v-56780b52]{overflow-y:scroll}.drawer-list-item[data-v-56780b52]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-56780b52]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/map/ODSidePanel.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAEA,6BACE,WAAA,CACA,wBCHkB,CDIlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC9BkB,CD+BlB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=n},82215:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".left-panel[data-v-0e528228]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-0e528228]{transition:.3s}.left-panel-content[data-v-0e528228]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-0e528228]{padding:0}.left-panel-toggle-btn[data-v-0e528228]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-0e528228]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-0e528228]{height:height;padding-left:20px}.scrollable[data-v-0e528228]{overflow-y:scroll}.drawer-list-item[data-v-0e528228]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-0e528228]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/map/RoadSidePanel.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAEA,6BACE,WAAA,CACA,wBCHkB,CDIlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC9BkB,CD+BlB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=n},5236:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".setting[data-v-6c428464]{position:absolute;top:10px;right:20px}.layout[data-v-6c428464]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-6c428464]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-6c428464]{width:500px;overflow-y:auto;padding:40px}.title[data-v-6c428464]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-6c428464]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.card button[data-v-6c428464]{margin-top:40px}.shake[data-v-6c428464]{animation:shake-6c428464 .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-6c428464{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}","",{version:3,sources:["webpack://./src/components/map/Settings.vue"],names:[],mappings:"AAEA,0BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAGF,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,8BACE,eAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.setting {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.card button {\n  margin-top: 40px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n'],sourceRoot:""}]);const a=n},88472:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".left-panel[data-v-f6e4315a]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-f6e4315a]{transition:.3s;width:0px}.left-panel .resizable-handle[data-v-f6e4315a]{width:5px;height:100%;background-color:var(--v-background-lighten2);position:absolute;right:0;top:0;cursor:col-resize}.left-panel-content[data-v-f6e4315a]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;resize:horizontal;overflow:auto}.v-list__tile[data-v-f6e4315a]{padding:0}.left-panel-toggle-btn[data-v-f6e4315a]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-f6e4315a]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-f6e4315a]{height:height;padding-left:20px}.scrollable[data-v-f6e4315a]{overflow-y:scroll}.drawer-list-item[data-v-f6e4315a]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-f6e4315a]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/map/SidePanel.vue"],names:[],mappings:"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAEF,mCACA,cAAA,CACA,SAAA,CAEA,+CACE,SAAA,CACA,WAAA,CACA,6CAAA,CACA,iBAAA,CACA,OAAA,CACA,KAAA,CACA,iBAAA,CAGF,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,iBAAA,CACA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.left-panel {\n  height: 100%;\n  background-color:var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n}\n.left-panel-close {\ntransition:0.3s;\nwidth:0px;\n}\n.left-panel .resizable-handle {\n  width: 5px;\n  height: 100%;\n  background-color: var(--v-background-lighten2);\n  position: absolute;\n  right: 0;\n  top: 0;\n  cursor: col-resize; /* Use the col-resize cursor for horizontal resizing */\n}\n\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n'],sourceRoot:""}]);const a=n},93380:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".layer-button[data-v-9ae88e1e]{position:absolute;top:60px;right:20px}.card[data-v-9ae88e1e]{width:500px;overflow-y:auto;padding:40px}.subtitle[data-v-9ae88e1e]{font-size:1.5em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem}.title[data-v-9ae88e1e]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.custom-tooltip[data-v-9ae88e1e]{opacity:1 !important;background:var(--v-tooltip-bg, rgb(97, 97, 97)) !important}","",{version:3,sources:["webpack://./src/components/utils/LayerSelector.vue"],names:[],mappings:"AAEA,+BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,2BACE,eAAA,CACA,4CAAA,CACA,gBAAA,CACA,YAAA,CAGF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,iCACI,oBAAA,CACA,0DAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.layer-button {\n  position: absolute;\n  top: 60px;\n  right: 20px;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.subtitle {\n  font-size: 1.5em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.custom-tooltip {\n    opacity: 1!important;\n    background: var(--v-tooltip-bg, rgba(97, 97, 97, 1)) !important;\n}\n'],sourceRoot:""}]);const a=n},37858:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".gradient[data-v-0de46ea8]{width:85%;white-space:nowrap;position:relative;display:inline-block;padding-top:20px;padding-bottom:15px}.gradient .domain-title[data-v-0de46ea8]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;top:6px}.gradient .domain-min[data-v-0de46ea8]{position:absolute;left:0;font-size:11px;bottom:5px}.gradient .domain-med[data-v-0de46ea8]{position:absolute;right:25%;left:25%;text-align:center;font-size:11px;bottom:5px}.gradient .domain-max[data-v-0de46ea8]{position:absolute;right:0;font-size:11px;bottom:5px}.grad-step[data-v-0de46ea8]{display:inline-block;height:20px;width:1%}.legend[data-v-0de46ea8]{width:160px;z-index:3;display:flex;position:relative;align-items:center;justify-content:center;transition:.3s;height:50px;background-color:var(--v-white-base);border:thin solid var(--v-mediumgrey-base)}","",{version:3,sources:["webpack://./src/components/utils/MapLegend.vue"],names:[],mappings:"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAIJ,yCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,OAAA,CAIJ,uCACI,iBAAA,CACA,MAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,cAAA,CACA,UAAA,CAEJ,uCACI,iBAAA,CACA,OAAA,CACA,cAAA,CACA,UAAA,CAGJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA,CAGJ,yBACE,WAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CACA,WAAA,CACA,oCAAA,CACA,0CAAA",sourcesContent:['@import "@scss/variables.scss";\n\n\n.gradient {\n    width: 85%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 20px;\n    padding-bottom: 15px;\n\n}\n\n.gradient .domain-title {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    top: 6px;\n\n}\n\n.gradient .domain-min {\n    position: absolute;\n    left: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-med {\n    position: absolute;\n    right: 25%;\n    left: 25%;\n    text-align: center;\n    font-size: 11px;\n    bottom: 5px;\n}\n.gradient .domain-max {\n    position: absolute;\n    right: 0;\n    font-size: 11px;\n    bottom: 5px;\n}\n\n.grad-step {\n    display: inline-block;\n    height: 20px;\n    width: 1%;\n}\n\n.legend {\n  width: 160px;\n  z-index: 3;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  transition: 0.3s;\n  height: 50px;\n  background-color: var(--v-white-base);\n  border: thin solid var(--v-mediumgrey-base);\n}\n\n'],sourceRoot:""}]);const a=n},79922:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".is-active[data-v-e63b0890]{opacity:1;background-color:var(--v-primary-base)}","",{version:3,sources:["webpack://./src/components/utils/MenuSelector.vue"],names:[],mappings:"AAEA,4BACE,SAAA,CACA,sCAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.is-active{\n  opacity:1;\n  background-color:var(--v-primary-base);\n\n}\n'],sourceRoot:""}]);const a=n},43818:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".form[data-v-256a6a29]{margin:1rem}","",{version:3,sources:["webpack://./src/components/utils/Profile.vue"],names:[],mappings:"AAEA,uBACE,WAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.form{\n  margin: 1rem;\n}\n'],sourceRoot:""}]);const a=n},98210:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".map-legend[data-v-7dc7a5bf]{height:100%;position:absolute}","",{version:3,sources:["webpack://./src/components/utils/StaticLayer.vue"],names:[],mappings:"AAEA,6BACE,WAAA,CACA,iBAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.map-legend {\n  height: 100%;\n  position: absolute;\n}\n'],sourceRoot:""}]);const a=n},8043:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".map-view[data-v-00b02151]{height:calc(100% - 50px);width:100%;display:flex}","",{version:3,sources:["webpack://./src/pages/Home.vue"],names:[],mappings:"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n\n'],sourceRoot:""}]);const a=n},58141:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var s=i(87537),r=i.n(s),o=i(23645),n=i.n(o)()(r());n.push([e.id,".layout[data-v-020024f7]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-020024f7]{height:100%;width:100%;background-color:var(--v-background-base);position:absolute}.card[data-v-020024f7]{width:80rem;overflow-y:hidden;padding:20px}.button-question[data-v-020024f7]{display:flex;align-items:center}.title[data-v-020024f7]{display:flex;align-items:center;justify-content:center;font-size:2em !important;color:var(--v-primary-base);font-weight:bold;margin-top:18px}.subtitle[data-v-020024f7]{font-size:1.5em;font-weight:bold;margin:20px}.card button[data-v-020024f7]{margin:.5rem}.animate-login[data-v-020024f7]{transform:translateY(-185%);transition:1s}.animate-layer[data-v-020024f7]{opacity:0;transition:1s}.button-row[data-v-020024f7]{display:flex;align-items:center;justify-content:center;margin-top:1rem;padding-top:.5rem;border-top:1px solid var(--v-lightgrey-base)}","",{version:3,sources:["webpack://./src/pages/Import.vue"],names:[],mappings:"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAGF,iCACE,WAAA,CACA,UAAA,CACA,yCAAA,CAEA,iBAAA,CAEF,uBACE,WAAA,CACA,iBAAA,CACA,YAAA,CAEF,kCACE,YAAA,CACA,kBAAA,CAGF,wBACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,wBAAA,CACA,2BAAA,CACA,gBAAA,CACA,eAAA,CAEF,2BACE,eAAA,CACA,gBAAA,CACA,WAAA,CAEF,8BACE,YAAA,CAEF,gCACE,2BAAA,CACA,aAAA,CAEF,gCACE,SAAA,CACA,aAAA,CAEF,6BACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,4CAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color:var(--v-background-base);\n\n  position: absolute;\n}\n.card {\n  width:80rem;\n  overflow-y:hidden;\n  padding: 20px;\n}\n.button-question{\n  display: flex;\n  align-items: center ;\n\n}\n.title {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2em !important;\n  color: var(--v-primary-base);\n  font-weight: bold;\n  margin-top:18px;\n}\n.subtitle {\n  font-size: 1.5em;\n  font-weight: bold;\n  margin: 20px;\n}\n.card button {\n  margin: 0.5rem;\n}\n.animate-login {\n  transform: translateY(-185%);\n  transition: 1s;\n}\n.animate-layer {\n  opacity: 0;\n  transition: 1s;\n}\n.button-row{\n  display: flex;\n  align-items: center;\n  justify-content:center;\n  margin-top : 1rem;\n  padding-top:0.5rem;\n  border-top: 1px solid var(--v-lightgrey-base);\n}\n\n'],sourceRoot:""}]);const a=n},75997:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]}},34221:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]}},25286:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var s=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:!isNaN(e.displaySettings.minVal)&&!isNaN(e.displaySettings.minVal),expression:"!isNaN(displaySettings.minVal) && !isNaN(displaySettings.minVal)"}],staticClass:"legend elevation-4",style:{top:`${e.windowHeight}px`,left:`${e.leftOffset}px !important`}},[t("div",{staticClass:"gradient"},[e._l(e.colorScale,(function(e,i){return t("span",{key:i,staticClass:"grad-step",style:{backgroundColor:e}})})),e._v(" "),t("span",{staticClass:"domain-title"},[e._v(e._s(e.displaySettings.selectedFeature))]),e._v(" "),t("span",{staticClass:"domain-min"},[e._v(e._s(Math.round(e.displaySettings.minVal)))]),e._v(" "),t("span",{staticClass:"domain-med"},[e._v(e._s(Math.round((e.displaySettings.maxVal+e.displaySettings.minVal)/2)))]),e._v(" "),t("span",{staticClass:"domain-max"},[e._v(e._s(Math.round(e.displaySettings.maxVal)))])],2)])};s._withStripped=!0;const r={name:"MapLegend",components:{},props:{colorScale:{type:Array,default:()=>[]},displaySettings:{type:Object,default:()=>{}},baseOffset:{type:Number,default:()=>300},order:{type:Number,default:()=>0}},data:()=>({}),computed:{windowHeight(){return this.$store.getters.windowHeight-70},leftOffset(){return this.$store.getters.showLeftPanel?50+180*this.order+this.baseOffset:50+180*this.order}}};var o=i(93379),n=i.n(o),a=i(7795),l=i.n(a),c=i(90569),d=i.n(c),p=i(3565),u=i.n(p),h=i(19216),m=i.n(h),g=i(44589),f=i.n(g),A=i(37858),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=d().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=m(),n()(A.Z,v),A.Z&&A.Z.locals&&A.Z.locals;const y=(0,i(51900).Z)(r,s,[],!1,null,"0de46ea8",null).exports},60887:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var s=i(32713),r=i(98690),o=i.n(r),n=i(55733),a=i.n(n),l=i(93162),c=i.n(l);const d="ca-central-1";o().config.region=d;const p=new(o().S3)({apiVersion:"2006-03-01",signatureVersion:"v4",params:{region:d}}),u={s3:p,async login(){o().config.region=d,o().config.credentials=new(o().CognitoIdentityCredentials)({IdentityPoolId:"ca-central-1:b6298c0d-1089-4287-8770-4e9803847671",Logins:{[`cognito-idp.${d}.amazonaws.com/ca-central-1_eUXoawQ4Q`]:s.h.getters.idToken}}),p.config.credentials=o().config.credentials},getScenario:async function(e){const t={Bucket:e};let i=!0;const r=[];try{for(;i;){const{Contents:e,IsTruncated:s,NextContinuationToken:o}=await p.listObjectsV2(t).promise();r.push(...e),i=s,t.ContinuationToken=o}}catch(e){return[]}const o=Array.from(new Set(r.map((e=>e.Key.split("/")[0])))),n=[];for(const t of o){const i=r.filter((e=>e.Key.startsWith(t))),o=i.filter((e=>e.Key.startsWith(t+"/.lock"))).length>0||"base"===t,a=i.reduce(((e,t)=>e.LastModified>t.LastModified?e:t),[]),l=a.LastModified.toLocaleDateString()+" "+a.LastModified.toLocaleTimeString();let c;try{const t=await p.headObject({Bucket:e,Key:a.Key}).promise();c=t.Metadata.user_email?t.Metadata.user_email:"idns-canada@systra.com"}catch(e){s.h.commit("changeAlert",e)}n.push({model:e,scenario:t,lastModified:l,userEmail:c,protected:o})}return n},readJson:async function(e,t){const i={Bucket:e,Key:t,ResponseCacheControl:"no-cache"},s=await p.getObject(i).promise();return JSON.parse(new TextDecoder("utf-8").decode(s.Body).trim())},readBytes:async function(e,t){const i={Bucket:e,Key:t,ResponseCacheControl:"no-cache"};return(await p.getObject(i).promise()).Body},listFiles:async function(e,t){if(Array.isArray(t)){const i=[];return t.forEach((async s=>{const r={Bucket:e,Prefix:t},o=await p.listObjectsV2(r).promise();i.push(...o.Contents.map((e=>e.Key)))})),i}{const i={Bucket:e,Prefix:t};return(await p.listObjectsV2(i).promise()).Contents.map((e=>e.Key))}},copyFolder:async function(e,t,i){const s={Bucket:e,Prefix:t},r=await p.listObjectsV2(s).promise();if(r.Contents=r.Contents.filter((e=>e.Key!==t+"/.lock")),0===r.Contents.length)throw new Error("no params.json in base scenario");for(const t of r.Contents){let s=t.Key.split("/");s[0]=i,s=s.join("/");let r=t.Key.split("/");r[0]=encodeURIComponent(r[0]),r=r.join("/");const o={Bucket:e,CopySource:e+"/"+r,Key:s};p.copyObject(o,(function(e,t){if(e)return e}))}},deleteFolder:async function(e,t){const i={Bucket:e,Prefix:t},s=await p.listObjectsV2(i).promise(),r=[];if(s.Contents.length>0){s.Contents.forEach((e=>r.push({Key:e.Key})));const t={Bucket:e,Delete:{Objects:r}};return p.deleteObjects(t).promise()}},createFolder:async function(e,t){"/"!==t.slice(-1)&&(t+="/");const i={Bucket:e,Key:t,Body:""};p.upload(i,(function(e,t){e?s.h.commit("changeAlert",e):console.log("Successfully created a folder on S3")}))},putObject:async function(e,t,i=""){const r={Bucket:e,Key:t,Body:i,Metadata:{user_email:s.h.getters.cognitoInfo.email},ContentType:" application/json"};return await p.putObject(r).promise()},putBytes:async function(e,t,i=""){const r={Bucket:e,Key:t,Body:i,Metadata:{user_email:s.h.getters.cognitoInfo.email}};return await p.putObject(r).promise()},getImagesURL:async function(e,t){return p.getSignedUrl("getObject",{Bucket:e,Key:t,Expires:86400})},downloadFolder:async function(e,t){const i=new(a()),s={Bucket:e,Prefix:t},r=await p.listObjectsV2(s).promise();if(0===r.Contents.length)throw new Error("no params.json in base scenario");for(const t of r.Contents){const s=t.Key.split("/").slice(-1)[0],r={Bucket:e,Key:t.Key,ResponseCacheControl:"no-cache"},o=await p.getObject(r).promise();i.file(s,o.Body)}i.generateAsync({type:"blob"}).then((function(e){c()(e,"example.zip")}))},newScenario:async function(e,t,i){const s=[t+"/inputs/params.json",t+"/styles.json",t+"/attributesChoices.json"],r={Bucket:e,Prefix:t},o=await p.listObjectsV2(r).promise();if(o.Contents=o.Contents.filter((e=>s.includes(e.Key))),0===o.Contents.length)throw new Error("Nothing to copy in base scenario (params.json at least)");for(const t of o.Contents){let s=t.Key.split("/");s[0]=i,s=s.join("/");let r=t.Key.split("/");r[0]=encodeURIComponent(r[0]),r=r.join("/");const o={Bucket:e,CopySource:e+"/"+r,Key:s};p.copyObject(o,(function(e,t){if(e)return e}))}},uploadObject:function(e,t,i=""){const r={Bucket:e,Key:t,Body:i,Metadata:{user_email:s.h.getters.cognitoInfo.email}};return p.upload(r)}}},36648:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var s=i(24084),r=i(30193),o=i(32713),n=i(96245);const a="ca-central-1:b6298c0d-1089-4287-8770-4e9803847671",l=new s.BZ({ClientId:"768ro5ih78h7kfcldfm5vpimdi",AppWebDomain:"quetzal.auth.ca-central-1.amazoncognito.com",TokenScopesArray:["openid"],RedirectUriSignIn:"https://systragroup.github.io/quetzal-network-editor-dev/callback",RedirectUriSignOut:"https://systragroup.github.io/quetzal-network-editor-dev/signout",UserPoolId:"ca-central-1_eUXoawQ4Q"});l.userhandler={onSuccess:function(e){const t=e.getIdToken().jwtToken,i=(0,n.Z)(t);o.h.commit("setIdToken",t),o.h.commit("setAccessToken",e.accessToken),o.h.commit("setCognitoInfo",i),o.h.commit("setLoggedIn",!0),Object.keys(i).includes("cognito:groups")&&o.h.commit("setCognitoGroup",i["cognito:groups"][0])},onFailure:function(e){o.h.commit("setLoggedOut"),alert("Login failed due to "+e),r.Z.go({path:"/error",query:{message:"Login failed due to "+e}})}};const c=(new s.c4).getStorage(),d={auth:l,login(){l.getSession()},logout(){console.log(l.isUserSignedIn()),l.isUserSignedIn()?(this.getCognitoStorageKey().forEach((e=>c.removeItem(e))),l.signOut()):l.signOut()},getCognitoStorageKey:function(){const e="CognitoIdentityServiceProvider."+l.getClientId(),t=l.signInUserSession.getAccessToken().getUsername(),i=[".userInfo",".tokenScopesString",".accessToken",".idToken",".refreshToken"].map((i=>e+"."+t+i));return i.push(e+".LastAuthUser"),i.push(`aws.cognito.identity-id.${a}`),i.push(`aws.cognito.identity-providers.${a}`),i}}},72055:(e,t,i)=>{"use strict";i.d(t,{H:()=>r,U:()=>o});var s=i(52861);const r={client:null,login(e){this.client=s.Z.create({baseURL:"https://z0i1paj50k.execute-api.ca-central-1.amazonaws.com/prod",withCredentials:!1,headers:{Accept:"*/*","Content-Type":"application/json",Authorization:e}})}},o={async loginAll(e){r.login(e)}}},82069:(e,t,i)=>{"use strict";i.d(t,{GM:()=>r,My:()=>n,_2:()=>o});const s=e=>e;function r(e,t,i=null,r=!1){if(0===e.features.length){const e=new Error(t+s(" is empty"));throw e.name="ImportError",e}if(!["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.crs?.properties.name)){const e=new Error(s(" invalid CRS. Import aborted. use CRS84 / EPSG:4326 in ")+t);throw e.name="ImportError",e}const o=e.features[0].geometry.type;if(o!==i&&null!==i){const e=new Error(o+s(" imported, Expected ")+i+s(". Import aborted in ")+t);throw e.name="ImportError",e}if(!Object.keys(e.features[0].properties).includes("index")&&!r){const e=new Error(s("there is no index in the File. you need unique index. Import aborted in ")+t);throw e.name="ImportError",e}return e}function o(e){if(!Array.isArray(e)){const e=new Error(s("params.json should be an array of object [{category: , params: }, ...]"));throw e.name="ImportError",e}const t=e.filter((e=>!e?.info)),i=new Set(["category","params"]);return t.forEach((e=>{if(t=new Set(Object.keys(e)),r=i,![...r].every((e=>t.has(e)))){const e=new Error(s("params.json should be an array of object [{category: , params: }, ...]"));throw e.name="ImportError",e}var t,r})),e.forEach((e=>{Object.keys(e).includes("model")||(e.model="default")})),e}function n(e){if(!Array.isArray(e)){const e=new Error(s("styles.json should be an array of object with at least [{name:,layer:}]"));throw e.name="ImportError",e}return e.forEach((e=>{if(!Object.keys(e).includes("name")||!Object.keys(e).includes("layer")){const e=new Error(s("styles.json should be an array of object with at least [{name:,layer:}]"));throw e.name="ImportError",e}})),e}},76955:(e,t,i)=>{"use strict";i.d(t,{Bq:()=>a,F2:()=>m,JO:()=>u,Ri:()=>p,Vh:()=>c,Xy:()=>n,ci:()=>d,sV:()=>l,sn:()=>h});var s=i(55733),r=i.n(s);i(32713);const o=e=>e;function n(e){return new Promise(((t,i)=>{const s=new FileReader;s.onload=function(e){t(e.target.result)},s.onerror=function(e){i(e.target.error)},s.readAsText(e)}))}function a(e){return new Promise(((t,i)=>{const s=new FileReader;s.onload=function(e){const i=new Uint8Array(e.target.result);t(i)},s.onerror=function(e){i(e.target.error)},s.readAsArrayBuffer(e)}))}async function l(e){const t=new(r()),i=await t.loadAsync(e);let s=Object.keys(i.files);s=s.filter((e=>!e.match(/^__MACOSX\//))),s=s.filter((e=>!e.endsWith("/"))),function(e){if(0===e.filter((e=>e.startsWith("inputs/")||e.startsWith("outputs/"))).length){const t=new Error(o(" root folders should be inputs/ and outputs/. not: ")+e[0]);throw t.name="ImportError",t}}(s);const n=[];for(let e=0;e<s.length;e++){const t=await i.file(s[e]).async("string");let r={};if(s[e].endsWith(".json")||s[e].endsWith(".geojson"))try{r=JSON.parse(t)}catch(t){throw t.name="ImportError in "+s[e],t}else r=await i.file(s[e]).async("uint8array");n.push({path:s[e],content:r})}return n}function c(e,t,i){const s={};return t.forEach((t=>{const r=new Set(e.map((e=>e.properties[t])));s[t]={value:r.size>1?"":[...r][0],disabled:i.includes(t),placeholder:r.size>1}})),s}function d(e,t){const i=new Set(e.features.map((e=>e.properties.index))),s=new Set(t.features.map((e=>e.properties.index)));return new Set([...i,...s]).size===i.size+s.size}async function p(e){const t=new(r()),i=await t.loadAsync(e),s=Object.keys(i.files);console.log(s);const o=await i.file(s[0]).async("string");return JSON.parse(o)}function u(e){let t=(new TextDecoder).decode(e).split("\n");t=t.map((e=>e.replace(/\r/g,""))),t=t.filter((e=>e.length>0));const i=[],s=t[0].split(",");for(let e=1;e<t.length;e++){const r={},o=t[e].split(",");for(let e=0;e<s.length;e++)r[s[e]]=Number(o[e])?Number(o[e]):o[e];i.push(r)}return i}async function h(e){const t=new(r()),i=await t.loadAsync(e);return Object.keys(i.files).includes("calendar.txt")?u(await i.file("calendar.txt").async("uint8array")):{}}function m(e){const t="abcdefghijklmnopqrstuvwxyz",i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="0123456789",r="@$!%*?&_",o=t+i+s+r;let n="";n+=g(t),n+=g(i),n+=g(s),n+=g(r);for(let t=n.length;t<e;t++)n+=g(o);return n=function(e){const t=e.split("");for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t.join("")}(n),n}function g(e){const t=Math.floor(Math.random()*e.length);return e.charAt(t)}},36463:(e,t,i)=>{"use strict";i.d(t,{$z:()=>s,GL:()=>o,r5:()=>r});const s=["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","residential","living_street","service","unclassified","cycleway","pedestrian"],r={motorway:"E892A2",motorway_link:"E892A2",trunk:"E892A2",trunk_link:"E892A2",primary:"FCD6A4",primary_link:"FCD6A4",secondary:"F7F9BE",secondary_link:"F7F9BE",tertiary:"808080",tertiary_link:"808080",residential:"808080",living_street:"808080",service:"808080",unclassified:"808080",cycleway:"1D8621",pedestrian:"1D8621"},o={motorway:4,motorway_link:4,trunk:4,trunk_link:4,primary:4,primary_link:4,secondary:3,secondary_link:3,tertiary:2,tertiary_link:2,residential:2,living_street:2,service:2,unclassified:2,cycleway:2,pedestrian:2}},78070:(e,t,i)=>{"use strict";i(56831),i(67718),i(72679);var s=i(93379),r=i.n(s),o=i(7795),n=i.n(o),a=i(90569),l=i.n(a),c=i(3565),d=i.n(c),p=i(19216),u=i.n(p),h=i(44589),m=i.n(h),g=i(60069),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=l().bind(null,"head"),f.domAPI=n(),f.insertStyleElement=u(),r()(g.Z,f),g.Z&&g.Z.locals&&g.Z.locals;var A=i(70538),v=i(22192),y=i.n(v),C=i(32713),b=i(30193),k=i(55464),w=i.n(k),x=(i(6726),i(83256)),_=i(93485),E=i(74331),S=i(79278),L=i(66217);const I=JSON.parse('{"de":{"_ctx":"_ctx","%{s}":"%{s}","Abort":"Abbrechen","action":"Aktion","add field":"Feld hinzufügen","apply":"Anwenden","cancel":"Abbrechen","Cancel":"Abbrechen","Cannot filter by this field. There is more than 500 groups":"Filtern nicht möglich. Es existieren mehr als 500 Gruppen.","Click on the map to start drawing":"Für Zeichenmodus Karte anklicken","Close":"Schließen","Confirm":"Bestätigen","Could not apply modification. Trip_id already exist":"Modifikation nicht anwendbar. Trip_id existiert bereits","Create new Line":"Neue Linie erstelen","Cut After Node":"Unterbrechen nach Knoten","Cut Before Node":"Unterbrechen vor Knoten","Delete":"Löschen","Delete Group":"Gruppe löschen","Delete Line":"Linie löschen","Delete Stop":"Haltepunkt löschen","do not add .zip to the end":".zip nicht ans Ende stellen","Edit Group Properties":"Gruppeneigenschaften bearbeiten","Edit Line":"Linie bearbeiten","Edit Line geometry":"Liniengeometrie bearbeiten","Edit Line Properties":"Linieneigenschaften bearbeiten","Edit Node Info":"Knoteninformation bearbeiten","Edit Properties":"Eigenschaften bearbeiten","Edit Visibles Properties":"Sichtbare Eigenschaften bearbeiten","Export":"Exportieren","Export All":"Alle exportieren","Export name":"Name exportieren","Export Only Visible":"Nur sichtbare exportieren","Hide All":"Alle ausblenden","Hold left click to drag":"Klicken und halten, um zu bewegen","Import":"Importieren","item":"Element","Left click to add a stop":"Haltepunkt mit Linksklick einfügen","Left click to add an anchor point, right click to delete":"Linksklick, um Ankerpunkt zu setzen. Rechtsklick, um Ankerpunkt zu löschen","Lines":"Linien","Link field to display when hovering a trip on the map":"Anzeigen bei Mouseover über einer Route auf der Karte.","Links":"Verbindungen","Map":"Karte","modification aborted":"Modifikation abgebrochen","modification applied":"Modifikation angewandt","multiple Values":"Mehrere Werte","name":"Name","No":"Nein","Nodes":"Knoten","Overwrite current Project ?":"Aktuelles Projekt überschreiben?","Required":"Erforderlich","Right click for context menu":"Rechtsklicken für Menü","Right click to edit properties":"Rechtsklicken für Eigenschaften","Save":"Speichern","Save Changes?":"Änderungen speichern?","Settings":"Einstellungen","should be larger than 0":"Wert muss größer 0 sein","Show All":"Alles anzeigen","Speed used to calculate travel time when a link is drawn, extend or a node is moved":"Die Fahrtzeit wird mittels der Geschwindigkeit berechnet, wenn eine Verbindung gezeichnet, erweitert oder ein Knoten bewegt wird. ","the name of the exported zip file":"Name der exportierten .zip Datei","undefined":"Undefiniert","value":"Wert","Yes":"Ja"},"es":{"%{s}":"%{s}","Abort":"Anular","action":"acción","Cancel":"Cancelar","Click on the map to start drawing":"Dar clic en el mapa para comenzar a dibujar","Close":"Cerrar","Confirm":"Confirmar","Create new Line":"Crear nueva línea","Delete":"Eliminar ","Delete Group":"Eliminar grupo","Delete Line":"Eliminar línea","Delete Stop":"Eliminar parada","Edit Group Properties":"Editar propiedades","Edit Line":"Editar línea","Edit Line Properties":"Editar propiedades de la línea","Edit Node Info":"Editar información de nodo","Edit Properties":"Editar propiedades","Export":"Exportar","Export All":"Exportar todo","Export Only Visible":"Exportar lo visible","Hide All":"Esconder todo","Hold left click to drag":"Clic izquierdo sostenido para arrastrar","Import":"Importar","item":"ítem","Left click to add a stop":"Clic izquierdo para agregar una parada","Lines":"Líneas","Links":"Enlaces","Map":"Mapa","modification aborted":"modificación abortada","modification applied":"modificación aplicada","No":"No","Nodes":"Nodos","Overwrite current Project ?":"¿Sobrescribir proyecto actual?","Right click for context menu":"Clic derecho para el menú contextual","Right click to edit properties":"Clic derecho para editar propiedades","Save":"Guardar","Save Changes?":"¿Guardar cambios?","Show All":"Mostrar Todo","Yes":"Sí"},"fr":{" imported, Expected ":" importé. Attendue: "," invalid CRS. Import aborted. use CRS84 / EPSG:4326 in ":"CRS invalide, utiliser CRS84 / EPSG:4326"," is empty":" est vide"," minutes remaining":" minutes restantes"," root folders should be inputs/ and outputs/. not: ":" Les dossiers à la racines devraient être inputs/ et outputs/. non: "," there is duplicated index, ":" il y a des index en double, ",". Import aborted in ":". Importation interrompue dans ","%{s}":"%{s}","0 - Regularly scheduled drop off.\\n    1 - No drop off available.\\n    2 - Must phone agency to arrange drop off.\\n    3 - Must coordinate with driver to arrange drop off.":"Indique si un usager peut descendre librement du véhicule.\\n        0 - descente libre le long du parcours.\\n        1 - pas de descente.\\n        2 - doit appeler l\'Agence pour céduler l\'arrêt.\\n        3 - doit se coordonner avec le conducteur pour céduler l\'Arrêt.","0 - Regularly scheduled pickup.\\n    1 - No pickup available.\\n    2 - Must phone agency to arrange pickup.\\n    3 - Must coordinate with driver to arrange pickup":"Indique les possibilités de montée à bord.\\n        0 - les usagers peuvent monter à bord aux horaires standards.\\n        1 - les usagers ne peuvent pas monter à bord..\\n        2 - les usagers doivent téléphoner à l\'agence pour pouvoir monter à bord.\\n        3 - doit se coordonner avec le conducteur pour monter à bord.","Abort":"Annuler","Abort Simulation":"Abandonner la simulation","add field":"ajouter un champ","An error occur fetching example on github":"Une erreur s\'est produite lors de la récupération de l\'exemple sur github","An error occured":"Une erreur s\'est produite","apply":"appliquer","Apply":"appliquer","back to default":"Valeurs par défaut","Calibration Results":"Résultats de Calibration","cancel":"Annuler","Cancel":"Annuler","cannot add empty field":"impossible d\'ajouter un champ vide","Cannot delete anymore":"Nombre de point minimum. Impossible de supprimer d\'avantage","cannot delete first point of polygon":"Le premier point du polygone ne peut pas être supprimé","Cannot filter by this field. There is more than 500 groups":"Impossible de filtrer par ce champ. Il y a plus de 500 groupes","Click on the map to start drawing":"Cliquer sur la carte pour commencer","Click to add points. Right click de remove":"Clique pour ajouter un point, clique droit pour supprimer","Close":"Fermer","cmap to use":"palette de couleur à utiliser","Collapse all":"Réduire tout","color map":"palette de couleur","color to display on the map (i.e. FFFFFF)":"couleur à afficher sur la carte (ex: FFFFFF)","Confirm":"Valider","Continue Without Project":"Continuer sans Projet","copy":"copier","Could not apply modification. Trip_id already exist":"Les modifications n\'ont pas pu être appliquées. Le trip_id existe déjà","create a new user in your user group. Please shared the temporary password with him/her as the invitation email could be blocked by the organization":"Créer un nouvel utilisateur dans le groupe. S\'il vous plait, partager le mot de passe temporaire puisque le couriel d\'invitation pourrait être bloqué par l\'organisation.","Create new Line":"Créer une nouvelle ligne","Create or modify preset":"Créer ou modifier un préréglage","create user":"Créer un utilisateur","Create User":"Créer un utilisateur","custom scale":"échelle personnalisée","customize to inputs values":"personnaliser l\'échelle","Cut After Node":"Couper après l\'arrêt","Cut Before Node":"Couper avant l\'arrêt","Data fetch from":"Données récupérées de","Data not found: ":"Données introuvables: ","delete":"Supprimer ","Delete":"Supprimer ","Delete ":"Supprimer ","Delete all network and start from scratch":"Créer un réseau à partir de zéro","Delete Group":"Supprimer le groupe","Delete Line":"Supprimer","Delete OD":"Supprimer ","Delete rLink":"Supprimer","Delete Stop":"Supprimer l\'arrêt","delete User":"Supprimer l\'utilisateur ","direction of travel for a trip. used to separate trips by directions.\\n     ex: 0 - Travel in one direction. 1 - Travel in the opposite direction.":"Sens de déplacement pour un voyage. Utilisé pour séparer les trajets par directions.\\n         ex: 0 - voyage dans une direction. 1 - voyage dans la direction opposé direction.","do not add .zip to the end":"n\'ajouté pas de .zip à la fin","Download":"Télécharger","Duplicate":"Dupliquer","Duplicate and reverse":"Dupliquer et inverser","Edit Group Properties":"Modifier les propriétés du groupe","Edit Line":"Modifier la ligne","Edit Line geometry":"Modifier La géométrie de la ligne","Edit Line Properties":"Modifier les propriétés","Edit Node Info":"Modifier les infos","Edit OD Info":"Modifier les infos","Edit Properties":"Modifier","Edit rLink Info":"Modifier les infos","Edit Visibles Properties":"Modifier les propriétés des visibles","email address":"adresse courriel","Expand all":"Étendre tout","Export":"Exporter","Export All":"Exporter tout","Export name":"Nom du fichier","Export Only Visible":"Exporter les visibles","fetch available GTFS":"rafraîchir la liste","Field added":"Champ ajouté","field already exist":"Le champ existe déjà","Field deleted":"Champ ajouté","file is not a zip":"le fichier n\'est pas un zip","File(s) added":"Fichier(s) ajouté(s)","filter":"filtre","filter does not exist. use default one":"Le filtre n\'existe pas. valeur par défaut utilisé","first name":"prénom","from":"de","Full name of a route.This name is generally more descriptive     than the route_short_name and often includes the roudefaultAttributeste\'s destination or stop":"Nom complet d\'un itinéraire. Ce nom est généralement plus descriptif que route_short_name et inclut souvent la destination ou l\'arrêt de l\'itinéraire","Go!":"Aller!","gtfs imported successfully!":"GTFS importés avec succès","GTFS importer":"GTFS importer","Hide All":"Cacher Tout","Hide NaN on map and color map":"Masquer les NaN sur la carte et la légende","Hold left click to drag":"Click gauche pour glisser","Identifies a route. Often a string":"Identifie une route. Souvent un String","if the road contain a bike path in the opposite direction. either yes, no or shared.      a road can be a oneway and have cycleway on both side.":"si la route contient une piste cyclable en sens inverse. soit oui, non ou partagé. une route peut être à sens unique et avoir une piste cyclable des deux côtés.","if the road contain a bike path. either yes, no or shared":"si la route contient une piste cyclable. soit oui, non ou partagé","Import":"Importer","import GTFS from local computer":"importer des GTFS depuis votre ordinateur (.zip)","Import OSM network in bounding box":"importer le réseau OSM dans la sélection","Indicates the type of transportation used on a route.\\n     subway, metro, rail, bus, ferry, tram, etc":"Indique le type de transport utilisé sur un itinéraire.\\n         subway, metro, rail, bus, ferry, tram, etc","invalid date time":"date invalide","invalid email address":"adresse courriel invalide","item":"item","last name":"nom","Left click to add a stop":"Clique gauche ajouter un arrêt","Left click to add an anchor point, right click to delete":"Clique gauche pour ajouter une ancre, clique droit pour supprimer","Left side driving":"Conduite à gauche","less than 1":"moins que 1","Line (or trip) identifier (i.e. 100 Est).\\n     Links are group by trip_id in Quetzal-network-editor.":" Ligne (ou trip) (i.e. 100 est). \\n         Les liens sont groupé par trip_id dans Quetzal-network_editor","Lines":"Lignes","Link field to display when hovering a trip on the map":"Propriété des liens TC à afficher lorsqu\'on survole sur la carte","Link field to display when hovering road link on the map":"Propriété des routes à afficher lorsqu\'on survole sur la carte","link Properties":"Modifier","Links":"Liens","links geometry linestring length (meters)":"longueur de la géometrie (lineString) du liens (mètres)","Load Example":"Charger l\'exemple","Load Scenario?":"Changer le scénario?","Load Zip":"Charger un Zip","Load Zip File":"fichier Zip","Log in and select an existing project or create a new project from project navigation menu":"Connectez-vous et sélectionnez un projet existant ou créez un nouveau projet à partir du menu de navigation","login / signin":"connexion / inscription","logout":"déconnexion","Main identifier or any kind of road, street or path. ex: (motorway, residential, primary)":"Identifiant principal du type de rue, route. ex: (motorway, residential, primary)","Map":"Carte","Matrix Road Caster executed successfully!":"Matrix Road Caster exécutée avec succès!","maximum value on the color Map":"valeur maximal sur la palette de couleur","maxWidth":"Largeur max","Microservices":"Microservices","mininum value on the color Map":"Valeur minimal sur la palette de couleur","minWidth":"Largeur min","ML Matrix Road Caster":"ML Matrix Road Caster","modification aborted":"Modification annulée","modification applied":"Modification Appliquée","more":"plus","multiple Values":"Valeurs multiples","name":"nom","Need the same number of links and nodes files.":"Besoin du même nombre de fichiers de liens et de noeuds","Need the same number of road_links and road_nodes files.":"Besoin du même nombre de fichiers de liens et de noeuds routiers","new field name":"nouveau champ","New name":"Nouveau nom","New Project":"Nouveau Projet","New road links Highway property name":"Type de route (Highway) des nouveux liens routiers","new scenario":"Nouveau scénario","New Scenario":"Nouveau Scénario","No":"Non","Nodes":"Noeuds","Nothing to display":"Rien à afficher","numStep":"nombre de pas ","ok":"ok","opacity":"opacité","OR":"OU","Origin - Destination":"Origine - Destination","OSM network imported successfully!":"Réseau OSM importé avec succès","Other Inputs":"Autres Intrants","Outputs":"Extrants","Overwrite current Project ?":"Écraser le projet en cours ?","Overwrite current road network ?":"Écraser le projet en cours ?","Parameters":"Paramètres","Parameters and Run":"Parametres et execution","params.json should be an array of object [{category: , params: }, ...]":"params.json devrait être un array d\'object [{category: , params: }, ...]","Preset deleted":"Préréglage supprimé","Preset Layer does not exist":"La couche du préréglage n\'existe pas","Preset Saved":"Préréglage sauvegardé","Presets":"Préréglages","project overwrited":"Projet écrasée","Projects":"Projets","PT":"TC","PT & Road":"TC et Routes","PT Network":"Réseau TC","PT Popup Content":"Contenu du Popup TC","PT speed":"Vitesse TC","PT, Road, Zones, OD & Results":"TC, Routes, Zones, OD et Résultats","Redirect":"Redirigé","Replace file inplace":"Remplacer le fichier en place","Required":"Requis","Result Table":"Table des Résultats","Results are not synchronized with latest modifications.             Please relauch simulation to update results.":"Les résultats ne sont pas syncronisés avec les dernières modification.SVP, executer la simulation pour mettre à jour les résultats.","Results Map":"Carte des Résultats","Results Pictures":"images des Résultats","reverse color":"inverser les couleurs","reverse color scale":"inverse la palette de couleur","Right click for context menu":"Clique droit pour modifier","Right click to edit properties":"Clique droit pour modifier","Road":"Routes","Road Highway name":"Category Highway des nouvelles routes","Road links applied!":"Liens routiers appliqués!","Road Network":"Réseau Routier","Road Popup Content":"Contenu du Popup routier","Road speed":"Vitesse route","Roads":"Routes","Run":"Exécuter","Run Simulation":"Executer la simulation","save":"Sauv...","Save":"Sauvegarder","Save Changes?":"Sauvegarder ?","scale":"Échelle","scale max":"Échelle","scale min":"Échelle","Scenario created":"Scénario créé","Scenario deleted":"Scénario supprimé","Scenario saved":"Scénario sauvegardé","Scenario Settings":"Paramètres de simulation","Scenario Simulation":"Simulation du scénario","Scenario successfully copied":"Scénario copié avec succès","Select a Project":"Sélectionner un Projet","Select which side of the road the links are display":"Sélectionner de quel coté les liens sont affichés","selected date":"date sélectionné","selectedFeature":"champ sélectionné","Service ended with an execution error or have been aborted.             Please retry. If the problem persist, contact us.":"La simulation s\'est terminée avec une erreur d\'execution ou a été abadonnée.SVP, executer la simulation de nouveau. Si le problème persiste, veuillez nous contacter.","Settings":"Paramètres","Short name of a route. This will often be a short,\\n     abstract identifier like \\"32\\", \\"100X\\", or \\"Green\\"":"nom court d\'une route. Souvent un identifiant abstrait\\n          et court comme \\"32\\", \\"100X\\", or \\"verte\\"","should be larger or equal to 0":"devrait être plus grand que 0","should be larger than 0":"devrait être plus grand que 0","Show All":"Montrer Tout","Show Cycleway direction instead of road":"Montrer la direction des pistes cyclables au lieu des routes","show NaN":"montrer les NaN","sign out":"déconnecté","Simulation ended with an execution error or have been aborted.             Please relauch simulation. If the problem persist, contact us.":"La simulation s\'est terminée avec une erreur d\'execution ou a été abadonnée.SVP, executer la simulation de nouveau. Si le problème persiste, veuillez nous contacter.","simulation executed successfully!":"simulation exécutée avec succès!","speed on the link (Km/h)":"vitesse sur le lien (Km/h)","Speed used to calculate road travel time when a link is drawn":"Vitesse utilisé pour calculer le temps de parcours lorsqu\'un lien est ajouté, allongé ou déplacé","Speed used to calculate travel time when a link is drawn, extend or a node is moved":"Vitesse utilisé pour calculer le temps de parcours lorsqu\'un lien est ajouté, allongé ou déplacé","Start importing files individually or start with an empty project":"Commencez à importer des fichiers individuellement ou avec un projet vide","Static Layers":"Couches Statiques","status":"statut","Style presets":"Préréglages de style","styles.json should be an array of object with at least [{name:,layer:}]":"styles.json devrait être un array d\'object avec au moins [{name:,layer:}]","Team":"Équipe","temporary password":"mot de passe temporaire","the name of the exported zip file":"Le nom du fichier .zip à l\'export.","The scenario will be permanently deleted":"Le scénario sera supprimé définitivement","There as been an error while importing OSM network.             Please try again. If the problem persist, contact us.":"La simulation s\'est terminée avec une erreur d\'execution ou a été abadonnée.SVP, executer la simulation de nouveau. Si le problème persiste, veuillez nous contacter.","there is no index in the File. you need unique index. Import aborted in ":"il y a des index de liens ou de noeds en double. Importation interrompue","This action will delete properties on every links (and reversed one for two-way roads)":"Cette action supprimera les propriétés sur tous les liens (et les inverses pour les routes à double sens)","This scenario is protected. You can not run simulation.":"Ce scénario est protégé. L\'execution de la simulation est bloquée.","This will ERASE the current project":"Le projet en cours sera ÉCRASÉ","This will permanently delete the user account.":"le compte utilisateur sera supprimé définitivement","Time between departures in seconds":"Temps entre chaque départ en secondes","to":"à","transit brand or transit agency":"marque de transport en commun ou agence de transport en commun","Travel time on the link. set as length / speed when a link is created or edited (seconds)":"Temps de parcours sur le lien. Défini comme distance / vitesse quand un lien est créé ou modifier (secondes)","undefined":"indéfini","User created! please share the temporary password":"Utilisateur créé! partager le mot de passe temporaire","User permanently delete":"Utilisateur supprimé définitivement","username":"nom d\'utilisateur","value":"valeur","Viewable in results":"Affichable dans les résultats","width to display on the map":"Largeur à afficher sur la carte","Yes":"Oui","your session has expired. please refresh the page or sign in again":"Votre session est expiré. Veuillez rafraichir la page ou vous reconnecter. "},"pt":{"_ctx":"_ctx","%{s}":"%{s}"}}');var $=function(){var e=this,t=e._self._c;return t("v-app",{staticClass:"app"},[t("NavigationDrawer"),e._v(" "),t("div",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],ref:"container",staticClass:"container"},[t("Toolbar"),e._v(" "),t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1),e._v(" "),t("v-overlay",{attrs:{value:e.loading}},[t("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),e._v(" "),t("v-snackbar",{class:`snackbar-${e.notification.type}`,attrs:{timeout:e.notification.autoClose?3e3:-1,transition:"slide-y-reverse-transition",color:e.notification.color?e.notification.color:"white"},scopedSlots:e._u([{key:"action",fn:function({attrs:i}){return[t("v-btn",e._b({attrs:{small:"",color:"secondarydark",text:""},on:{click:e.closeSnackbar}},"v-btn",i,!1),[e._v("\n        "+e._s(e.$gettext("Close"))+"\n      ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[t("span",{staticClass:"snackbar-text"},[e._v("\n      "+e._s(e.$gettext(e.notification.text))+"\n    ")])]),e._v(" "),t("Alert")],1)};$._withStripped=!0;var N=function(){var e=this,t=e._self._c;return t("v-toolbar",{class:"app-toolbar elevation-4",attrs:{dense:""}},[t("v-img",{attrs:{src:i(76215),contain:"","max-width":"6rem"}}),e._v(" "),t("span",{staticClass:"copyright"},[e._v("©")]),e._v(" "),t("div",{staticClass:"app-name"},[e._v("\n    Quetzal Network Editor\n  ")]),e._v(" "),t("v-spacer"),e._v(" "),t("div",[t("ScenariosExplorer")],1),e._v(" "),t("v-spacer"),e._v(" "),t("div",[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({attrs:{icon:"",href:"https://github.com/systragroup/quetzal-network-editor",target:"_blank"}},"v-btn",s,!1),i),[t("v-icon",[e._v("\n            fab fa-github\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v("GitHub")])])],1),e._v(" "),t("div",{staticClass:"switch"},[t("v-switch",{attrs:{"append-icon":"fas fa-moon"},model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1),e._v(" "),t("div",[t("v-menu",{attrs:{"offset-y":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"language active",attrs:{text:""}},"v-btn",s,!1),i),[e._v("\n          "+e._s(e.$language.current)+"\n        ")])]}}])},[e._v(" "),t("v-list",e._l(e.$language.available,(function(i,s){return t("v-list-item",{key:s,class:i,on:{click:()=>e.handleChangeLanguage(s)}},[e._v("\n          "+e._s(i.toUpperCase())+"\n        ")])})),1)],1)],1),e._v(" "),t("div",[t("Profile")],1)],1)};N._withStripped=!0;var F=function(){var e=this,t=e._self._c;return t("section",[e.loggedIn?t("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!1,"nudge-width":250,"offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-avatar",e._g(e._b({attrs:{size:"34",color:"primary"}},"v-avatar",s,!1),i),[t("span",{staticClass:"white--text text-h6"},[e._v(e._s(e.initial))])])]}}],null,!1,3256803526),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),t("v-card",{attrs:{width:"20rem"}},[t("v-list",[t("v-list-item",[t("v-avatar",{style:{"margin-right":"1rem"},attrs:{size:"34",color:"primary"}},[t("span",{staticClass:"white--text text-h6"},[e._v(e._s(e.initial))])]),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(e.cognitoInfo.given_name+" "+e.cognitoInfo.family_name))]),e._v(" "),t("v-list-item-subtitle",[e._v(e._s(e.cognitoInfo.email))])],1)],1)],1),e._v(" "),t("v-divider"),e._v(" "),t("v-list-item",[t("v-list-item-content",[t("v-select",{attrs:{label:e.$gettext("Team"),disabled:e.groups.length<=1,items:e.groups},model:{value:e.selectedGroup,callback:function(t){e.selectedGroup=t},expression:"selectedGroup"}})],1)],1),e._v(" "),t("v-divider"),e._v(" "),e._l(e.users,(function(i){return t("v-list-item",{key:i.Username},[e.showMore?t("v-btn",{attrs:{icon:""}},[t("v-icon",{attrs:{small:"",color:"error",disabled:i.Username===e.cognitoInfo["cognito:username"]},on:{click:function(t){return e.deleteUserButton(i)}}},[e._v("\n            fas fa-trash\n          ")])],1):e._e(),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(i.Username))]),e._v(" "),t("v-list-item-subtitle",[e._v("\n            "+e._s(i.email)+"\n          ")])],1)],1)})),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"success",outlined:""},on:{click:function(t){return e.createUserButton()}}},[e._v("\n          "+e._s(e.$gettext("create user"))+"\n        ")])],1),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{icon:"","x-small":""},on:{click:e.toggleShowMore}},[e.showMore?t("v-icon",[e._v("\n            fas fa-minus-circle fa-rotate-90\n          ")]):t("v-icon",[e._v("\n            fas fa-minus-circle\n          ")])],1),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"primary",text:""},on:{click:e.logout}},[e._v("\n          "+e._s(e.$gettext("logout"))+"\n        ")])],1)],2)],1):t("v-tooltip",{attrs:{bottom:"","open-delay":"250"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.login}},"v-btn",s,!1),i),[t("v-icon",[e._v("\n          fas fa-sign-in-alt\n        ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("login / signin")))])]),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"350"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyDialog.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(()=>e.showDialog=!1).apply(null,arguments)}]},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-card",["login"===e.action?t("v-card-title",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.$gettext("Redirect"))+"\n      ")]):"createUser"===e.action?t("v-card-title",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.$gettext("Create User"))+"\n      ")]):"deleteUser"===e.action?t("v-card-title",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.$gettext("delete User")+" "+e.selectedUsername+" ?")+"\n      ")]):e._e(),e._v(" "),"login"===e.action?t("v-card-text",{staticClass:"text-h8"},[e._v("\n        "+e._s(e.$gettext("This will ERASE the current project"))+"\n      ")]):"createUser"===e.action?t("v-card-text",{staticClass:"text-h8"},[e._v("\n        "+e._s(e.$gettext("create a new user in your user group. Please shared the temporary password with him/her as the invitation email could be blocked by the organization"))+"\n      ")]):"deleteUser"===e.action?t("v-card-text",{staticClass:"text-h8"},[e._v("\n        "+e._s(e.$gettext("This will permanently delete the user account."))+"\n      ")]):e._e(),e._v(" "),"createUser"==e.action?t("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""}},[t("v-text-field",{attrs:{label:e.$gettext("username"),rules:[e.rules.required],required:""},model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$gettext("first name"),rules:[e.rules.required],required:""},model:{value:e.userForm.given_name,callback:function(t){e.$set(e.userForm,"given_name",t)},expression:"userForm.given_name"}}),e._v(" "),t("v-text-field",{attrs:{rules:[e.rules.required],label:e.$gettext("last name"),required:""},model:{value:e.userForm.family_name,callback:function(t){e.$set(e.userForm,"family_name",t)},expression:"userForm.family_name"}}),e._v(" "),t("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:e.$gettext("email address"),required:""},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}}),e._v(" "),t("v-text-field",{attrs:{label:e.$gettext("temporary password"),rules:[e.rules.required,e.rules.length,e.rules.password],required:""},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1):e._e(),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"regular"},on:{click:()=>e.showDialog=!e.showDialog}},[e._v("\n          "+e._s(e.$gettext("No"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.applyDialog}},[e._v("\n          "+e._s(e.$gettext("Yes"))+"\n        ")])],1)],1)],1)],1)};F._withStripped=!0;var B=i(36648),M=i(72055),j=i(76955);const D={name:"Profile",components:{},props:[],events:["logout"],data(){return{menu:!1,showDialog:!1,action:"login",showMore:!1,groups:[],users:[],selectedGroup:null,selectedUsername:null,userForm:{username:"",given_name:"",family_name:"",email:"",password:""},re:/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&_])[A-Za-z\d@$!%*?&_]+$/,rules:{required:e=>!!e||"Required",email:e=>e.includes("@")||"invalid email address",length:e=>e.length>8||"at least 8 character long",password:e=>this.re.test(e)||"need at least: 1 lowercase, 1 uppercase, 1 number, and 1 symbol"}}},computed:{projectIsEmpty(){return this.$store.getters.projectIsEmpty},loggedIn(){return this.$store.getters.loggedIn},cognitoInfo(){return this.$store.getters.cognitoInfo},bucketList(){return this.$store.getters.bucketList},initial(){return(this.cognitoInfo?.given_name[0]+this.cognitoInfo?.family_name[0]).toUpperCase()}},watch:{async menu(e){e&&(this.showMore=!1,await this.listGroup(),!this.selectedGroup&&this.groups.includes("admin")&&(this.selectedGroup="admin"),this.selectedGroup||(this.selectedGroup=this.groups[0]),await this.listUser(this.selectedGroup))},async selectedGroup(e,t){t&&await this.listUser(this.selectedGroup)}},methods:{async listGroup(){try{const e=await M.H.client.get("listGroups/");this.groups=e.data}catch(e){this.$store.commit("changeAlert",{name:"Cognito Client error",message:e.response.data.detail})}},async listUser(e){try{const t=await M.H.client.get(`listUser/${e}/`);this.users=t.data}catch(e){this.$store.commit("changeAlert",{name:"Cognito Client error",message:e.response.data.detail})}},async createUser(){try{await M.H.client.post(`createUser/${this.selectedGroup}/`,this.userForm),this.$store.commit("changeNotification",{text:"User created! please share the temporary password",autoClose:!0,color:"success"})}catch(e){this.$store.commit("changeAlert",{name:"Cognito Client error",message:e.response.data.detail})}},async deleteUser(e){try{await M.H.client.post("deleteUser/",{username:e}),this.$store.commit("changeNotification",{text:"User permanently delete",autoClose:!0,color:"success"})}catch(e){this.$store.commit("changeAlert",{name:"Cognito Client error",message:e.response.data.detail})}},createUserButton(){this.action="createUser",this.userForm.password=(0,j.F2)(12),this.showDialog=!0},deleteUserButton(e){this.action="deleteUser",this.selectedUsername=e.Username,this.showDialog=!0},toggleShowMore(){this.showMore=!this.showMore},login(){this.projectIsEmpty?B.Z.login():(this.action="login",this.showDialog=!0)},logout(){this.projectIsEmpty?(this.menu=!1,B.Z.logout()):(this.action="logout",this.showDialog=!0)},async applyDialog(){if("login"===this.action&&B.Z.login(),"logout"===this.action&&B.Z.logout(),"createUser"===this.action){if(!this.$refs.form.validate())return;await this.createUser()}"deleteUser"===this.action&&(this.deleteUser(this.selectedUsername),this.selectedUsername=null),this.action="login",this.menu=!1,this.showDialog=!1}}};var O=i(43818),T={};T.styleTagTransform=m(),T.setAttributes=d(),T.insert=l().bind(null,"head"),T.domAPI=n(),T.insertStyleElement=u(),r()(O.Z,T),O.Z&&O.Z.locals&&O.Z.locals;var P=i(51900);const z=(0,P.Z)(D,F,[],!1,null,"256a6a29",null).exports;var R=function(){var e=this,t=e._self._c;return e.loggedIn&&e.modelsList.length>0?t("section",[t("v-menu",{attrs:{"close-on-click":!e.showDialog&&!e.deleteDialog&&!e.copyDialog,"close-on-content-click":!1,"max-width":"460px","max-height":e.windowHeight,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("div",e._g(e._b({staticClass:"title"},"div",s,!1),i),[e._v("\n        "+e._s(e.scenario?e.model+"/"+e.scenario:e.$gettext("Projects"))+"\n      ")])]}}],null,!1,2682127123),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),t("v-card",[t("v-tabs",{attrs:{"show-arrows":"","fixed-tabs":""},model:{value:e.localModel,callback:function(t){e.localModel=t},expression:"localModel"}},e._l(e.modelsList,(function(i){return t("v-tab",{key:i,attrs:{href:"#"+i}},[e._v("\n          "+e._s(i.slice(8))+"\n        ")])})),1),e._v(" "),e._l(e.scenariosList,(function(i){return t("v-list-item",{key:i.model+i.scenario,class:{"is-active":e.modelScen===i.model+i.scenario},attrs:{value:i.model+i.scenario,"two-line":""},on:{click:function(t){return e.selectScenario(i)}}},[t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(i.scenario))]),e._v(" "),t("v-list-item-subtitle",[e._v(e._s(i.lastModified))]),e._v(" "),t("v-list-item-subtitle",[e._v(e._s(i.userEmail))])],1),e._v(" "),t("v-btn",{staticClass:"ma-1",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),(()=>{e.copyDialog=!0,e.selectedScenario=i.scenario,e.input=i.scenario+" copy"}).apply(null,arguments)}}},[t("v-icon",{attrs:{small:"",color:"regular"}},[e._v("\n            fas fa-copy\n          ")])],1),e._v(" "),t("v-btn",{staticClass:"ma-1",attrs:{icon:"",disabled:i.model+i.scenario===e.modelScen||i.protected},on:{click:function(t){return t.stopPropagation(),(()=>{e.deleteDialog=!0,e.scenarioToDelete=i.scenario}).apply(null,arguments)}}},[t("v-icon",{attrs:{small:"",color:"grey"}},[e._v("\n            "+e._s(i.protected?"fas fa-lock":"fas fa-trash")+"\n          ")])],1)],1)})),e._v(" "),t("v-list-item",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[t("v-spacer"),e._v(" "),t("v-progress-circular",{attrs:{color:"primary",indeterminate:""}}),e._v(" "),t("v-spacer")],1),e._v(" "),t("v-divider"),e._v(" "),t("v-list-item",[t("v-btn",{attrs:{text:""},on:{click:()=>{e.copyDialog=!0,e.selectedScenario=null,e.input=""}}},[e._v("\n          "+e._s(e.$gettext("new scenario"))+"\n        ")])],1)],2)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"350"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyDialog.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelDialog.apply(null,arguments)}]},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.$gettext("Load Scenario?"))+"\n      ")]),e._v(" "),t("v-card-text",{staticClass:"text-h6"},[e._v("\n        "+e._s(e.$gettext("This will ERASE the current project"))+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"regular"},on:{click:e.cancelDialog}},[e._v("\n          "+e._s(e.$gettext("No"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.applyDialog}},[e._v("\n          "+e._s(e.$gettext("Yes"))+"\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"350"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(()=>e.deleteDialog=!1).apply(null,arguments)}},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h4"},[e._v("\n        "+e._s(e.$gettext("Delete ")+e.scenarioToDelete+" ?")+"\n      ")]),e._v(" "),t("v-card-text",{staticClass:"text-h6"},[e._v("\n        "+e._s(e.$gettext("The scenario will be permanently deleted"))+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"regular"},on:{click:()=>e.deleteDialog=!1}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"error"},on:{click:e.deleteScenario}},[e._v("\n          "+e._s(e.$gettext("Delete"))+"\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"290"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createProject.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel.apply(null,arguments)}]},model:{value:e.copyDialog,callback:function(t){e.copyDialog=t},expression:"copyDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(e.selectedScenario?e.$gettext("copy")+" "+e.selectedScenario:e.$gettext("New Scenario"))+"\n      ")]),e._v(" "),t("v-card-text",[t("v-container",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{autofocus:"",label:e.$gettext("name")},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)],1)],1),e._v(" "),t("v-card-text",{style:{textAlign:"center",color:"red"}},[e._v("\n        "+e._s(e.errorMessage)+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",text:""},on:{click:e.closeCopy}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.createProject}},[e._v("\n          "+e._s(e.$gettext("ok"))+"\n        ")])],1)],1)],1)],1):e.loggedIn&&0==e.modelsList.length?t("section",[t("div",[t("v-progress-linear",{attrs:{color:"primary",absolute:"",bottom:"",indeterminate:""}})],1)]):e._e()};R._withStripped=!0;var Z=i(60887);const H={name:"ScenariosExplorer",components:{},props:[],events:[],data:()=>({menu:!1,showDialog:!1,modelScen:"",localModel:"",localScen:"",errorMessage:"",copyDialog:!1,selectedScenario:null,scenarioToDelete:null,input:"",deleteDialog:!1,loading:!1,protected:!1}),computed:{windowHeight(){return this.$store.getters.windowHeight},projectIsEmpty(){return this.$store.getters.projectIsEmpty},loggedIn(){return this.$store.getters.loggedIn},scenariosList(){return this.$store.getters.scenariosList.sort(((e,t)=>e.protected===t.protected?e.scenario.localeCompare(t.scenario,void 0,{sensitivity:"base"}):e.protected?-1:1))},modelsList(){return this.$store.getters.bucketList},model(){return this.$store.getters.model},scenario(){return this.$store.getters.scenario}},watch:{async menu(e){e&&(this.$store.dispatch("isTokenExpired"),this.loading=!0,await this.$store.dispatch("getScenario",{model:this.localModel}),this.loading=!1)},async localModel(e){this.$store.commit("setScenariosList",[]),this.loading=!0,await this.$store.dispatch("getScenario",{model:e}),this.loading=!1},async modelsList(e){this.localModel=this.modelsList[0],await this.$store.dispatch("getScenario",{model:this.localModel})},scenario(e){e!==this.localScen&&(this.localScen="",this.modelScen="")}},mounted(){},methods:{selectScenario(e){this.modelScen=e.model+e.scenario,this.localScen=e.scenario,this.protected=e.protected,e.scenario&&(this.projectIsEmpty?this.loadProject():this.showDialog=!0)},async loadProject(){this.$store.commit("run/cleanRun"),this.$store.commit("setModel",this.localModel),this.$store.commit("setScenario",{scenario:this.localScen,protected:this.protected}),this.$router.push({name:"Import",query:{s3Path:this.localModel}}),this.menu=!1},applyDialog(){this.menu=!1,this.showDialog=!1,this.loadProject()},cancelDialog(){this.modelScen=this.model+this.scenario,this.localScen=this.scenario,this.showDialog=!1,this.menu=!1},deleteScenario(){this.deleteDialog=!1,Z.Z.deleteFolder(this.localModel,this.scenarioToDelete+"/").then((e=>{this.deleteDialog=!1,this.$store.dispatch("getScenario",{model:this.localModel}),this.$store.commit("changeNotification",{text:"Scenario deleted",autoClose:!0,color:"success"})})).catch((e=>{this.deleteDialog=!1,console.error(e),this.$store.commit("changeNotification",{text:"An error occured",autoClose:!0,color:"error"})}))},async createProject(){if(""===this.input)this.errorMessage="Please enter a name";else if(this.input.includes("/"))this.errorMessage="cannot have / in name";else if(this.scenariosList.map((e=>e.scenario)).includes(this.input))this.errorMessage="project already exist";else{try{if(this.selectedScenario)await Z.Z.copyFolder(this.localModel,this.selectedScenario,this.input),this.$store.commit("changeNotification",{text:"Scenario successfully copied",autoClose:!0,color:"success"});else{const e=this.scenariosList[0].scenario;await Z.Z.newScenario(this.localModel,e,this.input),this.$store.commit("changeNotification",{text:"Scenario created",autoClose:!0,color:"success"})}}catch(e){this.$store.commit("changeAlert",e),this.selectedScenario=null}this.closeCopy(),this.loading=!0,setTimeout((()=>{this.$store.dispatch("getScenario",{model:this.localModel}).then((()=>{this.loading=!1})).catch((e=>{this.$store.commit("changeAlert",e),this.loading=!1}))}),500)}},closeCopy(){this.copyDialog=!1,this.input="",this.selectedScenario=null,this.errorMessage=""}}};var G=i(18422),q={};q.styleTagTransform=m(),q.setAttributes=d(),q.insert=l().bind(null,"head"),q.domAPI=n(),q.insertStyleElement=u(),r()(G.Z,q),G.Z&&G.Z.locals&&G.Z.locals;const V={name:"Toolbar",components:{Profile:z,ScenariosExplorer:(0,P.Z)(H,R,[],!1,null,"095af231",null).exports},data:()=>({dialog:!0}),watch:{"$vuetify.theme.dark"(e){this.$store.commit("changeDarkMode",e)}},methods:{handleChangeLanguage(e){this.$vuetify.lang.current=e,this.$language.current=e}}};var U=i(94e3),J={};J.styleTagTransform=m(),J.setAttributes=d(),J.insert=l().bind(null,"head"),J.domAPI=n(),J.insertStyleElement=u(),r()(U.Z,J),U.Z&&U.Z.locals&&U.Z.locals;const W=(0,P.Z)(V,N,[],!1,null,"4f697eca",null).exports;var Y=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[t("v-navigation-drawer",{staticClass:"drawer elevation-4",attrs:{app:"",stateless:"",temporary:!e.mini,"mini-variant":e.mini,"mini-variant-width":50},on:{"update:miniVariant":function(t){e.mini=t},"update:mini-variant":function(t){e.mini=t}},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t("div",{staticClass:"drawer-header",on:{click:function(t){e.mini=!e.mini}}},[t("v-icon",{attrs:{small:""}},[e._v("\n        "+e._s(e.mini?"fa fa-bars":"fas fa-angle-left")+"\n      ")])],1),e._v(" "),t("v-list",{staticClass:"drawer-list",attrs:{dense:""}},[e._l(e.getDisplayedRoutes(),(function(i,s){return t("v-list-item",{key:s,staticClass:"drawer-list-item",class:[e.$route.name===i.name?"drawer-list-item-selected":""],style:{marginTop:i.margin},attrs:{disabled:"Save"===i.name&&(!e.$store.getters.scenario||e.isProtected)},on:{click:function(t){return e.handleClickMenuItem(i)}},nativeOn:{click:function(e){e.stopPropagation()}}},[t("v-list-item-action",{class:"Save"!==i.name||e.$store.getters.scenario&&!e.isProtected?"drawer-list-item-icon":"drawer-list-item-icon-disabled"},["Run"===i.name&&e.running?t("v-badge",{attrs:{"offset-x":"12px","offset-y":"10px",color:""},scopedSlots:e._u([{key:"badge",fn:function(){return[t("v-progress-circular",{attrs:{size:"18",width:"4",color:"primary",indeterminate:""}})]},proxy:!0}],null,!0)},[e._v(" "),t("v-icon",{attrs:{small:"",title:e.$gettext(i.title)}},[e._v("\n              "+e._s(i.icon)+"\n            ")])],1):"Run"===i.name&&e.runWarning?t("v-badge",{attrs:{"offset-x":"6px","offset-y":"11px",color:e.runError?"error":"warning",icon:"fa-solid fa-exclamation"}},[t("v-icon",{attrs:{small:"",title:e.$gettext(i.title)}},[e._v("\n              "+e._s(i.icon)+"\n            ")])],1):"Save"===i.name&&e.saving?t("v-badge",{attrs:{"offset-x":"12px","offset-y":"10px",color:""},scopedSlots:e._u([{key:"badge",fn:function(){return[t("v-progress-circular",{attrs:{size:"18",width:"4",color:"primary",indeterminate:""}})]},proxy:!0}],null,!0)},[e._v(" "),t("v-icon",{attrs:{small:"",title:e.$gettext(i.title)}},[e._v("\n              "+e._s(i.icon)+"\n            ")])],1):t("v-icon",{attrs:{small:"",title:e.$gettext(i.title)}},[e._v("\n            "+e._s(i.icon)+"\n          ")])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",{style:{marginLeft:"20px",color:"white"}},[e._v("\n            "+e._s(e.$gettext(i.title))+"\n          ")])],1)],1)})),e._v(" "),t("v-list-item",{staticClass:"version-number",style:{fontSize:24-2*e.version.length+"px"}},[t("span",[e._v(e._s(e.version))])])],2)],1)],1)};Y._withStripped=!0;const K=i(4147).i8,Q={name:"NavigationDrawer",data:()=>({leftSidenav:!1,drawer:!0,mini:!0,menuItems:[],version:K,saving:!1}),computed:{running(){return this.$store.getters["run/running"]},runError(){return this.$store.getters["run/error"]},runSychronized(){return this.$store.getters["run/synchronized"]},runWarning(){return this.runError||!this.runSychronized},isProtected(){return this.$store.getters.protected}},created(){this.menuItems=b.Z.options.routes.concat({name:"Save",icon:"fa-solid fa-save",margin:"auto",title:this.$gettext("Save")}),this.menuItems=this.menuItems.concat({name:"Export",icon:"fa-solid fa-download",title:this.$gettext("Export")})},methods:{getDisplayedRoutes(){return this.menuItems.filter((e=>e.icon))},getRouteTitle(e){const t=this.$gettext("%{s}");return this.$gettextInterpolate(t,{s:e.title})},handleClickMenuItem(e){switch(e.name){case"Export":this.$store.dispatch("exportFiles","all");break;case"Save":this.saving=!0,this.$store.dispatch("exportToS3").then((()=>{this.saving=!1,this.$store.commit("changeNotification",{text:this.$gettext("Scenario saved"),autoClose:!0,color:"success"})})).catch((e=>{this.saving=!1,this.$store.commit("changeAlert",e)}));break;default:this.$router.push(e.path).catch((()=>{})),this.mini=!0}}}};var X=i(5576),ee={};ee.styleTagTransform=m(),ee.setAttributes=d(),ee.insert=l().bind(null,"head"),ee.domAPI=n(),ee.insertStyleElement=u(),r()(X.Z,ee),X.Z&&X.Z.locals&&X.Z.locals;const te=(0,P.Z)(Q,Y,[],!1,null,"5b138161",null).exports;var ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t("v-bottom-sheet",{attrs:{persistent:""},model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[t("v-sheet",{staticClass:"text-center"},[t("div",[t("v-alert",{attrs:{prominent:"",type:"error"}},[t("v-row",[t("v-col",{staticClass:"grow"},[t("h2",[e._v("\n                ERROR: "+e._s(e.err.name)+"\n              ")]),e._v(" "),t("p",[e._v("\n                "+e._s(e.err.message)+"\n              ")])]),e._v(" "),t("v-col",{staticClass:"shrink"},[t("v-btn",{attrs:{icon:""},on:{click:e.close}},[t("v-icon",[e._v("\n                  fas fa-times\n                ")])],1)],1)],1)],1)],1)])],1)],1)};ie._withStripped=!0;const se={name:"Alert",components:{},props:[],events:[],data:()=>({sheet:!1}),computed:{err(){return this.$store.getters.alert}},watch:{err(e){e.name&&(this.sheet=!0,console.error(e))}},methods:{close(){this.$store.commit("changeAlert",{}),this.sheet=!this.sheet}}},re={name:"App",components:{Toolbar:W,NavigationDrawer:te,Alert:(0,P.Z)(se,ie,[],!1,null,"785f7271",null).exports},data:()=>({snackbar:!1}),computed:{notification(){return this.$store.getters.notification},loading(){return this.$store.getters.loading}},watch:{notification(){this.snackbar=!!this.notification.text}},async created(){this.$store.commit("initNetworks"),this.$store.commit("changeDarkMode",this.$vuetify.theme.dark),B.Z.auth.isUserSignedIn()&&(await B.Z.login(),await Z.Z.login(),await M.U.loginAll(this.$store.getters.idToken),this.$store.dispatch("getBucketList"))},methods:{closeSnackbar(){this.snackbar=!1,this.$store.notification={}},onResize(){this.$store.commit("changeWindowHeight",this.$refs.container.clientHeight-50)}}};var oe=i(64229),ne={};ne.styleTagTransform=m(),ne.setAttributes=d(),ne.insert=l().bind(null,"head"),ne.domAPI=n(),ne.insertStyleElement=u(),r()(oe.Z,ne),oe.Z&&oe.Z.locals&&oe.Z.locals;const ae=(0,P.Z)(re,$,[],!1,null,"025303a8",null).exports;console.assert("pk.eyJ1Ijoic2JvaXZpbiIsImEiOiJja3BlMm41cm4xa2QyMnZwZTBqdGx4bHI0In0.11oH2-B2g9J6LarDnoqQfQ");const le={methods:{$selectBestLanguage(e,t){if(e.length){for(const i of e){const e=i.toLowerCase().split("-");e.length>1&&(e[1]=e[1].toUpperCase());const s=e.join("-");if(t.includes(s))return s;if(e.length>1&&t.includes(e[0]))return e[0]}return t[0]}return t[0]}}},ce=le.methods.$selectBestLanguage(navigator.languages,["en","fr","es","de","pt"]),de=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;A.default.use(w()),A.default.use(y(),{autoAddKeyAttributes:!0,availableLanguages:{en:"English",fr:"Français",es:"Español",de:"Deutsch",pt:"Português"},defaultLanguage:ce,translations:I,silent:!0}),A.default.config.productionTip=!1,A.default.config.devtools=!1,A.default.config.performance=!1;const pe=new(w())({theme:{dark:!!de,options:{customProperties:!0},themes:{light:{primary:"#B5E0D6",primarydark:"#7EBAAC",secondary:"#2C3E4E",secondarydark:"#1A242C",secondarydarkfix:"#1A242C",secondarylight:"#334453",background:"#808080",lightgrey:"#E3E4E6",white:"#fff",black:"#000000",mediumgrey:"#9E9E9E",darkgrey:"#5B5B5C",accent:"#2C3E4E",linksprimary:"#7EBAAC",linkssecondary:"#B5E0D6",chart:{lightgreen:"#CDDC39",darkgreen:"#4CAF50",lightblue:"#00BCD4",darkblue:"#2196F3",purple:"#673AB7",pink:"#E91E63",orange:"#FF7B30",yellow:"#FFC107"}},dark:{primary:"#2196F3",primarydark:"#191919",secondary:"#263238",secondarydark:"#fff",secondarydarkfix:"#1A242C",lightgrey:"#403f3f",mediumgrey:"#575757",darkgrey:"#d9d9db",background:"#000000",white:"#000000",black:"#fff",success:"#2196F3",accent:"#d3c1b1",linksprimary:"#2196F3",linkssecondary:"#90CAF9",chart:{lightgreen:"#CDDC39",darkgreen:"#4CAF50",lightblue:"#00BCD4",darkblue:"#2196F3",purple:"#673AB7",pink:"#E91E63",orange:"#FF7B30",yellow:"#FFC107"}}}},icons:{iconfont:"fa"},lang:{locales:{fr:x.Z,en:_.Z,es:S.Z,de:E.Z,pt:L.Z},current:ce}});A.default.mixin(le),A.default.mixin({methods:{$flatEdges(e,t=!1){let i=e;if(e.edges&&(i=e.edges.map((e=>e.node))),t)for(const t in e)null!==e[t]&&"object"==typeof e[t]&&(e[t]=this.$flatEdges(e[t],!0));return i}}}),new A.default({router:b.Z,store:C.h,vuetify:pe,render:e=>e(ae),template:"<App/>"}).$mount("#app")},30193:(e,t,i)=>{"use strict";i.d(t,{Z:()=>mt});var s=i(70538),r=i(78345),o=function(){var e=this,t=e._self._c;return t("section",[t("input",{ref:"zipInput",staticStyle:{display:"none"},attrs:{id:"zip-input",type:"file",accept:".zip"},on:{change:e.readZip}}),e._v(" "),t("div",{staticClass:"layout"},[t("div",{staticClass:"layout-overlay",class:{"animate-layer":e.loggedIn}}),e._v(" "),t("v-card",{staticClass:"card",class:{"animate-login":e.loggedIn}},[t("v-row",[t("v-col",[t("v-card-text",{style:{textAlign:"center"}},[t("div",{staticClass:"title"},[e._v("\n              "+e._s(e.$gettext("Select a Project"))+"\n            ")]),e._v(" "),t("div",[e._v("\n              "+e._s(e.$gettext("Log in and select an existing project or create a new project from project navigation menu"))+"\n            ")]),e._v(" "),t("div",{staticClass:"subtitle"},[e._v("\n              "+e._s(e.$gettext("OR"))+"\n            ")]),e._v(" "),t("div",{staticClass:"title"},[e._v("\n              "+e._s(e.$gettext("Continue Without Project"))+"\n            ")]),e._v(" "),t("div",[e._v("\n              "+e._s(e.$gettext("Start importing files individually or start with an empty project"))+"\n            ")]),e._v(" "),t("div",{staticClass:"subtitle"},[e._v("\n              "+e._s(e.$gettext("OR"))+"\n            ")]),e._v(" "),t("div",{staticClass:"title"},[e._v("\n              "+e._s(e.$gettext("Load Zip"))+"\n              "),t("InfoZip")],1),e._v(" "),t("div",[t("v-btn",{style:{"margin-right":"auto"},attrs:{color:"normal"},on:{click:function(t){return e.buttonHandle("zip")}}},[t("v-icon",{attrs:{small:"",left:""}},[e._v("\n                  fas fa-file-archive\n                ")]),e._v("\n                "+e._s(e.$gettext("Load Zip File"))+"\n              ")],1)],1),e._v(" "),t("div",{staticClass:"subtitle"},[e._v("\n              "+e._s(e.$gettext("OR"))+"\n            ")]),e._v(" "),t("div",{staticClass:"title"},[e._v("\n              "+e._s(e.$gettext("Load Example"))+"\n            ")]),e._v(" "),t("v-menu",{attrs:{"offset-y":"","nudge-left":"70","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({style:{"margin-bottom":"2rem"}},"v-btn",s,!1),i),[e._v("\n                  "+e._s(e.$gettext("Load Example"))+"\n                ")])]}}])},[e._v(" "),t("v-list",[t("v-list-item",{attrs:{link:""},on:{click:()=>e.buttonHandle("example1")}},[t("v-list-item-title",[e._v("\n                    "+e._s(e.$gettext("PT & Road"))+"\n                  ")])],1),e._v(" "),t("v-list-item",{attrs:{link:""},on:{click:()=>e.buttonHandle("example2")}},[t("v-list-item-title",[e._v("\n                    "+e._s(e.$gettext("PT, Road, Zones, OD & Results"))+"\n                  ")])],1)],1)],1)],1)],1),e._v(" "),t("v-divider",{attrs:{vertical:""}}),e._v(" "),t("v-col",[t("FileLoader",{on:{FilesLoaded:t=>e.loadNetwork(t)}})],1),e._v(" "),t("v-divider",{attrs:{vertical:""}}),e._v(" "),t("v-col",[t("FilesList",{on:{FilesLoaded:t=>e.loadNetwork(t)}})],1)],1),e._v(" "),t("div",{staticClass:"button-row"},[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({on:{click:function(t){return e.buttonHandle("newProject")}}},"v-btn",s,!1),i),[e._v("\n              "+e._s(e.$gettext("New Project"))+"\n            ")])]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Delete all network and start from scratch")))])]),e._v(" "),t("v-btn",{attrs:{disabled:!e.filesAdded,color:"primary"},on:{click:function(t){return e.login()}}},[e._v("\n          "+e._s(e.$gettext("Go!"))+"\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"350"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyDialog.apply(null,arguments)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showDialog=!1}]},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(e.$gettext("Overwrite current Project ?"))+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"regular"},on:{click:function(t){e.showDialog=!e.showDialog}}},[e._v("\n          "+e._s(e.$gettext("No"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:e.applyDialog}},[e._v("\n          "+e._s(e.$gettext("Yes"))+"\n        ")])],1)],1)],1)],1)};o._withStripped=!0;var n=i(60887),a=i(76955),l=function(){var e=this,t=e._self._c;return t("div",[t("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file-input",type:"file",accept:".geojson"},on:{change:e.readFile}}),e._v(" "),t("input",{ref:"paramsInput",staticStyle:{display:"none"},attrs:{id:"params-input",type:"file",accept:".json"},on:{change:e.readParams}}),e._v(" "),t("input",{ref:"stylesInput",staticStyle:{display:"none"},attrs:{id:"styles-input",type:"file",accept:".json"},on:{change:e.readStyles}}),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"container"},[t("v-icon",{staticClass:"type-icon",style:{opacity:e.linksIsEmpty?"0.50":"1"}},[e._v("\n        fas fa-project-diagram\n      ")]),e._v(" "),t("div",{staticClass:"subtitle",style:{opacity:e.linksIsEmpty?"0.50":"1"}},[e._v("\n        "+e._s(e.$gettext("PT Network"))+"\n        "),e.linksIsEmpty?e._e():t("v-icon",{staticClass:"check-icon",attrs:{color:"success"}},[e._v("\n          fas fa-check\n        ")])],1),e._v(" "),t("div",{staticClass:"element"},[t("v-menu",{attrs:{"offset-y":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({attrs:{icon:"",outlined:""}},"v-btn",s,!1),i),[t("v-icon",{attrs:{small:""}},[e._v("\n                fa-solid fa-upload\n              ")])],1)]}}])},[e._v(" "),t("v-list",[t("v-list-item",{attrs:{link:"",disabled:"road"==e.loadedType||e.localLinksLoaded},on:{click:()=>e.buttonHandle("PT links")}},[t("v-list-item-title",[e._v("\n                "+e._s(e.$gettext("Links"))+"\n              ")])],1),e._v(" "),t("v-list-item",{attrs:{link:"",disabled:"road"==e.loadedType||e.localNodesLoaded},on:{click:()=>e.buttonHandle("PT nodes")}},[t("v-list-item-title",[e._v("\n                "+e._s(e.$gettext("Nodes"))+"\n              ")])],1)],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"container"},[t("v-icon",{staticClass:"type-icon",style:{opacity:e.rlinksIsEmpty?"0.50":"1"}},[e._v("\n        fas fa-project-diagram\n      ")]),e._v(" "),t("div",{staticClass:"subtitle",style:{opacity:e.rlinksIsEmpty?"0.50":"1"}},[e._v("\n        "+e._s(e.$gettext("Road Network"))+"\n        "),e.rlinksIsEmpty?e._e():t("v-icon",{staticClass:"check-icon",attrs:{color:"success"}},[e._v("\n          fas fa-check\n        ")])],1),e._v(" "),t("div",{staticClass:"element"},[t("v-menu",{attrs:{"offset-y":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({attrs:{icon:"",outlined:""}},"v-btn",s,!1),i),[t("v-icon",{attrs:{small:""}},[e._v("\n                fa-solid fa-upload\n              ")])],1)]}}])},[e._v(" "),t("v-list",[t("v-list-item",{attrs:{link:"",disabled:"PT"==e.loadedType||e.localLinksLoaded},on:{click:()=>e.buttonHandle("road links")}},[t("v-list-item-title",[e._v("\n                "+e._s(e.$gettext("Links"))+"\n              ")])],1),e._v(" "),t("v-list-item",{attrs:{link:"",disabled:"PT"==e.loadedType||e.localNodesLoaded},on:{click:()=>e.buttonHandle("road nodes")}},[t("v-list-item-title",[e._v("\n                "+e._s(e.$gettext("Nodes"))+"\n              ")])],1)],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"container"},[t("v-icon",{staticClass:"type-icon",style:{opacity:e.ODIsEmpty?"0.50":"1"}},[e._v("\n        fas fa-exchange-alt\n      ")]),e._v(" "),t("div",{staticClass:"subtitle",style:{opacity:e.ODIsEmpty?"0.50":"1"}},[e._v("\n        "+e._s(e.$gettext("Origin - Destination"))+"\n        "),e.ODIsEmpty?e._e():t("v-icon",{staticClass:"check-icon",attrs:{color:"success"}},[e._v("\n          fas fa-check\n        ")])],1),e._v(" "),t("div",{staticClass:"element"},[t("v-btn",{attrs:{icon:"",outlined:""},on:{click:()=>e.buttonHandle("od")}},[t("v-icon",{attrs:{small:""}},[e._v("\n            fa-solid fa-upload\n          ")])],1)],1)],1)]),e._v(" "),t("v-divider"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"container"},[t("v-icon",{staticClass:"type-icon",style:{opacity:e.paramsIsEmpty?"0.50":"1"}},[e._v("\n        fas fa-cog\n      ")]),e._v(" "),t("div",{staticClass:"subtitle",style:{opacity:e.paramsIsEmpty?"0.50":"1"}},[e._v("\n        "+e._s(e.$gettext("Parameters"))+"\n        "),e.paramsIsEmpty?e._e():t("v-icon",{staticClass:"check-icon",attrs:{color:"success"}},[e._v("\n          fas fa-check\n        ")])],1),e._v(" "),t("div",{staticClass:"element"},[t("v-btn",{attrs:{icon:"",outlined:""},on:{click:()=>e.buttonHandle("parameters")}},[t("v-icon",{attrs:{small:""}},[e._v("\n            fa-solid fa-upload\n          ")])],1)],1)],1),e._v(" "),t("div",{staticClass:"container"},[t("v-icon",{staticClass:"type-icon",style:{opacity:e.stylesIsEmpty?"0.50":"1"}},[e._v("\n        fas fa-palette\n      ")]),e._v(" "),t("div",{staticClass:"subtitle",style:{opacity:e.stylesIsEmpty?"0.50":"1"}},[e._v("\n        "+e._s(e.$gettext("Style presets"))+"\n        "),e.stylesIsEmpty?e._e():t("v-icon",{staticClass:"check-icon",attrs:{color:"success"}},[e._v("\n          fas fa-check\n        ")])],1),e._v(" "),t("div",{staticClass:"element"},[t("v-btn",{attrs:{icon:"",outlined:""},on:{click:()=>e.buttonHandle("styles")}},[t("v-icon",{attrs:{small:""}},[e._v("\n            fa-solid fa-upload\n          ")])],1)],1)],1)])],1)};l._withStripped=!0;var c=i(82069);const d={name:"FileLoader",events:["FilesLoaded"],data:()=>({loadedLinks:{},loadedNodes:{},loadedType:"",choice:""}),computed:{rlinksIsEmpty(){return this.$store.getters.rlinksIsEmpty},linksIsEmpty(){return this.$store.getters.linksIsEmpty},ODIsEmpty(){return this.$store.getters["od/layerIsEmpty"]},paramsIsEmpty(){return this.$store.getters["run/parametersIsEmpty"]},stylesIsEmpty(){return 0===this.$store.getters.styles.length},localLinksLoaded(){return 0!==Object.keys(this.loadedLinks).length},localNodesLoaded(){return 0!==Object.keys(this.loadedNodes).length},localFilesAreLoaded(){return this.localLinksLoaded&&this.localNodesLoaded}},watch:{localFilesAreLoaded(e){if(e){let e=[];e="PT"===this.loadedType?[{path:"inputs/pt/links.geojson",content:this.loadedLinks},{path:"inputs/pt/nodes.geojson",content:this.loadedNodes}]:[{path:"inputs/road/links.geojson",content:this.loadedLinks},{path:"inputs/road/nodes.geojson",content:this.loadedNodes}],this.$emit("FilesLoaded",e),this.loadedLinks={},this.loadedNodes={},this.loadedType=""}}},methods:{buttonHandle(e){this.choice=e,"parameters"===this.choice?(this.$refs.paramsInput.click(),document.getElementById("params-input").value=""):"styles"===this.choice?(this.$refs.stylesInput.click(),document.getElementById("styles-input").value=""):["PT links","PT nodes","road links","road nodes","od"].includes(this.choice)&&(this.$refs.fileInput.click(),document.getElementById("file-input").value="")},async readParams(e){this.$store.commit("changeLoading",!0);const t=e.target.files;try{let e=await(0,a.Xy)(t[0]);e=JSON.parse(e),this.$emit("FilesLoaded",[{path:"inputs/params.json",content:e}]),this.$store.commit("changeLoading",!1)}catch(e){this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",e)}},async readStyles(e){this.$store.commit("changeLoading",!0);const t=e.target.files;try{let e=await(0,a.Xy)(t[0]);e=JSON.parse(e),this.$emit("FilesLoaded",[{path:"styles.json",content:e}]),this.$store.commit("changeLoading",!1)}catch(e){this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",e)}},async readFile(e){this.$store.commit("changeLoading",!0);const t=e.target.files;if("geojson"!==t[0].name.slice(-7))return this.$store.commit("changeLoading",!1),void this.$store.commit("changeAlert",{name:"ImportError",message:"File must be a geojson"});const i=t[0].name;try{let e=await(0,a.Xy)(t[0]);switch(e=JSON.parse(e),this.choice){case"PT links":this.loadedLinks=(0,c.GM)(e,i,"LineString"),this.loadedType="PT";break;case"PT nodes":this.loadedNodes=(0,c.GM)(e,i,"Point"),this.loadedType="PT";break;case"road links":this.loadedLinks=(0,c.GM)(e,i,"LineString"),this.loadedType="road";break;case"road nodes":this.loadedNodes=(0,c.GM)(e,i,"Point"),this.loadedType="road";break;case"od":this.$emit("FilesLoaded",[{path:"inputs/od/od.geojson",content:e}]);break;default:console.log("autre")}this.$store.commit("changeLoading",!1)}catch(e){this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",e)}}}};var p=i(93379),u=i.n(p),h=i(7795),m=i.n(h),g=i(90569),f=i.n(g),A=i(3565),v=i.n(A),y=i(19216),C=i.n(y),b=i(44589),k=i.n(b),w=i(56174),x={};x.styleTagTransform=k(),x.setAttributes=v(),x.insert=f().bind(null,"head"),x.domAPI=m(),x.insertStyleElement=C(),u()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var _=i(51900);const E=(0,_.Z)(d,l,[],!1,null,"d3a53384",null).exports;var S=function(){var e=this,t=e._self._c;return t("div",[t("input",{ref:"otherInputs",staticStyle:{display:"none"},attrs:{id:"other-inputs",type:"file",multiple:"multiple"},on:{change:e.readOtherInputs}}),e._v(" "),t("input",{ref:"otherOutputs",staticStyle:{display:"none"},attrs:{id:"other-outputs",type:"file",multiple:"multiple"},on:{change:e.readOtherOutputs}}),e._v(" "),t("div",{staticClass:"files-container"},[t("div",{staticClass:"title-box"},[t("h1",{staticClass:"title"},[e._v("\n        "+e._s(e.$gettext("Other Inputs"))+"\n      ")]),e._v(" "),t("div",{staticClass:"upload-button"},[t("v-btn",{attrs:{icon:"",outlined:""},on:{click:()=>e.buttonHandle("inputs")}},[t("v-icon",{attrs:{small:""}},[e._v("\n            fa-solid fa-upload\n          ")])],1)],1)]),e._v(" "),t("div",{staticClass:"list"},e._l(e.inputFiles,(function(i,s){return t("li",{key:s},[e._v("\n        "+e._s(i)+"\n        "),t("v-tooltip",{attrs:{top:"","open-delay":"250"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"list-button",attrs:{icon:""},on:{click:()=>e.buttonHandle(i)}},"v-btn",r,!1),s),[t("v-icon",{attrs:{small:""}},[e._v("\n                fa-solid fa-upload\n              ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Replace file inplace")))])])],1)})),0)]),e._v(" "),t("div",{staticClass:"files-container"},[t("div",{staticClass:"title-box"},[t("h1",{staticClass:"title"},[e._v("\n        "+e._s(e.$gettext("Outputs"))+"\n      ")]),e._v(" "),t("div",{staticClass:"upload-button"},[t("v-btn",{attrs:{icon:"",outlined:""},on:{click:()=>e.buttonHandle("outputs")}},[t("v-icon",{attrs:{small:""}},[e._v("\n            fa-solid fa-upload\n          ")])],1)],1)]),e._v(" "),t("div",{staticClass:"list"},[e._l(e.outputFiles,(function(i){return t("li",{key:i},[e._v("\n        "+e._s(i)+"\n      ")])})),e._v(" "),e._l(e.layers,(function(i){return t("li",{key:i},[e._v("\n        "+e._s(i)+"\n        "),t("v-tooltip",{attrs:{top:"","open-delay":"250"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-icon",e._g(e._b({staticClass:"list-icon",attrs:{small:""}},"v-icon",s,!1),i),[e._v("\n              fa-solid fa-layer-group\n            ")])]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Viewable in results")))])])],1)}))],2)])])};S._withStripped=!0;const L={name:"FilesList",events:["FilesLoaded"],data:()=>({filesPanel:[0,1]}),computed:{loadedFiles(){return this.$store.getters.otherFiles.map((e=>e.path))},inputFiles(){return this.loadedFiles.filter((e=>e.startsWith("input")))},outputFiles(){return this.loadedFiles.filter((e=>e.startsWith("output")))},layers(){const e=this.$store.getters.availableLayers.filter((e=>e.startsWith("outputs/"))),t=[];for(const i of e)t.push(i+".geojson"),this.$store.getters[`${i}/hasOD`]&&t.push(i+".json");return t}},mounted(){},methods:{buttonHandle(e){this.choice=e,"outputs"===this.choice?(this.$refs.otherOutputs.click(),document.getElementById("other-outputs").value=""):this.choice.startsWith("inputs")&&(this.$refs.otherInputs.click(),document.getElementById("other-inputs").value="")},async readOtherInputs(e){this.$store.commit("changeLoading",!0);const t=[],i=e.target.files;for(const e of i){let i="inputs/"+e.name;"inputs"!==this.choice&&(i=this.choice);try{const s=await(0,a.Bq)(e);t.push({content:s,path:i}),this.$store.commit("changeLoading",!1)}catch(e){this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",e)}}this.$store.commit("changeLoading",!1),this.$emit("FilesLoaded",t)},async readOtherOutputs(e){this.$store.commit("changeLoading",!0);const t=[],i=e.target.files;for(const e of i){const i="outputs/"+e.name;try{if(e.name.endsWith(".geojson")||e.name.endsWith(".json")){let s=await(0,a.Xy)(e);s=JSON.parse(s),t.push({content:s,path:i})}else{const s=await(0,a.Bq)(e);t.push({content:s,path:i})}this.$store.commit("changeLoading",!1)}catch(e){this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",e)}}this.$store.commit("changeLoading",!1),this.$emit("FilesLoaded",t)}}};var I=i(77697),$={};$.styleTagTransform=k(),$.setAttributes=v(),$.insert=f().bind(null,"head"),$.domAPI=m(),$.insertStyleElement=C(),u()(I.Z,$),I.Z&&I.Z.locals&&I.Z.locals;const N=(0,_.Z)(L,S,[],!1,null,"e186d29a",null).exports;var F=function(){var e=this,t=e._self._c;return t("div",{style:{"margin-left":"10px"}},[t("v-btn",{attrs:{icon:"",small:""},on:{click:e.show}},[t("v-icon",[e._v("far fa-question-circle small")])],1),e._v(" "),t("v-dialog",{attrs:{height:e.height,width:e.width},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-img",{attrs:{src:e.url,contain:"",height:e.height,width:e.width,alt:"image"}})],1)],1)};F._withStripped=!0;const B={name:"InfoZip",data:()=>({showDialog:!1,url:"https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/zip_schematic.jpg",width:1300,height:900}),watch:{},methods:{show(){if(this.showDialog=!this.showDialog,!0===this.showDialog){const e=new Image;e.onload=()=>{this.width=e.width>this.width?this.width:e.width,this.height=e.height>this.height?this.height:e.height},e.src=this.url}}}},M={name:"Import",components:{FileLoader:E,InfoZip:(0,_.Z)(B,F,[],!1,null,"1b5fbd9c",null).exports,FilesList:N},data:()=>({loggedIn:!1,choice:null,showDialog:!1,filesAdded:!1}),computed:{projectIsEmpty(){return this.$store.getters.projectIsEmpty},s3Path(){return this.$route.query.s3Path}},watch:{s3Path(e){e&&this.loadFilesFromS3(e)}},mounted(){this.$store.commit("changeNotification",""),this.s3Path&&this.loadFilesFromS3(this.s3Path)},methods:{login(){setTimeout((()=>{this.$router.push("/Home").catch((()=>{}))}),300)},buttonHandle(e){switch(this.choice=e,this.choice){case"zip":this.$refs.zipInput.click(),document.getElementById("zip-input").value="";break;case"example1":this.projectIsEmpty?this.loadExample(["PT","road"]):this.showDialog=!0;break;case"example2":this.projectIsEmpty?this.loadExample(["PT","road","loaded","zones"]):this.showDialog=!0;break;case"newProject":this.projectIsEmpty?this.newProject():this.showDialog=!0}},applyDialog(){this.$store.commit("initNetworks"),this.$store.commit("unloadLayers"),this.$store.commit("unloadProject"),this.$store.commit("run/cleanRun"),"example1"===this.choice?this.loadExample(["PT","road"]):"example2"===this.choice?this.loadExample(["PT","road","loaded","zones"]):"newProject"===this.choice&&this.newProject(),this.showDialog=!this.showDialog},newProject(){this.$store.commit("initNetworks"),this.$store.commit("unloadLayers"),this.$store.commit("unloadProject"),this.$store.commit("run/cleanRun"),this.$store.commit("changeNotification",{text:"project overwrited",autoClose:!0,color:"success"})},loadNetwork(e){this.$store.commit("loadFiles",e),this.filesAdded=!0,this.$store.commit("changeLoading",!1)},async readZip(e){try{this.$store.commit("changeLoading",!0);const t=e.target.files;if(!t.length)return void this.$store.commit("changeLoading",!1);if("zip"!==t[0].name.slice(-3))return this.$store.commit("changeLoading",!1),void this.$store.commit("changeAlert",{name:"ImportError",message:"file is not a zip"});const i=await(0,a.sV)(t[0]);this.loadNetwork(i)}catch(e){this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",e)}},async loadFilesFromS3(){this.projectIsEmpty||(this.$store.commit("initNetworks"),this.$store.commit("unloadLayers"),this.$store.commit("run/cleanRun")),this.$store.commit("changeLoading",!0),this.$router.replace({query:null});const e=this.$store.getters.model,t=this.$store.getters.scenario+"/",i=[];try{let s=await n.Z.listFiles(e,t);s=s.filter((e=>!e.endsWith("/")));for(const r of s){const s=r.slice(t.length);if(s.startsWith("outputs/")||s.startsWith("inputs/"))if(r.endsWith(".json")||r.endsWith(".geojson")){const t=await n.Z.readJson(e,r);i.push({path:s,content:t})}else i.push({path:s,content:null});else{if("styles.json"===s){const t=await n.Z.readJson(e,r);i.push({path:s,content:t})}if("attributesChoices.json"===s){const t=await n.Z.readJson(e,r);i.push({path:s,content:t})}}}this.loadNetwork(i)}catch(e){this.$store.commit("changeAlert",e),this.$store.commit("changeLoading",!1)}},async loadExample(e){this.$store.commit("changeLoading",!0);const t="https://raw.githubusercontent.com/systragroup/quetzal-network-editor/master/example/",i=[];let s={};try{e.includes("PT")&&(s=await fetch(t+"links_exemple.geojson").then((e=>e.json())),i.push({path:"inputs/pt/links.geojson",content:s}),s=await fetch(t+"nodes_exemple.geojson").then((e=>e.json())),i.push({path:"inputs/pt/nodes.geojson",content:s})),e.includes("road")&&(s=await fetch(t+"road_links_exemple.geojson").then((e=>e.json())),i.push({path:"inputs/road/links.geojson",content:s}),s=await fetch(t+"road_nodes_exemple.geojson").then((e=>e.json())),i.push({path:"inputs/road/nodes.geojson",content:s})),e.includes("loaded")&&(s=await fetch(t+"loaded_links.geojson").then((e=>e.json())),i.push({path:"outputs/loaded_links.geojson",content:s}),s=await fetch(t+"loaded_nodes.geojson").then((e=>e.json())),i.push({path:"outputs/loaded_nodes.geojson",content:s})),e.includes("zones")&&(s=await fetch(t+"zones.geojson").then((e=>e.json())),i.push({path:"outputs/zones.geojson",content:s}),s=await fetch(t+"zones.zip").then((e=>(0,a.Ri)(e.blob()))),i.push({path:"outputs/zones.json",content:s})),this.loadNetwork(i)}catch{this.$store.commit("changeLoading",!1),this.$store.commit("changeAlert",{name:"ImportError",message:"An error occur fetching example on github"})}}}};var j=i(58141),D={};D.styleTagTransform=k(),D.setAttributes=v(),D.insert=f().bind(null,"head"),D.domAPI=m(),D.insertStyleElement=C(),u()(j.Z,D),j.Z&&j.Z.locals&&j.Z.locals;const O=(0,_.Z)(M,o,[],!1,null,"020024f7",null).exports;var T=i(36648),P=function(){var e=this,t=e._self._c;return t("section",{staticClass:"map-view"},[t("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":e.numLinks>1?"40rem":"20rem"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.applyAction.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelAction.apply(null,arguments)}]},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-card",{attrs:{"max-height":"55rem"}},[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(["deleteTrip","deleterGroup"].includes(e.action)?e.$gettext("Delete")+" "+e.message+"?":e.$gettext("Edit Properties"))+"\n      ")]),e._v(" "),t("v-divider"),e._v(" "),e.editForm?t("v-card-text",[t("v-row",e._l(e.numLinks,(function(i,s){return t("v-col",{key:s},[t("v-list",[e.numLinks>1?t("v-list-item",[t("v-icon",{style:{"align-items":"center","justify-content":"center",transform:"rotate("+e.linkDir[s]+"deg)"}},[e._v("\n                  fas fa-long-arrow-alt-up\n                ")])],1):e._e(),e._v(" "),e._l(e.orderedForm(s),(function(i,s){return t("v-text-field",{key:s,attrs:{label:s,hint:e.showHint?e.$gettext(e.hints[s]):"","persistent-hint":e.showHint,filled:!i.disabled,type:e.$store.getters.attributeType(s),placeholder:i.placeholder?e.$gettext("multiple Values"):"","persistent-placeholder":!!i.placeholder,disabled:i.disabled},on:{wheel:function(e){return e.target.blur()}},scopedSlots:e._u(["route_color"===s?{key:"append",fn:function(){return[t("color-picker",{model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"value['value']"}})]},proxy:!0}:Object.keys(e.attributesChoices).includes(s)?{key:"append",fn:function(){return[t("MenuSelector",{attrs:{items:e.attributesChoices[s]},model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"value['value']"}})]},proxy:!0}:null,e.showDeleteOption?{key:"prepend",fn:function(){return[t("v-btn",{attrs:{icon:"","x-small":"",disabled:e.attributeNonDeletable(s),color:"error"},on:{click:()=>e.deleteField(s)}},[t("v-icon",[e._v("fas fa-trash small")])],1)]},proxy:!0}:null],null,!0),model:{value:i.value,callback:function(t){e.$set(i,"value",t)},expression:"value['value']"}})}))],2)],1)})),1),e._v(" "),t("v-row",[t("v-text-field",{attrs:{label:e.$gettext("add field"),placeholder:e.$gettext("new field name"),filled:"",rules:e.rules.newField},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.addField.apply(null,arguments))},wheel:function(e){return e.target.blur()}},scopedSlots:e._u([{key:"append-outer",fn:function(){return[t("v-btn",{staticClass:"text--primary",attrs:{color:"primary",fab:"","x-small":""},on:{click:e.addField}},[t("v-icon",[e._v("fas fa-plus")])],1)]},proxy:!0}],null,!1,941361224),model:{value:e.newFieldName,callback:function(t){e.newFieldName=t},expression:"newFieldName"}})],1)],1):e._e(),e._v(" "),["cloneTrip"].includes(e.action)?t("v-card-text",[t("v-text-field",{attrs:{label:e.$gettext("New name")},model:{value:e.cloneName,callback:function(t){e.cloneName=t},expression:"cloneName"}})],1):e._e(),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",[e.editForm?t("v-btn",{attrs:{icon:"","x-small":""},on:{click:()=>e.showHint=!e.showHint}},[t("v-icon",[e._v("far fa-question-circle small")])],1):e._e(),e._v(" "),e.editForm?t("v-btn",{attrs:{icon:"","x-small":""},on:{click:e.ToggleDeleteOption}},[e.showDeleteOption?t("v-icon",[e._v("\n            fas fa-minus-circle fa-rotate-90\n          ")]):t("v-icon",[e._v("\n            fas fa-minus-circle\n          ")])],1):e._e(),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",text:""},on:{click:e.cancelAction}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"success",text:""},on:{click:e.applyAction}},[e._v("\n          "+e._s(e.$gettext("Save"))+"\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{"max-width":"300"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.duplicate()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelClone.apply(null,arguments)}]},model:{value:e.cloneDialog,callback:function(t){e.cloneDialog=t},expression:"cloneDialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"text-h5"},[e._v(e._s(e.$gettext("Duplicate and reverse")))]),e._v(" "),t("span",{staticClass:"text-h5"},[e._v(e._s(e.message+" ?"))])]),e._v(" "),t("v-card-text",[t("v-text-field",{attrs:{label:e.$gettext("New name")},model:{value:e.cloneName,callback:function(t){e.cloneName=t},expression:"cloneName"}})],1),e._v(" "),t("v-card-text",{style:{textAlign:"center",color:"red"}},[e._v("\n        "+e._s(e.errorMessage)+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",text:""},on:{click:e.cancelClone}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.duplicate()}}},[e._v("\n          "+e._s(e.$gettext("Save"))+"\n        ")])],1)],1)],1),e._v(" "),t("SidePanel",{attrs:{"selected-trips":e.selectedTrips,"selectedr-group":e.selectedrGroup},on:{"update-tripList":e.updateSelectedTrips,confirmChanges:e.confirmChanges,abortChanges:e.abortChanges,deleteButton:e.deleteButton,cloneButton:e.cloneButton,propertiesButton:e.actionClick,"change-mode":t=>e.mode=t}}),e._v(" "),t("Map",{ref:"mapref",attrs:{"selected-trips":e.selectedTrips,mode:e.mode},on:{clickFeature:e.actionClick}})],1)};P._withStripped=!0;var z=function(){var e=this,t=e._self._c;return t("section",{ref:"leftPanelDiv",class:e.showLeftPanel?"left-panel elevation-4":"left-panel-close",style:{width:e.showLeftPanel?e.width+"px":"0px"}},[t("div",{staticClass:"left-panel-toggle-btn elevation-4",on:{click:function(t){return e.$store.commit("changeLeftPanel")}}},[t("v-icon",{attrs:{small:"",color:"secondary"}},[e._v("\n      "+e._s(e.showLeftPanel?"fas fa-chevron-left":"fas fa-chevron-right")+"\n    ")])],1),e._v(" "),t("div",{staticClass:"resizable-handle",on:{mousedown:e.startResize}}),e._v(" "),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showLeftPanelContent,expression:"showLeftPanelContent"}],ref:"leftPanel",staticClass:"left-panel-content",attrs:{id:"left-panel"}},[t("div",[t("div",{style:{"margin-top":"20px","margin-bottom":"20px","margin-right":"20px"}},[t("v-tabs",{attrs:{"background-color":"secondary",dark:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("v-tab",[e._v(e._s(e.$gettext("PT")))]),e._v(" "),t("v-tab",[e._v(e._s(e.$gettext("Road")))]),e._v(" "),t("v-tab",[e._v(e._s(e.$gettext("OD")))])],1),e._v(" "),t("LinksSidePanel",{directives:[{name:"show",rawName:"v-show",value:0===e.tab,expression:"tab===0"}],attrs:{height:e.windowHeight,"selected-trips":e.selectedTrips},on:{"update-tripList":t=>e.$emit("update-tripList",{type:"links",data:t}),confirmChanges:t=>e.$emit("confirmChanges",t),abortChanges:t=>e.$emit("abortChanges",t),cloneButton:t=>e.$emit("cloneButton",t),deleteButton:t=>e.$emit("deleteButton",t),propertiesButton:t=>e.$emit("propertiesButton",t)}}),e._v(" "),t("RoadSidePanel",{directives:[{name:"show",rawName:"v-show",value:1===e.tab,expression:"tab===1"}],attrs:{height:e.windowHeight,"selectedr-goup":e.selectedrGroup},on:{"update-tripList":t=>e.$emit("update-tripList",{type:"rlinks",data:t}),deleteButton:t=>e.$emit("deleteButton",t),propertiesButton:t=>e.$emit("propertiesButton",t)}}),e._v(" "),t("ODSidePanel",{directives:[{name:"show",rawName:"v-show",value:2===e.tab,expression:"tab===2"}],attrs:{height:e.windowHeight},on:{deleteButton:t=>e.$emit("deleteButton",t),propertiesButton:t=>e.$emit("propertiesButton",t)}})],1)])])])],1)};z._withStripped=!0;var R=function(){var e=this,t=e._self._c;return t("section",[t("v-card-title",{staticClass:"white--text secondary"},[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:""},on:{click:function(t){return e.showAll()}}},"v-btn",s,!1),i),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n            "+e._s(e.tripList==e.tripId?"fa-eye fa":"fa-eye-slash fa")+"\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.tripList==e.tripId?e.$gettext("Hide All"):e.$gettext("Show All")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:"",disabled:0===e.tripList.length},on:{click:function(t){return e.propertiesButton(e.tripList)}}},"v-btn",s,!1),i),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n            fas fa-list\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Visibles Properties")))])]),e._v(" "),t("v-spacer"),e._v(" "),t("span",{style:{color:"white"}},[e._v("\n      "+e._s(e.$gettext("Lines"))+"\n    ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-spacer"),e._v(" "),t("v-menu",{attrs:{"offset-y":"","open-on-hover":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:"",dark:""}},"v-btn",s,!1),i),[t("v-icon",[e._v("fa-solid fa-download")])],1)]}}])},[e._v(" "),t("v-list",[t("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$store.dispatch("exportFiles")}}},[t("v-list-item-title",[e._v("\n            "+e._s(e.$gettext("Export All"))+"\n          ")])],1),e._v(" "),t("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$store.dispatch("exportFiles","visibles")}}},[t("v-list-item-title",[e._v("\n            "+e._s(e.$gettext("Export Only Visible"))+"\n          ")])],1)],1)],1)],1),e._v(" "),t("v-card",{staticClass:"mx-auto scrollable",attrs:{"max-width":"100%","min-width":"100%",height:e.height}},[t("v-list-item",[t("v-select",{attrs:{items:e.filterChoices,"prepend-icon":"fas fa-filter",label:e.$gettext("filter"),"item-color":"secondarydark",color:"secondarydark"},model:{value:e.vmodelSelectedFilter,callback:function(t){e.vmodelSelectedFilter=t},expression:"vmodelSelectedFilter"}})],1),e._v(" "),e._l(e.classifiedTripId,(function(i,s){return t("v-list-group",{key:String(i.name)+String(s),attrs:{color:"secondarydark",value:!1,"no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[t("v-list-item-action",[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.showGroup(i.tripId)}}},"v-btn",r,!1),s),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n                  "+e._s(i.tripId.some((t=>e.tripList.includes(t)))?"fa-eye fa":"fa-eye-slash fa")+"\n                ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v("\n              "+e._s(i.tripId.some((t=>e.tripList.includes(t)))?e.$gettext("Hide All"):e.$gettext("Show All"))+"\n            ")])])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[t("strong",[e._v("\n              "+e._s("undefined"==i.name?e.$gettext(i.name):i.name)+"\n            ")])])],1),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:null!=e.editorTrip},on:{click:function(t){return t.stopPropagation(),e.propertiesButton(i.tripId)}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{color:"regular"}},[e._v("\n                fas fa-list\n              ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Group Properties")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!e.editorTrip},on:{click:function(t){return t.stopPropagation(),e.deleteButton({trip:i.tripId,message:i.name,action:"deleteTrip"})}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{small:"",color:"regular"}},[e._v("\n                fas fa-trash\n              ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Delete Group")))])])]},proxy:!0}],null,!0)},[e._v(" "),t("v-virtual-scroll",{attrs:{items:i.tripId,"item-height":45,height:Math.min(e.height-220,45*i.tripId.length+3)},scopedSlots:e._u([{key:"default",fn:function({item:i}){return[t("v-list-item",{key:i,staticClass:"pl-2"},[t("v-list-item-action",[t("v-checkbox",{staticClass:"pl-2",attrs:{"on-icon":"fa-eye fa","off-icon":"fa-eye-slash fa",color:"primary",value:i,size:"10","hide-details":""},model:{value:e.tripList,callback:function(t){e.tripList=t},expression:"tripList"}})],1),e._v(" "),t("v-tooltip",{attrs:{right:"","open-delay":"300","content-class":"custom-tooltip"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[i==e.editorTrip?t("v-list-item-title",e._g({},s),[t("strong",[e._v(e._s(i))])]):t("v-list-item-title",e._g({},s),[e._v("\n                  "+e._s(i)+"\n                ")])]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(i))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!(i!=e.editorTrip&null!=e.editorTrip)},on:{click:function(t){return e.editButton(i)}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{color:(e.editorTrip,"regular")}},[e._v("\n                    fas fa-pen\n                  ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Line")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!(i!=e.editorTrip&null!=e.editorTrip)},on:{click:function(t){return e.propertiesButton(i)}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{color:(e.editorTrip,"regular")}},[e._v("\n                    fas fa-list\n                  ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Line Properties")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!(i!=e.editorTrip&null!=e.editorTrip)},on:{click:function(t){return e.cloneButton({trip:i,message:i})}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{color:(e.editorTrip,"regular")}},[e._v("\n                    fas fa-clone\n                  ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Duplicate")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!e.editorTrip},on:{click:function(t){return e.deleteButton({trip:i,message:i,action:"deleteTrip"})}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{small:"",color:"regular"}},[e._v("\n                    fas fa-trash\n                  ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Delete Line")))])])],1)]}}],null,!0)})],1)})),e._v(" "),t("v-divider")],2),e._v(" "),t("v-card",{staticClass:"mx-auto"},[e.editorTrip?t("v-list-item",[t("v-tooltip",{attrs:{right:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:e.$store.getters.anchorMode?"grey":"regular"},on:{click:function(t){return e.$store.commit("changeAnchorMode")}}},"v-btn",s,!1),i),[t("v-icon",{attrs:{small:""}},[e._v("\n              fas fa-anchor\n            ")])],1)]}}],null,!1,3833012906)},[e._v(" "),t("span",[e._v(" "+e._s(e.$gettext("Edit Line geometry"))+" "),t("b",[e._v("(CTRL)")])])]),e._v(" "),t("v-btn",{on:{click:function(t){return e.$emit("abortChanges")}}},[t("v-icon",{attrs:{small:"",left:""}},[e._v("\n          fas fa-times-circle\n        ")]),e._v("\n        "+e._s(e.$gettext("Abort"))+"\n      ")],1),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("confirmChanges")}}},[t("v-icon",{attrs:{small:"",left:""}},[e._v("\n          fas fa-save\n        ")]),e._v("\n        "+e._s(e.$gettext("Confirm"))+"\n      ")],1)],1):e._e(),e._v(" "),t("v-list-item",{directives:[{name:"show",rawName:"v-show",value:!e.editorTrip,expression:"editorTrip ? false: true"}]},[t("v-spacer"),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"text--primary",attrs:{color:"primary",fab:"",small:""},on:{click:e.createNewLine}},"v-btn",s,!1),i),[t("v-icon",[e._v("fas fa-plus")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Create new Line")))])])],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"290"},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$emit("confirmChanges"),e.showDialog=!e.showDialog},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showDialog=!1}]},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(e.$gettext("Save Changes?"))+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"regular",left:""},on:{click:function(t){e.showDialog=!1}}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"regular"},on:{click:function(t){e.$emit("abortChanges"),e.showDialog=!e.showDialog}}},[e._v("\n          "+e._s(e.$gettext("No"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.$emit("confirmChanges"),e.showDialog=!e.showDialog}}},[e._v("\n          "+e._s(e.$gettext("Yes"))+"\n        ")])],1)],1)],1)],1)};R._withStripped=!0;const Z=i(7597),H={name:"LinksSidePanel",components:{},props:["selectedTrips","height"],events:["selectEditorTrip","confirmChanges","abortChanges","cloneButton","deleteButton","propertiesButton","newLine"],data:()=>({showDialog:!1,tripList:[],selectedFilter:"",vmodelSelectedFilter:""}),computed:{filterChoices(){return this.$store.getters.lineAttributes},editorTrip(){return this.$store.getters.editorTrip},tripId(){return this.$store.getters.tripId},arrayUniqueTripId(){return[...new Map(this.$store.getters.links.features.map((e=>[e.properties.trip_id,e.properties]))).values()]},filteredCat(){return Array.from(new Set(this.arrayUniqueTripId.map((e=>e[this.selectedFilter]))))},classifiedTripId(){const e=[],t={name:"undefined",tripId:[]};return this.filteredCat.forEach((i=>{const s=this.arrayUniqueTripId.filter((e=>e[this.selectedFilter]===i)).map((e=>e.trip_id)).sort();null===i|""===i|void 0===i?t.tripId.push(...s):e.push({name:i,tripId:s})})),t.tripId.length>0&&e.push(t),e}},watch:{tripList(e){this.$emit("update-tripList",e)},tripId(e,t){if(e.length<t.length)this.tripList=this.tripList.filter((t=>e.includes(t)));else if(e.length>t.length){const i=e.filter((e=>!t.includes(e)))[0];this.tripList.push(i)}else{const i={};t.forEach((function(t,s){i[t]=e[s]})),this.tripList=this.tripList.map((e=>i[e]))}},vmodelSelectedFilter(e,t){this.selectedFilter=e,this.filteredCat.length>500&&(this.selectedFilter=t,this.$store.commit("changeNotification",{text:"Cannot filter by this field. There is more than 500 groups",autoClose:!0,color:"red darken-2"}),this.$nextTick((()=>this.vmodelSelectedFilter=t)))}},created(){this.tripList=this.selectedTrips,this.selectedFilter="route_type",this.vmodelSelectedFilter=this.selectedFilter},methods:{editButton(e){this.editorTrip===e?this.showDialog=!0:(this.$store.commit("setEditorTrip",{tripId:e,changeBounds:!0}),this.$store.commit("changeNotification",{text:"",autoClose:!0}))},propertiesButton(e){"object"==typeof e?this.$emit("propertiesButton",{action:"Edit Group Info",lingering:!1,tripIds:e}):this.editorTrip?(this.$emit("propertiesButton",{action:"Edit Line Info",lingering:!0}),this.$store.commit("changeNotification",{text:"",autoClose:!0})):(this.$store.commit("setEditorTrip",{tripId:e,changeBounds:!1}),this.$emit("propertiesButton",{action:"Edit Line Info",lingering:!1}))},createNewLine(){const e="trip_"+Z.generate();this.$store.commit("setEditorTrip",{tripId:e,changeBounds:!1}),this.$emit("propertiesButton",{action:"Edit Line Info",lingering:!0})},cloneButton(e){this.$emit("cloneButton",e)},deleteButton(e){this.$emit("deleteButton",e)},showAll(){this.tripList===this.tripId?this.tripList=[]:this.tripList=this.tripId},showGroup(e){e.some((e=>this.tripList.includes(e)))?this.tripList=this.tripList.filter((t=>!e.includes(t))):this.tripList=Array.from(new Set([...this.tripList,...e]))}}};var G=i(67308),q={};q.styleTagTransform=k(),q.setAttributes=v(),q.insert=f().bind(null,"head"),q.domAPI=m(),q.insertStyleElement=C(),u()(G.Z,q),G.Z&&G.Z.locals&&G.Z.locals;const V=(0,_.Z)(H,R,[],!1,null,"61e624f6",null).exports;var U=function(){var e=this,t=e._self._c;return t("section",[t("v-card-title",{staticClass:"white--text secondary"},[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:""},on:{click:function(t){return e.showAll()}}},"v-btn",s,!1),i),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n            "+e._s(e.tripList.length>0?"fa-eye fa":"fa-eye-slash fa")+"\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.tripList.length>0?e.$gettext("Hide All"):e.$gettext("Show All")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:"",disabled:0===e.tripList.length},on:{click:function(t){return e.editVisible()}}},"v-btn",s,!1),i),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n            fas fa-list\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Visibles Properties")))])]),e._v(" "),t("v-spacer"),e._v(" "),t("span",{style:{color:"white"}},[e._v("\n      "+e._s(e.$gettext("Roads"))+"\n    ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-spacer"),e._v(" "),t("v-menu",{attrs:{"offset-y":"","open-on-hover":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:"",dark:""}},"v-btn",s,!1),i),[t("v-icon",[e._v("fa-solid fa-download")])],1)]}}])},[e._v(" "),t("v-list",[t("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$store.dispatch("exportFiles","all")}}},[t("v-list-item-title",[e._v("\n            "+e._s(e.$gettext("Export All"))+"\n          ")])],1),e._v(" "),t("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$store.dispatch("exportFiles","visible")}}},[t("v-list-item-title",[e._v("\n            "+e._s(e.$gettext("Export Only Visible"))+"\n          ")])],1)],1)],1)],1),e._v(" "),t("v-card",{staticClass:"mx-auto scrollable",attrs:{"max-width":"100%","min-width":"100%",height:e.height}},[t("v-list-item",[t("v-select",{attrs:{items:e.filterChoices,"prepend-icon":"fas fa-filter",label:e.$gettext("filter"),"item-color":"secondarydark",color:"secondarydark"},model:{value:e.vmodelSelectedFilter,callback:function(t){e.vmodelSelectedFilter=t},expression:"vmodelSelectedFilter"}})],1),e._v(" "),t("v-virtual-scroll",{attrs:{items:e.filteredCat,"item-height":45,height:e.height-71},scopedSlots:e._u([{key:"default",fn:function({item:i}){return[t("v-list-item",{key:e.vmodelSelectedFilter.concat(i),staticClass:"pl-2"},[t("v-list-item-action",[t("v-checkbox",{staticClass:"pl-2",attrs:{"on-icon":"fa-eye fa","off-icon":"fa-eye-slash fa",color:"primary",value:i,size:"10","hide-details":""},model:{value:e.tripList,callback:function(t){e.tripList=t},expression:"tripList"}})],1),e._v(" "),t("v-list-item-title",[e._v("\n            "+e._s(i)+"\n          ")]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!1},on:{click:function(t){return e.propertiesButton(i)}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{color:"regular"}},[e._v("\n                  fas fa-list\n                ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Line Properties")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!1},on:{click:function(t){return e.deleteButton({trip:i,group:e.selectedFilter,message:i,action:"deleterGroup"})}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{small:"",color:"regular"}},[e._v("\n                  fas fa-trash\n                ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Delete Line")))])])],1)]}}])}),e._v(" "),t("v-divider")],1),e._v(" "),t("v-card",{staticClass:"mx-auto"},[t("v-list-item",[t("v-tooltip",{attrs:{right:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{color:e.$store.getters.anchorMode?"grey":"regular"},on:{click:function(t){return e.$store.commit("changeAnchorMode")}}},"v-btn",s,!1),i),[t("v-icon",{attrs:{small:""}},[e._v("\n              fas fa-anchor\n            ")])],1)]}}])},[e._v(" "),t("span",[e._v(" "+e._s(e.$gettext("Edit Line geometry"))+" "),t("b",[e._v("(CTRL)")])])]),e._v(" "),t("v-tooltip",{attrs:{right:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{disabled:!e.$store.getters.hasCycleway,color:e.$store.getters.cyclewayMode?"green":"regular"},on:{click:function(t){return e.$store.commit("changeCyclewayMode")}}},"v-btn",s,!1),i),[t("v-icon",{attrs:{small:""}},[e._v("\n              fas fa-biking\n            ")])],1)]}}])},[e._v(" "),t("span",[e._v(" "+e._s(e.$gettext("Show Cycleway direction instead of road")))])]),e._v(" "),t("v-spacer")],1)],1)],1)};U._withStripped=!0;const J={name:"RoadSidePanel",components:{},props:["selectedrGoup","height"],events:["deleteButton","propertiesButton","update-tripList"],data(){return{tripList:this.selectedrGoup,selectedFilter:"",vmodelSelectedFilter:""}},computed:{filterChoices(){return this.$store.getters.rlineAttributes},filteredCat(){return this.$store.getters.filteredrCategory}},watch:{tripList(e,t){let i="",s="add";e===this.filteredCat?(i=e,s="showAll"):0===e.length?(i=[],s="hideAll"):e.length<t.length?(i=t.filter((t=>!e.includes(t))),s="remove"):e.length>t.length&&(i=e.filter((e=>!t.includes(e))),s="add"),""!==i&&this.$emit("update-tripList",{category:this.vmodelSelectedFilter,data:i,method:s})},selectedrGoup(e){const t=new Set(e),i=new Set(this.tripList);t.size===i.size&&new Set([...t,...i]).size===t.size||(this.tripList=structuredClone(e))},vmodelSelectedFilter(e,t){this.selectedFilter=e,this.$store.commit("changeSelectedrFilter",this.selectedFilter),t&&(this.tripList=[])}},mounted(){this.tripList=this.selectedrGoup,this.selectedFilter=this.$store.getters.selectedrFilter,this.vmodelSelectedFilter=this.selectedFilter,this.$store.commit("changeSelectedrFilter",this.selectedFilter),0!==this.$store.getters.links.features.length||this.$store.getters.projectIsEmpty||0!==this.selectedrGoup.length||this.showAll()},methods:{propertiesButton(e){this.$emit("propertiesButton",{action:"Edit Road Group Info",lingering:!1,category:this.vmodelSelectedFilter,group:e})},editVisible(){this.$emit("propertiesButton",{action:"Edit Visible Road Info",lingering:!1})},deleteButton(e){this.$emit("deleteButton",e)},showAll(){this.tripList.length===this.filteredCat.length?this.tripList=[]:this.tripList=this.filteredCat},showGroup(e){this.tripList=Array.from(new Set([...this.tripList,...e]))}}};var W=i(82215),Y={};Y.styleTagTransform=k(),Y.setAttributes=v(),Y.insert=f().bind(null,"head"),Y.domAPI=m(),Y.insertStyleElement=C(),u()(W.Z,Y),W.Z&&W.Z.locals&&W.Z.locals;const K=(0,_.Z)(J,U,[],!1,null,"0e528228",null).exports;var Q=function(){var e=this,t=e._self._c;return t("section",[t("v-card-title",{staticClass:"white--text secondary"},[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:""},on:{click:function(t){return e.showAll()}}},"v-btn",s,!1),i),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n            "+e._s(e.vmodelSelectedCat.length>0?"fa-eye fa":"fa-eye-slash fa")+"\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.vmodelSelectedCat.length>0?e.$gettext("Hide All"):e.$gettext("Show All")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:"",disabled:0===e.vmodelSelectedCat.length},on:{click:function(t){return e.editVisible()}}},"v-btn",s,!1),i),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n            fas fa-list\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Visibles Properties")))])]),e._v(" "),t("v-spacer"),e._v(" "),t("span",{style:{color:"white"}},[e._v("\n      "+e._s(e.$gettext("OD"))+"\n    ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-spacer"),e._v(" "),t("v-menu",{attrs:{"offset-y":"","open-on-hover":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"ma-2",style:{color:"white"},attrs:{icon:"",dark:""}},"v-btn",s,!1),i),[t("v-icon",[e._v("fa-solid fa-download")])],1)]}}])},[e._v(" "),t("v-list",[t("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$store.dispatch("exportFiles","all")}}},[t("v-list-item-title",[e._v("\n            "+e._s(e.$gettext("Export All"))+"\n          ")])],1),e._v(" "),t("v-list-item",{attrs:{link:""},on:{click:function(t){return e.$store.dispatch("exportFiles","visible")}}},[t("v-list-item-title",[e._v("\n            "+e._s(e.$gettext("Export Only Visible"))+"\n          ")])],1)],1)],1)],1),e._v(" "),t("v-card",{staticClass:"mx-auto scrollable",attrs:{"max-width":"100%","min-width":"100%",height:e.height}},[t("v-list-item",[t("v-select",{attrs:{items:e.filterChoices,"prepend-icon":"fas fa-filter",label:e.$gettext("filter"),"item-color":"secondarydark",color:"secondarydark"},model:{value:e.vmodelSelectedFilter,callback:function(t){e.vmodelSelectedFilter=t},expression:"vmodelSelectedFilter"}})],1),e._v(" "),t("v-virtual-scroll",{attrs:{items:e.filteredCat,"item-height":45,height:e.height-71},scopedSlots:e._u([{key:"default",fn:function({item:i}){return[t("v-list-item",{key:e.vmodelSelectedFilter.concat(i),staticClass:"pl-2"},[t("v-list-item-action",[t("v-checkbox",{staticClass:"pl-2",attrs:{"on-icon":"fa-eye fa","off-icon":"fa-eye-slash fa",color:"primary",value:i,size:"10","hide-details":""},model:{value:e.vmodelSelectedCat,callback:function(t){e.vmodelSelectedCat=t},expression:"vmodelSelectedCat"}})],1),e._v(" "),t("v-list-item-title",[e._v("\n            "+e._s(i)+"\n          ")]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!1},on:{click:function(t){return e.propertiesButton(i)}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{color:"regular"}},[e._v("\n                  fas fa-list\n                ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Edit Line Properties")))])]),e._v(" "),t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("v-btn",e._g(e._b({staticClass:"ma-1",attrs:{icon:"",disabled:!1},on:{click:function(t){return e.deleteButton({trip:i,group:e.selectedFilter,message:i,action:"deleteODGroup"})}}},"v-btn",r,!1),s),[t("v-icon",{attrs:{small:"",color:"regular"}},[e._v("\n                  fas fa-trash\n                ")])],1)]}}],null,!0)},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Delete Line")))])])],1)]}}])}),e._v(" "),t("v-divider")],1),e._v(" "),t("v-card",{staticClass:"mx-auto"},[t("v-list-item",[t("v-spacer")],1)],1)],1)};Q._withStripped=!0;const X={name:"RoadSidePanel",components:{},props:["height"],events:["deleteButton","propertiesButton"],data:()=>({vmodelSelectedFilter:"cycleway",vmodelSelectedCat:[]}),computed:{layer(){return this.$store.getters["od/layer"]},filterChoices(){return this.$store.getters["od/layerAttributes"]},selectedFilter(){return this.$store.getters["od/selectedFilter"]},selectedCat(){return this.$store.getters["od/selectedCategory"]},filteredCat(){return this.$store.getters["od/filteredCategory"]}},watch:{vmodelSelectedCat(e){this.$store.commit("od/changeSelectedCategory",e)},vmodelSelectedFilter(e){this.$store.commit("od/changeSelectedFilter",e),this.vmodelSelectedCat=[]}},mounted(){this.vmodelSelectedCat=this.selectedCat,this.vmodelSelectedFilter=this.selectedFilter},methods:{propertiesButton(e){this.$emit("propertiesButton",{action:"Edit OD Group Info",lingering:!1,category:this.vmodelSelectedFilter,group:e})},editVisible(){this.$emit("propertiesButton",{action:"Edit Visible OD Info",lingering:!1})},deleteButton(e){this.$emit("deleteButton",e)},showAll(){this.vmodelSelectedCat.length===this.filteredCat.length?this.vmodelSelectedCat=[]:this.vmodelSelectedCat=this.filteredCat},showGroup(e){this.tripList=Array.from(new Set([...this.tripList,...e]))}}};var ee=i(55271),te={};te.styleTagTransform=k(),te.setAttributes=v(),te.insert=f().bind(null,"head"),te.domAPI=m(),te.insertStyleElement=C(),u()(ee.Z,te),ee.Z&&ee.Z.locals&&ee.Z.locals;const ie={name:"SidePanel",components:{LinksSidePanel:V,RoadSidePanel:K,ODSidePanel:(0,_.Z)(X,Q,[],!1,null,"56780b52",null).exports},props:["selectedTrips","selectedrGroup"],events:["selectEditorTrip","confirmChanges","abortChanges","cloneButton","deleteButton","propertiesButton","change-mode"],data:()=>({showLeftPanelContent:!0,tab:0,mode:"pt",isResizing:!1,windowOffest:0,width:400}),computed:{showLeftPanel(){return this.$store.getters.showLeftPanel},windowHeight(){return this.$store.getters.windowHeight-200}},watch:{showLeftPanel(e){e?setTimeout((()=>{this.showLeftPanelContent=!0}),500):this.showLeftPanelContent=!1},tab(e){this.mode=0===e?"pt":1===e?"road":"od",this.$emit("change-mode",this.mode)}},created(){0!==this.$store.getters.links.features.length||this.$store.getters.projectIsEmpty||(this.tab=1)},methods:{startResize(e){e.preventDefault(),this.isResizing=!0,this.windowOffest=e.clientX-this.$refs.leftPanelDiv.clientWidth,document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.stopResize)},resize(e){if(this.isResizing){const t=e.clientX-this.windowOffest;this.width=t>400?t:400}},stopResize(e){this.isResizing=!1,document.removeEventListener("mousemove",this.resize),document.removeEventListener("mouseup",this.stopResize)}}};var se=i(88472),re={};re.styleTagTransform=k(),re.setAttributes=v(),re.insert=f().bind(null,"head"),re.domAPI=m(),re.insertStyleElement=C(),u()(se.Z,re),se.Z&&se.Z.locals&&se.Z.locals;const oe=(0,_.Z)(ie,z,[],!1,null,"f6e4315a",null).exports;var ne=function(){var e=this,t=e._self._c;return t("MglMap",{key:e.mapStyle,style:{width:"100%"},attrs:{"access-token":e.mapboxPublicKey,"map-style":e.mapStyle,center:e.$store.getters.mapCenter,zoom:e.$store.getters.mapZoom},on:{load:e.onMapLoaded,mousemove:e.draw,mouseout:function(t){return e.resetDraw()},click:e.addPoint,mouseup:e.rightClickMap}},[e.mapIsLoaded?[t("Settings")]:e._e(),e._v(" "),e.mapIsLoaded&e.rasterFiles.length>0?[t("LayerSelector",{attrs:{choices:e.rasterFiles,"available-layers":e.availableLayers}})]:e._e(),e._v(" "),t("MglScaleControl",{attrs:{position:"bottom-right"}}),e._v(" "),t("MglNavigationControl",{attrs:{position:"bottom-right"}}),e._v(" "),e._l(e.rasterFiles,(function(i){return t("div",{key:i.name},[e.mapIsLoaded&&e.visibleRasters.includes(i.name)&&e.availableLayers.includes(i.layer)?[t("StaticLayer",{attrs:{preset:i,map:e.map,order:e.visibleRasters.indexOf(i.name)}})]:e._e()],2)})),e._v(" "),e.mapIsLoaded?[t("RoadLinks",e._g({ref:"roadref",attrs:{map:e.map,"is-editor-mode":e.isEditorMode,"is-road-mode":"road"===e.mode,"anchor-mode":e.anchorMode}},e.isEditorMode?{}:e.anchorMode?{clickFeature:e.clickFeature}:{onHover:e.onHoverRoad,offHover:e.offHover,clickFeature:e.clickFeature}))]:e._e(),e._v(" "),e.mapIsLoaded?[t("StaticLinks",{attrs:{map:e.map,"showed-trips":e.selectedTrips,"is-editor-mode":e.isEditorMode},on:{rightClick:t=>e.$emit("clickFeature",t)}})]:e._e(),e._v(" "),e.mapIsLoaded?[t("EditorLinks",e._g({attrs:{map:e.map,"anchor-mode":e.anchorMode}},e.anchorMode?{clickFeature:e.clickFeature}:{onHover:e.onHover,offHover:e.offHover,clickFeature:e.clickFeature}))]:e._e(),e._v(" "),e.mapIsLoaded?[t("ODMap",{attrs:{map:e.map,"is-editor-mode":e.isEditorMode,"is-o-d-mode":"od"===e.mode},on:{clickFeature:e.clickFeature}})]:e._e(),e._v(" "),e.mapIsLoaded?[e.drawMode?t("MglGeojsonLayer",{attrs:{"source-id":"drawLink",source:{type:"geojson",data:e.drawLink,buffer:0,generateId:!0},"layer-id":"drawLink",layer:{type:"line",minzoom:2,paint:{"line-opacity":1,"line-color":e.$vuetify.theme.currentTheme.linksprimary,"line-width":["case",["boolean",e.connectedDrawLink,!1],5,3],"line-dasharray":["case",["boolean",e.connectedDrawLink,!1],["literal",[]],["literal",[0,2,4]]]}}}}):e._e()]:e._e()],2)};ne._withStripped=!0;var ae=i(6158),le=i.n(ae),ce=i(1963),de=i(22317),pe=i(59903),ue=i.n(pe),he=function(){var e=this,t=e._self._c;return t("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!1,origin:"top right",transition:"scale-transition","position-y":30,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"setting",attrs:{fab:"",small:""}},"v-btn",s,!1),i),[t("v-icon",{attrs:{color:"regular"}},[e._v("\n        fa-solid fa-cog\n      ")])],1)]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v(" "),t("v-card",{class:{shake:e.shake},attrs:{"max-width":300},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel.apply(null,arguments)}]}},[t("v-card-title",{staticClass:"subtitle"},[e._v("\n      "+e._s(e.$gettext("Settings"))+"\n    ")]),e._v(" "),t("v-card-text",[t("v-form",{ref:"form",attrs:{"lazy-validation":""}},[t("v-container",[t("v-col",[t("v-text-field",{attrs:{type:e.linkSpeed.type,label:e.$gettext(e.linkSpeed.name),suffix:e.linkSpeed.units,hint:e.showHint?e.$gettext(e.linkSpeed.hint):"","persistent-hint":e.showHint,rules:e.rules,required:""},on:{wheel:()=>{}},model:{value:e.linkSpeed.value,callback:function(t){e.$set(e.linkSpeed,"value",t)},expression:"linkSpeed.value"}}),e._v(" "),t("v-text-field",{attrs:{type:e.roadSpeed.type,label:e.$gettext(e.roadSpeed.name),suffix:e.roadSpeed.units,hint:e.showHint?e.$gettext(e.roadSpeed.hint):"","persistent-hint":e.showHint,rules:e.rules,required:""},on:{wheel:()=>{}},model:{value:e.roadSpeed.value,callback:function(t){e.$set(e.roadSpeed,"value",t)},expression:"roadSpeed.value"}}),e._v(" "),t("v-select",{attrs:{items:e.linksPopupContent.choices,label:e.$gettext(e.linksPopupContent.name),hint:e.showHint?e.$gettext(e.linksPopupContent.hint):"","persistent-hint":e.showHint,"menu-props":{top:!0,offsetY:!0},chips:"",multiple:""},model:{value:e.linksPopupContent.value,callback:function(t){e.$set(e.linksPopupContent,"value",t)},expression:"linksPopupContent.value"}}),e._v(" "),t("v-select",{attrs:{items:e.roadsPopupContent.choices,label:e.$gettext(e.roadsPopupContent.name),hint:e.showHint?e.$gettext(e.roadsPopupContent.hint):"","persistent-hint":e.showHint,"menu-props":{top:!0,offsetY:!0},chips:"",multiple:""},model:{value:e.roadsPopupContent.value,callback:function(t){e.$set(e.roadsPopupContent,"value",t)},expression:"roadsPopupContent.value"}}),e._v(" "),t("v-text-field",{attrs:{type:e.defaultHighway.type,label:e.$gettext(e.defaultHighway.name),suffix:e.defaultHighway.units,hint:e.showHint?e.$gettext(e.defaultHighway.hint):"","persistent-hint":e.showHint,rules:e.zipRules,required:""},model:{value:e.defaultHighway.value,callback:function(t){e.$set(e.defaultHighway,"value",t)},expression:"defaultHighway.value"}}),e._v(" "),t("v-text-field",{attrs:{type:e.outputName.type,label:e.$gettext(e.outputName.name),suffix:e.outputName.units,hint:e.showHint?e.$gettext(e.outputName.hint):"","persistent-hint":e.showHint,rules:e.zipRules,required:""},model:{value:e.outputName.value,callback:function(t){e.$set(e.outputName,"value",t)},expression:"outputName.value"}})],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"grey",text:""},on:{click:e.cancel}},[e._v("\n        "+e._s(e.$gettext("Cancel"))+"\n      ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.submit}},[e._v("\n        "+e._s(e.$gettext("Save"))+"\n      ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){e.showHint=!e.showHint}}},[t("v-icon",[e._v("far fa-question-circle small")])],1)],1)],1)],1)};he._withStripped=!0;const me={name:"Settings",events:["submit"],data:()=>({show:!1,linkSpeed:{name:"PT speed",type:"Number",value:0,units:"km/h",hint:"Speed used to calculate travel time when a link is drawn, extend or a node is moved"},roadSpeed:{name:"Road speed",type:"Number",value:0,units:"km/h",hint:"Speed used to calculate road travel time when a link is drawn"},linksPopupContent:{name:"PT Popup Content",type:"String",choices:[],value:"",hint:"Link field to display when hovering a trip on the map"},roadsPopupContent:{name:"Road Popup Content",type:"String",choices:[],value:"",hint:"Link field to display when hovering road link on the map"},defaultHighway:{name:"Road Highway name",type:"String",value:"",hint:"New road links Highway property name"},outputName:{name:"Export name",type:"String",value:"",units:".zip",hint:"the name of the exported zip file"},errorMessage:null,showHint:!1,shake:!1,rules:[e=>!!e||"Required",e=>e>=0||"should be larger than 0"],zipRules:[e=>".zip"!==e.slice(-4)||"do not add .zip to the end"],showDialog:!0}),watch:{show(){this.fetch()}},created(){this.localShow=this.show,this.fetch()},methods:{fetch(){this.linkSpeed.value=this.$store.getters.linkSpeed,this.roadSpeed.value=this.$store.getters.roadSpeed,this.linksPopupContent.choices=this.$store.getters.lineAttributes,this.linksPopupContent.value=this.$store.getters.linksPopupContent,this.roadsPopupContent.choices=this.$store.getters.rlineAttributes,this.roadsPopupContent.value=this.$store.getters.roadsPopupContent,this.defaultHighway.value=this.$store.getters.defaultHighway,this.outputName.value=this.$store.getters.outputName},submit(){if(this.$refs.form.validate()){const e={linkSpeed:this.linkSpeed.value,roadSpeed:this.roadSpeed.value,linksPopupContent:this.linksPopupContent.value,roadsPopupContent:this.roadsPopupContent.value,outputName:this.outputName.value,defaultHighway:this.defaultHighway.value};this.$store.commit("applySettings",e),this.$emit("submit",!0),this.show=!1,this.$store.commit("changeNotification",{text:"modification applied",autoClose:!0,color:"success"})}else this.shake=!0,setTimeout((()=>{this.shake=!1}),500)},cancel(){this.$emit("submit",!1),this.show=!1}}};var ge=i(5236),fe={};fe.styleTagTransform=k(),fe.setAttributes=v(),fe.insert=f().bind(null,"head"),fe.domAPI=m(),fe.insertStyleElement=C(),u()(ge.Z,fe),ge.Z&&ge.Z.locals&&ge.Z.locals;const Ae=(0,_.Z)(me,he,[],!1,null,"6c428464",null).exports;var ve=function(){var e=this,t=e._self._c;return t("section",[t("MglGeojsonLayer",e._g({attrs:{"source-id":"links",source:{type:"geojson",data:e.visibleLinks,buffer:0,promoteId:"index"},"layer-id":"links",layer:{interactive:!0,type:"line",minzoom:1,maxzoom:18,paint:{"line-color":["case",["has","route_color"],["concat","#",["get","route_color"]],e.$vuetify.theme.currentTheme.linksprimary],"line-opacity":["case",["boolean",e.isEditorMode,!1],.1,1],"line-width":["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],3],3]},layout:{"line-sort-key":["to-number",["get","route_width"]],"line-cap":"round"}}}},e.isEditorMode?{}:{mouseenter:e.enterLink,mouseleave:e.leaveLink,contextmenu:e.editLineProperties})),e._v(" "),t("MglGeojsonLayer",{attrs:{"source-id":"nodes",source:{type:"geojson",data:e.visibleNodes,buffer:0,promoteId:"index"},"layer-id":"nodes",layer:{interactive:!0,type:"circle",minzoom:12,maxzoom:18,paint:{"circle-color":["case",["boolean",e.isEditorMode,!1],e.$vuetify.theme.currentTheme.mediumgrey,e.$vuetify.theme.currentTheme.accent],"circle-stroke-color":e.$vuetify.theme.currentTheme.white,"circle-stroke-width":1,"circle-radius":["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],3],3]}}}})],1)};ve._withStripped=!0;const ye={name:"StaticLinks",components:{MglGeojsonLayer:ce.tf},props:["map","showedTrips","isEditorMode"],events:["rightClick"],data:()=>({visibleNodes:{},visibleLinks:{},selectedFeatures:[]}),computed:{selectedPopupContent(){return this.$store.getters.linksPopupContent},links(){return this.$store.getters.links},nodes(){return this.$store.getters.nodes}},watch:{showedTrips(e,t){this.setHiddenFeatures()},isEditorMode(e){e?this.map.off("dblclick",this.selectLine):this.map.on("dblclick",this.selectLine)}},created(){this.visibleLinks=structuredClone(this.$store.getters.linksHeader),this.visibleNodes=structuredClone(this.$store.getters.nodesHeader),this.setHiddenFeatures(),this.map.on("dblclick",this.selectLine)},methods:{enterLink(e){if(e.map.getCanvas().style.cursor="pointer",this.selectedFeatures=e.mapboxEvent.features,this.popup?.isOpen()&&this.popup.remove(),this.selectedPopupContent.length>0){let t=this.selectedPopupContent.map((e=>`${e}: <b>${this.selectedFeatures[0].properties[e]}</b>`));t=t.join("<br> "),this.popup=new(le().Popup)({closeButton:!1}).setLngLat([e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat]).setHTML(t).addTo(e.map)}},leaveLink(e){this.selectedFeatures=[],this.popup?.isOpen()&&this.popup.remove(),e.map.getCanvas().style.cursor=""},setHiddenFeatures(){const e=new Set(this.showedTrips);this.visibleLinks.features=this.links.features.filter((t=>e.has(t.properties.trip_id)));const t=this.visibleLinks.features.map((e=>e.properties.a)),i=this.visibleLinks.features.map((e=>e.properties.b)),s=new Set([...t,...i]);this.visibleNodes.features=this.visibleNodes.features.filter((e=>s.has(e.properties.index)));const r=[...new Set(this.visibleLinks.features.map((e=>Number(e.properties.route_width))))],o={};r.forEach((e=>o[e]=new Set)),this.visibleLinks.features.map((e=>[e.properties.a,e.properties.b].forEach((t=>o[Number(e.properties.route_width)].add(t)))));let n=new Set;for(let e=0;e<r.length-1;e++){const t=o[r[e+1]],i=o[r[e]];n=new Set([...n,...i]),o[r[e+1]]=new Set([...t].filter((e=>!n.has(e))))}r.forEach((e=>{const t=this.nodes.features.filter((t=>o[e].has(t.properties.index)));t.map((t=>t.properties.route_width=e)),this.visibleNodes.features.push(...t)}))},selectLine(e){if(e.preventDefault(),0===this.selectedFeatures.length){const t=[[e.point.x-5,e.point.y-5],[e.point.x+5,e.point.y+5]];this.selectedFeatures=this.map.queryRenderedFeatures(t,{layers:["links"]})}this.selectedFeatures.length>0&&(this.$store.commit("setEditorTrip",{tripId:this.selectedFeatures[0].properties.trip_id,changeBounds:!1}),this.$store.commit("changeNotification",{text:"",autoClose:!0}))},editLineProperties(e){this.$store.commit("setEditorTrip",{tripId:e.mapboxEvent.features[0].properties.trip_id,changeBounds:!1}),this.$emit("rightClick",{action:"Edit Line Info",lingering:!1})}}},Ce=(0,_.Z)(ye,ve,[],!1,null,"661f6889",null).exports;var be=function(){var e=this,t=e._self._c;return t("section",[t("MglGeojsonLayer",e._g({attrs:{"source-id":"editorLinks",source:{type:"geojson",data:e.$store.getters.editorLinks,buffer:0,promoteId:"index"},"layer-id":"editorLinks",layer:{type:"line",minzoom:2,paint:{"line-color":["case",["boolean",e.anchorMode,!1],e.$vuetify.theme.currentTheme.linkssecondary,e.$vuetify.theme.currentTheme.linksprimary],"line-width":["case",["boolean",["feature-state","hover"],!1],12,5],"line-blur":["case",["boolean",["feature-state","hover"],!1],6,0]}}},on:{click:e.selectClick,mouseover:e.onCursor,mouseleave:e.offCursor}},e.anchorMode?{}:{contextmenu:e.linkRightClick})),e._v(" "),t("MglImageLayer",{attrs:{"source-id":"editorLinks",type:"symbol",source:"editorLinks","layer-id":"arrow-layer",layer:{type:"symbol",minzoom:5,layout:{"symbol-placement":"line","symbol-spacing":30,"icon-ignore-placement":!0,"icon-image":"arrow","icon-size":.5,"icon-rotate":90},paint:{"icon-color":["case",["boolean",e.anchorMode,!1],e.$vuetify.theme.currentTheme.linkssecondary,e.$vuetify.theme.currentTheme.linksprimary]}}}}),e._v(" "),t("MglGeojsonLayer",e._g({attrs:{"source-id":"editorNodes",source:{type:"geojson",data:e.$store.getters.editorNodes,buffer:0,promoteId:"index"},"layer-id":"editorNodes",layer:{interactive:!0,type:"circle",minzoom:2,paint:{"circle-color":e.$vuetify.theme.currentTheme.accent,"circle-radius":["case",["boolean",["feature-state","hover"],!1],16,8],"circle-blur":["case",["boolean",["feature-state","hover"],!1],.3,0]}}},on:{mouseover:e.onCursor,mouseleave:e.offCursor,mousedown:e.moveNode}},e.anchorMode?{}:{click:e.selectClick,contextmenu:e.contextMenuNode})),e._v(" "),t("MglGeojsonLayer",{attrs:{"source-id":"anchorNodes",source:{type:"geojson",data:e.anchorNodes,buffer:0,promoteId:"index"},"layer-id":"anchorNodes",layer:{interactive:!0,type:"circle",minzoom:2,paint:{"circle-color":"#ffffff","circle-opacity":.5,"circle-radius":["case",["boolean",["feature-state","hover"],!1],10,5],"circle-blur":["case",["boolean",["feature-state","hover"],!1],.3,0],"circle-stroke-color":"#2C3E4E","circle-stroke-width":2}}},on:{click:e.selectClick,mouseover:e.onCursor,mouseleave:e.offCursor,mousedown:e.moveNode,contextmenu:e.contextMenuNode}}),e._v(" "),t("MglPopup",{attrs:{"close-button":!1,showed:e.popupEditor.showed,coordinates:e.popupEditor.coordinates},on:{close:function(t){e.popupEditor.showed=!1}}},[t("span",[t("h3",[e._v(e._s(e.popupEditor.content))]),e._v(" "),t("hr"),e._v("\n      "+e._s("editorLinks"==e.hoveredStateId?.layerId?e.$gettext("Left click to add a stop"):e.$gettext("Hold left click to drag"))+"\n      "),t("hr"),e._v("\n      "+e._s("editorLinks"==e.hoveredStateId?.layerId?e.$gettext("Right click to edit properties"):e.$gettext("Right click for context menu"))+"\n    ")])]),e._v(" "),t("MglPopup",{attrs:{"close-button":!1,showed:e.contextMenu.showed,coordinates:e.contextMenu.coordinates},on:{close:function(t){e.contextMenu.showed=!1}}},[t("span",{on:{mouseleave:function(t){e.contextMenu.showed=!1}}},[t("v-list",{attrs:{dense:"",flat:""}},[t("v-list-item-group",e._l(e.contextMenu.actions,(function(i){return t("v-list-item",{key:i.id},[t("v-list-item-content",[t("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){return e.actionClick({action:i,feature:e.contextMenu.feature,coordinates:e.contextMenu.coordinates})}}},[e._v("\n                "+e._s(e.$gettext(i))+"\n              ")])],1)],1)})),1)],1)],1)])],1)};be._withStripped=!0;const ke={name:"EditorLinks",components:{MglPopup:ce.eO,MglImageLayer:ce.vV,MglGeojsonLayer:ce.tf},props:["map","anchorMode"],events:["clickFeature","onHover","offHover"],data:()=>({selectedFeature:null,hoveredStateId:null,disablePopup:!1,keepHovering:!1,dragNode:!1,popupEditor:{coordinates:[0,0],showed:!1,content:null},contextMenu:{coordinates:[0,0],showed:!1,actions:[],feature:null,type:null}}),computed:{anchorNodes(){return this.anchorMode?this.$store.getters.anchorNodes:this.$store.getters.nodesHeader}},watch:{},created(){},methods:{selectClick(e){if(null!==this.hoveredStateId){const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);if(this.selectedFeature=t.filter((e=>e.id===this.hoveredStateId.id))[0],null!==this.selectedFeature&&"editorLinks"===this.hoveredStateId.layerId){const t=this.anchorMode?"Add Anchor Inline":"Add Stop Inline",i={selectedFeature:this.selectedFeature,action:t,lngLat:e.mapboxEvent.lngLat};this.$emit("clickFeature",i)}}},onCursor(e){null!==this.hoveredStateId&&"editorLinks"!==this.hoveredStateId.layerId||(this.map.getCanvas().style.cursor="pointer",null!==this.hoveredStateId&&this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id},{hover:!1}),this.hoveredStateId={layerId:e.layerId,id:e.mapboxEvent.features[0].id},this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id},{hover:!0}),!this.disablePopup&!this.anchorMode&&(this.popupEditor.coordinates=[e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat],this.popupEditor.content=this.hoveredStateId.id,this.popupEditor.showed=!0)),this.$emit("onHover",{selectedId:this.hoveredStateId.id})},offCursor(e){null!==this.hoveredStateId&&(["editorNodes","anchorNodes"].includes(this.hoveredStateId.layerId)&&"editorLinks"===e?.layerId||(this.keepHovering?(this.dragNode=!0,this.contextMenu.showed=!1):(this.map.getCanvas().style.cursor="",this.popupEditor.showed=!1,this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id},{hover:!1}),this.hoveredStateId=null,this.$emit("offHover",e))))},contextMenuNode(e){if(this.popupEditor.showed&&"editorNodes"===this.hoveredStateId?.layerId){this.contextMenu.coordinates=[e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat],this.contextMenu.showed=!0,this.contextMenu.type="node";const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);this.contextMenu.feature=t.filter((e=>e.id===this.hoveredStateId.id))[0];const i=this.contextMenu.feature.properties.index;i===this.$store.getters.firstNodeId||i===this.$store.getters.lastNodeId?this.contextMenu.actions=["Edit Node Info","Delete Stop"]:this.contextMenu.actions=["Edit Node Info","Cut Before Node","Cut After Node","Delete Stop"]}else if("anchorNodes"===this.hoveredStateId?.layerId){const e=this.map.querySourceFeatures(this.hoveredStateId.layerId);this.selectedFeature=e.filter((e=>e.id===this.hoveredStateId.id));const t={selectedFeature:this.selectedFeature[0],action:"Delete Anchor",lngLat:null};this.$emit("clickFeature",t)}},linkRightClick(e){if("editorLinks"===this.hoveredStateId.layerId){const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);this.selectedFeature=t.filter((e=>e.id===this.hoveredStateId.id))[0];const i={selectedFeature:this.selectedFeature,action:"Edit Link Info",lngLat:e.mapboxEvent.lngLat,lingering:!0};this.$emit("clickFeature",i)}},actionClick(e){const t={selectedFeature:e.feature,action:e.action,lngLat:e.coordinates};this.$emit("clickFeature",t),this.contextMenu.showed=!1,this.contextMenu.type=null},moveNode(e){if(0===e.mapboxEvent.originalEvent.button&["editorNodes","anchorNodes"].includes(this.hoveredStateId.layerId)){e.mapboxEvent.preventDefault(),this.map.getCanvas().style.cursor="grab",this.keepHovering=!0;const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);this.selectedFeature=t.filter((e=>e.id===this.hoveredStateId.id))[0],this.disablePopup=!0,this.popupEditor.showed=!1,this.map.on("mousemove",this.onMove),this.map.on("mouseup",this.stopMovingNode)}},onMove(e){if(this.map.loaded()&&this.dragNode&&this.selectedFeature){const t={selectedFeature:this.selectedFeature,action:null,lngLat:Object.values(e.lngLat)};"anchorNodes"===this.hoveredStateId.layerId?(t.action="Move Anchor",this.$emit("clickFeature",t)):(t.action="Move Node",this.$emit("clickFeature",t))}},stopMovingNode(e){this.map.getCanvas().style.cursor="pointer",this.map.off("mousemove",this.onMove),this.keepHovering=!1,this.dragNode=!1,this.disablePopup=!1,this.offCursor(),this.map.off("mouseup",this.stopMovingNode)}}},we=(0,_.Z)(ke,be,[],!1,null,"02bf194d",null).exports;var xe=function(){var e=this,t=e._self._c;return t("section",[t("MglGeojsonLayer",e._g({attrs:{"source-id":"rlinks",source:{type:"geojson",data:e.isRoadMode?e.renderedrLinks:e.rlinks,buffer:0,promoteId:"index"},"layer-id":"rlinks",layer:{interactive:!0,type:"line",minzoom:e.minZoom.links,paint:{"line-color":["case",["has","route_color"],["concat","#",["get","route_color"]],e.$vuetify.theme.currentTheme.linksprimary],"line-opacity":["case",["boolean",e.isEditorMode,!1],.3,1],"line-width":["*",["case",["boolean",["feature-state","hover"],!1],3,1],["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],2],2]],"line-blur":["*",["case",["boolean",["feature-state","hover"],!1],1,0],["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],2],2]]},layout:{"line-sort-key":["to-number",["get","route_width"]]}}}},e.isEditorMode?{}:{mouseenter:e.onCursor,mouseleave:e.offCursor,click:e.selectClick,contextmenu:e.linkRightClick})),e._v(" "),t("MglImageLayer",{attrs:{"source-id":"rlinks",type:"symbol",source:"rlinks","layer-id":"arrow-rlinks",layer:{type:"symbol",minzoom:e.minZoom.rendered,layout:{"symbol-placement":"line","symbol-spacing":200,"icon-ignore-placement":!0,"icon-image":"arrow","icon-size":e.ArrowSizeCondition,"icon-rotate":e.ArrowDirCondition},paint:{"icon-color":["case",["has","route_color"],["concat","#",["get","route_color"]],e.$vuetify.theme.currentTheme.linksprimary]}}}}),e._v(" "),t("MglGeojsonLayer",e._g({attrs:{"source-id":"rnodes",source:{type:"geojson",data:e.isRoadMode?e.renderedrNodes:e.rnodes,buffer:0,promoteId:"index"},"layer-id":"rnodes",layer:{interactive:!0,type:"circle",minzoom:e.minZoom.rendered,paint:{"circle-color":["case",["boolean",e.isEditorMode,!1],e.$vuetify.theme.currentTheme.mediumgrey,e.$vuetify.theme.currentTheme.accent],"circle-stroke-color":e.$vuetify.theme.currentTheme.white,"circle-stroke-width":1,"circle-radius":["case",["boolean",["feature-state","hover"],!1],14,3],"circle-blur":["case",["boolean",["feature-state","hover"],!1],.3,0]}}}},e.isEditorMode?{}:{mouseenter:e.onCursor,mouseleave:e.offCursor,mousedown:e.moveNode,contextmenu:e.contextMenuNode})),e._v(" "),t("MglGeojsonLayer",{attrs:{"source-id":"anchorrNodes",source:{type:"geojson",data:e.isRoadMode?e.renderedAnchorrNodes:e.$store.getters.rnodesHeader,buffer:0,promoteId:"index"},"layer-id":"anchorrNodes",layer:{interactive:!0,type:"circle",minzoom:e.minZoom.rendered,paint:{"circle-color":"#ffffff","circle-opacity":.5,"circle-radius":["case",["boolean",["feature-state","hover"],!1],10,5],"circle-blur":["case",["boolean",["feature-state","hover"],!1],.3,0],"circle-stroke-color":e.$vuetify.theme.currentTheme.darkgrey,"circle-stroke-width":2}}},on:{click:e.selectClick,mouseover:e.onCursor,mouseleave:e.offCursor,mousedown:e.moveNode,contextmenu:e.contextMenuNode}}),e._v(" "),t("MglPopup",{attrs:{"close-button":!1,showed:e.contextMenu.showed,coordinates:e.contextMenu.coordinates},on:{close:function(t){e.contextMenu.showed=!1}}},[t("span",{on:{mouseleave:function(t){e.contextMenu.showed=!1}}},[t("v-list",{attrs:{dense:"",flat:""}},[t("v-list-item-group",e._l(e.contextMenu.actions,(function(i){return t("v-list-item",{key:i.id},[t("v-list-item-content",[t("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){return e.actionClick({action:i,feature:e.contextMenu.feature,coordinates:e.contextMenu.coordinates})}}},[e._v("\n                "+e._s(e.$gettext(i))+"\n              ")])],1)],1)})),1)],1)],1)])],1)};xe._withStripped=!0;var _e=i(95637),Ee=i(95);const Se={name:"StaticLinks",components:{MglGeojsonLayer:ce.tf,MglImageLayer:ce.vV,MglPopup:ce.eO},props:["map","isEditorMode","anchorMode","isRoadMode"],events:["clickFeature"],data:()=>({hoveredStateId:null,visibleNodes:{},visibleLinks:{},disablePopup:!1,editorRnodes:{},bbox:null,minZoom:{links:2,rendered:14},contextMenu:{coordinates:[0,0],showed:!1,actions:[],feature:null}}),computed:{selectedPopupContent(){return this.$store.getters.roadsPopupContent},selectedrGroup(){return this.$store.getters.selectedrGroup},cyclewayMode(){return this.$store.getters.cyclewayMode},rnodes(){return this.$store.getters.visiblerNodes},rlinks(){return this.$store.getters.visiblerLinks},renderedrLinks(){return this.$store.getters.renderedrLinks},renderedrNodes(){return this.$store.getters.renderedrNodes},renderedAnchorrNodes(){return this.anchorMode?this.$store.getters.anchorrNodes:this.$store.getters.rnodesHeader},ArrowSizeCondition(){const e=["case",["has","oneway"],["case",["to-boolean",["to-number",["get","oneway"]]],.15,0],.15],t=["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],2],2];return this.cyclewayMode?["*",["case",["any",["all",["==",["get","cycleway"],"yes"],["==",["get","cycleway_reverse"],"yes"]],["all",["==",["get","cycleway"],"shared"],["==",["get","cycleway_reverse"],"shared"]],["all",["==",["get","cycleway"],"yes"],["==",["get","cycleway_reverse"],"shared"]],["all",["==",["get","cycleway"],"shared"],["==",["get","cycleway_reverse"],"yes"]]],0,["case",["all",["==",["get","cycleway"],"no"],["==",["get","cycleway_reverse"],"no"]],e,.15]],t]:["*",e,t]},ArrowDirCondition(){return this.cyclewayMode?["case",["any",["all",["==",["get","cycleway"],"no"],["==",["get","cycleway_reverse"],"yes"]],["all",["==",["get","cycleway"],"no"],["==",["get","cycleway_reverse"],"shared"]]],-90,90]:90}},watch:{selectedrGroup(e){this.getBounds()},isRoadMode(e){e?(this.map.on("dragend",this.getBounds),this.map.on("zoomend",this.getBounds)):(this.map.off("dragend",this.getBounds),this.map.off("zoomend",this.getBounds))}},created(){this.map.on("dragend",this.getBounds),this.map.on("zoomend",this.getBounds)},beforeDestroy(){this.map.removeLayer("arrow-rlinks")},methods:{getBounds(){const e=this.map.getBounds();this.bbox=(0,_e.Z)((0,Ee.Z)([e._sw.lng,e._sw.lat,e._ne.lng,e._ne.lat]),.2),this.map.getZoom()>this.minZoom.rendered?this.$store.commit("getRenderedrLinks",{bbox:this.bbox}):this.map.getZoom()>this.minZoom.links?this.$store.commit("setRenderedrLinks",{method:"visible"}):this.$store.commit("setRenderedrLinks",{method:"None"})},onCursor(e){if(this.isRoadMode&&(this.popup?.isOpen()&&this.popup.remove(),null===this.hoveredStateId||"rlinks"===this.hoveredStateId.layerId)){if(!this.disablePopup&&this.selectedPopupContent.length>0){const t=e.mapboxEvent.features[0];if("rnodes"!==t.layer.id){let i=this.selectedPopupContent.map((e=>`${e}: <b>${t.properties[e]}</b>`));i=i.join("<br> "),this.popup=new(le().Popup)({closeButton:!1}).setLngLat([e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat]).setHTML(i).addTo(e.map)}}this.map.getCanvas().style.cursor="pointer",null!==this.hoveredStateId&&this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!1});const t=[...new Set(e.mapboxEvent.features.map((e=>e.id)))];this.hoveredStateId={layerId:e.layerId,id:t},this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!0}),this.$emit("onHover",{layerId:this.hoveredStateId.layerId,selectedId:this.hoveredStateId.id})}},offCursor(e){this.isRoadMode&&(this.popup?.isOpen()&&this.popup.remove(),null!==this.hoveredStateId&&(["rnodes","anchorrNodes"].includes(this.hoveredStateId?.layerId)&&"rlinks"===e?.layerId||(this.keepHovering?this.dragNode=!0:(this.map.getCanvas().style.cursor="",this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!1}),this.hoveredStateId=null,this.$emit("offHover",e)))))},selectClick(e){if(this.isRoadMode&&null!==this.hoveredStateId&&(this.selectedFeature=this.hoveredStateId.id,null!==this.selectedFeature&&"rlinks"===this.hoveredStateId.layerId)){const t=this.anchorMode?"Add Road Anchor Inline":"Add Road Node Inline",i={selectedIndex:this.selectedFeature,action:t,lngLat:e.mapboxEvent.lngLat};this.$emit("clickFeature",i)}},linkRightClick(e){this.isRoadMode&&"rlinks"===this.hoveredStateId.layerId&&(this.contextMenu.coordinates=[e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat],this.contextMenu.showed=!0,this.contextMenu.feature=this.hoveredStateId.id,this.contextMenu.actions=["Edit rLink Info","Delete rLink"])},actionClick(e){const t={selectedIndex:e.feature,action:e.action,lngLat:e.coordinates};this.$emit("clickFeature",t),this.contextMenu.showed=!1,this.contextMenu.type=null},contextMenuNode(e){if(this.isRoadMode){const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);if(this.selectedFeature=t.filter((e=>this.hoveredStateId.id.includes(e.id))),this.selectedFeature.length>0)if("rnodes"===this.hoveredStateId?.layerId){const t={selectedFeature:this.selectedFeature[0],action:"Edit rNode Info",lngLat:e.mapboxEvent.lngLat};this.$emit("clickFeature",t)}else if("anchorrNodes"===this.hoveredStateId?.layerId){const e={selectedFeature:this.selectedFeature[0],action:"Delete Road Anchor",lngLat:null};this.$emit("clickFeature",e)}}},moveNode(e){if(this.isRoadMode&&0===e.mapboxEvent.originalEvent.button&["rnodes","anchorrNodes"].includes(this.hoveredStateId.layerId)){e.mapboxEvent.preventDefault(),this.map.getCanvas().style.cursor="grab",this.keepHovering=!0;const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);this.selectedFeature=t.filter((e=>e.id===this.hoveredStateId.id[0]))[0],this.disablePopup=!0,"rnodes"===this.hoveredStateId.layerId&&this.$store.commit("getConnectedLinks",{selectedNode:this.selectedFeature}),this.map.on("mousemove",this.onMove),this.map.on("mouseup",this.stopMovingNode)}},onMove(e){if(this.dragNode&&this.selectedFeature){const t={selectedFeature:this.selectedFeature,action:null,lngLat:Object.values(e.lngLat)};"anchorrNodes"===this.hoveredStateId.layerId?(t.action="Move rAnchor",this.$emit("clickFeature",t)):(t.action="Move rNode",this.$emit("clickFeature",t))}},stopMovingNode(e){this.isRoadMode&&(this.map.getCanvas().style.cursor="pointer",this.map.off("mousemove",this.onMove),this.keepHovering=!1,this.dragNode=!1,this.disablePopup=!1,this.map.getCanvas().style.cursor="",this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!1}),this.hoveredStateId=null,this.map.off("mouseup",this.stopMovingNode))}}},Le=(0,_.Z)(Se,xe,[],!1,null,"5bdbd7bc",null).exports;var Ie=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"map-legend"},[t("MapLegend",{attrs:{"color-scale":e.colorScale,"display-settings":e.displaySettings,"base-offset":350,order:e.order}})],1),e._v(" "),["MultiPolygon","Polygon"].includes(e.type)?t("MglGeojsonLayer",{attrs:{"source-id":e.preset.name+"-layer",source:{type:"geojson",data:e.layer},"layer-id":e.preset.name+"-layer",layer:{interactive:!1,type:"fill",minzoom:5,paint:{"fill-color":["get","display_color"],"fill-opacity":e.opacity/100}}}}):e._e(),e._v(" "),"LineString"==e.type?t("MglGeojsonLayer",{attrs:{"source-id":e.preset.name+"-layer",source:{type:"geojson",data:e.layer,buffer:0,promoteId:"index"},"layer-id":e.preset.name+"-layer",layer:{interactive:!0,type:"line",minzoom:5,paint:{"line-color":["get","display_color"],"line-opacity":e.opacity/100,"line-offset":["*",.5*e.offsetValue,["to-number",["get","display_width"]]],"line-width":["get","display_width"]},layout:{"line-sort-key":["to-number",["get","display_width"]],"line-cap":"round"}}}}):e._e(),e._v(" "),"Point"==e.type?t("MglGeojsonLayer",{attrs:{"source-id":e.preset.name+"-layer",source:{type:"geojson",data:e.layer},"layer-id":e.preset.name+"-layer",layer:{interactive:!1,type:"circle",minzoom:5,paint:{"circle-color":["get","display_color"],"circle-radius":["get","display_width"],"circle-opacity":e.opacity/100},layout:{"circle-sort-key":["to-number",["get","display_width"]]}}}}):e._e()],1)};Ie._withStripped=!0;var $e=i(25286);const Ne={name:"StaticLayer",components:{MglGeojsonLayer:ce.tf,MapLegend:$e.Z},props:["preset","map","order"],data:()=>({type:"",layer:{},opacity:100,offsetValue:-1,displaySettings:{},colorScale:null}),watch:{},beforeDestroy(){this.map.getLayer(this.preset.name+"-layer")&&this.map.removeLayer(this.preset.name+"-layer")},mounted(){this.map.moveLayer(this.preset.name+"-layer","rlinks")},created(){this.opacity=this.preset.displaySettings.opacity,this.offsetValue=this.preset.displaySettings.offset?-1:1,this.changeLayer(this.preset.layer),Object.keys(this.preset).includes("selectedFilter")&&(this.$store.getters["results/lineAttributes"].includes(this.preset.selectedFilter)?(this.$store.commit("results/changeSelectedFilter",this.preset.selectedFilter),Object.keys(this.preset).includes("selectedCategory")&&(this.$store.commit("results/changeSelectedCategory",this.preset.selectedCategory),this.$store.commit("results/updateSelectedFeature"))):this.$store.commit("changeNotification",{text:this.preset.selectedFilter+" filter does not exist. use default one",autoClose:!0,color:"error"})),this.$store.commit("results/applySettings",this.preset.displaySettings),this.layer=structuredClone(this.$store.getters["results/displayLinks"]),this.type=structuredClone(this.$store.getters["results/type"]),this.colorScale=this.$store.getters["results/colorScale"],this.displaySettings=structuredClone(this.$store.getters["results/displaySettings"]),this.$store.commit("results/unload")},methods:{changeLayer(e){switch(this.selectedLayer=e,e){case"links":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.links,type:"LineString",selectedFeature:"headway"});break;case"rlinks":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.rlinks,type:"LineString",selectedFeature:"speed"});break;case"nodes":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.nodes,type:"Point",selectedFeature:"boardings"});break;case"rnodes":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.rnodes,type:"Point",selectedFeature:"boardings"});break;case"od":this.$store.commit("results/loadLinks",{geojson:this.$store.getters["od/layer"],type:"LineString",selectedFeature:"volume"});break;default:this.$store.commit("results/loadLinks",{geojson:this.$store.getters[`${e}/layer`],type:this.$store.getters[`${e}/type`]})}}}};var Fe=i(98210),Be={};Be.styleTagTransform=k(),Be.setAttributes=v(),Be.insert=f().bind(null,"head"),Be.domAPI=m(),Be.insertStyleElement=C(),u()(Fe.Z,Be),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;const Me=(0,_.Z)(Ne,Ie,[],!1,null,"7dc7a5bf",null).exports;var je=function(){var e=this,t=e._self._c;return t("section",[t("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!0,origin:"top right",transition:"scale-transition","position-y":30,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:s}){return[t("v-btn",e._g(e._b({staticClass:"layer-button",attrs:{fab:"",small:""}},"v-btn",s,!1),i),[t("v-icon",{attrs:{color:"regular"}},[e._v("\n          fas fa-layer-group\n        ")])],1)]}}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v(" "),t("v-card",{attrs:{"max-width":300}},[t("v-card-title",{staticClass:"subtitle"},[e._v("\n        "+e._s(e.$gettext("Static Layers"))+"\n      ")]),e._v(" "),e._l(e.choices,(function(i,s){return t("v-list-item",{key:s},[t("v-list-item-action",[t("v-checkbox",{attrs:{value:i.name,"off-icon":e.availableLayers.includes(i.layer)?"fa-eye-slash fa":"fas fa-exclamation-triangle","on-icon":"fa-eye fa",disabled:!e.availableLayers.includes(i.layer)},model:{value:e.selectedLayers,callback:function(t){e.selectedLayers=t},expression:"selectedLayers"}})],1),e._v(" "),t("v-tooltip",{attrs:{top:"","open-delay":"300","content-class":"custom-tooltip"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t("v-list-item-title",e._g({style:{cursor:"default"}},s),[e._v("\n              "+e._s(i.name)+"\n            ")])]}}],null,!0)},[e._v(" "),e.availableLayers.includes(i.layer)?t("span",[e._v(e._s(i.displaySettings.selectedFeature+" "+e.$gettext("from")+" "+i.layer))]):t("span",[e._v(e._s(e.$gettext("Data not found: ")+i.layer))])])],1)}))],2)],1)],1)};je._withStripped=!0;const De={name:"LayerSelector",components:{},props:{choices:{type:Array,default:()=>[]},availableLayers:{type:Array,default:()=>[]}},data:()=>({show:!1,selectedLayers:[],selectedOpacity:0}),watch:{selectedLayers(e){const t=[];e.forEach((e=>t.push(e))),this.$store.commit("setVisibleRasters",e)}},mounted(){this.selectedLayers=this.$store.getters.visibleRasters},methods:{}};var Oe=i(93380),Te={};Te.styleTagTransform=k(),Te.setAttributes=v(),Te.insert=f().bind(null,"head"),Te.domAPI=m(),Te.insertStyleElement=C(),u()(Oe.Z,Te),Oe.Z&&Oe.Z.locals&&Oe.Z.locals;const Pe=(0,_.Z)(De,je,[],!1,null,"9ae88e1e",null).exports;var ze=function(){var e=this,t=e._self._c;return t("section",[t("MglGeojsonLayer",{attrs:{"source-id":"od",source:{type:"geojson",data:e.layer,buffer:0,promoteId:"index"},"layer-id":"od",layer:{interactive:!0,type:"line",minzoom:1,maxzoom:18,paint:{"line-color":["case",["has","route_color"],["concat","#",["get","route_color"]],e.$vuetify.theme.currentTheme.linksprimary],"line-opacity":["case",["boolean",e.isEditorMode,!1],.3,1],"line-width":["*",["case",["boolean",["feature-state","hover"],!1],3,1],["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],2],2]],"line-blur":["*",["case",["boolean",["feature-state","hover"],!1],1,0],["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],2],2]]},layout:{"line-sort-key":["to-number",["get","route_width"]],"line-cap":"round"}}},on:{contextmenu:e.linkRightClick,mouseover:e.onCursor,mouseleave:e.offCursor}}),e._v(" "),t("MglGeojsonLayer",{attrs:{"source-id":"ODNodes",source:{type:"geojson",data:e.isODMode?e.nodes:e.$store.getters["od/layerHeader"],buffer:0,promoteId:"index"},"layer-id":"ODNodes",layer:{interactive:!0,type:"circle",paint:{"circle-color":"#ffffff","circle-opacity":.5,"circle-radius":["case",["boolean",["feature-state","hover"],!1],10,5],"circle-blur":["case",["boolean",["feature-state","hover"],!1],.3,0],"circle-stroke-color":e.$vuetify.theme.currentTheme.darkgrey,"circle-stroke-width":2}}},on:{mouseover:e.onCursor,mouseleave:e.offCursor,mousedown:e.moveNode}}),e._v(" "),t("MglImageLayer",{attrs:{"source-id":"od",type:"symbol",source:"od","layer-id":"arrow-od",layer:{type:"symbol",layout:{"symbol-placement":"line","symbol-spacing":200,"icon-ignore-placement":!0,"icon-image":"arrow","icon-size":["*",.2,["case",["has","route_width"],["case",["to-boolean",["to-number",["get","route_width"]]],["to-number",["get","route_width"]],2],2]],"icon-rotate":90},paint:{"icon-color":["case",["has","route_color"],["concat","#",["get","route_color"]],e.$vuetify.theme.currentTheme.linksprimary]}}}}),e._v(" "),t("MglPopup",{attrs:{"close-button":!1,showed:e.contextMenu.showed,coordinates:e.contextMenu.coordinates},on:{close:function(t){e.contextMenu.showed=!1}}},[t("span",{on:{mouseleave:function(t){e.contextMenu.showed=!1}}},[t("v-list",{attrs:{dense:"",flat:""}},[t("v-list-item-group",e._l(e.contextMenu.actions,(function(i){return t("v-list-item",{key:i.id},[t("v-list-item-content",[t("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){return e.actionClick({action:i,feature:e.contextMenu.feature,coordinates:e.contextMenu.coordinates})}}},[e._v("\n                "+e._s(e.$gettext(i))+"\n              ")])],1)],1)})),1)],1)],1)])],1)};ze._withStripped=!0;const Re=i(7597),Ze={name:"ODMap",components:{MglGeojsonLayer:ce.tf,MglImageLayer:ce.vV,MglPopup:ce.eO},props:["map","isODMode","isEditorMode"],events:[],data:()=>({hoveredStateId:null,keepHovering:!1,dragNode:!1,drawMode:!1,selectedFeature:null,contextMenu:{coordinates:[0,0],showed:!1,actions:[],feature:null}}),computed:{layer(){return this.$store.getters["od/visibleLayer"]},nodes(){return this.$store.getters["od/nodes"](this.layer)}},watch:{},created(){this.map.on("click",this.test)},methods:{test(e){if(this.isODMode)if(this.drawMode)this.drawMode=!1;else{const t="OD_"+Re.generate();this.$store.commit("od/createNewLink",{lngLat:Object.values(e.lngLat),index:t}),this.dragNode=!0,this.selectedFeature={properties:{linkIndex:t,coordinatedIndex:1}},this.drawMode=!0,this.map.on("mousemove",this.onMove),this.map.on("mouseup",this.stopMovingNode)}},onCursor(e){if(this.isODMode&&null===this.hoveredStateId){this.map.getCanvas().style.cursor="pointer";const t=[...new Set(e.mapboxEvent.features.map((e=>e.id)))];this.hoveredStateId={layerId:e.layerId,id:t},this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!0})}},offCursor(e){this.isODMode&&null!==this.hoveredStateId&&(this.keepHovering?this.dragNode=!0:(this.map.getCanvas().style.cursor="",this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!1}),this.hoveredStateId=null))},moveNode(e){if(this.isODMode&&!this.drawMode&&"ODNodes"===this.hoveredStateId?.layerId&&0===e.mapboxEvent.originalEvent.button){e.mapboxEvent.preventDefault(),this.map.getCanvas().style.cursor="grab",this.keepHovering=!0;const t=this.map.querySourceFeatures(this.hoveredStateId.layerId);this.selectedFeature=t.filter((e=>e.id===this.hoveredStateId.id[0]))[0],this.selectedFeature?.properties&&(this.map.on("mousemove",this.onMove),this.map.on("mouseup",this.stopMovingNode))}},onMove(e){if(this.dragNode&&this.selectedFeature){const t={selectedFeature:this.selectedFeature,lngLat:Object.values(e.lngLat)};this.$store.commit("od/moveNode",t)}},stopMovingNode(e){this.isODMode&&0===e.originalEvent.button&&(this.map.getCanvas().style.cursor="pointer",this.map.off("mousemove",this.onMove),this.keepHovering=!1,this.dragNode=!1,this.map.getCanvas().style.cursor="",this.hoveredStateId&&this.map.setFeatureState({source:this.hoveredStateId.layerId,id:this.hoveredStateId.id[0]},{hover:!1}),this.hoveredStateId=null,this.map.off("mouseup",this.stopMovingNode))},linkRightClick(e){this.isODMode&&!this.drawMode&&(this.contextMenu.coordinates=[e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat],this.contextMenu.showed=!0,this.contextMenu.feature=this.hoveredStateId.id,this.contextMenu.actions=["Edit OD Info","Delete OD"])},actionClick(e){const t={selectedIndex:e.feature,action:e.action,lngLat:e.coordinates};this.$emit("clickFeature",t),this.contextMenu.showed=!1,this.contextMenu.type=null}}},He=(0,_.Z)(Ze,ze,[],!1,null,"af4e3bca",null).exports,Ge={name:"Map",components:{MglMap:ce.Q3,MglNavigationControl:ce.RV,MglScaleControl:ce.RQ,MglGeojsonLayer:ce.tf,LayerSelector:Pe,StaticLayer:Me,StaticLinks:Ce,EditorLinks:we,RoadLinks:Le,Settings:Ae,ODMap:He},props:{selectedTrips:{type:Array,default:()=>[]},mode:{type:String,default:"pt"}},events:["clickFeature"],data:()=>({mapboxPublicKey:null,selectedFeature:null,isEditorMode:!1,mapIsLoaded:!1,drawMode:!1,hoverId:null,hoverLayer:null,mapDiv:null,drawLink:null,mouseout:!1,selectedNode:{id:null,layerId:null},connectedDrawLink:!1}),computed:{mapStyle(){return this.$store.getters.mapStyle},showLeftPanel(){return this.$store.getters.showLeftPanel},editorTrip(){return this.$store.getters.editorTrip},editorNodes(){return this.$store.getters.editorNodes},firstNode(){return this.$store.getters.firstNode},lastNode(){return this.$store.getters.lastNode},anchorMode(){return this.$store.getters.anchorMode},visibleRasters(){return this.$store.getters.visibleRasters},rasterFiles(){return this.$store.getters.styles},availableLayers(){return this.$store.getters.availableLayers}},watch:{showLeftPanel(){setTimeout((()=>this.map.resize()),250)},anchorMode(e){e?(this.drawMode=!1,this.$store.commit("changeNotification",{text:"Left click to add an anchor point, right click to delete",autoClose:!1})):this.$store.commit("changeNotification",{text:"",autoClose:!0})},mode(e){"pt"===e&&(this.drawMode=!1)},mapStyle(e){this.saveMapPosition()},editorNodes(e,t){if(this.$store.commit("setAnchorMode",!1),this.isEditorMode=e.features.length>0,this.isEditorMode&&this.$store.getters.changeBounds){const t=new(le().LngLatBounds);e.features.forEach((e=>{t.extend(e.geometry.coordinates)})),this.map.fitBounds(t,{padding:100})}},drawMode(e){this.map?.getStyle().layers.filter((e=>"drawLink"===e.id)).length>0&&(e?this.map.setLayoutProperty("drawLink","visibility","visible"):this.map.setLayoutProperty("drawLink","visibility","none"))},editorTrip(e){e&&(this.isEditorMode=!0,this.connectedDrawLink=!1)},isEditorMode(e){e&&this.editorNodes.features.length>0&&!this.anchorMode&&this.mapIsLoaded?this.drawMode=!0:this.drawMode=!1,!e&this.drawMode&&(this.drawMode=!1)},"firstNode.geometry.coordinates"(e){this.editorTrip&&(this.drawLink=ue()([e,e]),this.selectedNode.layerId="nodes",this.selectedNode.id=this.firstNode.properties.index)},"lastNode.geometry.coordinates"(e){this.editorTrip&&(this.drawLink=ue()([e,e]),this.selectedNode.layerId="nodes",this.selectedNode.id=this.lastNode.properties.index)}},created(){this.editorTrip&&(this.isEditorMode=!0),this.mapboxPublicKey="pk.eyJ1Ijoic2JvaXZpbiIsImEiOiJja3BlMm41cm4xa2QyMnZwZTBqdGx4bHI0In0.11oH2-B2g9J6LarDnoqQfQ",this.drawLink=structuredClone(this.$store.getters.linksHeader)},beforeDestroy(){this.saveMapPosition()},methods:{saveMapPosition(){const e=this.map.getCenter();this.$store.commit("saveMapPosition",{mapCenter:[e.lng,e.lat],mapZoom:this.map.getZoom()})},onMapLoaded(e){this.map&&(this.mapIsLoaded=!1);const t=new(le().LngLatBounds);this.$store.getters.links.features.length>0?this.$store.getters.links.features.forEach((e=>{t.extend([e.geometry.coordinates[0],e.geometry.coordinates[e.geometry.coordinates.length-1]])})):this.$store.getters.rlinks.features.forEach((e=>{t.extend([e.geometry.coordinates[0],e.geometry.coordinates[e.geometry.coordinates.length-1]])})),0!==Object.keys(t).length&&e.map.fitBounds(t,{padding:100}),e.map.loadImage(de,(function(t,i){t?console.error("err image",t):e.map.addImage("arrow",i,{sdf:!0})})),this.map=e.map,e.map.dragRotate.disable(),this.mapIsLoaded=!0},draw(e){if(!this.connectedDrawLink&&(this.drawMode&&this.mouseout&&(this.map.setLayoutProperty("drawLink","visibility","visible"),this.mouseout=!1),this.drawMode&&!this.anchorMode)){const t=[this.drawLink.geometry.coordinates[0],Object.values(e.mapboxEvent.lngLat)];this.drawLink=ue()(t)}},addPoint(e){if(this.drawMode){if("rnodes"===this.selectedNode.layerId){const t=Object.values(e.mapboxEvent.lngLat),i={nodeIdA:this.selectedNode.id,nodeIdB:this.hoverId,geom:t,layerId:this.hoverLayer};this.$store.commit("createrLink",i),this.drawMode=!1,this.onHoverRoad({layerId:"rnodes",selectedId:[i.nodeIdB]}),this.offHover()}else if(this.drawMode&!this.anchorMode&!this.hoverId){const t=this.selectedNode.id===this.$store.getters.lastNodeId?"Extend Line Upward":"Extend Line Downward",i=Object.values(e.mapboxEvent.lngLat);this.$store.commit("applyNewLink",{nodeId:this.selectedNode.id,geom:i,action:t})}}else 0===this.editorNodes.features.length&&this.editorTrip&&(this.$store.commit("createNewNode",Object.values(e.mapboxEvent.lngLat)),this.$store.commit("changeNotification",{text:"",autoClose:!0}))},resetDraw(e){this.drawMode&&(this.mouseout=!0,this.map.setLayoutProperty("drawLink","visibility","none"))},rightClickMap(e){2===e.mapboxEvent.originalEvent.button&!this.hoverId&&(this.drawMode=!1)},onHover(e){if(this.hoverId=e.selectedId,this.drawMode&&this.map.setLayoutProperty("drawLink","visibility","none"),[this.$store.getters.lastNodeId,this.$store.getters.firstNodeId].includes(this.hoverId)){const t=this.$store.getters.editorNodes.features.filter((t=>t.properties.index===e.selectedId));this.drawLink=ue()([t[0].geometry.coordinates,t[0].geometry.coordinates]),this.selectedNode.id=this.hoverId,this.selectedNode.layerId=e.layerId,this.drawMode=!0}},onHoverRoad(e){if("rnodes"===e?.layerId)if(this.hoverLayer=e.layerId,this.hoverId=e.selectedId[0],this.drawMode)this.connectedDrawLink=!0;else{this.connectedDrawLink=!1;const e=this.$store.getters.visiblerNodes.features.filter((e=>e.properties.index===this.hoverId));this.drawLink=ue()([e[0].geometry.coordinates,e[0].geometry.coordinates]),this.drawMode=!0,this.connectedDrawLink=!1,this.selectedNode.id=this.hoverId,this.selectedNode.layerId=this.hoverLayer}else"rlinks"===e?.layerId&&(this.hoverLayer=e.layerId,this.hoverId=e.selectedId)},offHover(e){this.hoverId=null,this.hoverLayer=null,this.drawMode&&(this.map.setLayoutProperty("drawLink","visibility","visible"),this.connectedDrawLink=!1)},clickFeature(e){["Move rNode","Delete rLink"].includes(e.action)&&(this.drawMode=!1),"Add Road Node Inline"===e.action&&this.drawMode||this.$emit("clickFeature",e)}}};var qe=i(76278),Ve={};Ve.styleTagTransform=k(),Ve.setAttributes=v(),Ve.insert=f().bind(null,"head"),Ve.domAPI=m(),Ve.insertStyleElement=C(),u()(qe.Z,Ve),qe.Z&&qe.Z.locals&&qe.Z.locals;const Ue=(0,_.Z)(Ge,ne,[],!1,null,"66748ace",null).exports;var Je=function(){var e=this,t=e._self._c;return t("v-menu",{attrs:{top:"","nudge-bottom":"105","nudge-left":"16","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:i}){return[t("div",e._g({style:e.swatchStyle},i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),t("v-card",[t("v-card-text",{staticClass:"pa-0"},[t("v-color-picker",{attrs:{mode:"hexa",swatches:e.swatches,"show-swatches":"",flat:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",outlined:""},on:{click:e.cancel}},[e._v("\n        "+e._s(e.$gettext("cancel"))+"\n      ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",outlined:""},on:{click:e.updateColor}},[e._v("\n        "+e._s(e.$gettext("apply"))+"\n      ")])],1)],1)],1)};Je._withStripped=!0;const We={name:"ColorPicker",components:{},model:{prop:"pcolor",event:"update-color"},props:["pcolor"],events:["update-color"],data:()=>({color:"$primary",menu:!1,swatches:[]}),computed:{swatchStyle(){const{color:e,menu:t}=this;return{backgroundColor:e,"border-style":"solid","border-width":"1px","border-color":"#868686",cursor:"pointer",height:"20px",width:"20px",borderRadius:t?"50%":"4px",transition:"border-radius 200ms ease-in-out"}}},watch:{pcolor(e){"#"!==this.pcolor[0]&&(this.color="#".concat(this.pcolor),this.$emit("update-color",this.pcolor.slice(0,6))),"#"===this.pcolor[0]&&this.$emit("update-color",this.pcolor.slice(1,7))}},mounted(){const e=Object.keys(this.$vuetify.theme.currentTheme.chart);let t=[];e.map((e=>{t.push(this.$vuetify.theme.currentTheme.chart[e]),2===t.length&&(this.swatches.push(t),t=[])})),[null,void 0,""].includes(this.pcolor)?this.color=this.$vuetify.theme.currentTheme.chart.lightblue:"#"!==this.pcolor[0]?this.color="#".concat(this.pcolor):this.color=this.pcolor},methods:{updateColor(){this.$emit("update-color",this.color),this.menu=!1},cancel(){this.color=this.pcolor,this.menu=!1}}},Ye=(0,_.Z)(We,Je,[],!1,null,"380a869c",null).exports;var Ke=function(){var e=this,t=e._self._c;return t("div",[t("v-menu",{attrs:{"close-delay":"100","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:i}){return[t("v-btn",e._g({attrs:{icon:"",color:"regular","x-small":""},on:{click:function(t){e.openMenu=!e.openMenu}}},i),[t("v-icon",[e._v("\n          "+e._s(e.openMenu?"fas fa-chevron-left":"fas fa-chevron-down")+"\n        ")])],1)]}}]),model:{value:e.openMenu,callback:function(t){e.openMenu=t},expression:"openMenu"}},[e._v(" "),t("v-list",e._l(e.items,(function(i,s){return t("v-list-item",{key:s,class:{"is-active":i===e.selectedVal},on:{click:()=>e.$emit("select",i)}},[t("v-list-item-title",[e._v("\n          "+e._s(i)+"\n        ")])],1)})),1)],1)],1)};Ke._withStripped=!0;const Qe={name:"MenuSelector",model:{prop:"selectedVal",event:"select"},props:{items:{type:Array,default:()=>[]},selectedVal:{default:()=>null}},events:["select"],data:()=>({selectedLayer:1,openMenu:!1}),computed:{},watch:{}};var Xe=i(79922),et={};et.styleTagTransform=k(),et.setAttributes=v(),et.insert=f().bind(null,"head"),et.domAPI=m(),et.insertStyleElement=C(),u()(Xe.Z,et),Xe.Z&&Xe.Z.locals&&Xe.Z.locals;const tt=(0,_.Z)(Qe,Ke,[],!1,null,"e63b0890",null).exports,it={agency_id:"transit brand or transit agency",direction_id:"direction of travel for a trip. used to separate trips by directions.\n     ex: 0 - Travel in one direction. 1 - Travel in the opposite direction.",drop_off_type:"0 - Regularly scheduled drop off.\n    1 - No drop off available.\n    2 - Must phone agency to arrange drop off.\n    3 - Must coordinate with driver to arrange drop off.",headway:"Time between departures in seconds",pickup_type:"0 - Regularly scheduled pickup.\n    1 - No pickup available.\n    2 - Must phone agency to arrange pickup.\n    3 - Must coordinate with driver to arrange pickup",route_color:"color to display on the map (i.e. FFFFFF)",route_id:"Identifies a route. Often a string",route_long_name:"Full name of a route.This name is generally more descriptive     than the route_short_name and often includes the roudefaultAttributeste's destination or stop",route_short_name:'Short name of a route. This will often be a short,\n     abstract identifier like "32", "100X", or "Green"',route_type:"Indicates the type of transportation used on a route.\n     subway, metro, rail, bus, ferry, tram, etc",route_width:"width to display on the map",time:"Travel time on the link. set as length / speed when a link is created or edited (seconds)",trip_id:"Line (or trip) identifier (i.e. 100 Est).\n     Links are group by trip_id in Quetzal-network-editor.",length:"links geometry linestring length (meters)",highway:"Main identifier or any kind of road, street or path. ex: (motorway, residential, primary)",speed:"speed on the link (Km/h)",cycleway:"if the road contain a bike path. either yes, no or shared",cycleway_reverse:"if the road contain a bike path in the opposite direction. either yes, no or shared.      a road can be a oneway and have cycleway on both side."},st={name:"Home",components:{Map:Ue,SidePanel:oe,ColorPicker:Ye,MenuSelector:tt},data(){return{editorTrip:null,action:null,selectedNode:null,selectedLink:null,selectedIndex:null,showDialog:!1,cloneDialog:!1,editorForm:{},cursorPosition:[],tripToDelete:null,tripToClone:null,message:"",cloneName:null,errorMessage:null,lingering:!0,groupTripIds:[],mode:"pt",showHint:!1,showDeleteOption:!1,newFieldName:null,linkDir:[],rules:{newField:[e=>!Object.keys(this.editorForm).includes(e)||"field already exist",e=>""!==e||"cannot add empty field",e=>!e?.endsWith("_r")||"field cannot end with _r"]},hints:it}},computed:{selectedTrips(){return this.$store.getters.selectedTrips},selectedrGroup(){return this.$store.getters.selectedrGroup},numLinks(){return Array.isArray(this.editorForm)?this.editorForm.length:1},attributesChoices(){return["pt","road"].includes(this.mode)?this.$store.getters.attributesChoices[this.mode]:{}},editForm(){return["Edit Line Info","Edit Link Info","Edit Node Info","Edit Group Info","Edit rLink Info","Edit Road Group Info","Edit Visible Road Info","Edit OD Group Info","Edit Visible OD Info","Edit rNode Info","Edit OD Info"].includes(this.action)}},watch:{showDialog(e){e&&this.$store.commit("changeNotification",{text:"",autoClose:!0}),this.showHint=!1,this.showDeleteOption=!1}},created(){this.editorTrip=this.$store.getters.editorTrip,window.addEventListener("keydown",(e=>{"Control"!==e.key||this.showDialog||this.cloneDialog||this.$store.commit("changeAnchorMode")}))},methods:{orderedForm(e){let t=this.editorForm;t.length>=1&&(t=t[e]);const i=Object.keys(t).filter((e=>!t[e].disabled)).sort();return i.push(...Object.keys(t).filter((e=>t[e].disabled)).sort()),i.reduce(((e,i)=>(e[i]=t[i],e)),{})},updateSelectedTrips(e){"links"===e.type?this.$store.commit("changeSelectedTrips",e.data):"rlinks"===e.type&&this.$store.commit("changeVisibleRoads",e.data)},actionClick(e){if(this.action=e.action,"Edit Line Info"===this.action)this.editorForm=structuredClone(this.$store.getters.editorLineInfo),this.lingering=e.lingering,this.showDialog=!0;else if("Edit Group Info"===this.action){this.groupTripIds=e.tripIds;const t=["index","length","a","b","link_sequence","trip_id"],i=this.$store.getters.lineAttributes,s=structuredClone(this.$store.getters.links.features.filter((e=>this.groupTripIds.includes(e.properties.trip_id))));this.editorForm=(0,a.Vh)(s,i,t),this.lingering=e.lingering,this.showDialog=!0}else if("Edit Link Info"===this.action){this.selectedLink=e.selectedFeature.properties;const t=["a","b","index","link_sequence","trip_id"],i=this.$store.getters.lineAttributes,s=this.$store.getters.editorLinks.features.filter((e=>e.properties.index===this.selectedLink.index));this.editorForm=(0,a.Vh)(s,i,t),this.lingering=e.lingering,this.showDialog=!0}else if("Edit rLink Info"===this.action)this.selectedLink=e.selectedIndex,this.editorForm=this.selectedLink.map((e=>this.$store.getters.rlinksForm(e))),this.linkDir=this.$store.getters.rlinkDirection(this.selectedLink),e.selectedIndex.forEach((e=>{this.$store.getters.onewayIndex.has(e)&&(this.selectedLink.push(e),this.editorForm.push(this.$store.getters.reversedrLinksForm(e)),this.linkDir.push(this.$store.getters.rlinkDirection(this.selectedLink,!0)))})),this.showDialog=!0;else if("Edit OD Info"===this.action)this.selectedLink=e.selectedIndex[0],this.editorForm=this.$store.getters["od/linkForm"](this.selectedLink),this.showDialog=!0;else if("Edit Road Group Info"===this.action){const t=this.$store.getters.grouprLinks(e.category,e.group);this.selectedLinks=t;const i=this.$store.getters.rlineAttributes,s=["index","length","a","b"];this.editorForm=(0,a.Vh)(t,i,s),this.lingering=e.lingering,this.showDialog=!0}else if("Edit Visible Road Info"===this.action){const t=this.$store.getters.visiblerLinks.features;this.selectedLinks=t;const i=this.$store.getters.rlineAttributes,s=["index","length","a","b"];this.editorForm=(0,a.Vh)(t,i,s),this.lingering=e.lingering,this.showDialog=!0}else if("Edit OD Group Info"===this.action){const t=this.$store.getters["od/groupLayer"](e.category,e.group);this.selectedLinks=t;const i=this.$store.getters["od/layerAttributes"],s=["index"];this.editorForm=(0,a.Vh)(t,i,s),this.lingering=e.lingering,this.showDialog=!0}else if("Edit Visible OD Info"===this.action){const t=this.$store.getters["od/visibleLayer"].features;this.selectedLinks=t;const i=this.$store.getters["od/layerAttributes"],s=["index"];this.editorForm=(0,a.Vh)(t,i,s),this.lingering=e.lingering,this.showDialog=!0}else if(["Edit Node Info","Edit rNode Info"].includes(this.action)){this.selectedNode=e.selectedFeature.properties,"Edit Node Info"===this.action?this.editorForm=this.$store.getters.editorNodes.features.filter((e=>e.properties.index===this.selectedNode.index)):"Edit rNode Info"===this.action&&(this.editorForm=this.$store.getters.visiblerNodes.features.filter((e=>e.properties.index===this.selectedNode.index))),this.editorForm=this.editorForm[0].properties;const t=["index","route_width"],i=Object.keys(this.editorForm).reduce(((e,i)=>(e[i]={value:this.editorForm[i],disabled:t.includes(i),placeholder:!1},e)),{});this.editorForm=i,this.showDialog=!0}else["Cut Before Node","Cut After Node","Move Stop","Delete Stop","Delete Anchor","Delete Road Anchor"].includes(this.action)?(this.selectedNode=e.selectedFeature.properties,this.applyAction()):["Add Stop Inline","Add Anchor Inline"].includes(this.action)?(this.selectedLink=e.selectedFeature.properties,this.cursorPosition=e.lngLat,this.applyAction()):["Add Road Node Inline","Add Road Anchor Inline","Delete rLink"].includes(this.action)?(this.selectedIndex=e.selectedIndex,this.cursorPosition=e.lngLat,this.applyAction()):["Move Node","Move Anchor","Move rNode","Move rAnchor"].includes(this.action)?(this.selectedNode=e.selectedFeature,this.cursorPosition=e.lngLat,this.applyAction()):"Delete OD"===this.action&&(this.selectedIndex=e.selectedIndex,this.cursorPosition=e.lngLat,this.applyAction())},applyAction(){switch(this.showDialog=!1,this.action){case"Cut Before Node":this.$store.commit("cutLineAtNode",{selectedNode:this.selectedNode});break;case"Cut After Node":this.$store.commit("cutLineFromNode",{selectedNode:this.selectedNode});break;case"Delete Stop":this.$store.commit("deleteNode",{selectedNode:this.selectedNode});break;case"Edit Link Info":this.$store.commit("editLinkInfo",{selectedLinkId:this.selectedLink.index,info:this.editorForm});break;case"Edit Node Info":this.$store.commit("editNodeInfo",{selectedNodeId:this.selectedNode.index,info:this.editorForm});break;case"Edit Line Info":this.editorForm.trip_id.value!==this.$store.getters.editorTrip&&this.$store.getters.tripId.includes(this.editorForm.trip_id.value)&&(this.lingering=!0,this.editorTrip=null,this.$store.commit("setEditorTrip",{tripId:null,changeBounds:!1}),this.action=null,this.$store.commit("changeNotification",{text:"Could not apply modification. Trip_id already exist",autoClose:!0,color:"red darken-2"})),this.$store.commit("editLineInfo",this.editorForm),0===this.$store.getters.editorNodes.features.length&&this.$store.commit("changeNotification",{text:"Click on the map to start drawing",autoClose:!1});break;case"Edit Group Info":this.$store.commit("editGroupInfo",{groupTripIds:this.groupTripIds,info:this.editorForm});break;case"deleteTrip":this.$store.commit("deleteTrip",this.tripToDelete);break;case"Add Stop Inline":this.$store.commit("addNodeInline",{selectedLink:this.selectedLink,lngLat:this.cursorPosition,nodes:"editorNodes"});break;case"Add Anchor Inline":this.$store.commit("addNodeInline",{selectedLink:this.selectedLink,lngLat:this.cursorPosition,nodes:"anchorNodes"});break;case"Delete Anchor":this.$store.commit("deleteAnchorNode",{selectedNode:this.selectedNode});break;case"Edit rLink Info":this.$store.commit("editrLinkInfo",{selectedLinkId:this.selectedLink,info:this.editorForm});break;case"Edit Road Group Info":this.$store.commit("editrGroupInfo",{selectedLinks:this.selectedLinks,info:this.editorForm});break;case"Edit Visible Road Info":this.$store.commit("editrGroupInfo",{selectedLinks:this.$store.getters.visiblerLinks.features,info:this.editorForm});break;case"Edit OD Group Info":this.$store.commit("od/editGroupInfo",{selectedLinks:this.selectedLinks,info:this.editorForm});break;case"Edit Visible OD Info":this.$store.commit("od/editGroupInfo",{selectedLinks:this.$store.getters["od/visibleLayer"].features,info:this.editorForm});break;case"Edit rNode Info":this.$store.commit("editrNodeInfo",{selectedNodeId:this.selectedNode.index,info:this.editorForm});break;case"Edit OD Info":this.$store.commit("od/editLinkInfo",{selectedLinkId:this.selectedLink,info:this.editorForm});break;case"Add Road Node Inline":this.$store.commit("addRoadNodeInline",{selectedIndex:this.selectedIndex,lngLat:this.cursorPosition,nodes:"rnodes"});break;case"Add Road Anchor Inline":this.$store.commit("addRoadNodeInline",{selectedIndex:this.selectedIndex,lngLat:this.cursorPosition,nodes:"anchorrNodes"});break;case"Move Node":this.$store.commit("moveNode",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Move Anchor":this.$store.commit("moveAnchor",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Move rNode":this.$store.commit("moverNode",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Move rAnchor":this.$store.commit("moverAnchor",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Delete Road Anchor":this.$store.commit("deleteAnchorrNode",{selectedNode:this.selectedNode});break;case"Delete rLink":this.$store.commit("deleterLink",{selectedIndex:this.selectedIndex});break;case"deleterGroup":this.$store.commit("deleterGroup",this.tripToDelete);break;case"Delete OD":this.$store.commit("od/deleteOD",{selectedIndex:this.selectedIndex});break;case"deleteODGroup":this.$store.commit("od/deleteGroup",this.tripToDelete)}this.lingering||(this.confirmChanges(),this.lingering=!0)},cancelAction(){this.showDialog=!1,this.lingering||(this.abortChanges(),this.lingering=!0)},confirmChanges(){this.$store.commit("confirmChanges"),this.editorTrip=null,this.$store.commit("setEditorTrip",{tripId:null,changeBounds:!1}),this.action=null,this.$store.commit("changeNotification",{text:"modification applied",autoClose:!0,color:"success"})},abortChanges(){this.editorTrip=null,this.$store.commit("setEditorTrip",{tripId:null,changeBounds:!1}),this.action=null,this.$store.commit("changeNotification",{text:"modification aborted",autoClose:!0})},deleteButton(e){this.tripToDelete=e.trip,this.message=e.message,this.action=e.action,this.showDialog=!0},duplicate(){this.$store.getters.tripId.includes(this.cloneName)?this.errorMessage="already exist":(this.$store.commit("cloneTrip",{tripId:this.tripToClone,name:this.cloneName}),this.errorMessage="",this.cloneDialog=!1)},cloneButton(e){this.tripToClone=e.trip,this.message=e.message,this.cloneName=e.trip+" copy",this.cloneDialog=!0},cancelClone(){this.errorMessage="",this.cloneDialog=!1},addField(){let e={};if(e=Array.isArray(this.editorForm)?structuredClone(this.editorForm[0]):structuredClone(this.editorForm),Object.keys(e).includes(this.newFieldName)|""===this.newFieldName|!this.newFieldName|this.newFieldName?.endsWith("_r"))this.newFieldName="";else{if(Array.isArray(this.editorForm)){const e=structuredClone(this.editorForm);e.forEach((e=>{Object.keys(e)[0].endsWith("_r")?this.$store.getters.rcstAttributes.includes(this.newFieldName)||(e[this.newFieldName+"_r"]={disabled:!1,placeholder:!1,value:void 0}):e[this.newFieldName]={disabled:!1,placeholder:!1,value:void 0}})),this.editorForm=null,this.editorForm=e}else e[this.newFieldName]={disabled:!1,placeholder:!1,value:void 0},this.editorForm={},this.editorForm=e;["Edit Line Info","Edit Link Info","Edit Group Info"].includes(this.action)?this.$store.commit("addPropertie",{name:this.newFieldName,table:"links"}):["Edit rLink Info","Edit Road Group Info","Edit Visible Road Info"].includes(this.action)?this.$store.commit("addRoadPropertie",{name:this.newFieldName,table:"rlinks"}):"Edit Node Info"===this.action?this.$store.commit("addPropertie",{name:this.newFieldName,table:"nodes"}):"Edit rNode Info"===this.action?this.$store.commit("addRoadPropertie",{name:this.newFieldName,table:"rnodes"}):["Edit OD Group Info","Edit Visible OD Info"].includes(this.action)&&this.$store.commit("od/addPropertie",this.newFieldName),this.newFieldName=null,this.$store.commit("changeNotification",{text:"Field added",autoClose:!0,color:"success"})}},deleteField(e){let t=structuredClone(this.editorForm);Array.isArray(this.editorForm)?(e.endsWith("_r")&&(e=e.substr(0,e.length-2)),t=t.filter((t=>delete t[e])),t=t.filter((t=>delete t[e+"_r"]))):delete t[e],this.editorForm={},this.editorForm=t,["Edit Line Info","Edit Link Info","Edit Group Info"].includes(this.action)?this.$store.commit("deletePropertie",{name:e,table:"links"}):["Edit rLink Info","Edit Road Group Info","Edit Visible Road Info"].includes(this.action)?this.$store.commit("deleteRoadPropertie",{name:e,table:"rlinks"}):"Edit Node Info"===this.action?this.$store.commit("deletePropertie",{name:e,table:"nodes"}):"Edit rNode Info"===this.action?this.$store.commit("deleteRoadPropertie",{name:e,table:"rnodes"}):["Edit OD Group Info","Edit Visible OD Info"].includes(this.action)&&this.$store.commit("od/deletePropertie",{name:e}),this.$store.commit("changeNotification",{text:"Field deleted",autoClose:!0,color:"success"})},attributeNonDeletable(e){return["Edit Line Info","Edit Link Info","Edit Group Info","Edit Node Info"].includes(this.action)?this.$store.getters.defaultAttributesNames.includes(e):this.$store.getters.rundeletable.includes(e)},ToggleDeleteOption(){this.showDeleteOption=!this.showDeleteOption,this.showDeleteOption?this.$store.commit("changeNotification",{text:"This action will delete properties on every links (and reversed one for two-way roads)",autoClose:!1,color:"warning"}):this.$store.commit("changeNotification",{text:"",autoClose:!0})}}};var rt=i(8043),ot={};ot.styleTagTransform=k(),ot.setAttributes=v(),ot.insert=f().bind(null,"head"),ot.domAPI=m(),ot.insertStyleElement=C(),u()(rt.Z,ot),rt.Z&&rt.Z.locals&&rt.Z.locals;const nt=(0,_.Z)(st,P,[],!1,null,"00b02151",null).exports;var at=i(32713);const lt=()=>i.e(643).then(i.bind(i,36643)),ct=()=>i.e(106).then(i.bind(i,31480)),dt=()=>i.e(43).then(i.bind(i,17043)),pt=()=>i.e(363).then(i.bind(i,54363)),ut=()=>i.e(965).then(i.bind(i,55965));s.default.use(r.ZP);const ht=new r.ZP({linkExactActiveClass:"active",mode:"history",base:"/quetzal-network-editor-dev/",routes:[{path:"/",name:O.name,component:O,icon:"fa-solid fa-upload",title:"Import"},{path:"/Microservices",name:lt.name,component:lt,icon:"fas fa-tachometer-alt",title:"Microservices",beforeEnter:(e,t,i)=>{at.h.getters.loggedIn?i():at.h.commit("changeNotification",{text:"Must be logged in",autoClose:!0,color:"error"})}},{path:"/Home",name:nt.name,component:nt,icon:"fa-solid fa-map",title:"Map"},{path:"/Run",name:dt.name,component:dt,icon:"fa-solid fa-play",title:"Parameters and Run",beforeEnter:(e,t,i)=>{at.h.getters["run/parametersIsEmpty"]?at.h.commit("changeNotification",{text:"you need parameters to enter this page",autoClose:!0,color:"error"}):i()}},{path:"/ResultMap",name:ct.name,component:ct,margin:"5rem",icon:"fa-solid fa-layer-group",title:"Results Map"},{path:"/ResultPicture",name:pt.name,component:pt,icon:"fas fa-images",title:"Results Pictures"},{path:"/ResultTable",name:ut.name,component:ut,icon:"fas fa-table",title:"Result Table"},{path:"/callback",name:"callback",beforeEnter:(e,t,i)=>{const s=window.location.href;T.Z.auth.parseCognitoWebResponse(s),i("/")}},{path:"/signout",name:"signout",beforeEnter:(e,t,i)=>{i("/")}}]});ht.beforeEach(((e,t,i)=>{!["Import","callback","signout"].includes(e.name)&&at.h.getters.projectIsUndefined?i({name:"Import"}):i()}));const mt=ht},32713:(e,t,i)=>{"use strict";i.d(t,{h:()=>q});var s=i(70538),r=i(20629),o=i(5776),n=i(50253),a=i(59903),l=i.n(a),c=i(23384),d=i.n(c),p=i(82069),u=i(76955);const h=i(7597),m={state:{links:{},editorTrip:null,editorNodes:{},editorLinks:{},editorLineInfo:{},nodes:{},nodesHeader:{},linksHeader:{},tripId:[],selectedTrips:[],newLink:{},newNode:{},changeBounds:!0,linkSpeed:20,linksDefaultColor:"2196F3",lineAttributes:[],nodeAttributes:[],defaultAttributes:[{name:"index",type:"String"},{name:"a",type:"String"},{name:"b",type:"String"},{name:"trip_id",type:"String"},{name:"route_id",type:"String"},{name:"agency_id",type:"String"},{name:"route_short_name",type:"String"},{name:"route_type",type:"String"},{name:"route_color",type:"String"},{name:"length",type:"Number"},{name:"time",type:"Number"},{name:"headway",type:"Number"},{name:"route_width",type:"Number"},{name:"pickup_type",type:"Number"},{name:"drop_off_type",type:"Number"},{name:"link_sequence",type:"Number"},{name:"direction_id",type:"Number"}]},mutations:{loadLinks(e,t){if(e.links=structuredClone(t),["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.links.crs.properties.name)){const t={...e.links};t.features=[],e.linksHeader=t,e.editorLinks=t,e.links.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>e.map((e=>Math.round(1e6*Number(e))/1e6)))))),this.commit("applyPropertiesTypes"),this.commit("getTripId"),this.commit("changeSelectedTrips",e.tripId),this.commit("getLinksProperties")}else alert("invalid CRS. use CRS84 / EPSG:4326")},loadNodes(e,t){if(e.nodes=JSON.parse(JSON.stringify(t)),["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.nodes.crs.properties.name)){const t={...e.nodes};t.features=[],e.nodesHeader=t,e.editorNodes=t,e.nodes.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>Math.round(1e6*Number(e))/1e6)))),this.commit("getNodesProperties")}else alert("invalid CRS. use CRS84 / EPSG:4326")},unloadFiles(e){e.links.features=[],e.nodes.features=[],e.editorTrip=null,e.tripId=[],e.selectedTrips=[]},loadPTFiles(e,t){for(const i of t){const t=i.content.features[0].geometry.type;if("LineString"===t){if(!(0,u.ci)(i.content,e.links)){const e=new Error(" there is duplicated index, "+i.path);throw e.name="ImportError",e}this.commit("appendNewLinks",(0,p.GM)(i.content,i.path,t))}else if("Point"===t){if(!(0,u.ci)(i.content,e.nodes)){const e=new Error(" there is duplicated index, "+i.path);throw e.name="ImportError",e}this.commit("appendNewNodes",(0,p.GM)(i.content,i.path,t))}}},appendNewLinks(e,t){t.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>e.map((e=>Math.round(1e6*Number(e))/1e6)))))),t.features.forEach((t=>e.links.features.push(t))),this.commit("applyPropertiesTypes"),this.commit("getLinksProperties"),this.commit("getTripId"),this.commit("changeSelectedTrips",e.tripId)},appendNewNodes(e,t){t.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>Math.round(1e6*Number(e))/1e6)))),t.features.forEach((t=>e.nodes.features.push(t))),this.commit("applyPropertiesTypes"),this.commit("getNodesProperties")},getLinksProperties(e){let t=new Set([]);e.links.features.forEach((e=>{Object.keys(e.properties).forEach((e=>t.add(e)))})),e.defaultAttributes.map((e=>e.name)).forEach((e=>t.add(e))),t=Array.from(t),e.lineAttributes=t},getNodesProperties(e){let t=new Set([]);e.nodes.features.forEach((e=>{Object.keys(e.properties).forEach((e=>t.add(e)))})),["index","stop_code","stop_name"].forEach((e=>t.add(e))),t=Array.from(t),e.nodeAttributes=t},addPropertie(e,t){"links"===t.table?(e.links.features.map((e=>e.properties[t.name]=null)),e.editorLinks.features.map((e=>e.properties[t.name]=null)),e.lineAttributes.push(t.name)):(e.nodes.features.map((e=>e.properties[t.name]=null)),e.editorNodes.features.map((e=>e.properties[t.name]=null)))},deletePropertie(e,t){"links"===t.table?(e.links.features.filter((e=>delete e.properties[t.name])),e.editorLinks.features.filter((e=>delete e.properties[t.name])),e.lineAttributes=e.lineAttributes.filter((e=>e!==t.name))):(e.nodes.features.filter((e=>delete e.properties[t.name])),e.editorNodes.features.filter((e=>delete e.properties[t.name])))},changeSelectedTrips(e,t){e.selectedTrips=t},setEditorTrip(e,t){e.editorTrip=t.tripId,e.changeBounds=t.changeBounds;const i=JSON.parse(JSON.stringify(e.links));i.features=i.features.filter((t=>t.properties.trip_id===e.editorTrip)),e.editorLinks=i,this.commit("getEditorNodes",{nodes:e.nodes}),this.commit("getEditorLineInfo")},cloneTrip(e,t){const i=structuredClone(e.links);i.features=i.features.filter((e=>e.properties.trip_id===t.tripId));let s=i.features.length;for(const e of i.features)e.properties.trip_id=t.name,e.geometry.coordinates.reverse(),e.properties.a=[e.properties.b,e.properties.b=e.properties.a][0],e.properties.link_sequence=s,s-=1,0===e.properties.direction_id?e.properties.direction_id=1:e.properties.direction_id=0,e.properties.index="link_"+h.generate();i.features.reverse(),e.links.features.push(...i.features),this.commit("getTripId")},getEditorNodes(e,t){const i=e.editorLinks.features.map((e=>e.properties.a)),s=e.editorLinks.features.map((e=>e.properties.b)),r=new Set([...i,...s]),o=JSON.parse(JSON.stringify(t.nodes));o.features=o.features.filter((e=>r.has(e.properties.index))),e.editorNodes=o},getEditorLineInfo(e){const t={},i=["index","length","a","b","link_sequence"];if(0===e.editorLinks.features.length){const s={route_id:"Q1",agency_id:"QUENEDI",route_short_name:"Q1",route_type:"quenedi",route_color:e.linksDefaultColor,route_width:3,headway:600,pickup_type:0,drop_off_type:0,direction_id:0};e.lineAttributes.forEach((e=>{t[e]={value:s[e],disabled:i.includes(e),placeholder:!1}})),t.trip_id={value:e.editorTrip,disabled:!1,placeholder:!1}}else{const s=e.editorLinks.features;e.lineAttributes.forEach((e=>{const r=new Set(s.map((t=>t.properties[e])));t[e]={value:r.size>1?"":[...r][0],disabled:i.includes(e),placeholder:r.size>1}}))}e.editorLineInfo=t},getTripId(e){e.tripId=Array.from(new Set(e.links.features.map((e=>e.properties.trip_id))))},setNewLink(e,t){const i={index:null,length:null,time:null,pickup_type:0,drop_off_type:0},s=structuredClone(e.editorLinks);if(0===s.features.length){const t={};Object.keys(e.editorLineInfo).forEach((i=>{t[i]=e.editorLineInfo[i].value}));const i={index:"link_"+h.generate(),a:e.editorNodes.features[0].properties.index,b:e.editorNodes.features[0].properties.index,length:null,time:null,pickup_type:0,drop_off_type:0,link_sequence:0};Object.keys(i).forEach((e=>{t[e]=i[e]}));const r={geometry:{coordinates:[e.editorNodes.features[0].geometry.coordinates,e.editorNodes.features[0].geometry.coordinates],type:"LineString"},properties:t,type:"Feature"};s.features=[r]}if("Extend Line Upward"===t.action){var r=s.features[s.features.length-1];Object.assign(r.properties,i),r.properties.link_sequence=r.properties.link_sequence+1,r.properties.a=r.properties.b,r.geometry.coordinates[0]=r.geometry.coordinates.slice(-1)[0],t.nodeCopyId=r.properties.a,this.commit("setNewNode",t),r.properties.b=e.newNode.features[0].properties.index,r.properties.index="link_"+h.generate()}else"Extend Line Downward"===t.action&&(r=s.features[0],Object.assign(r.properties,i),r.properties.link_sequence=r.properties.link_sequence-1,r.properties.b=r.properties.a,r.geometry.coordinates[1]=r.geometry.coordinates[0],t.nodeCopyId=r.properties.b,this.commit("setNewNode",t),r.properties.a=e.newNode.features[0].properties.index,r.properties.index="link_"+h.generate());s.features=[r],e.newLink=s,e.newLink.action=t.action},createNewNode(e,t){const i={};e.nodeAttributes.forEach((e=>{i[e]=null})),i.index="node_"+h.generate();const s={geometry:{coordinates:t,type:"Point"},properties:i,type:"Feature"};e.editorNodes.features=[s]},setNewNode(e,t){const{coordinates:i=[null,null]}=t,s={};e.nodeAttributes.forEach((e=>{s[e]=null}));const r=JSON.parse(JSON.stringify(e.editorNodes)),o=r.features.filter((e=>e.properties.index===t.nodeCopyId))[0];Object.assign(o.properties,s),o.properties.index="node_"+h.generate(),o.geometry.coordinates=i,r.features=[o],e.newNode=r},editNewLink(e,t){e.newNode.features[0].geometry.coordinates=t,"Extend Line Upward"===e.newLink.action?e.newLink.features[0].geometry.coordinates=[e.newLink.features[0].geometry.coordinates[0],t]:e.newLink.features[0].geometry.coordinates=[t,e.newLink.features[0].geometry.coordinates[1]]},applyNewLink(e,t){this.commit("setNewLink",{action:t.action}),this.commit("editNewLink",t.geom);const i=(0,o.Z)(e.newLink);e.newLink.features[0].properties.length=Number((1e3*i).toFixed(0));const s=i/e.linkSpeed*3600;e.newLink.features[0].properties.time=Number(s.toFixed(0));const r=e.newLink.action;"Extend Line Upward"===r?(e.editorLinks.features.push(e.newLink.features[0]),e.editorNodes.features.push(e.newNode.features[0])):"Extend Line Downward"===r&&(e.editorLinks.features.splice(0,0,e.newLink.features[0]),e.editorNodes.features.splice(0,0,e.newNode.features[0]),e.editorLinks.features.forEach((e=>e.properties.link_sequence+=1)))},deleteNode(e,t){const i=t.selectedNode.index;e.editorNodes.features=e.editorNodes.features.filter((e=>e.properties.index!==i));const s=e.editorLinks.features.filter((e=>e.properties.b===i))[0],r=e.editorLinks.features.filter((e=>e.properties.a===i))[0];if(s)if(r){s.geometry.coordinates=[...s.geometry.coordinates.slice(0,-1),...r.geometry.coordinates.slice(1)],s.properties.b=r.properties.b,s.properties.length=Number(s.properties.length)+Number(r.properties.length),s.properties.time=Number(s.properties.time)+Number(r.properties.time);const t=e.editorLinks.features.findIndex((e=>e.properties.index===r.properties.index));e.editorLinks.features.slice(t).forEach((e=>e.properties.link_sequence-=1)),e.editorLinks.features=e.editorLinks.features.filter((e=>e.properties.index!==r.properties.index))}else e.editorLinks.features=e.editorLinks.features.filter((e=>e.properties.index!==s.properties.index));else e.editorLinks.features=e.editorLinks.features.filter((e=>e.properties.index!==r.properties.index)),e.editorLinks.features.forEach((e=>e.properties.link_sequence-=1))},splitLink(e,t){const i=t.selectedLink.index,s=e.editorLinks.features.findIndex((e=>e.properties.index===i)),r=e.editorLinks.features[s],o=structuredClone(r),n=t.offset;r.properties.b=e.newNode.features[0].properties.index,r.geometry.coordinates=[...r.geometry.coordinates.slice(0,t.sliceIndex),e.newNode.features[0].geometry.coordinates],r.properties.index="link_"+h.generate(),r.properties.length=r.properties.length*n,r.properties.time=r.properties.time*n,o.properties.a=e.newNode.features[0].properties.index,o.geometry.coordinates=[e.newNode.features[0].geometry.coordinates,...o.geometry.coordinates.slice(t.sliceIndex)],o.properties.index="link_"+h.generate(),o.properties.length=o.properties.length*(1-n),o.properties.time=o.properties.time*(1-n),e.editorLinks.features.splice(s+1,0,o),e.editorNodes.features.push(e.newNode.features[0]);const a=r.properties.link_sequence;e.editorLinks.features.filter((e=>e.properties.link_sequence>a)).forEach((e=>e.properties.link_sequence+=1)),o.properties.link_sequence+=1},addNodeInline(e,t){let i=e.editorLinks.features.filter((e=>e.properties.index===t.selectedLink.index));const s=i[0].properties.a;i=l()(i[0].geometry.coordinates);const r=d()(Object.values(t.lngLat)),a=(0,n.Z)(i,r,{units:"kilometers"}),c=(0,o.Z)(i,{units:"kilometers"}),p=a.properties.index+1,u=a.properties.location/c;"editorNodes"===t.nodes?(this.commit("setNewNode",{coordinates:a.geometry.coordinates,nodeCopyId:s}),this.commit("splitLink",{selectedLink:t.selectedLink,offset:u,sliceIndex:p})):this.commit("addAnchorNode",{selectedLink:t.selectedLink,coordinates:a.geometry.coordinates,sliceIndex:p})},addAnchorNode(e,t){const i=t.selectedLink.index,s=e.editorLinks.features.findIndex((e=>e.properties.index===i));e.editorLinks.features[s].geometry.coordinates.splice(t.sliceIndex,0,t.coordinates)},deleteAnchorNode(e,t){const i=t.selectedNode.linkIndex,s=t.selectedNode.coordinatedIndex,r=e.editorLinks.features.filter((e=>e.properties.index===i))[0];r.geometry.coordinates=[...r.geometry.coordinates.slice(0,s),...r.geometry.coordinates.slice(s+1)]},moveAnchor(e,t){const i=t.selectedNode.properties.linkIndex,s=t.selectedNode.properties.coordinatedIndex,r=e.editorLinks.features.filter((e=>e.properties.index===i))[0];r.geometry.coordinates=[...r.geometry.coordinates.slice(0,s),t.lngLat,...r.geometry.coordinates.slice(s+1)];const n=(0,o.Z)(r);r.properties.length=Number((1e3*n).toFixed(0));const a=n/e.linkSpeed*3600;r.properties.time=Number(a.toFixed(0))},moveNode(e,t){const i=t.selectedNode.properties.index;e.editorNodes.features.filter((e=>e.properties.index===i))[0].geometry.coordinates=t.lngLat;const s=e.editorLinks.features.filter((e=>e.properties.b===i))[0],r=e.editorLinks.features.filter((e=>e.properties.a===i))[0];if(s){s.geometry.coordinates=[...s.geometry.coordinates.slice(0,-1),t.lngLat];const i=(0,o.Z)(s);s.properties.length=Number((1e3*i).toFixed(0));const r=i/e.linkSpeed*3600;s.properties.time=Number(r.toFixed(0))}if(r){r.geometry.coordinates=[t.lngLat,...r.geometry.coordinates.slice(1)];const i=(0,o.Z)(r);r.properties.length=Number((1e3*i).toFixed(0));const s=i/e.linkSpeed*3600;r.properties.time=Number(s.toFixed(0))}},cutLineFromNode(e,t){const i=t.selectedNode.index;e.editorLinks.features.sort(((e,t)=>e.properties.link_sequence-t.properties.link_sequence));let s=[];for(const[t,r]of e.editorLinks.features.entries())if(r.properties.b===i){s=e.editorLinks.features.slice(t+1);break}e.editorLinks.features=e.editorLinks.features.filter((e=>!s.includes(e))),this.commit("getEditorNodes",{nodes:e.editorNodes})},cutLineAtNode(e,t){const i=t.selectedNode.index;e.editorLinks.features.sort(((e,t)=>e.properties.link_sequence-t.properties.link_sequence));let s=[];for(const[t,r]of e.editorLinks.features.entries())if(r.properties.a===i){s=e.editorLinks.features.slice(0,t);break}e.editorLinks.features=e.editorLinks.features.filter((e=>!s.includes(e))),this.commit("getEditorNodes",{nodes:e.editorNodes})},editLineInfo(e,t){e.editorLineInfo=t;const i=Object.keys(t).filter((e=>!(""===t[e].value&&t[e].placeholder||t[e].disabled)));e.editorLinks.features.forEach((e=>i.forEach((i=>e.properties[i]=t[i].value))))},editLinkInfo(e,t){const{selectedLinkId:i,info:s}=t,r=Object.keys(s);e.editorLinks.features.filter((function(e){e.properties.index===i&&r.forEach((t=>e.properties[t]=s[t].value))})),this.commit("getEditorLineInfo")},editNodeInfo(e,t){const{selectedNodeId:i,info:s}=t,r=Object.keys(s);e.editorNodes.features.filter((function(e){e.properties.index===i&&r.forEach((t=>e.properties[t]=s[t].value))}))},editGroupInfo(e,t){const i=t.info,s=t.groupTripIds,r=Object.keys(i).filter((e=>""!==i[e].value||!i[e].placeholder));e.links.features.filter((e=>s.includes(e.properties.trip_id))).forEach((e=>r.forEach((t=>e.properties[t]=i[t].value)))),this.commit("getTripId")},deleteUnusedNodes(e){const t=e.links.features.map((e=>e.properties.a)),i=e.links.features.map((e=>e.properties.b)),s=new Set([...t,...i]);e.nodes.features=e.nodes.features.filter((e=>s.has(e.properties.index)))},confirmChanges(e){const t={...e.links};t.features=t.features.filter((t=>t.properties.trip_id===e.editorTrip));const i=t.features.filter((t=>!e.editorLinks.features.includes(t)));if(e.tripId.includes(e.editorTrip))var s=e.links.features.findIndex((t=>t.properties.trip_id===e.editorTrip));else s=0;e.links.features=e.links.features.filter((e=>!i.includes(e))),e.links.features.splice(s,0,...e.editorLinks.features);const r=e.nodes.features.map((e=>e.properties.index)),o={...e.editorNodes};o.features=o.features.filter((e=>!r.includes(e.properties.index))),e.nodes.features.push(...o.features),e.nodes.features.filter((function(t){e.editorNodes.features.forEach((function(e){t.properties.index===e.properties.index&&(t.properties=e.properties,t.geometry=e.geometry)}))})),this.commit("deleteUnusedNodes");const n=new Set(e.editorNodes.features.map((e=>e.properties.index)));e.links.features.filter((t=>t.properties.trip_id!==e.editorTrip)).filter((e=>n.has(e.properties.a))).forEach((t=>t.geometry.coordinates=[e.editorNodes.features.filter((e=>e.properties.index===t.properties.a))[0].geometry.coordinates,...t.geometry.coordinates.slice(1)])),e.links.features.filter((t=>t.properties.trip_id!==e.editorTrip)).filter((e=>n.has(e.properties.b))).forEach((t=>t.geometry.coordinates=[...t.geometry.coordinates.slice(0,-1),e.editorNodes.features.filter((e=>e.properties.index===t.properties.b))[0].geometry.coordinates])),e.newLink={},e.newNode={},this.commit("applyPropertiesTypes"),this.commit("getTripId"),this.commit("getLinksProperties")},deleteTrip(e,t){e.links.features="object"==typeof t?e.links.features.filter((e=>!t.includes(e.properties.trip_id))):e.links.features.filter((e=>e.properties.trip_id!==t)),this.commit("deleteUnusedNodes"),this.commit("getTripId")},applyPropertiesTypes(e){e.defaultAttributes.forEach((t=>{"String"===t.type?e.links.features.forEach((e=>e.properties[t.name]=String(e.properties[t.name]))):"Number"===t.type&&e.links.features.forEach((e=>e.properties[t.name]=Number(e.properties[t.name])))}))}},getters:{links:e=>e.links,nodes:e=>e.nodes,linkSpeed:e=>e.linkSpeed,linksIsEmpty:e=>0===e.links.features.length,route_id:e=>e.route_id,editorTrip:e=>e.editorTrip,editorLinks:e=>e.editorLinks,editorNodes:e=>e.editorNodes,tripId:e=>e.tripId,selectedTrips:e=>e.selectedTrips,editorLineInfo:e=>e.editorLineInfo,newLink:e=>e.newLink,newNode:e=>e.newNode,firstNodeId:e=>e.editorNodes.features.length>1?e.editorLinks.features[0].properties.a:e.editorNodes.features[0].properties.index,lastNodeId:e=>e.editorNodes.features.length>1?e.editorLinks.features.slice(-1)[0].properties.b:e.editorNodes.features[0].properties.index,firstNode:(e,t)=>e.editorTrip?e.editorNodes.features.filter((e=>e.properties.index===t.firstNodeId))[0]:null,lastNode:(e,t)=>e.editorTrip?e.editorNodes.features.filter((e=>e.properties.index===t.lastNodeId))[0]:null,lineAttributes:e=>e.lineAttributes.sort(),nodeAttributes:e=>e.nodeAttributes,changeBounds:e=>e.changeBounds,nodesHeader:e=>e.nodesHeader,linksHeader:e=>e.linksHeader,anchorNodes:e=>{const t=structuredClone(e.nodesHeader);return e.editorLinks.features.filter((e=>e.geometry.coordinates.length>2)).forEach((e=>{const i=e.properties.index;e.geometry.coordinates.slice(1,-1).forEach(((e,s)=>t.features.push({properties:{index:h.generate(),linkIndex:i,coordinatedIndex:s+1},geometry:{coordinates:e,type:"Point"}})))})),t},attributeType:e=>t=>e.defaultAttributes.filter((e=>e.name===t))[0]?.type,defaultAttributesNames:e=>e.defaultAttributes.map((e=>e.name))}};var g=i(98013),f=i(63829),A=i(87189);const v=i(7597),y={state:{rlinks:{},rnodes:{},rlinksHeader:{},rnodesHeader:{},selectedrFilter:"",selectedrGroup:[],filteredrCategory:[],rlineAttributes:[],rnodeAttributes:[],newrNode:{},visiblerLinks:{},renderedrLinks:{},visiblerNodes:{},renderedrNodes:{},connectedLinks:[],defaultHighway:"quenedi",roadSpeed:20,rlinksDefaultColor:"2196F3",rcstAttributes:["a","b","index","length","route_color","oneway","route_width","highway","cycleway","cycleway_reverse","incline"],rundeletable:["index","a","b","length","route_color","oneway","time","speed","time_r","speed_r"],reversedAttributes:[]},mutations:{loadrLinks(e,t){if(e.rlinks=structuredClone(t),["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.rlinks.crs.properties.name)){const t={...e.rlinks};t.features=[],e.rlinksHeader=t,e.visiblerLinks=structuredClone(t),e.renderedrLinks=structuredClone(t),e.rlinks.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>e.map((e=>Math.round(1e6*Number(e))/1e6)))))),e.filteredrCategory=[],e.selectedrGroup=[],this.commit("getrLinksProperties"),this.commit("splitOneway")}else alert("invalid CRS. use CRS84 / EPSG:4326")},loadrNodes(e,t){if(e.rnodes=JSON.parse(JSON.stringify(t)),["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.rnodes.crs.properties.name)){const t={...e.rnodes};t.features=[],e.rnodesHeader=t,e.visiblerNodes=structuredClone(t),e.renderedrNodes=structuredClone(t),e.rnodes.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>Math.round(1e6*Number(e))/1e6)))),this.commit("getrNodesProperties")}else alert("invalid CRS. use CRS84 / EPSG:4326")},loadRoadFiles(e,t){for(const i of t){const t=i.content.features[0].geometry.type;if("LineString"===t){if(!(0,u.ci)(i.content,e.rlinks)){const e=new Error(" there is duplicated index, "+i.path);throw e.name="ImportError",e}this.commit("appendNewrLinks",(0,p.GM)(i.content,i.path,t))}else if("Point"===t){if(!(0,u.ci)(i.content,e.rnodes)){const e=new Error(" there is duplicated index, "+i.path);throw e.name="ImportError",e}this.commit("appendNewrNodes",(0,p.GM)(i.content,i.path,t))}}},appendNewrLinks(e,t){t.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>e.map((e=>Math.round(1e6*Number(e))/1e6)))))),t.features.forEach((t=>e.rlinks.features.push(t))),this.commit("getrLinksProperties"),this.commit("splitOneway"),this.commit("getFilteredrCat")},appendNewrNodes(e,t){t.features.forEach((e=>e.geometry.coordinates=e.geometry.coordinates.map((e=>Math.round(1e6*Number(e))/1e6)))),t.features.forEach((t=>e.rnodes.features.push(t))),this.commit("splitOneway"),this.commit("getrNodesProperties")},getrLinksProperties(e){let t=new Set([]);e.rlinks.features.forEach((e=>{Object.keys(e.properties).forEach((e=>{e.endsWith("_r")||t.add(e)}))})),["index","a","b","route_color"].forEach((e=>t.add(e))),t=Array.from(t),e.rlineAttributes=t,t.includes("highway")?e.selectedrFilter="highway":e.selectedrFilter=t[0]},getrNodesProperties(e){let t=new Set([]);e.rnodes.features.forEach((e=>{Object.keys(e.properties).forEach((e=>t.add(e)))})),["index"].forEach((e=>t.add(e))),t=Array.from(t),e.rnodeAttributes=t},addRoadPropertie(e,t){"rlinks"===t.table?(e.rlinks.features.map((e=>e.properties[t.name]=null)),e.visiblerLinks.features.map((e=>e.properties[t.name]=null)),e.rlineAttributes.push(t.name),e.rcstAttributes.includes(t.name)||e.reversedAttributes.push(t.name+"_r")):(e.rnodes.features.map((e=>e.properties[t.name]=null)),e.visiblerNodes.features.map((e=>e.properties[t.name]=null)),e.rnodeAttributes.push(t.name))},deleteRoadPropertie(e,t){"rlinks"===t.table?(e.rlinks.features.filter((e=>delete e.properties[t.name])),e.rlinks.features.filter((e=>delete e.properties[t.name+"_r"])),e.visiblerLinks.features.filter((e=>delete e.properties[t.name])),e.visiblerLinks.features.filter((e=>delete e.properties[t.name+"_r"])),e.rlineAttributes=e.rlineAttributes.filter((e=>e!==t.name)),e.reversedAttributes=e.reversedAttributes.filter((e=>e!==t.name+"_r"))):(e.rnodes.features.filter((e=>delete e.properties[t.name])),e.visiblerNodes.features.filter((e=>delete e.properties[t.name])))},changeSelectedrFilter(e,t){e.selectedrFilter=t,this.commit("getFilteredrCat")},getFilteredrCat(e){const t=Array.from(new Set(e.rlinks.features.map((t=>t.properties[e.selectedrFilter]))));e.filteredrCategory=t},splitOneway(e){e.rlineAttributes.includes("oneway")&&(e.rlinks.features.forEach((e=>{[!0,"true","1",1].includes(e.properties.oneway)?e.properties.oneway="1":e.properties.oneway="0"})),e.reversedAttributes=e.rlineAttributes.filter((t=>!e.rcstAttributes.includes(t))).map((e=>e+"_r")),e.rlinks.features.forEach((t=>{"0"===t.properties.oneway&&e.reversedAttributes.forEach((e=>{t.properties[e]||(t.properties[e]=t.properties[e.slice(0,-2)])}))})))},changeVisibleRoads(e,t){const i=t.method,s=t.data,r=t.category;e.selectedrFilter=r;let o=null;switch(i){case"showAll":e.selectedrGroup=s,e.visiblerLinks.features=e.rlinks.features.slice();break;case"hideAll":e.selectedrGroup=s,e.visiblerLinks.features=[];break;case"add":e.selectedrGroup.includes(s[0])||e.selectedrGroup.push(s[0]),o=e.rlinks.features.filter((e=>e.properties[r]===s[0])),o.forEach((t=>e.visiblerLinks.features.push(t)));break;case"remove":e.selectedrGroup=e.selectedrGroup.filter((e=>e!==s[0])),o=new Set(e.visiblerLinks.features.filter((e=>e.properties[r]===s[0]))),e.visiblerLinks.features=e.visiblerLinks.features.filter((e=>!o.has(e)))}this.commit("getVisiblerNodes",{method:i})},refreshVisibleRoads(e){const t=new Set(e.selectedrGroup),i=e.selectedrFilter;e.visiblerLinks.features=e.rlinks.features.filter((e=>t.has(e.properties[i]))),this.commit("getVisiblerNodes",{method:"add"});const s=new Set(e.visiblerLinks.features.map((e=>e.properties[i])));e.selectedrGroup=[...s].filter((e=>t.has(e)))},getVisiblerNodes(e,t){let i=[],s=[],r=[];switch(t.method){case"showAll":e.visiblerNodes.features=e.rnodes.features;break;case"hideAll":e.visiblerNodes.features=[];break;case"add":i=e.visiblerLinks.features.map((e=>e.properties.a)),s=e.visiblerLinks.features.map((e=>e.properties.b)),r=new Set([...i,...s]),e.visiblerNodes.features=e.rnodes.features.filter((e=>r.has(e.properties.index)));break;case"remove":i=e.visiblerLinks.features.map((e=>e.properties.a)),s=e.visiblerLinks.features.map((e=>e.properties.b)),r=new Set([...i,...s]),e.visiblerNodes.features=e.visiblerNodes.features.filter((e=>r.has(e.properties.index)))}},getRenderedrLinks(e,t){e.renderedrLinks.features=e.visiblerLinks.features.filter((e=>(0,g.ZP)(t.bbox,e)||(0,f.Z)(t.bbox,e))),this.commit("getRenderedrNodes")},getRenderedrNodes(e){const t=e.renderedrLinks.features.map((e=>e.properties.a)),i=e.renderedrLinks.features.map((e=>e.properties.b)),s=new Set([...t,...i]);e.renderedrNodes.features=e.visiblerNodes.features.filter((e=>s.has(e.properties.index)))},setRenderedrLinks(e,t){"visible"===t.method?(e.renderedrLinks.features=e.visiblerLinks.features,e.renderedrNodes.features=[]):(e.renderedrLinks.features=[],e.renderedrNodes.features=[])},editrLinkInfo(e,t){const{selectedLinkId:i,info:s}=t;for(let t=0;t<i.length;t++){const r=Object.keys(s[t]),o=e.renderedrLinks.features.filter((e=>e.properties.index===i[t]))[0];s[t].oneway?.value!==o.properties.oneway&&"0"===s[t].oneway?.value?e.reversedAttributes.forEach((e=>o.properties[e]=s[t][e.slice(0,-2)].value)):s[t].oneway?.value!==o.properties.oneway&&"1"===s[t].oneway?.value&&e.reversedAttributes.forEach((e=>delete o.properties[e])),r.forEach((e=>o.properties[e]=s[t][e].value))}},editrNodeInfo(e,t){const{selectedNodeId:i,info:s}=t,r=Object.keys(s);e.rnodes.features.filter((function(e){e.properties.index===i&&r.forEach((t=>e.properties[t]=s[t].value))}))},createNewrNode(e,t){const i=structuredClone(e.rnodesHeader),s={};e.rnodeAttributes.forEach((e=>{s[e]=null})),s.index="rnode_"+v.generate();const r={geometry:{coordinates:t,type:"Point"},properties:s,type:"Feature"};i.features=[r],e.newrNode=i},splitrLink(e,t){const i=t.selectedFeature,s=structuredClone(i),r=t.offset;i.properties.b=e.newrNode.features[0].properties.index,i.geometry.coordinates=[...i.geometry.coordinates.slice(0,t.sliceIndex),e.newrNode.features[0].geometry.coordinates],i.properties.index="link_"+v.generate(),i.properties.length=i.properties.length*r,i.properties.time=i.properties.time*r,i.properties.length_r&&(i.properties.length_r=i.properties.length),i.properties.time_r&&(i.properties.time_r=i.properties.time),s.properties.a=e.newrNode.features[0].properties.index,s.geometry.coordinates=[e.newrNode.features[0].geometry.coordinates,...s.geometry.coordinates.slice(t.sliceIndex)],s.properties.index="rlink_"+v.generate(),s.properties.length=s.properties.length*(1-r),s.properties.time=s.properties.time*(1-r),s.properties.length_r&&(s.properties.length_r=s.properties.length),s.properties.time_r&&(s.properties.time_r=s.properties.time),e.visiblerLinks.features.push(s),e.renderedrLinks.features.push(s),e.rlinks.features.filter((e=>e.properties.index===i.properties.index))[0]=i,e.rlinks.features.push(s)},addRoadNodeInline(e,t){const i=e.renderedrLinks.features.filter((e=>t.selectedIndex.includes(e.properties.index)));for(let s=0;s<i.length;s++){const r=l()(i[s].geometry.coordinates),a=d()(Object.values(t.lngLat)),c=(0,n.Z)(r,a,{units:"kilometers"}),p=(0,o.Z)(r,{units:"kilometers"}),u=c.properties.index+1,h=c.properties.location/p;"rnodes"===t.nodes?(0===s&&(this.commit("createNewrNode",c.geometry.coordinates),e.rnodes.features.push(e.newrNode.features[0]),e.visiblerNodes.features.push(e.newrNode.features[0]),e.renderedrNodes.features.push(e.newrNode.features[0])),this.commit("splitrLink",{selectedFeature:i[s],offset:h,sliceIndex:u})):this.commit("addAnchorrNode",{selectedLink:i[s],coordinates:c.geometry.coordinates,sliceIndex:u})}},addAnchorrNode(e,t){const i=t.selectedLink.properties.index,s=e.renderedrLinks.features.findIndex((e=>e.properties.index===i));e.renderedrLinks.features[s].geometry.coordinates.splice(t.sliceIndex,0,t.coordinates)},createrLink(e,t){t.nodeIdB?"rlinks"===t.layerId&&(this.commit("addRoadNodeInline",{selectedIndex:t.nodeIdB,lngLat:t.geom,nodes:"rnodes"}),t.nodeIdB=e.newrNode.features[0].properties.index):(this.commit("createNewrNode",t.geom),e.visiblerNodes.features.push(e.newrNode.features[0]),e.renderedrNodes.features.push(e.newrNode.features[0]),e.rnodes.features.push(e.newrNode.features[0]),t.nodeIdB=e.newrNode.features[0].properties.index);const i=e.visiblerNodes.features.filter((e=>e.properties.index===t.nodeIdA))[0],s=e.visiblerNodes.features.filter((e=>e.properties.index===t.nodeIdB))[0],r={coordinates:[i.geometry.coordinates,s.geometry.coordinates],type:"LineString"},n={};e.rlineAttributes.forEach((e=>n[e]=null)),n.index="rlink_"+v.generate(),n.a=t.nodeIdA,n.b=t.nodeIdB,n.highway=e.defaultHighway,n.route_color=e.rlinksDefaultColor;const a=(0,o.Z)(r),l=a/e.roadSpeed*3600;n.length=Number((1e3*a).toFixed(0)),n.time=Number(l.toFixed(0)),n.speed=Number(e.roadSpeed),e.rlineAttributes.includes("oneway")&&(n.oneway="0",e.reversedAttributes.forEach((e=>n[e]=n[e.slice(0,-2)])));const c={geometry:r,properties:n,type:"Feature"};e.rlinks.features.push(c);const d=n[e.selectedrFilter];e.filteredrCategory.includes(d)||e.filteredrCategory.push(d),e.selectedrGroup.includes(d)?(e.visiblerLinks.features.push(c),e.renderedrLinks.features.push(c)):(e.visiblerLinks.features.push(c),e.renderedrLinks.features.push(c),e.selectedrGroup.push(d))},getConnectedLinks(e,t){const i=t.selectedNode.properties.index;e.connectedLinks={b:e.rlinks.features.filter((e=>e.properties.b===i)),a:e.rlinks.features.filter((e=>e.properties.a===i))}},moverNode(e,t){const i=t.selectedNode.properties.index;e.renderedrNodes.features.filter((e=>e.properties.index===i))[0].geometry.coordinates=t.lngLat,e.connectedLinks.b.forEach((e=>{e.geometry.coordinates=[...e.geometry.coordinates.slice(0,-1),t.lngLat];const i=(0,o.Z)(e);e.properties.length=Number((1e3*i).toFixed(0));const s=i/e.properties.speed*3600;if(e.properties.time=Number(s.toFixed(0)),e.properties.time_r){const t=i/e.properties.speed_r*3600;e.properties.time_r=Number(t.toFixed(0))}e.properties.length_r&&(e.properties.length_r=e.properties.length)})),e.connectedLinks.a.forEach((e=>{e.geometry.coordinates=[t.lngLat,...e.geometry.coordinates.slice(1)];const i=(0,o.Z)(e);e.properties.length=Number((1e3*i).toFixed(0));const s=i/e.properties.speed*3600;if(e.properties.time=Number(s.toFixed(0)),e.properties.time_r){const t=i/e.properties.speed_r*3600;e.properties.time_r=Number(t.toFixed(0))}e.properties.length_r&&(e.properties.length_r=e.properties.length)}))},moverAnchor(e,t){const i=t.selectedNode.properties.linkIndex,s=t.selectedNode.properties.coordinatedIndex,r=e.renderedrLinks.features.filter((e=>e.properties.index===i))[0];r.geometry.coordinates=[...r.geometry.coordinates.slice(0,s),t.lngLat,...r.geometry.coordinates.slice(s+1)];const n=(0,o.Z)(r);r.properties.length=Number((1e3*n).toFixed(0));const a=n/e.roadSpeed*3600;r.properties.time=Number(a.toFixed(0))},deleteAnchorrNode(e,t){const i=t.selectedNode.linkIndex,s=t.selectedNode.coordinatedIndex,r=e.renderedrLinks.features.filter((e=>e.properties.index===i))[0];r.geometry.coordinates=[...r.geometry.coordinates.slice(0,s),...r.geometry.coordinates.slice(s+1)]},deleterLink(e,t){const i=new Set(t.selectedIndex);e.rlinks.features=e.rlinks.features.filter((e=>!i.has(e.properties.index))),e.visiblerLinks.features=e.visiblerLinks.features.filter((e=>!i.has(e.properties.index))),e.renderedrLinks.features=e.renderedrLinks.features.filter((e=>!i.has(e.properties.index))),this.commit("deleteUnusedrNodes"),this.commit("getVisiblerNodes",{method:"remove"}),this.commit("getRenderedrNodes"),this.commit("getFilteredrCat")},deleterGroup(e,t){const i=t,s=e.selectedrFilter;e.rlinks.features=e.rlinks.features.filter((e=>e.properties[s]!==i)),this.commit("refreshVisibleRoads"),this.commit("deleteUnusedrNodes"),this.commit("getFilteredrCat")},deleteUnusedrNodes(e){const t=e.rlinks.features.map((e=>e.properties.a)),i=e.rlinks.features.map((e=>e.properties.b)),s=new Set([...t,...i]);e.rnodes.features=e.rnodes.features.filter((e=>s.has(e.properties.index)))},editrGroupInfo(e,t){const i=t.info,s=t.selectedLinks,r=Object.keys(i).filter((e=>""!==i[e].value||!i[e].placeholder));if("0"===i.oneway?.value?s.filter((e=>"1"===e.properties.oneway)).forEach((t=>{e.reversedAttributes.forEach((e=>t.properties[e]=t.properties[e.slice(0,-2)]))})):"1"===i.oneway?.value&&s.filter((e=>"0"===e.properties.oneway)).forEach((t=>{e.reversedAttributes.forEach((e=>delete t.properties[e]))})),s.forEach((e=>r.forEach((t=>e.properties[t]=i[t].value)))),e.rlineAttributes.includes("oneway")){const t=e.reversedAttributes.filter((e=>r.includes(e.slice(0,-2))));s.filter((e=>"0"===e.properties.oneway)).forEach((e=>t.forEach((t=>e.properties[t]=i[t.slice(0,-2)].value))))}this.commit("refreshVisibleRoads"),this.commit("getFilteredrCat")}},getters:{rlinks:e=>e.rlinks,rnodes:e=>e.rnodes,roadSpeed:e=>e.roadSpeed,rlinksHeader:e=>e.rlinksHeader,rnodesHeader:e=>e.rnodesHeader,rlineAttributes:e=>e.rlineAttributes.sort(),selectedrGroup:e=>e.selectedrGroup,selectedrFilter:e=>e.selectedrFilter,filteredrCategory:e=>e.filteredrCategory,visiblerLinks:e=>e.visiblerLinks,renderedrLinks:e=>e.renderedrLinks,renderedrNodes:e=>e.renderedrNodes,visiblerNodes:e=>e.visiblerNodes,defaultHighway:e=>e.defaultHighway,rlinksIsEmpty:e=>0===e.rlinks.features.length,rcstAttributes:e=>e.rcstAttributes,newrNode:e=>e.newrNode,rundeletable:e=>e.rundeletable,hasCycleway:e=>e.rlineAttributes.includes("cycleway"),anchorrNodes:e=>{const t=structuredClone(e.rnodesHeader);return e.renderedrLinks.features.filter((e=>e.geometry.coordinates.length>2)).forEach((e=>{const i=e.properties.index;e.geometry.coordinates.slice(1,-1).forEach(((e,s)=>t.features.push(d()(e,{index:v.generate(),linkIndex:i,coordinatedIndex:s+1}))))})),t},rlinkDirection:e=>(t,i=!1)=>{const s=e.rlinks.features.filter((e=>t.includes(e.properties.index))),r=[];return s.forEach((e=>{const t=e.geometry.coordinates;i?r.push((0,A.Z)(t[t.length-1],t[0])):r.push((0,A.Z)(t[0],t[t.length-1]))})),r},grouprLinks:e=>(t,i)=>e.rlinks.features.filter((e=>i===e.properties[t])),onewayIndex:e=>new Set(e.rlinks.features.filter((e=>"0"===e.properties.oneway)).map((e=>e.properties.index))),rlinksForm:e=>t=>{const i=["a","b","index"],s=e.visiblerLinks.features.filter((e=>e.properties.index===t))[0].properties,r={};return e.rlineAttributes.forEach((e=>{r[e]={value:s[e],disabled:i.includes(e),placeholder:!1}})),r},reversedrLinksForm:e=>t=>{const i=["a","b","index"],s=e.visiblerLinks.features.filter((e=>e.properties.index===t))[0].properties,r={};return e.reversedAttributes.forEach((e=>{r[e]={value:s[e],disabled:i.includes(e),placeholder:!1}})),r}}},C=i(7597),b={namespaced:!0,state:{layer:{},visibleLayer:{},layerHeader:{},layerAttributes:[],filteredCategory:[],selectedFilter:"",selectedCategory:[]},mutations:{loadLayer(e,t){if(e.layer=structuredClone(t),["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.layer.crs.properties.name)){const t={...e.layer};t.features=[],e.layerHeader=t,e.visibleLayer=structuredClone(t),this.commit("od/getProperties")}else alert("invalid CRS. use CRS84 / EPSG:4326")},loadODFiles(e,t){for(const i of t){if(!(0,u.ci)(i.content,e.layer)){const e=new Error(" there is duplicated index, "+i.path);throw e.name="ImportError",e}this.commit("od/appendNewOD",(0,p.GM)(i.content,i.path,"LineString"))}},appendNewOD(e,t){t.features.forEach((e=>{return e.geometry.coordinates=[(t=e.geometry.coordinates)[0],t[t.length-1]];var t})),t.features.forEach((t=>e.layer.features.push(t))),this.commit("od/getProperties"),this.commit("od/getFilteredCategory"),this.commit("od/refreshVisibleLayer")},changeSelectedFilter(e,t){e.selectedFilter=t,this.commit("od/refreshVisibleLayer"),this.commit("od/getFilteredCategory")},changeSelectedCategory(e,t){e.selectedCategory=t,this.commit("od/refreshVisibleLayer")},getProperties(e){const t=new Set([]);e.layer.features.forEach((e=>{Object.keys(e.properties).forEach((e=>t.add(e)))})),["index"," name"].forEach((e=>t.add(e))),e.layerAttributes=Array.from(t),e.selectedFilter=e.layerAttributes[0],e.selectedCategory=Array.from(new Set(e.layer.features.map((t=>t.properties[e.selectedFilter]))))},refreshVisibleLayer(e){const t=new Set(e.selectedCategory),i=e.selectedFilter;e.visibleLayer.features=e.layer.features.filter((e=>t.has(e.properties[i])))},getFilteredCategory(e){const t=Array.from(new Set(e.layer.features.map((t=>t.properties[e.selectedFilter]))));e.filteredCategory=t},deleteOD(e,t){const i=new Set(t.selectedIndex);e.layer.features=e.layer.features.filter((e=>!i.has(e.properties.index))),this.commit("od/refreshVisibleLayer"),this.commit("od/getFilteredCategory")},deleteGroup(e,t){const i=t,s=e.selectedFilter;e.layer.features=e.layer.features.filter((e=>e.properties[s]!==i)),this.commit("od/refreshVisibleLayer"),this.commit("od/getFilteredCategory")},moveNode(e,t){const i=t.selectedFeature.properties.linkIndex,s=t.selectedFeature.properties.coordinatedIndex,r=e.visibleLayer.features.filter((e=>e.properties.index===i))[0];r.geometry.coordinates=[...r.geometry.coordinates.slice(0,s),t.lngLat,...r.geometry.coordinates.slice(s+1)]},createNewLink(e,t){const i={coordinates:[t.lngLat,t.lngLat],type:"LineString"},s={};e.layerAttributes.forEach((e=>s[e]=null)),s.index=t.index;const r={geometry:i,properties:s,type:"Feature"};e.layer.features.push(r),this.commit("od/getFilteredCategory");const o=s[e.selectedFilter];new Set(e.selectedCategory).has(o)||e.selectedCategory.push(o),this.commit("od/refreshVisibleLayer")},editLinkInfo(e,t){const{selectedLinkId:i,info:s}=t,r=Object.keys(s);e.visibleLayer.features.filter((function(e){e.properties.index===i&&r.forEach((t=>e.properties[t]=s[t].value))})),this.commit("od/getFilteredCategory")},editGroupInfo(e,t){const i=t.info,s=t.selectedLinks,r=Object.keys(i).filter((e=>""!==i[e].value||!i[e].placeholder));s.forEach((e=>r.forEach((t=>e.properties[t]=i[t].value)))),this.commit("od/getFilteredCategory"),this.commit("od/refreshVisibleLayer")},addPropertie(e,t){e.layer.features.map((e=>e.properties[t]=null)),e.visibleLayer.features.map((e=>e.properties[t]=null)),e.layerAttributes.push(t)},deletePropertie(e,t){e.layer.features.filter((e=>delete e.properties[t.name])),e.visibleLayer.features.filter((e=>delete e.properties[t.name])),e.layerAttributes=e.layerAttributes.filter((e=>e!==t.name))}},getters:{layer:e=>e.layer,visibleLayer:e=>e.visibleLayer,layerIsEmpty:e=>0===e.layer.features.length,layerHeader:e=>e.layerHeader,selectedTrips:e=>e.selectedTrips,layerAttributes:e=>e.layerAttributes.sort(),selectedFilter:e=>e.selectedFilter,filteredCategory:e=>e.filteredCategory,selectedCategory:e=>e.selectedCategory,groupLayer:e=>(t,i)=>e.layer.features.filter((e=>i===e.properties[t])),linkForm:e=>t=>{const i=["index"],s=e.visibleLayer.features.filter((e=>e.properties.index===t))[0].properties,r={};return e.layerAttributes.forEach((e=>{r[e]={value:s[e],disabled:i.includes(e),placeholder:!1}})),r},nodes:e=>t=>{const i=structuredClone(e.layerHeader);return t.features.forEach((e=>{const t=e.properties.index;e.geometry.coordinates.forEach(((e,s)=>i.features.push(d()(e,{index:C.generate(),linkIndex:t,coordinatedIndex:s}))))})),i}}};var k=i(28670),w=i.n(k);const x=i(36377);function _(e,t,i,s,r,o){if("string"==typeof e)return o?0:x(e)();let n=e;return"log"===r?(t=t>0?Math.log10(t):0,i=i>0?Math.log10(i):0,n=e>0?Math.log10(e):0):"sqrt"===r?(t=Math.sqrt(t),i=Math.sqrt(i),n=Math.sqrt(e)):"exp"===r?(e/=i,t=10**(t/=i),i=10**(i=1),n=10**e):"quad"===r&&(t=t**2,i=i**2,n=e**2),n=s?(-n+i)/(i-t):(n-t)/(i-t),n}const E={selectedFeature:null,maxWidth:10,minWidth:1,numStep:100,scale:"linear",fixScale:!1,minVal:0,maxVal:1,cmap:"OrRd",opacity:100,offset:!1,showNaN:!0,reverseColor:!1},S={namespaced:!0,state:{type:"links",links:{},visibleLinks:{},NaNLinks:{},linksHeader:{},lineAttributes:[],selectedFilter:"",selectedCategory:[],displaySettings:E},mutations:{unload(e){e.type="links",e.links={},e.visibleLinks={},e.NaNLinks={},e.linksHeader={},e.lineAttributes=[],e.selectedFilter="",e.selectedCategory=[],e.displaySettings=E},loadLinks(e,t){if(e.links=t.geojson,e.type=t.type,["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes(e.links.crs.properties.name)){const i=structuredClone(e.links);i.features=[],e.linksHeader=i,e.visibleLinks=structuredClone(i),e.NaNLinks=structuredClone(i),this.commit("results/getLinksProperties"),e.lineAttributes.includes(t.selectedFeature)?e.displaySettings.selectedFeature=t.selectedFeature:e.displaySettings.selectedFeature=null,this.commit("results/refreshVisibleLinks"),this.commit("results/updateSelectedFeature")}else alert("invalid CRS. use CRS84 / EPSG:4326")},updateLinks(e,t){e.links=t,this.commit("results/refreshVisibleLinks"),this.commit("results/updateSelectedFeature")},changeSelectedFilter(e,t){e.selectedFilter=t,e.selectedCategory=Array.from(new Set(e.links.features.map((t=>t.properties[e.selectedFilter])))),this.commit("results/refreshVisibleLinks")},changeSelectedCategory(e,t){e.selectedCategory=t,this.commit("results/refreshVisibleLinks")},getLinksProperties(e){const t=new Set([]);e.links.features.forEach((e=>{Object.keys(e.properties).forEach((e=>t.add(e)))})),e.lineAttributes=Array.from(t),e.lineAttributes=e.lineAttributes.filter((e=>!["display_width","display_color"].includes(e))),e.selectedFilter=t.has("route_type")?"route_type":t.has("highway")?"highway":e.lineAttributes[0],e.selectedCategory=Array.from(new Set(e.links.features.map((t=>t.properties[e.selectedFilter]))))},applySettings(e,t){Object.keys(t).forEach((i=>e.displaySettings[i]=t[i])),this.commit("results/refreshVisibleLinks"),this.commit("results/updateSelectedFeature")},updateSelectedFeature(e){const t=e.displaySettings.selectedFeature,i=e.displaySettings.maxWidth,s=e.displaySettings.minWidth,r=e.displaySettings.scale,o=e.displaySettings.numStep,n=e.displaySettings.cmap,a=e.visibleLinks.features.filter((e=>e.properties[t])).map((e=>e.properties[t]));if(!e.displaySettings.fixScale){const t=e=>e.reduce((([e,t],i)=>[Math.min(e,i),Math.max(t,i)]),[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),[i,s]=t(a);e.displaySettings.minVal=Math.round(100*i)/100,e.displaySettings.maxVal=Math.round(100*s)/100}const l=e.displaySettings.minVal,c=e.displaySettings.maxVal,d=e.displaySettings.reverseColor;e.visibleLinks.features.forEach((e=>{let o=e.properties[t];o<l?e.properties.display_width=s:o>c?e.properties.display_width=i:(o=_(o,l,c,!1,r,!0),e.properties.display_width=(i-s)*o+s)}));const p=w().scale(n).padding([.1,0]).domain([0,1],r).classes(o);e.visibleLinks.features.forEach((e=>{const i=e.properties[t];/^#([0-9A-Fa-f]{3}){1,2}$/i.test(i)?(console.log(i),e.properties.display_color=i):e.properties.display_color=p(_(i,l,c,d,r,!1)).hex()}))},refreshVisibleLinks(e){const t=new Set(e.selectedCategory),i=e.selectedFilter,s=e.displaySettings.selectedFeature;e.visibleLinks.features=e.links.features.filter((e=>t.has(e.properties[i]))),e.displaySettings.showNaN||(e.NaNLinks.features=e.visibleLinks.features.filter((e=>!e.properties[s])),e.visibleLinks.features=e.visibleLinks.features.filter((e=>e.properties[s])))}},getters:{type:e=>e.type,links:e=>e.links,visibleLinks:e=>e.visibleLinks,displayLinks:e=>{const t=structuredClone(e.linksHeader);return t.features=e.visibleLinks.features.map((e=>({geometry:e.geometry,properties:{display_color:e.properties.display_color,display_width:e.properties.display_width}}))),t},NaNLinks:e=>e.NaNLinks,linksHeader:e=>e.linksHeader,lineAttributes:e=>e.lineAttributes.sort(),selectedFilter:e=>e.selectedFilter,selectedCategory:e=>e.selectedCategory,displaySettings:e=>e.displaySettings,selectedFeature:e=>e.displaySettings.selectedFeature,maxWidth:e=>e.displaySettings.maxWidth,minWidth:e=>e.displaySettings.minWidth,numStep:e=>e.displaySettings.numStep,scale:e=>e.displaySettings.scale,opacity:e=>e.displaySettings.opacity,colorScale:e=>{const t=[],i=w().scale(e.displaySettings.cmap).padding([.1,0]).domain([0,1]).classes(e.displaySettings.numStep);for(let s=0;s<100;s++)t.push(i(_(s,0,100,e.displaySettings.reverseColor,e.displaySettings.scale,!1)));return t}}},L={namespaced:!0,state:()=>({layer:{},mat:{},properties:[],type:null}),mutations:{createLayer(e,t){e.layer=structuredClone(t.data),e.type=e.layer.features[0].geometry.type,e.type="MultiPolygon"===e.type?"Polygon":e.type},addMatrix(e,t){Object.keys(t).forEach((i=>{e.mat[i+" (OD)"]=t[i]})),e.properties=Object.keys(e.mat),e.layer.features.length>0&&e.properties.forEach((t=>e.layer.features.forEach((e=>e.properties[t]=null))))},changeZone(e,t){const i=t.selectedProperty;if(e.properties.includes(i)){const s=t.index,r=e.mat[i][s];e.layer.features.forEach((e=>e.properties[i]=r?r[e.properties.index]:null))}}},getters:{layer:e=>e.layer,type:e=>e.type,properties:e=>e.properties,hasOD:e=>e.properties.length>0,mat:e=>{const t=Object.keys(e.mat);if(t.length>0){const i={};return t.forEach((t=>{i[t.slice(0,-5)]=e.mat[t]})),i}return null}}};var I=i(72055),$=i(60887);const N={namespaced:!0,state:{stateMachineArnBase:"arn:aws:states:ca-central-1:142023388927:stateMachine:",steps:[{name:"Loading Steps..."}],selectedStepFunction:"default",avalaibleStepFunctions:["default"],running:!1,executionArn:"",currentStep:0,error:!1,errorMessage:"",synchronized:!0,parameters:[]},mutations:{cleanRun(e){e.steps=[{name:"Loading Steps..."}],e.selectedStepFunction="default",e.avalaibleStepFunctions=["default"],e.running=!1,e.executionArn="",e.currentStep=0,e.error=!1,e.synchronized=!0,e.parameters=[]},setSteps(e,t){e.steps=t,e.steps.splice(0,0,{name:"Saving Networks"}),e.steps.push({name:"Loading Results"})},startExecution(e){e.error=!1,e.running=!0,e.currentStep=1},terminateExecution(e,t){e.running=!1,e.error=!0,e.errorMessage=t,e.executionArn=""},changeRunning(e,t){e.running=t},succeedExecution(e){e.running=!1,e.currentStep=e.steps.length+1,e.executionArn="",this.commit("changeNotification",{text:"simulation executed successfully!",autoClose:!1,color:"success"})},updateCurrentStep(e,t){const i=e.steps.map((e=>e.name));e.currentStep=i.indexOf(t.name)+1},getLocalParameters(e,t){t=(0,p._2)(t),e.parameters=t},setSelectedStepFunction(e,t){e.selectedStepFunction=t},setAvalaibleStepFunctions(e,t){e.avalaibleStepFunctions=t}},actions:{async getParameters({state:e,commit:t},i){try{const t=await $.Z.readJson(i.model,i.path);e.parameters=t}catch(e){t("changeAlert",e,{root:!0})}},async getOutputs(e){const t=e.rootState.user.model,i=e.rootState.user.scenario+"/",s=i+"outputs/";let r=await $.Z.listFiles(t,s);r=r.filter((e=>!e.endsWith("/")));const o=[];for(const e of r){const s=e.slice(i.length);if(e.endsWith(".json")||e.endsWith(".geojson")){const i=await $.Z.readJson(t,e);o.push({path:s,content:i})}else o.push({path:s,content:null})}o.length>0&&(e.commit("unloadLayers",{},{root:!0}),e.commit("loadFiles",o,{root:!0}))},getSteps({state:e,commit:t,rootState:i}){let s={stateMachineArn:e.stateMachineArnBase+i.user.model};I.H.client.post("/describe/model",s=JSON.stringify(s)).then((i=>{const s=JSON.parse(i.data.definition),r=s.StartAt;Object.keys(s.States).forEach((t=>{if("Choice"===s.States[t].Type)if(e.avalaibleStepFunctions=["default",...s.States[t].Choices.map((e=>e.StringEquals))],"default"===e.selectedStepFunction)s.States[t].Next=s.States[t].Default;else{const i=s.States[t].Choices;s.States[t].Next=i.filter((t=>t.StringEquals===e.selectedStepFunction))[0].Next}}));const o=[];let n=r;for(;"Choice"===s.States[n].Type&&(n=s.States[n].Next),o.push({name:n}),void 0!==s.States[n].Next;)n=s.States[n].Next;t("setSteps",o)})).catch((e=>{t("changeAlert",e,{root:!0})}))},startExecution({state:e,commit:t,dispatch:i,rootState:s},r){const o=e.parameters.filter((t=>Object.keys(t).includes("category")&&t.model===e.selectedStepFunction)).reduce(((e,{category:t,params:i})=>(e[t]=i.reduce(((e,{name:t,value:i,type:s})=>(e[t]="number"===s?.toLowerCase()?Number(i):i,e)),{}),e)),{});let n={input:JSON.stringify({authorization:s.user.idToken,choice:e.selectedStepFunction,scenario_path_S3:r.scenario+"/",launcher_arg:{training_folder:"/tmp",params:o},metadata:{user_email:s.user.cognitoInfo.email}}),stateMachineArn:e.stateMachineArnBase+s.user.model};I.H.client.post("",n=JSON.stringify(n)).then((t=>{e.executionArn=t.data.executionArn,i("pollExecution")})).catch((e=>{t("changeAlert",e,{root:!0})}))},pollExecution({commit:e,state:t,dispatch:i}){const s=setInterval((()=>{let r={executionArn:t.executionArn};I.H.client.post("/describe",r=JSON.stringify(r)).then((r=>{t.status=r.data.status,"SUCCEEDED"===t.status?i("getOutputs").then((()=>{e("succeedExecution"),clearInterval(s)})).catch((e=>alert(e))):["FAILED","TIMED_OUT","ABORTED"].includes(t.status)?(e("terminateExecution",JSON.parse(r.data.cause)),clearInterval(s)):void 0===t.status&&clearInterval(s)})).catch((i=>{e("changeAlert",i,{root:!0}),t.running=!1})),r={executionArn:t.executionArn,includeExecutionData:!1,reverseOrder:!0},I.H.client.post("/history",r=JSON.stringify(r)).then((t=>{for(const i in t.data.events){const s=t.data.events[i];if("TaskStateEntered"===s.type){e("updateCurrentStep",s.stateEnteredEventDetails);break}}})).catch((e=>{console.log(e)}))}),5e3)},stopExecution({state:e,commit:t}){let i={executionArn:e.executionArn};I.H.client.post("/abort",i=JSON.stringify(i)).then((e=>{t("terminateExecution",e.data)})).catch((e=>{console.log(e)}))}},getters:{steps:e=>e.steps,avalaibleStepFunctions:e=>e.avalaibleStepFunctions,selectedStepFunction:e=>e.selectedStepFunction,running:e=>e.running,currentStep:e=>e.currentStep,executionArn:e=>e.executionArn,error:e=>e.error,errorMessage:e=>e.errorMessage,synchronized:e=>e.synchronized,parameters:e=>e.parameters,parametersIsEmpty:e=>0===e.parameters.length}};var F=i(72045);const B={namespaced:!0,state:{stateMachineArn:"arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-matrixroadcaster-api",bucket:"quetzal-api-bucket",callID:"",status:"",timer:0,running:!1,executionArn:"",error:!1,errorMessage:"",parameters:{callID:"test",num_zones:100,train_size:100,date_time:"2022-12-13T08:00:21-04:00",ff_time_col:"time",max_speed:100,num_cores:1,num_random_od:1,create_zone:!0,hereApiKey:""}},mutations:{cleanRun(e){e.running=!1,e.executionArn="",e.error=!1},setCallID(e){e.callID=(0,F.Z)()},setParameters(e,t){e.parameters=t},terminateExecution(e,t){e.running=!1,e.error=!0,e.errorMessage=t,e.executionArn=""},changeRunning(e,t){e.running=t},getApproxTimer(e,t){const i=e.parameters.num_zones,s=e.parameters.train_size,r=e.parameters.num_random_od;e.timer=1.8*Math.min(i,s)+.002*t+15,e.timer+=10*r},succeedExecution(e){e.running=!1,e.executionArn="",this.commit("changeNotification",{text:"Matrix Road Caster executed successfully!",autoClose:!1,color:"success"})}},actions:{async startExecution({state:e,commit:t,dispatch:i},s){t("getApproxTimer",s.rlinks.features.length),t("setParameters",s.parameters),console.log("exporting roads to s3"),e.error=!1,e.running=!0;try{await $.Z.putObject(e.bucket,e.callID.concat("/road_links.geojson"),JSON.stringify(s.rlinks)),await $.Z.putObject(e.bucket,e.callID.concat("/road_nodes.geojson"),JSON.stringify(s.rnodes))}catch(e){t("changeAlert",e,{root:!0})}let r={input:JSON.stringify(e.parameters),name:e.callID,stateMachineArn:e.stateMachineArn};I.H.client.post("",r=JSON.stringify(r)).then((t=>{e.executionArn=t.data.executionArn,i("pollExecution")})).catch((i=>{t("changeAlert",i,{root:!0}),e.running=!1,e.status="FAILED"}))},pollExecution({commit:e,state:t,dispatch:i}){const s=setInterval((()=>{let i={executionArn:t.executionArn};t.timer=t.timer-2,I.H.client.post("/describe",i=JSON.stringify(i)).then((i=>{t.status=i.data.status,console.log(t.status),"SUCCEEDED"===t.status?(e("succeedExecution"),clearInterval(s)):["FAILED","TIMED_OUT","ABORTED"].includes(t.status)&&(e("terminateExecution",JSON.parse(i.data.cause)),clearInterval(s))})).catch((t=>{e("changeAlert",t,{root:!0})}))}),2e3)},stopExecution({state:e,commit:t}){let i={executionArn:e.executionArn};I.H.client.post("/abort",i=JSON.stringify(i)).then((e=>{t("terminateExecution",e.data)})).catch((e=>{t("changeAlert",e,{root:!0})}))}},getters:{running:e=>e.running,status:e=>e.status,executionArn:e=>e.executionArn,error:e=>e.error,errorMessage:e=>e.errorMessage,callID:e=>e.callID,bucket:e=>e.bucket,timer:e=>e.timer,parameters:e=>e.parameters}};var M=i(30193),j=i(36463);const D={namespaced:!0,state:{stateMachineArn:"arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-osm-api",bucket:"quetzal-api-bucket",callID:"",status:"",timer:0,running:!1,executionArn:"",error:!1,errorMessage:"",tags:["highway","maxspeed","lanes","name","oneway","surface"],highway:["motorway","motorway_link","trunk","trunk_link","primary","primary_link"],colorDict:j.r5,widthDict:j.GL},mutations:{cleanRun(e){e.running=!1,e.executionArn="",e.error=!1},setCallID(e){e.callID=(0,F.Z)()},terminateExecution(e,t){e.running=!1,e.error=!0,e.errorMessage=t,e.executionArn=""},changeRunning(e,t){e.running=t},changeHighway(e,t){e.highway=t},succeedExecution(e){e.running=!1,e.executionArn="",this.commit("changeNotification",{text:"OSM network imported successfully!",autoClose:!1,color:"success"})}},actions:{startExecution({state:e,commit:t,dispatch:i},s){e.running=!0,e.error=!1;let r="";r="bbox"===s.method?JSON.stringify({bbox:s.coords,highway:e.highway,callID:e.callID,elevation:!0}):JSON.stringify({poly:s.coords,highway:e.highway,callID:e.callID,elevation:!0});let o={input:r,name:e.callID,stateMachineArn:e.stateMachineArn};I.H.client.post("",o=JSON.stringify(o)).then((t=>{e.executionArn=t.data.executionArn,i("pollExecution")})).catch((i=>{t("changeAlert",i,{root:!0}),e.running=!1,e.status="FAILED"}))},async pollExecution({commit:e,state:t,dispatch:i}){const s=setInterval((()=>{let r={executionArn:t.executionArn};t.timer=t.timer-2,I.H.client.post("/describe",r=JSON.stringify(r)).then((async r=>{t.status=r.data.status,console.log(t.status),"SUCCEEDED"===t.status?(clearInterval(s),await i("downloadOSMFromS3"),e("succeedExecution")):["FAILED","TIMED_OUT","ABORTED"].includes(t.status)&&(e("terminateExecution",JSON.parse(r.data.cause)),clearInterval(s))})).catch((t=>{e("changeAlert",t,{root:!0})}))}),2e3)},stopExecution({state:e,commit:t}){let i={executionArn:e.executionArn};I.H.client.post("/abort",i=JSON.stringify(i)).then((e=>{t("terminateExecution",e.data)})).catch((e=>{t("changeAlert",e,{root:!0})}))},async downloadOSMFromS3({state:e,commit:t}){let i=await $.Z.readJson(e.bucket,e.callID.concat("/links.geojson"));i=function(t){return Object.keys(e.colorDict).forEach((i=>{t.features.filter((e=>e.properties.highway===i)).forEach((t=>{t.properties.route_width=e.widthDict[i],t.properties.route_color=e.colorDict[i]}))})),t}(i),t("appendNewrLinks",i,{root:!0}),t("appendNewrNodes",await $.Z.readJson(e.bucket,e.callID.concat("/nodes.geojson")),{root:!0}),console.log("downloaded"),M.Z.push("/Home").catch((()=>{}))}},getters:{running:e=>e.running,status:e=>e.status,executionArn:e=>e.executionArn,error:e=>e.error,errorMessage:e=>e.errorMessage,callID:e=>e.callID,bucket:e=>e.bucket,timer:e=>e.timer,highway:e=>e.highway,tags:e=>e.tags}},O={namespaced:!0,state:{stateMachineArn:"arn:aws:states:ca-central-1:142023388927:stateMachine:quetzal-gtfs-api",bucket:"quetzal-api-bucket",callID:(0,F.Z)(),status:"",running:!1,executionArn:"",error:!1,errorMessage:"",UploadedGTFS:[],selectedGTFS:[],parameters:{start_time:"6:00:00",end_time:"8:59:00",day:"tuesday"},widthDict:{bus:3,subway:8,rail:6,tram:5}},mutations:{cleanRun(e){e.running=!1,e.executionArn="",e.error=!1,this.commit("setCallID")},setCallID(e){e.callID=(0,F.Z)(),e.UploadedGTFS=[]},terminateExecution(e,t){e.running=!1,e.error=!0,e.errorMessage=t,e.executionArn="",this.commit("setCallID")},changeRunning(e,t){e.running=t},saveParams(e,t){t.forEach((t=>e.parameters[t.name]=t.value))},saveSelectedGTFS(e,t){e.selectedGTFS=t},addGTFS(e,t){e.UploadedGTFS.map((e=>e?.name)).includes(t.name)||e.UploadedGTFS.push(t)},updateProgress(e,t){e.UploadedGTFS.filter((e=>e.name===t.name))[0].progress=t.progress},succeedExecution(e){e.running=!1,e.executionArn="",this.commit("changeNotification",{text:"gtfs imported successfully!",autoClose:!1,color:"success"})}},actions:{async addGTFS({state:e,commit:t},i){t("addGTFS",i.info);const s=$.Z.uploadObject(e.bucket,e.callID+"/"+i.info.name,i.content);s.on("httpUploadProgress",(e=>{const s=Math.round(e.loaded/e.total*100);t("updateProgress",{name:i.info.name,progress:s})})),s.promise()},startExecution({state:e,commit:t,dispatch:i},s){e.running=!0,e.error=!1;let r={input:JSON.stringify({callID:e.callID,files:s.files,start_time:s.start_time,end_time:s.end_time,dates:s.dates}),name:e.callID,stateMachineArn:e.stateMachineArn};I.H.client.post("",r=JSON.stringify(r)).then((t=>{e.executionArn=t.data.executionArn,i("pollExecution")})).catch((i=>{t("changeAlert",i,{root:!0}),e.running=!1,e.status="FAILED"}))},async pollExecution({commit:e,state:t,dispatch:i}){const s=setInterval((()=>{let r={executionArn:t.executionArn};I.H.client.post("/describe",r=JSON.stringify(r)).then((async r=>{t.status=r.data.status,console.log(t.status),"SUCCEEDED"===t.status?(clearInterval(s),await i("downloadOSMFromS3"),e("succeedExecution")):["FAILED","TIMED_OUT","ABORTED"].includes(t.status)&&(e("terminateExecution",JSON.parse(r.data.cause)),clearInterval(s))})).catch((t=>{e("changeAlert",t,{root:!0})}))}),2e3)},stopExecution({state:e,commit:t}){let i={executionArn:e.executionArn};I.H.client.post("/abort",i=JSON.stringify(i)).then((e=>{t("terminateExecution",e.data)})).catch((e=>{t("changeAlert",e,{root:!0})}))},async downloadOSMFromS3({state:e,commit:t}){let i=await $.Z.readJson(e.bucket,e.callID.concat("/links.geojson"));i.features.length>0&&(i=function(t){return Object.keys(e.widthDict).forEach((i=>{t.features.filter((e=>e.properties.route_type===i)).forEach((t=>{t.properties.route_width=e.widthDict[i]}))})),t}(i)),t("appendNewLinks",i,{root:!0}),t("appendNewNodes",await $.Z.readJson(e.bucket,e.callID.concat("/nodes.geojson")),{root:!0}),console.log("downloaded"),M.Z.push("/Home").catch((()=>{}))}},getters:{UploadedGTFS:e=>e.UploadedGTFS,selectedGTFS:e=>e.selectedGTFS,parameters:e=>e.parameters,running:e=>e.running,status:e=>e.status,executionArn:e=>e.executionArn,error:e=>e.error,errorMessage:e=>e.errorMessage,callID:e=>e.callID,bucket:e=>e.bucket}},T={namespaced:!1,state:{cognitoInfo:{},cognitoGroup:"",bucketList:[],accesToken:"",idToken:"",expData:0,loggedIn:!1,loadingState:!0,errorLoadingState:!1,scenariosList:[],model:null,scenario:null,protected:!1},mutations:{unloadProject(e){e.model=null,e.scenario=null},setLoggedIn(e){e.loggedIn=!0},setLoggedOut(e){e.loggedIn=!1,e.cognitoInfo={}},setCognitoInfo(e,t){e.cognitoInfo=t},setCognitoGroup(e,t){e.cognitoGroup=t},setBucketList(e,t){e.bucketList=t},setAccessToken(e,t){e.accesToken=t.jwtToken,e.expDate=t.payload.exp},setIdToken(e,t){e.idToken=t},setScenariosList(e,t){e.scenariosList=t},setModel(e,t){e.model=t},setScenario(e,t){e.scenario=t.scenario,e.protected=t.protected}},actions:{async getScenario({commit:e,state:t,dispatch:i},s){e("setScenariosList",await $.Z.getScenario(s.model))},async getBucketList({commit:e}){try{e("setBucketList",(await I.H.client.get("buckets/")).data)}catch(t){e("changeAlert",{name:"Cognito Client error",message:t.response.data.detail},{root:!0})}},isTokenExpired({state:e,commit:t}){Math.floor(Date.now()/1e3)>e.expDate&&t("changeAlert",{name:"sign out",message:"your session has expired. please refresh the page or sign in again"},{root:!0})}},getters:{loggedIn:e=>e.loggedIn,cognitoInfo:e=>e.cognitoInfo,cognitoGroup:e=>e.cognitoGroup,bucketList:e=>e.bucketList?e.bucketList:[],accesToken:e=>e.accesToken,idToken:e=>e.idToken,scenariosList:e=>e.scenariosList,model:e=>e.model,scenario:e=>e.scenario,protected:e=>e.protected}};var P=i(55733),z=i.n(P),R=i(93162),Z=i.n(R),H=i(75997),G=i(34221);s.default.use(r.ZP);const q=new r.ZP.Store({modules:{user:T,links:m,rlinks:y,od:b,results:S,run:N,runMRC:B,runOSM:D,runGTFS:O},state:{notification:{},alert:{},darkMode:!1,loading:!1,showLeftPanel:!0,windowHeight:0,anchorMode:!1,linksPopupContent:["trip_id"],roadsPopupContent:["highway"],cyclewayMode:!1,outputName:"output",mapCenter:[-73.570337,45.49831],mapZoom:11,importPoly:null,availableLayers:["links","rlinks","od","nodes","rnodes"],visibleRasters:[],styles:[],otherFiles:[],attributesChoices:{}},mutations:{changeNotification(e,t){e.notification=t},changeAlert(e,t){e.alert=t},changeDarkMode(e,t){e.darkMode=t,e.rlinks.rlinksDefaultColor=e.darkMode?"2196F3":"7EBAAC",e.links.linksDefaultColor=e.darkMode?"2196F3":"B5E0D6"},changeLoading(e,t){e.loading=t},changeWindowHeight(e,t){e.windowHeight=t},changeLeftPanel(e){e.showLeftPanel=!e.showLeftPanel},saveMapPosition(e,t){e.mapCenter=t.mapCenter,e.mapZoom=t.mapZoom},setAnchorMode(e,t){e.anchorMode=t},changeAnchorMode(e){e.anchorMode=!e.anchorMode},changeCyclewayMode(e,t){e.cyclewayMode=!e.cyclewayMode},loadFiles(e,t){try{let i=[],s=[];const r=t.filter((e=>e.path.startsWith("inputs/pt/")&&e.path.endsWith(".geojson")));i=t.filter((e=>!r.includes(e)));const o=i.filter((e=>e.path.startsWith("inputs/road/")&&e.path.endsWith(".geojson")));i=i.filter((e=>!o.includes(e)));const n=i.filter((e=>e.path.startsWith("inputs/od/")&&e.path.endsWith(".geojson")));i=i.filter((e=>!n.includes(e)));const a=i.filter((e=>"inputs/params.json"===e.path))[0];i=i.filter((e=>e!==a));const l=i.filter((e=>"styles.json"===e.path))[0];i=i.filter((e=>e!==l));const c=i.filter((e=>"attributesChoices.json"===e.path))[0];i=i.filter((e=>e!==c));const d=i.filter((e=>e.path.startsWith("inputs/")));if(i=i.filter((e=>!d.includes(e))),s=i.filter((e=>e.path.startsWith("outputs/"))),i=i.filter((e=>!s.includes(e))),r.length%2!=0){const e=new Error("Need the same number of links and nodes files.");throw e.name="ImportError",e}if(o.length%2!=0){const e=new Error("Need the same number of road_links and road_nodes files.");throw e.name="ImportError",e}if(this.commit("loadPTFiles",r),this.commit("loadRoadFiles",o),this.commit("od/loadODFiles",n),a&&this.commit("run/getLocalParameters",a.content),l){const t=(0,p.My)(l.content);e.styles=t}c&&this.commit("loadAttributesChoices",c.content),this.commit("loadOtherFiles",d);const u=s.filter((e=>e.path.endsWith(".geojson")));s=s.filter((e=>!u.includes(e))),this.commit("loadLayers",u);const h=s.filter((t=>t.path.endsWith(".json")&&e.availableLayers.includes(t.path.slice(0,-5))));s=s.filter((e=>!h.includes(e))),this.commit("loadMatrix",h),this.commit("loadOtherFiles",s),this.commit("changeNotification",{text:"File(s) added",autoClose:!0,color:"success"})}catch(e){this.commit("changeAlert",e)}},loadOtherFiles(e,t){const i=t.map((e=>e.path));e.otherFiles=e.otherFiles.filter((e=>!i.includes(e.path))),t.forEach((t=>e.otherFiles.push(t)))},loadAttributesChoices(e,t){Object.keys(t.pt).forEach((i=>e.attributesChoices.pt[i]=t.pt[i])),Object.keys(t.road).forEach((i=>e.attributesChoices.road[i]=t.road[i]))},setVisibleRasters(e,t){e.visibleRasters=t},loadLayers(e,t){t.forEach((e=>{const t=e.path.slice(0,-8);e.content=(0,p.GM)(e.content,e.path,null,!1),this.commit("createLayer",{fileName:t,data:e.content})}))},loadMatrix(e,t){t.forEach((e=>{const t=e.path.slice(0,-5);this.commit(`${t}/addMatrix`,e.content)}))},createLayer(e,t){const i=t.fileName;Object.keys(this._modules.root._children).includes(i)||this.registerModule(i,L),this.commit(`${i}/createLayer`,t),e.availableLayers.includes(i)||e.availableLayers.push(i)},initNetworks(e){this.commit("loadLinks",H.Z),this.commit("loadrLinks",H.Z),this.commit("loadNodes",G.Z),this.commit("loadrNodes",G.Z),this.commit("od/loadLayer",H.Z),e.visibleRasters=[],e.styles=[],e.attributesChoices={pt:{},road:{oneway:["0","1"]}},e.otherFiles=[],e.cyclewayMode=!1},unloadLayers(e){Object.keys(this._modules.root._children).filter((e=>!["links","rlinks","od","results","run","user","runMRC","runOSM","runGTFS"].includes(e))).forEach((e=>this.unregisterModule(e))),e.availableLayers=["links","rlinks","od","nodes","rnodes"]},applySettings(e,t){e.links.linkSpeed=Number(t.linkSpeed),e.rlinks.roadSpeed=Number(t.roadSpeed),e.linksPopupContent=t.linksPopupContent,e.roadsPopupContent=t.roadsPopupContent,e.rlinks.defaultHighway=t.defaultHighway,e.outputName=t.outputName},addStyle(e,t){const i=e.styles.map((e=>e.name)).indexOf(t.name);-1!==i?e.styles[i]=t:e.styles.push(t)},deleteStyle(e,t){e.styles=e.styles.filter((e=>e.name!==t))},saveImportPoly(e,t){e.importPoly=t}},actions:{async exportFiles({state:e,commit:t},i="all"){const s=new(z());let r="",o="",n="",a="",l="";if(t("applyPropertiesTypes"),"all"!==i){const t=structuredClone(e.links.links);t.features=t.features.filter((t=>e.links.selectedTrips.includes(t.properties.trip_id))),r=JSON.stringify(t);const i=t.features.map((e=>e.properties.a)),s=t.features.map((e=>e.properties.b)),c=Array.from(new Set([...i,...s])),d=structuredClone(e.links.nodes);d.features=d.features.filter((e=>c.includes(e.properties.index))),o=JSON.stringify(d),n=JSON.stringify(e.rlinks.visiblerLinks),a=JSON.stringify(e.rlinks.visiblerNodes),l=JSON.stringify(this.getters["od/visibleLayer"])}else r=JSON.stringify(e.links.links),o=JSON.stringify(e.links.nodes),n=JSON.stringify(e.rlinks.rlinks),a=JSON.stringify(e.rlinks.rnodes),l=JSON.stringify(this.getters["od/layer"]);if(JSON.parse(r).features.length>0){let e=new Blob([r],{type:"application/json"});s.file("inputs/pt/links.geojson",e),e=new Blob([o],{type:"application/json"}),s.file("inputs/pt/nodes.geojson",e)}if(JSON.parse(n).features.length>0){let e=new Blob([n],{type:"application/json"});s.file("inputs/road/road_links.geojson",e),e=new Blob([a],{type:"application/json"}),s.file("inputs/road/road_nodes.geojson",e)}if(JSON.parse(l).features.length>0){const e=new Blob([l],{type:"application/json"});s.file("inputs/od/od.geojson",e)}if("all"===i){if(!this.getters["run/parametersIsEmpty"]){const e=new Blob([JSON.stringify(this.getters["run/parameters"])],{type:"application/json"});s.file("inputs/params.json",e)}if(e.styles.length>0){const t=new Blob([JSON.stringify(e.styles)],{type:"application/json"});s.file("styles.json",t)}if('{"pt":{},"road":{"oneway":["0","1"]}}'!==JSON.stringify(e.attributesChoices)){const t=new Blob([JSON.stringify(e.attributesChoices)],{type:"application/json"});s.file("attributesChoices.json",t)}const t=Object.keys(this._modules.root._children).filter((e=>!["links","rlinks","od","results","run","user","runMRC","runOSM","runGTFS"].includes(e)));for(const e of t){const t=new Blob([JSON.stringify(this.getters[`${e}/layer`])],{type:"application/json"}),i=e+".geojson";if(s.file(i,t),this.getters[`${e}/mat`]){const t=new Blob([JSON.stringify(this.getters[`${e}/mat`])],{type:"application/json"}),i=e+".json";s.file(i,t)}}for(const t of e.otherFiles)if(null==t.content&&null!==e.user.model&&(t.content=await $.Z.readBytes(e.user.model,e.user.scenario+"/"+t.path)),t.content instanceof Uint8Array){const e=new Blob([t.content]);s.file(t.path,e)}else{const e=new Blob([JSON.stringify(t.content)],{type:"application/json"});s.file(t.path,e)}}s.generateAsync({type:"blob"}).then((function(t){Z()(t,e.outputName+".zip")}))},async exportToS3({state:e,commit:t,dispatch:i},s){i("isTokenExpired"),this.commit("applyPropertiesTypes");const r=e.user.scenario+"/",o=e.user.model,n=r+"inputs/",a=n+"pt/",l=n+"road/",c=n+"od/",d={links:a+"links.geojson",nodes:a+"nodes.geojson",rlinks:l+"road_links.geojson",rnodes:l+"road_nodes.geojson",od:c+"od.geojson",params:r+"inputs/params.json",styles:r+"styles.json",attributesChoices:r+"attributesChoices.json"};if(e.run.parameters.length>0&&await $.Z.putObject(o,d.params,JSON.stringify(e.run.parameters)),e.styles.length>0&&await $.Z.putObject(o,d.styles,JSON.stringify(e.styles)),'{"pt":{},"road":{"oneway":["0","1"]}}'!==JSON.stringify(e.attributesChoices)&&await $.Z.putObject(o,d.attributesChoices,JSON.stringify(e.attributesChoices)),e.links.links.features.length>0?(await $.Z.putObject(o,d.links,JSON.stringify(e.links.links)),await $.Z.putObject(o,d.nodes,JSON.stringify(e.links.nodes))):$.Z.deleteFolder(o,a),e.rlinks.rlinks.features.length>0?(await $.Z.putObject(o,d.rlinks,JSON.stringify(e.rlinks.rlinks)),await $.Z.putObject(o,d.rnodes,JSON.stringify(e.rlinks.rnodes))):$.Z.deleteFolder(o,l),this.getters["od/layerIsEmpty"]?$.Z.deleteFolder(o,c):await $.Z.putObject(o,d.od,JSON.stringify(this.getters["od/layer"])),"inputs"!==s){const e=Object.keys(this._modules.root._children).filter((e=>!["links","rlinks","od","results","run","user","runMRC","runOSM","runGTFS"].includes(e)));for(const t of e){const e=t+".geojson";if(await $.Z.putObject(o,r+e,JSON.stringify(this.getters[`${t}/layer`])),this.getters[`${t}/mat`]){const e=t+".json";await $.Z.putObject(o,r+e,JSON.stringify(this.getters[`${t}/mat`]))}}}let p=e.otherFiles;"inputs"===s&&(p=p.filter((e=>!e.path.startsWith("outputs/"))));for(const e of p)null==e.content||(e.content instanceof Uint8Array?await $.Z.putObject(o,r+e.path,e.content):await $.Z.putObject(o,r+e.path,JSON.stringify(e.content)))},async deleteOutputsOnS3({state:e}){await $.Z.deleteFolder(e.user.model,e.user.scenario+"/outputs/")}},getters:{notification:e=>e.notification,alert:e=>e.alert,loading:e=>e.loading,mapCenter:e=>e.mapCenter,mapZoom:e=>e.mapZoom,importPoly:e=>e.importPoly,windowHeight:e=>e.windowHeight,anchorMode:e=>e.anchorMode,showLeftPanel:e=>e.showLeftPanel,linksPopupContent:e=>e.linksPopupContent,roadsPopupContent:e=>e.roadsPopupContent,cyclewayMode:e=>e.cyclewayMode,outputName:e=>e.outputName,visibleRasters:e=>e.visibleRasters,styles:e=>e.styles,attributesChoices:e=>e.attributesChoices,otherFiles:e=>e.otherFiles,projectIsUndefined:e=>0===Object.keys(e.links.links).length,projectIsEmpty:e=>0===e.links.links.features.length&&0===e.rlinks.rlinks.features.length&&0===e.od.layer.features.length,availableLayers:e=>{let t=structuredClone(e.availableLayers);return 0===e.links.links.features.length&&(t=t.filter((e=>!["links","nodes"].includes(e)))),0===e.rlinks.rlinks.features.length&&(t=t.filter((e=>!["rlinks","rnodes"].includes(e)))),0===e.od.layer.features.length&&(t=t.filter((e=>!["od"].includes(e)))),t},mapStyle:e=>e.darkMode?"mapbox://styles/mapbox/dark-v11?optimize=true":"mapbox://styles/mapbox/light-v11?optimize=true"}})},65189:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAGElEQVQYlWNgYGCQwoKxgqGgcJA5h3yFAAs8BRWVSwooAAAAAElFTkSuQmCC"},32179:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},84026:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},28469:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},45422:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},89387:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},81184:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},60469:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27%23f00%27/%3E%3C/svg%3E"},6437:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27%23f00%27/%3E%3C/svg%3E"},52607:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27%23f00%27/%3E%3C/svg%3E"},56621:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},55968:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},74414:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E%3C/svg%3E"},45866:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E"},75363:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E%3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E%3C/svg%3E"},95579:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E"},17378:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E"},94933:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E"},97673:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E"},60661:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E%3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E%3C/svg%3E"},51570:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E"},2931:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E"},76807:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E"},31652:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E%3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23999%27/%3E%3C/svg%3E"},80028:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E"},60551:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E"},10323:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E"},40752:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E"},26081:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27 viewBox=%270 0 88 23%27%3E%3Cdefs%3E%3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E%3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E%3C/defs%3E%3Cmask id=%27clip%27%3E%3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E%3Cuse xlink:href=%27%23logo%27/%3E%3Cuse xlink:href=%27%23text%27/%3E%3C/mask%3E%3Cg id=%27outline%27 opacity=%270.3%27 stroke=%27%23000%27 stroke-width=%273%27%3E%3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E%3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E%3C/g%3E%3Cg id=%27fill%27 opacity=%270.9%27 fill=%27%23fff%27%3E%3Cuse xlink:href=%27%23logo%27/%3E%3Cuse xlink:href=%27%23text%27/%3E%3C/g%3E%3C/svg%3E"},4354:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27 viewBox=%270 0 88 23%27%3E%3Cdefs%3E%3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E%3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E%3C/defs%3E%3Cmask id=%27clip%27%3E%3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E%3Cuse xlink:href=%27%23logo%27/%3E%3Cuse xlink:href=%27%23text%27/%3E%3C/mask%3E%3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23000%27 stroke-width=%273%27%3E%3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E%3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E%3C/g%3E%3Cg id=%27fill%27 opacity=%271%27 fill=%27%23fff%27%3E%3Cuse xlink:href=%27%23logo%27/%3E%3Cuse xlink:href=%27%23text%27/%3E%3C/g%3E%3C/svg%3E"},45650:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27 viewBox=%270 0 88 23%27%3E%3Cdefs%3E%3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E%3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E%3C/defs%3E%3Cmask id=%27clip%27%3E%3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E%3Cuse xlink:href=%27%23logo%27/%3E%3Cuse xlink:href=%27%23text%27/%3E%3C/mask%3E%3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23fff%27 stroke-width=%273%27 fill=%27%23fff%27%3E%3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E%3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E%3C/g%3E%3Cg id=%27fill%27 opacity=%271%27 fill=%27%23000%27%3E%3Cuse xlink:href=%27%23logo%27/%3E%3Cuse xlink:href=%27%23text%27/%3E%3C/g%3E%3C/svg%3E"},22317:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGzSURBVHgBvZcxUsJAFIbfe2gfb4A38AhQOJbijNZwA7TXIYW9R8BeHWjFQm7AEfQIaSw0ZNdNJoyE5CXvJcSv2tl98OfN7LebINTg9vV5QARTsBAYCzf3Z5dzUEJQA0J4cKGeG3bdeOq/zzxQog6+W7yM4sCtKS/6Xo9AiToYwU5yf0J4DkpUwf7bUw+y3SZYgF661k6wtTTk13ACClBa6DZQ14TRR1kNHXaO/P5FAALEHdvQVHZkftbXIEQeDLZXWYQ4lqolCi5QiEOslii4SCG2lmAoqasM5hQqiT6RqFUZbIHGoESiVqlOEoU4nFrHTq1Pdr3sxxKFONwDl6rFdhx3a8No5Y5D9c2TEqRdFx4obMdRaHoNQmO8sgOFDdYoxII4VAUrDowqupxaVDxpRYeABE6t3OZqohAHoe37p1fLzNxuUROFOIzFwe5cpuM2uk3JqZXpOFYI2iGnViZ4LwpxuLu6MHiPCnF422rR32B/CnFsq5VsLn8xOzEQreAf2KiVdGzBqO/cumxekbFFhTgStahFhTiSF0LqYKOrrxYdooDggB4RUf19Wxe3m5fwRfNfmmG2eRYZIh0AAAAASUVORK5CYII="},76215:(e,t,i)=>{"use strict";e.exports=i.p+"22e0b7e7900ef83b711e.png"},28022:()=>{},75042:()=>{},4147:e=>{"use strict";e.exports={i8:"4.11.e"}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return o[e].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=o,a.amdD=function(){throw new Error("define cannot be used indirect")},a.amdO={},e=[],a.O=(t,i,s,r)=>{if(!i){var o=1/0;for(d=0;d<e.length;d++){for(var[i,s,r]=e[d],n=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](i[l])))?i.splice(l--,1):(n=!1,r<o&&(o=r));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,s,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);a.r(r);var o={};t=t||[null,i({}),i([]),i(i)];for(var n=2&s&&e;"object"==typeof n&&!~t.indexOf(n);n=i(n))Object.getOwnPropertyNames(n).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,a.d(r,o),r},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,i)=>(a.f[i](e,t),t)),[])),a.u=e=>e+".build.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},r="quetzal-network-editor:",a.l=(e,t,i,o)=>{if(s[e])s[e].push(t);else{var n,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var p=c[d];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==r+i){n=p;break}}n||(l=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",r+i),n.src=e),s[e]=[t];var u=(t,i)=>{n.onerror=n.onload=null,clearTimeout(h);var r=s[e];if(delete s[e],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((e=>e(i))),t)return t(i)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=u.bind(null,n.onerror),n.onload=u.bind(null,n.onload),l&&document.head.appendChild(n)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/quetzal-network-editor-dev/",(()=>{a.b=document.baseURI||self.location.href;var e={179:0};a.f.j=(t,i)=>{var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var r=new Promise(((i,r)=>s=e[t]=[i,r]));i.push(s[2]=r);var o=a.p+a.u(t),n=new Error;a.l(o,(i=>{if(a.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",n.name="ChunkLoadError",n.type=r,n.request=o,s[1](n)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,i)=>{var s,r,[o,n,l]=i,c=0;if(o.some((t=>0!==e[t]))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var d=l(a)}for(t&&t(i);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},i=self.webpackChunkquetzal_network_editor=self.webpackChunkquetzal_network_editor||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),a.nc=void 0;var l=a.O(void 0,[599],(()=>a(78070)));l=a.O(l)})();
//# sourceMappingURL=build.js.map