"use strict";(self.webpackChunkquetzal_network_editor=self.webpackChunkquetzal_network_editor||[]).push([[786],{4977:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(87537),i=s.n(a),n=s(23645),r=s.n(n)()(i());r.push([e.id,".gradient[data-v-0c760ea0]{width:60%;white-space:nowrap;position:relative;display:inline-block;padding-top:10px;padding-bottom:10px}.gradient .domain-title[data-v-0c760ea0]{position:absolute;padding-left:.5rem;padding-top:.5rem;text-align:center;font-size:16px}.gradient .domain-title-small[data-v-0c760ea0]{position:absolute;padding-left:.5rem;padding-top:0rem;text-align:center;font-size:16px}.grad-step[data-v-0c760ea0]{display:inline-block;height:40px;width:1%}.grad-step-small[data-v-0c760ea0]{display:inline-block;height:20px;width:1%}.subtitle[data-v-0c760ea0]{font-size:2em;color:var(--v-secondarydark-base) !important;font-weight:bold;padding:1rem 1rem 0 1rem}.setting[data-v-0c760ea0]{left:98%;width:0px;z-index:2;display:flex;position:relative;align-items:center;justify-content:center;height:50px}.setting-card[data-v-0c760ea0]{overflow-y:auto}","",{version:3,sources:["webpack://./src/components/results/ResultsSettings.vue"],names:[],mappings:"AAGA,2BACI,SAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,mBAAA,CAGJ,yCACI,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CAGJ,+CACI,iBAAA,CACA,kBAAA,CACA,gBAAA,CACA,iBAAA,CACA,cAAA,CAGJ,4BACI,oBAAA,CACA,WAAA,CACA,QAAA,CAEJ,kCACI,oBAAA,CACA,WAAA,CACA,QAAA,CAGJ,2BACE,aAAA,CACA,4CAAA,CACA,gBAAA,CACA,wBAAA,CAIF,0BACE,QAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CAEF,+BACA,eAAA",sourcesContent:['@import "@scss/variables.scss";\n\n\n.gradient {\n    width: 60%;\n    white-space: nowrap;\n    position: relative;\n    display: inline-block;\n    padding-top: 10px;\n    padding-bottom: 10px;\n}\n\n.gradient .domain-title {\n    position: absolute;\n    padding-left:0.5rem;\n    padding-top:0.5rem;\n    text-align: center;\n    font-size: 16px;\n}\n\n.gradient .domain-title-small {\n    position: absolute;\n    padding-left:0.5rem;\n    padding-top:0rem;\n    text-align: center;\n    font-size: 16px;\n}\n\n.grad-step {\n    display: inline-block;\n    height: 40px;\n    width: 1%;\n}\n.grad-step-small{\n    display: inline-block;\n    height: 20px;\n    width: 1%;\n}\n\n.subtitle {\n  font-size: 2em;\n  color:  var(--v-secondarydark-base) !important;\n  font-weight: bold;\n  padding:1rem 1rem 0 1rem;\n\n}\n\n.setting {\n  left: 98%;\n  width: 0px;\n  z-index: 2;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n}\n.setting-card {\noverflow-y:auto;\n}\n\n'],sourceRoot:""}]);const l=r},78736:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(87537),i=s.n(a),n=s(23645),r=s.n(n)()(i());r.push([e.id,".left-panel[data-v-255df719]{height:100%;background-color:var(--v-primarydark-base);transition:.3s;position:absolute;display:flex;z-index:20}.title[data-v-255df719]{color:#fff}.crop[data-v-255df719]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.preset[data-v-255df719]{padding:.5rem .5rem .5rem 1rem;border-bottom:solid var(--v-primarydark-base);background-color:var(--v-secondary-base);display:flex;justify-content:space-between}.layer[data-v-255df719]{padding:.5rem .5rem .5rem .5rem;background-color:var(--v-secondary-base);display:flex;justify-content:space-between}.left-panel-close[data-v-255df719]{transition:.3s}.left-panel-content[data-v-255df719]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-255df719]{padding:0}.left-panel-toggle-btn[data-v-255df719]{left:100%;width:25px;z-index:1;background-color:var(--v-primarydark-base);display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-255df719]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.scrollable[data-v-255df719]{overflow-y:scroll}.drawer-list-item[data-v-255df719]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-255df719]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/results/ResultsSidePanel.vue"],names:[],mappings:"AAEA,6BACE,WAAA,CACA,0CAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAEF,wBACE,UAAA,CAEF,uBACE,kBAAA,CACA,eAAA,CACA,sBAAA,CAEF,yBACE,8BAAA,CACA,6CAAA,CACA,wCAAA,CACA,YAAA,CACA,6BAAA,CAEF,wBACE,+BAAA,CACA,wCAAA,CACA,YAAA,CACA,6BAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,0CAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.left-panel {\n  height: 100%;\n  background-color: var(--v-primarydark-base);\n  transition: 0.3s;\n  position: absolute;\n  display: flex;\n  z-index: 20;\n}\n.title  {\n  color:white;\n}\n.crop {\n  white-space: nowrap;     /* Prevents text from wrapping to the next line */\n  overflow: hidden;        /* Hides any overflowed content */\n  text-overflow: ellipsis; /* Displays an ellipsis (...) when text overflows */\n}\n.preset {\n  padding: 0.5rem 0.5rem 0.5rem 1rem;\n  border-bottom: solid var(--v-primarydark-base);;\n  background-color: var(--v-secondary-base);\n  display:flex;\n  justify-content: space-between;\n}\n.layer {\n  padding: 0.5rem 0.5rem 0.5rem 0.5rem;\n  background-color: var(--v-secondary-base);\n  display:flex;\n  justify-content: space-between;\n}\n\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: var(--v-primarydark-base);\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n'],sourceRoot:""}]);const l=r},14350:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(87537),i=s.n(a),n=s(23645),r=s.n(n)()(i());r.push([e.id,".map-view[data-v-c04dd168]{height:calc(100% - 50px);width:100%;display:flex}.left-panel[data-v-c04dd168]{height:100%;position:absolute}.hist[data-v-c04dd168]{position:relative;bottom:-10px;flex-grow:1;height:20px;background-color:#e71111;text-align:center;width:10px}","",{version:3,sources:["webpack://./src/pages/ResultMap.vue"],names:[],mappings:"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA,CAGF,6BACE,WAAA,CACA,iBAAA,CAGF,uBACE,iBAAA,CACA,YAAA,CACA,WAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n\n}\n.left-panel {\n  height: 100%;\n  position: absolute;\n}\n\n.hist {\n  position: relative;\n  bottom: -10px;\n  flex-grow: 1;\n  height: 20px;\n  background-color: rgba(231, 17, 17);\n  text-align: center;\n  width:10px;\n}\n\n'],sourceRoot:""}]);const l=r},7786:(e,t,s)=>{s.r(t),s.d(t,{default:()=>R});var a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"map-view"},[t("ResultsSidePanel",{ref:"sidePanel",attrs:{"selected-category":e.selectedCategory,"selected-filter":e.selectedFilter,"layer-choices":e.availableLayers,"selected-layer":e.selectedLayer,"filter-choices":e.filterChoices,"filtered-cat":e.filteredCategory,"preset-choices":e.availablePresets,"selected-preset":e.selectedPreset},on:{"update-selectedCategory":e.updateSelectedCategory,"update-selectedFilter":e.updateSelectedFilter,"select-layer":e.changeLayer,"select-preset":e.changePreset,"delete-preset":e.clickDeletePreset}}),e._v(" "),t("ResultsSettings",{attrs:{"display-settings":e.displaySettings,"feature-choices":e.filterChoices},on:{submit:e.applySettings,"save-preset":e.clickSavePreset},model:{value:e.showSettings,callback:function(t){e.showSettings=t},expression:"showSettings"}}),e._v(" "),e.availablePresets.length>0?t("LayerSelector",{attrs:{choices:e.availablePresets,"available-layers":e.availableLayers}}):e._e(),e._v(" "),t("div",{staticClass:"left-panel"},[t("MapLegend",{key:"result",attrs:{order:0,"color-scale":e.colorScale,"display-settings":e.displaySettings}})],1),e._v(" "),t("MapResults",{key:e.$store.getters["results/type"],attrs:{"selected-feature":e.displaySettings.selectedFeature,opacity:e.displaySettings.opacity,offset:e.displaySettings.offset,"has-o-d":e.$store.getters[`${e.selectedLayer}/hasOD`],"o-d-index":e.$store.getters[`${e.selectedLayer}/matAvailableIndex`],"o-d-features":e.$store.getters[`${e.selectedLayer}/properties`]},on:{selectClick:e.featureClicked},scopedSlots:e._u([{key:"default",fn:function({map:s}){return e._l(e.availablePresets,(function(a){return t("div",{key:a.name},[e.visibleRasters.includes(a.name)&&e.availableLayers.includes(a.layer)?[t("StaticLayer",{attrs:{preset:a,map:s,order:e.visibleRasters.indexOf(a.name)+1}})]:e._e()],2)}))}}])}),e._v(" "),t("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"300"},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.showDialog=!1},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showDialog=!1}]},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[t("v-card",{attrs:{"max-height":"60rem"}},[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(e.$gettext("link Properties"))+"\n      ")]),e._v(" "),t("v-divider"),e._v(" "),t("v-card-text",[t("v-list",e._l(e.form,(function(e,s){return t("v-text-field",{key:s,attrs:{value:e,label:s,filled:"",readonly:""}})})),1)],1),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"success",text:""},on:{click:function(t){e.showDialog=!1}}},[e._v("\n          "+e._s(e.$gettext("ok"))+"\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"400"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showPresetDialog=!1}},model:{value:e.showPresetDialog,callback:function(t){e.showPresetDialog=t},expression:"showPresetDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(e.$gettext("Create or modify preset"))+"\n      ")]),e._v(" "),t("v-card-text",[t("v-container",[t("v-col",{attrs:{cols:"12"}},[t("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.createPreset.apply(null,arguments)}}},[t("v-text-field",{attrs:{autofocus:"",rules:[e=>!!e||"Required."],label:e.$gettext("name")},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}})],1)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",text:""},on:{click:function(t){e.showPresetDialog=!1}}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.createPreset}},[e._v("\n          "+e._s(e.$gettext("ok"))+"\n        ")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{persistent:"","max-width":"400"},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.showDeleteDialog=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.deletePreset.apply(null,arguments)}]},model:{value:e.showDeleteDialog,callback:function(t){e.showDeleteDialog=t},expression:"showDeleteDialog"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[e._v("\n        "+e._s(e.$gettext("Delete")+" "+e.presetToDelete+" ?")+"\n      ")]),e._v(" "),t("v-card-actions",[t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",text:""},on:{click:function(t){e.showDeleteDialog=!1}}},[e._v("\n          "+e._s(e.$gettext("Cancel"))+"\n        ")]),e._v(" "),t("v-btn",{attrs:{color:"error",text:""},on:{click:e.deletePreset}},[e._v("\n          "+e._s(e.$gettext("delete"))+"\n        ")])],1)],1)],1)],1)};a._withStripped=!0;var i=function(){var e=this,t=e._self._c;return t("section",{class:e.showLeftPanel?"left-panel elevation-4":"left-panel-close",style:{width:e.showLeftPanel?"350px":"0px"}},[t("div",{staticClass:"left-panel-toggle-btn elevation-4",on:{click:function(t){return e.$store.commit("changeLeftPanel")}}},[t("v-icon",{attrs:{small:"",color:"secondarydark"}},[e._v("\n      "+e._s(e.showLeftPanel?"fas fa-chevron-left":"fas fa-chevron-right")+"\n    ")])],1),e._v(" "),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showLeftPanelContent,expression:"showLeftPanelContent"}],staticClass:"left-panel-content"},[t("div",[t("div",{style:{"margin-top":"20px","margin-bottom":"20px","margin-right":"20px"}},[t("div",{staticClass:"preset"},[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("v-icon",e._g(e._b({style:{color:"white"},attrs:{dark:""}},"v-icon",a,!1),s),[e._v("\n                  fas fa-sliders-h\n                ")])]}}])},[e._v(" "),t("span",[e._v(e._s(e.$gettext("Presets")))])]),e._v(" "),t("v-menu",{attrs:{"close-delay":"100","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("span",e._g(e._b({staticClass:"title crop"},"span",a,!1),s),[e._v(e._s(e.selectedPreset||e.$gettext("Presets")))])]}}]),model:{value:e.presetsMenu,callback:function(t){e.presetsMenu=t},expression:"presetsMenu"}},[e._v(" "),t("v-list",e._l(e.presetChoices,(function(s,a){return t("v-list-item",{key:a,attrs:{link:""},on:{click:()=>e.$emit("select-preset",s)}},[t("v-list-item-title",[e._v("\n                    "+e._s(s.name)+"\n                  ")]),e._v(" "),t("v-btn",{staticClass:"ml-10",attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),(()=>e.$emit("delete-preset",s)).apply(null,arguments)}}},[t("v-icon",{attrs:{small:"",color:"grey"}},[e._v("\n                      fas fa-trash\n                    ")])],1)],1)})),1)],1),e._v(" "),t("v-btn",{style:{color:"white"},attrs:{icon:"",dark:""},on:{click:function(t){e.presetsMenu=!e.presetsMenu}}},[t("v-icon",[e._v(" "+e._s(e.presetsMenu?"fas fa-chevron-left":"fas fa-chevron-down"))])],1)],1),e._v(" "),t("div",{staticClass:"layer"},[t("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("v-btn",e._g(e._b({style:{color:"white"},attrs:{icon:""},on:{click:function(t){return e.showAll()}}},"v-btn",a,!1),s),[t("v-icon",{staticClass:"list-item-icon"},[e._v("\n                    "+e._s(e.selectedCat.length>0?"fa-eye fa":"fa-eye-slash fa")+"\n                  ")])],1)]}}])},[e._v(" "),t("span",[e._v(e._s(e.selectedCat.length>0?e.$gettext("Hide All"):e.$gettext("Show All")))])]),e._v(" "),t("v-menu",{attrs:{"close-delay":"100","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("span",e._g(e._b({staticClass:"title crop"},"span",a,!1),s),[e._v(e._s(e.selectedLayer))])]}}]),model:{value:e.openMenu,callback:function(t){e.openMenu=t},expression:"openMenu"}},[e._v(" "),t("v-list",e._l(e.layerChoices,(function(s,a){return t("v-list-item",{key:a,attrs:{link:""},on:{click:()=>e.$emit("select-layer",s)}},[t("v-list-item-title",[e._v("\n                    "+e._s(s)+"\n                  ")])],1)})),1)],1),e._v(" "),t("v-btn",{style:{color:"white"},attrs:{icon:"",dark:""},on:{click:function(t){e.openMenu=!e.openMenu}}},[t("v-icon",[e._v(" "+e._s(e.openMenu?"fas fa-chevron-left":"fas fa-chevron-down"))])],1)],1),e._v(" "),t("v-card",{staticClass:"mx-auto",attrs:{"max-width":"100%","min-width":"100%",height:e.windowHeight}},[t("v-list-item",[t("v-select",{attrs:{items:e.filterChoices,"prepend-icon":"fas fa-filter",label:e.$gettext("filter"),"item-color":"secondarydark",color:"secondarydark"},model:{value:e.vmodelSelectedFilter,callback:function(t){e.vmodelSelectedFilter=t},expression:"vmodelSelectedFilter"}})],1),e._v(" "),t("v-virtual-scroll",{attrs:{items:e.filteredCat,"item-height":45,height:e.windowHeight-80},scopedSlots:e._u([{key:"default",fn:function({item:s}){return[t("v-list-item",{key:e.vmodelSelectedFilter.concat(s),staticClass:"pl-2"},[t("v-list-item-action",[t("v-checkbox",{staticClass:"pl-2",attrs:{"on-icon":"fa-eye fa","off-icon":"fa-eye-slash fa",color:"primary",value:s,size:"10","hide-details":""},model:{value:e.selectedCat,callback:function(t){e.selectedCat=t},expression:"selectedCat"}})],1),e._v(" "),t("v-list-item-title",[e._v("\n                    "+e._s(s)+"\n                  ")])],1)]}}])})],1)],1)])])])],1)};i._withStripped=!0;const n={name:"SidePanel",components:{},props:["selectedCategory","selectedFilter","filterChoices","filteredCat","layerChoices","selectedLayer","presetChoices","selectedPreset"],events:["update-selectedCategory","select-layer","update-selected-filter","select-preset","delete-preset"],data:()=>({showLeftPanelContent:!0,openMenu:!1,presetsMenu:!1,selectedCat:[],vmodelSelectedFilter:""}),computed:{showLeftPanel(){return this.$store.getters.showLeftPanel},windowHeight(){return this.$store.getters.windowHeight-130},running(){return this.$store.getters["run/running"]}},watch:{showLeftPanel(e){e?setTimeout((()=>{this.showLeftPanelContent=!0}),500):this.showLeftPanelContent=!1},selectedCategory(e,t){e!==t&&(this.selectedCat=e)},selectedFilter(e){e!==this.vmodelSelectedFilter&&(this.vmodelSelectedFilter=e)},selectedCat(e){e!==this.selectedCategory&&this.$emit("update-selectedCategory",e)},vmodelSelectedFilter(e,t){e!==this.selectedFilter&&(this.$emit("update-selectedFilter",e),this.selectedCat=this.selectedCategory)}},created(){this.vmodelSelectedFilter=this.selectedFilter,this.selectedCat=this.selectedCategory,this.$emit("update-selectedFilter",this.selectedFilter),this.$emit("update-selectedCategory",this.selectedCategory)},methods:{init(e){this.selectedCat=e.selectedCategory},showAll(){this.selectedCat.length===this.filteredCat.length?this.selectedCat=[]:this.selectedCat=this.filteredCat}}};var r=s(93379),l=s.n(r),o=s(7795),c=s.n(o),d=s(90569),p=s.n(d),u=s(3565),h=s.n(u),m=s(19216),v=s.n(m),A=s(44589),g=s.n(A),y=s(78736),f={};f.styleTagTransform=g(),f.setAttributes=h(),f.insert=p().bind(null,"head"),f.domAPI=c(),f.insertStyleElement=v(),l()(y.Z,f),y.Z&&y.Z.locals&&y.Z.locals;var C=s(51900);const x=(0,C.Z)(n,i,[],!1,null,"255df719",null).exports;var k=function(){var e=this,t=e._self._c;return t("MglMap",{key:e.mapStyle,style:{width:"100%"},attrs:{"access-token":e.mapboxPublicKey,"map-style":e.mapStyle,center:e.$store.getters.mapCenter,zoom:e.$store.getters.mapZoom},on:{load:e.onMapLoaded}},[t("MglScaleControl",{attrs:{position:"bottom-right"}}),e._v(" "),t("MglNavigationControl",{attrs:{position:"bottom-right"}}),e._v(" "),e.mapIsLoaded?e._t("default",null,{map:e.map,mapIsLoaded:e.mapIsLoaded}):e._e(),e._v(" "),"LineString"==e.layerType?t("MglGeojsonLayer",{attrs:{"source-id":"links",source:{type:"geojson",data:e.links,buffer:0,promoteId:"index"},"layer-id":"results",layer:{interactive:!0,type:"line",minzoom:e.minZoom.links,paint:{"line-color":["get","display_color"],"line-offset":["*",.5*e.offsetValue,["to-number",["get","display_width"]]],"line-opacity":e.opacity/100,"line-blur":["case",["boolean",["feature-state","hover"],!1],6,0],"line-width":["get","display_width"]},layout:{"line-sort-key":["to-number",["get","display_width"]],"line-cap":"round"}}},on:{mouseenter:e.enterLink,mouseleave:e.leaveLink,click:e.zoneClick,contextmenu:e.selectClick}}):e._e(),e._v(" "),"Point"==e.layerType?t("MglGeojsonLayer",{attrs:{"source-id":"nodes",source:{type:"geojson",data:e.links,buffer:0,promoteId:"index"},"layer-id":"results",layer:{interactive:!0,type:"circle",minzoom:e.minZoom.links,paint:{"circle-color":["get","display_color"],"circle-radius":["get","display_width"],"circle-opacity":e.opacity/100},layout:{"circle-sort-key":["to-number",["get","display_width"]]}}},on:{mouseenter:e.enterLink,mouseleave:e.leaveLink,click:e.zoneClick,contextmenu:e.selectClick}}):e._e(),e._v(" "),"LineString"==e.layerType?t("MglImageLayer",{attrs:{"source-id":"links",type:"symbol",source:"links","layer-id":"arrow",layer:{type:"symbol",minzoom:e.minZoom.nodes,layout:{"symbol-placement":"line","symbol-spacing":200,"icon-ignore-placement":!0,"icon-image":"arrow","icon-size":["*",.1,["to-number",["get","display_width"]]],"icon-rotate":90,"icon-offset":[5*e.offsetValue,5]},paint:{"icon-color":["get","display_color"],"icon-opacity":e.opacity/100}}}}):e._e(),e._v(" "),"extrusion"===e.layerType?t("MglGeojsonLayer",{attrs:{"source-id":"polygon",source:{type:"geojson",data:e.links,promoteId:"index"},"layer-id":"results",layer:{interactive:!0,type:"fill-extrusion",paint:{"fill-extrusion-color":["get","display_color"],"fill-extrusion-opacity":e.opacity/100,"fill-extrusion-height":["*",1e3,["to-number",["get","display_width"]]]}}},on:{mouseenter:e.zoneHover,mouseleave:e.zoneLeave,click:e.zoneClick,contextmenu:e.selectClick}}):e._e(),e._v(" "),"Polygon"===e.layerType?t("MglGeojsonLayer",{attrs:{"source-id":"polygon",source:{type:"geojson",data:e.links,promoteId:"index"},"layer-id":"results",layer:{interactive:!0,type:"fill",paint:{"fill-color":["get","display_color"],"fill-opacity":e.opacity/100}}},on:{mouseenter:e.zoneHover,mouseleave:e.zoneLeave,click:e.zoneClick,contextmenu:e.selectClick}}):e._e(),e._v(" "),"Polygon"===e.layerType?t("MglGeojsonLayer",{attrs:{"source-id":"NaNPolygon",source:{type:"geojson",data:e.NaNLinks,promoteId:"index"},"layer-id":"NaNresults",layer:{interactive:!0,type:"fill",paint:{"fill-outline-color":"#cccccc","fill-color":"rgba(0, 0, 0, 0)"}}},on:{mouseenter:e.zoneHover,mouseleave:e.zoneLeave,click:e.zoneClick,contextmenu:e.selectClick}}):e._e()],2)};k._withStripped=!0;var w=s(6158),b=s.n(w),_=s(1963),S=s(22317);const $={name:"ResultMap",components:{MglMap:_.Q3,MglNavigationControl:_.RV,MglScaleControl:_.RQ,MglGeojsonLayer:_.tf,MglImageLayer:_.vV},props:["selectedFeature","opacity","offset"],events:["selectClick"],data:()=>({mapIsLoaded:!1,mapboxPublicKey:null,selectedLinks:[],minZoom:{nodes:14,links:2}}),computed:{mapStyle(){return this.$store.getters.mapStyle},layerType(){return this.$store.getters["results/type"]},offsetValue(){return this.offset?-1:1},NaNLinks(){return this.$store.getters["results/NaNLinks"]},links(){return this.$store.getters["results/visibleLinks"]}},watch:{mapStyle(e){this.map&&(this.map.getLayer("arrow")&&this.map.removeLayer("arrow"),this.map.getLayer("links")&&this.map.removeLayer("links"),this.map.getLayer("zones")&&this.map.removeLayer("zones"),this.map.getLayer("nodes")&&this.map.removeLayer("nodes"),this.mapIsLoaded=!1,this.saveMapPosition())}},created(){this.mapboxPublicKey="pk.eyJ1Ijoic2JvaXZpbiIsImEiOiJja3BlMm41cm4xa2QyMnZwZTBqdGx4bHI0In0.11oH2-B2g9J6LarDnoqQfQ"},beforeDestroy(){this.map.getLayer("arrow")&&this.map.removeLayer("arrow"),this.saveMapPosition()},methods:{saveMapPosition(){const e=this.map.getCenter();this.$store.commit("saveMapPosition",{mapCenter:[e.lng,e.lat],mapZoom:this.map.getZoom()})},onMapLoaded(e){this.map&&(this.mapIsLoaded=!1);const t=new(b().LngLatBounds);["Polygon","extrusion"].includes(this.layerType)?this.links.features.forEach((e=>{try{"Polygon"===e.geometry.type?t.extend([e.geometry.coordinates[0][0],e.geometry.coordinates[0][e.geometry.coordinates.length-1]]):t.extend([e.geometry.coordinates[0][0][0],e.geometry.coordinates[0][0][e.geometry.coordinates.length-1]])}catch(e){}})):this.links.features.forEach((e=>{t.extend([e.geometry.coordinates[0],e.geometry.coordinates[e.geometry.coordinates.length-1]])})),0!==Object.keys(t).length&&e.map.fitBounds(t,{padding:100}),e.map.loadImage(S,(function(t,s){t?console.error("err image",t):e.map.addImage("arrow",s,{sdf:!0})})),this.map=e.map,"extrusion"!==this.layerType?e.map.dragRotate.disable():this.$store.commit("changeNotification",{text:"Right click and drag to tilt the map",autoClose:!0,color:"success"}),this.mapIsLoaded=!0},enterLink(e){if(e.map.getCanvas().style.cursor="pointer",this.selectedLinks=e.mapboxEvent.features,this.popup?.isOpen()&&this.popup.remove(),this.selectedFeature&&"Polygon"!==this.layerType){const t=this.selectedLinks[0].properties[this.selectedFeature];t&&(this.popup=new(b().Popup)({closeButton:!1}).setLngLat([e.mapboxEvent.lngLat.lng,e.mapboxEvent.lngLat.lat]).setHTML(`${this.selectedFeature}: <br> ${t}`).addTo(e.map))}},leaveLink(e){this.selectedLinks=[],this.popup?.isOpen()&&this.popup.remove(),e.map.getCanvas().style.cursor=""},selectClick(e){this.selectedLinks=e.mapboxEvent.features,this.selectedLinks?.length>0&&this.$emit("selectClick",{feature:this.selectedLinks[0].properties,action:"featureClick"})},zoneClick(e){this.selectedLinks=e.mapboxEvent.features,this.selectedLinks?.length>0&&this.$emit("selectClick",{feature:this.selectedLinks[0].properties,action:"zoneClick"})},zoneHover(e){e.map.getCanvas().style.cursor="pointer"},zoneLeave(e){e.map.getCanvas().style.cursor=""}}},L=(0,C.Z)($,k,[],!1,null,"392e5293",null).exports;var P=function(){var e=this,t=e._self._c;return t("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!1,origin:"top right",transition:"scale-transition","position-y":30,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("div",{staticClass:"setting"},[t("v-btn",e._g(e._b({attrs:{fab:"",small:""}},"v-btn",a,!1),s),[t("v-icon",{attrs:{color:null===e.displaySettings.selectedFeature?"error":"regular"}},[e._v("\n          fa-solid fa-cog\n        ")])],1)],1)]}}]),model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[e._v(" "),t("v-card",{staticClass:"setting-card",attrs:{width:"20rem","max-height":e.windowHeight},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit("apply")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel.apply(null,arguments)}]}},[t("v-card-title",{staticClass:"subtitle"},[e._v("\n      "+e._s(e.$gettext("Settings"))+"\n      "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){e.showHint=!e.showHint}}},[t("v-icon",[e._v("far fa-question-circle small")])],1)],1),e._v(" "),t("v-card-text",[t("v-form",{ref:"form",attrs:{"lazy-validation":""}},[t("v-container",[t("v-col",[t("v-select",{attrs:{items:e.featureChoices,label:e.$gettext(e.parameters[0].name),hint:e.showHint?e.$gettext(e.parameters[0].hint):"","persistent-hint":e.showHint,required:""},model:{value:e.parameters[0].value,callback:function(t){e.$set(e.parameters[0],"value",t)},expression:"parameters[0].value"}}),e._v(" "),t("v-row",e._l(e.parameters.slice(1,3),(function(s){return t("v-col",{key:s.name},[t("v-text-field",{attrs:{dense:"",type:s.type,label:e.$gettext(s.name),suffix:s.units,hint:e.showHint?e.$gettext(s.hint):"","persistent-hint":e.showHint,required:""},on:{wheel:()=>{}},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}})],1)})),1),e._v(" "),t("v-row",[t("v-col",[t("v-text-field",{attrs:{dense:"",type:e.parameters[3].type,label:e.$gettext(e.parameters[3].name),suffix:e.parameters[3].units,hint:e.showHint?e.$gettext(e.parameters[3].hint):"","persistent-hint":e.showHint,required:""},on:{wheel:()=>{}},model:{value:e.parameters[3].value,callback:function(t){e.$set(e.parameters[3],"value",t)},expression:"parameters[3].value"}})],1),e._v(" "),t("v-col",[t("v-select",{attrs:{dense:"",items:e.parameters[5].choices,label:e.$gettext(e.parameters[5].name),hint:e.showHint?e.$gettext(e.parameters[5].hint):"","persistent-hint":e.showHint,required:""},model:{value:e.parameters[5].value,callback:function(t){e.$set(e.parameters[5],"value",t)},expression:"parameters[5].value"}})],1)],1),e._v(" "),t("v-select",{attrs:{items:e.parameters[6].choices,label:e.$gettext(e.parameters[6].name),hint:e.showHint?e.$gettext(e.parameters[6].hint):"","persistent-hint":e.showHint,required:"",solo:""},scopedSlots:e._u([{key:"selection",fn:function({item:s}){return[t("div",{staticClass:"gradient"},[e._l(e.getColor(s),(function(e,s){return t("span",{key:s,staticClass:"grad-step-small",style:{backgroundColor:e}})})),e._v(" "),t("span",{staticClass:"domain-title-small"},[e._v(e._s(s))])],2)]}},{key:"item",fn:function({item:s}){return[t("div",{staticClass:"gradient"},[e._l(e.getColor(s),(function(e,s){return t("span",{key:s,staticClass:"grad-step",style:{backgroundColor:e}})})),e._v(" "),t("span",{staticClass:"domain-title"},[e._v(e._s(s))])],2)]}}]),model:{value:e.parameters[6].value,callback:function(t){e.$set(e.parameters[6],"value",t)},expression:"parameters[6].value"}}),e._v(" "),t("v-range-slider",{staticClass:"align-center",attrs:{"inverse-label":"",step:"5",dense:"",label:e.$gettext(e.parameters[14].name),min:"0",max:"100","hide-details":""},model:{value:e.parameters[14].value,callback:function(t){e.$set(e.parameters[14],"value",t)},expression:"parameters[14].value"}}),e._v(" "),t("v-slider",{staticClass:"align-center",attrs:{"inverse-label":"",label:e.$gettext(e.parameters[4].name),"track-color":"secondary",max:100,"thumb-label":"",min:0,"hide-details":""},scopedSlots:e._u([{key:"thumb-label",fn:function({value:t}){return[e._v("\n                "+e._s(t+"%")+"\n              ")]}}]),model:{value:e.parameters[4].value,callback:function(t){e.$set(e.parameters[4],"value",t)},expression:"parameters[4].value"}}),e._v(" "),t("v-switch",{key:e.parameters[12].name,attrs:{dense:"",label:e.$gettext(e.parameters[12].name),hint:e.showHint?e.$gettext(e.parameters[12].hint):"","persistent-hint":e.showHint},model:{value:e.parameters[12].value,callback:function(t){e.$set(e.parameters[12],"value",t)},expression:"parameters[12].value"}}),e._v(" "),t("v-switch",{key:e.parameters[7].name,attrs:{dense:"",label:e.$gettext(e.parameters[7].name),hint:e.showHint?e.$gettext(e.parameters[7].hint):"","persistent-hint":e.showHint},model:{value:e.parameters[7].value,callback:function(t){e.$set(e.parameters[7],"value",t)},expression:"parameters[7].value"}}),e._v(" "),t("v-switch",{key:e.parameters[8].name,attrs:{dense:"",label:e.$gettext(e.parameters[8].name),hint:e.showHint?e.$gettext(e.parameters[7].hint):"","persistent-hint":e.showHint},model:{value:e.parameters[8].value,callback:function(t){e.$set(e.parameters[8],"value",t)},expression:"parameters[8].value"}}),e._v(" "),["Polygon","extrusion"].includes(e.$store.getters["results/type"])?t("v-switch",{key:e.parameters[13].name,attrs:{dense:"",label:e.$gettext(e.parameters[13].name),disabled:!["Polygon","extrusion"].includes(e.$store.getters["results/type"]),hint:e.showHint?e.$gettext(e.parameters[13].hint):"","persistent-hint":e.showHint},model:{value:e.parameters[13].value,callback:function(t){e.$set(e.parameters[13],"value",t)},expression:"parameters[13].value"}}):e._e(),e._v(" "),t("v-switch",{key:e.parameters[11].name,attrs:{dense:"",label:e.$gettext(e.parameters[11].name),hint:e.showHint?e.$gettext(e.parameters[11].hint):"","persistent-hint":e.showHint},on:{click:function(t){return e.toggleFixScale(e.parameters[11].name)}},model:{value:e.parameters[11].value,callback:function(t){e.$set(e.parameters[11],"value",t)},expression:"parameters[11].value"}}),e._v(" "),e._l(e.parameters.slice(9,11),(function(s){return t("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.showFixScale,expression:"showFixScale"}],key:s.name,attrs:{type:s.type,label:e.$gettext(s.name),suffix:s.units,hint:e.showHint?e.$gettext(s.hint):"","persistent-hint":e.showHint,required:""},on:{wheel:()=>{}},model:{value:s.value,callback:function(t){e.$set(s,"value",t)},expression:"item.value"}})}))],2)],1)],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"grey",text:""},on:{click:e.cancel}},[e._v("\n        "+e._s(e.$gettext("Cancel"))+"\n      ")]),e._v(" "),t("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.submit("apply")}}},[e._v("\n        "+e._s(e.$gettext("Apply"))+"\n      ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"grey",text:""},on:{click:function(t){return e.submit("save")}}},[t("v-icon",{attrs:{small:"",left:""}},[e._v("\n          fas fa-sliders-h\n        ")]),e._v("\n        "+e._s(e.$gettext("save"))+"\n      ")],1)],1)],1)],1)};P._withStripped=!0;var F=s(28670),B=s.n(F);const D={name:"ResultsSettings",model:{prop:"show",event:"update-show"},props:["show","displaySettings","featureChoices"],events:["update-show","submit","save-preset"],data(){return{parameters:[{name:"selectedFeature",type:"String",value:this.displaySettings.selectedFeature,units:"",hint:"selectedFeature"},{name:"minWidth",type:"Number",value:this.displaySettings.minWidth,units:"a.u.",hint:"minWidth"},{name:"maxWidth",type:"Number",value:this.displaySettings.maxWidth,units:"a.u.",hint:"maxWidth"},{name:"numStep",type:"Number",value:this.displaySettings.numStep,units:"int",hint:"numStep"},{name:"opacity",type:"Number",value:this.displaySettings.opacity,units:"number",hint:"opacity"},{name:"scale",type:"String",value:this.displaySettings.scale,choices:["linear","sqrt","log","exp","quad"],units:"",hint:"scale"},{name:"color map",type:"String",choices:Object.keys(B().brewer).slice(0,36),value:this.displaySettings.cmap,units:"",hint:"cmap to use"},{name:"show NaN",value:this.displaySettings.showNaN,hint:"Hide NaN on map and color map"},{name:"reverse color",value:this.displaySettings.reverseColor,hint:"reverse color scale"},{name:"scale min",type:"Number",value:this.displaySettings.minVal,units:"a.u.",hint:"mininum value on the color Map"},{name:"scale max",type:"Number",value:this.displaySettings.maxVal,units:"a.u.",hint:"maximum value on the color Map"},{name:"custom scale",value:this.displaySettings.fixScale,hint:"customize to inputs values"},{name:"Left side driving",value:this.displaySettings.offset,hint:"Select which side of the road the links are display"},{name:"3D",value:this.displaySettings.extrusion,hint:"display zones as 3D extrusion"},{name:"padding",type:"Number",value:this.displaySettings.padding,units:"number",hint:"range of colors"}],showHint:!1,showFixScale:!1,shake:!1,rules:{required:e=>!!e||"Required",largerThanZero:e=>e>0||"should be larger than 0",nonNegative:e=>e>=0||"should be larger or equal to 0"},showDialog:!1}},computed:{windowHeight(){return this.$store.getters.windowHeight-100}},watch:{showDialog(e){this.refresh(),this.showFixScale=this.parameters[11].value,this.$emit("update-show",e)},featureChoices(){this.refresh()}},created(){this.showDialog=this.show},methods:{toggleFixScale(){this.parameters[11].value?(this.showFixScale=!0,this.parameters[9].value=this.displaySettings.minVal,this.parameters[10].value=this.displaySettings.maxVal):this.showFixScale=!1},getColor(e){const t=[],s=this.parameters[8].value;let a=this.parameters[14].value;a=[a[0]/100,1-a[1]/100],a=s?a.reverse():a;const i=B().scale(e).padding(a).domain([0,100]).classes(25);for(let e=0;e<100;e++)t.push(i(e).hex());return s?t.reverse():t},refresh(){this.parameters[0].value=this.displaySettings.selectedFeature,this.parameters[1].value=this.displaySettings.minWidth,this.parameters[2].value=this.displaySettings.maxWidth,this.parameters[3].value=this.displaySettings.numStep,this.parameters[4].value=this.displaySettings.opacity,this.parameters[5].value=this.displaySettings.scale,this.parameters[6].value=this.displaySettings.cmap,this.parameters[7].value=this.displaySettings.showNaN,this.parameters[8].value=this.displaySettings.reverseColor,this.parameters[9].value=this.displaySettings.minVal,this.parameters[10].value=this.displaySettings.maxVal,this.parameters[11].value=this.displaySettings.fixScale,this.parameters[12].value=this.displaySettings.offset,this.parameters[13].value=this.displaySettings.extrusion,this.parameters[14].value=this.displaySettings.padding},submit(e){if(this.$refs.form.validate()){const t={selectedFeature:this.parameters[0].value,minWidth:Number(this.parameters[1].value),maxWidth:Number(this.parameters[2].value),numStep:Number(this.parameters[3].value),opacity:Number(this.parameters[4].value),scale:this.parameters[5].value,cmap:this.parameters[6].value,showNaN:this.parameters[7].value,reverseColor:this.parameters[8].value,minVal:Number(this.parameters[9].value),maxVal:Number(this.parameters[10].value),fixScale:this.parameters[11].value,offset:this.parameters[12].value,extrusion:this.parameters[13].value,padding:this.parameters[14].value};"apply"===e?this.$emit("submit",t):"save"===e&&this.$emit("save-preset",t)}else this.shake=!0,setTimeout((()=>{this.shake=!1}),500)},cancel(){this.showDialog=!1}}};var N=s(4977),E={};E.styleTagTransform=g(),E.setAttributes=h(),E.insert=p().bind(null,"head"),E.domAPI=c(),E.insertStyleElement=v(),l()(N.Z,E),N.Z&&N.Z.locals&&N.Z.locals;const M=(0,C.Z)(D,P,[],!1,null,"0c760ea0",null).exports;var z=s(25286),H=s(91376),j=s(4);const Z={name:"ResultMap",components:{ResultsSidePanel:x,MapResults:L,ResultsSettings:M,MapLegend:z.Z,LayerSelector:j.Z,StaticLayer:H.Z},data:()=>({minZoom:{nodes:14,links:8},showSettings:!1,selectedLayer:"links",selectedPreset:null,form:{},showDialog:!1,showPresetDialog:!1,showDeleteDialog:!1,inputName:"",tempDisplaySettings:{},presetToDelete:""}),computed:{windowHeight(){return this.$store.getters.windowHeight-100},availableLayers(){return this.$store.getters.availableLayers},availablePresets(){return this.$store.getters.styles},links(){return this.$store.getters["results/links"]},filterChoices(){return this.$store.getters["results/lineAttributes"]},displaySettings(){return this.$store.getters["results/displaySettings"]},selectedFilter(){return this.$store.getters["results/selectedFilter"]},selectedCategory(){return this.$store.getters["results/selectedCategory"]},colorScale(){return this.$store.getters["results/colorScale"]},visibleRasters(){return this.$store.getters.visibleRasters},filteredCategory(){return Array.from(new Set(this.links.features.map((e=>e.properties[this.selectedFilter]))))}},created(){this.availableLayers.lenght>0&&(this.selectedLayer=this.availableLayers[0]),this.changeLayer(this.selectedLayer)},beforeDestroy(){this.$store.commit("results/unload")},methods:{applySettings(e){this.$store.commit("results/applySettings",e)},updateSelectedFilter(e){this.$store.commit("results/changeSelectedFilter",e),this.$store.commit("results/updateSelectedFeature")},updateSelectedCategory(e){this.$store.commit("results/changeSelectedCategory",e),this.$store.commit("results/updateSelectedFeature")},changeLayer(e){switch(this.selectedLayer=e,e){case"links":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.links,type:"LineString",selectedFeature:"headway"});break;case"rlinks":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.rlinks,type:"LineString",selectedFeature:"speed"});break;case"nodes":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.nodes,type:"Point",selectedFeature:"boardings"});break;case"rnodes":this.$store.commit("results/loadLinks",{geojson:this.$store.getters.rnodes,type:"Point",selectedFeature:"boardings"});break;case"od":this.$store.commit("results/loadLinks",{geojson:this.$store.getters["od/layer"],type:"LineString"});break;default:this.$store.commit("results/loadLinks",{geojson:this.$store.getters[`${e}/layer`],type:this.$store.getters[`${e}/type`],hasOD:this.$store.getters[`${e}/hasOD`],ODindex:this.$store.getters[`${e}/matAvailableIndex`]})}},changePreset(e){this.selectedPreset=e.name,this.availableLayers.includes(e.layer)?(this.changeLayer(e.layer),this.filterChoices.includes(e?.selectedFilter)?(this.$store.commit("results/changeSelectedFilter",e.selectedFilter),Object.keys(e).includes("selectedCategory")&&this.$store.commit("results/changeSelectedCategory",e.selectedCategory)):Object.keys(e).includes("selectedFilter")&&this.$store.commit("changeNotification",{text:e.selectedFilter+" filter does not exist. use default one",autoClose:!0,color:"error"})):this.$store.commit("changeNotification",{text:"Preset Layer does not exist",autoClose:!0,color:"error"}),this.applySettings(e.displaySettings)},featureClicked(e){const t=this.displaySettings.selectedFeature;"featureClick"===e.action?(this.form=e.feature,this.showDialog=!0):this.$store.getters[`${this.selectedLayer}/hasOD`]&&this.$store.getters[`${this.selectedLayer}/properties`].includes(t)&&(this.$store.commit(`${this.selectedLayer}/changeOD`,{index:e.feature.index,selectedProperty:t}),this.$store.commit("results/updateLinks",this.$store.getters[`${this.selectedLayer}/layer`]))},clickSavePreset(e){this.tempDisplaySettings=e,this.inputName=this.selectedPreset,this.showPresetDialog=!0},clickDeletePreset(e){this.presetToDelete=e.name,this.showDeleteDialog=!0},createPreset(){if(this.$refs.form.validate()){this.showPresetDialog=!1;const e={name:structuredClone(this.inputName),layer:structuredClone(this.selectedLayer),displaySettings:structuredClone(this.tempDisplaySettings),selectedFilter:structuredClone(this.selectedFilter)};this.selectedCategory.filter((e=>this.filteredCategory.includes(e))).length<this.filteredCategory.length&&(e.selectedCategory=structuredClone(this.selectedCategory)),this.$store.commit("addStyle",e),this.visibleRasters.includes(this.inputName)?this.$store.commit("changeNotification",{text:"Preset changed. Please reload the active layer on the map",autoClose:!0,color:"warning"}):this.$store.commit("changeNotification",{text:"Preset Saved",autoClose:!0,color:"success"}),this.selectedPreset=this.inputName}},deletePreset(){this.$store.commit("deleteStyle",this.presetToDelete),this.showDeleteDialog=!1,this.presetToDelete===this.selectedPreset&&(this.selectedPreset=null),this.$store.commit("changeNotification",{text:"Preset deleted",autoClose:!0,color:"success"}),this.presetToDelete=""}}};var I=s(14350),T={};T.styleTagTransform=g(),T.setAttributes=h(),T.insert=p().bind(null,"head"),T.domAPI=c(),T.insertStyleElement=v(),l()(I.Z,T),I.Z&&I.Z.locals&&I.Z.locals;const R=(0,C.Z)(Z,a,[],!1,null,"c04dd168",null).exports}}]);
//# sourceMappingURL=786.build.js.map