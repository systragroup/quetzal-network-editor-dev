var Ge=Object.defineProperty;var He=(e,r,s)=>r in e?Ge(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var f=(e,r,s)=>He(e,typeof r!="symbol"?r+"":r,s);import{bn as qe,bo as k,bp as q,bq as G,br as v,bs as Ie,bt as J,bu as Je,bv as Be,bw as Ae,bx as Ce,by as Pe,bz as Ve,bA as We,bB as Ke,bC as Qe,bD as H,bE as Xe,bF as Ye,bG as Ze,bH as et,bI as I,bJ as tt,bK as st,bL as rt,bM as _e,bN as _,bO as it,bP as Re,bQ as nt,bR as ot,bS as at,bT as ct,bU as ut,bV as dt,bW as pt,bX as lt,bY as ht,bZ as ft,b_ as mt,b$ as gt,c0 as St,c1 as yt,c2 as Et,c3 as wt,c4 as bt,c5 as It,c6 as At,c7 as Ct,c8 as Pt,c9 as _t,ca as Rt,cb as xt,cc as Dt,cd as Ot,ce as vt,cf as kt,cg as Tt,ch as Mt,ci as Nt,cj as Ut,ck as $t,cl as xe,cm as De}from"./index-CVO2KWKY.js";class Ft extends qe{async serializeRequest(r,s,t){const o=this.serializer,i={},n={},c=await t.endpoint(),a=k.of(r==null?void 0:r.input),u=a.getSchema();let d;const p=new q({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:n,body:void 0});c&&(this.updateServiceEndpoint(p,c),this.setHostPrefix(p,r,s));const l={...s};if(s){const h=a.getEventStreamMember();if(h){if(l[h]){const S={};for(const[m,P]of a.structIterator())m!==h&&l[m]&&(o.write(P,l[m]),S[m]=o.flush());d=await this.serializeEventStream({eventStream:l[h],requestSchema:a,initialRequest:S})}}else o.write(u,l),d=o.flush()}return p.headers=n,p.query=i,p.body=d,p.method="POST",p}async deserializeResponse(r,s,t){const o=this.deserializer,i=k.of(r.output),n={};if(t.statusCode>=300){const a=await G(t.body,s);throw a.byteLength>0&&Object.assign(n,await o.read(15,a)),await this.handleError(r,s,t,n,this.deserializeMetadata(t)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(const a in t.headers){const u=t.headers[a];delete t.headers[a],t.headers[a.toLowerCase()]=u}const c=i.getEventStreamMember();if(c)n[c]=await this.deserializeEventStream({response:t,responseSchema:i,initialResponseContainer:n});else{const a=await G(t.body,s);a.byteLength>0&&Object.assign(n,await o.read(i,a))}return n.$metadata=this.deserializeMetadata(t),n}}class zt{async sign(r,s,t){return r}}function Lt(e,r,s){if(s!=null&&s.source){const t=s.source;if(typeof r=="number"&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||t!==String(r)))return t.includes(".")?new v(t,"bigDecimal"):BigInt(t)}return r}const jt=(e,r)=>G(e,r).then(s=>((r==null?void 0:r.utf8Encoder)??Ie)(s)),Gt=(e,r)=>jt(e,r).then(s=>{if(s.length)try{return JSON.parse(s)}catch(t){throw(t==null?void 0:t.name)==="SyntaxError"&&Object.defineProperty(t,"$responseBodyText",{value:s}),t}return{}}),Ht=(e,r)=>{const s=(i,n)=>Object.keys(i).find(c=>c.toLowerCase()===n.toLowerCase()),t=i=>{let n=i;return typeof n=="number"&&(n=n.toString()),n.indexOf(",")>=0&&(n=n.split(",")[0]),n.indexOf(":")>=0&&(n=n.split(":")[0]),n.indexOf("#")>=0&&(n=n.split("#")[1]),n},o=s(e.headers,"x-amzn-errortype");if(o!==void 0)return t(e.headers[o]);if(r&&typeof r=="object"){const i=s(r,"code");if(i&&r[i]!==void 0)return t(r[i]);if(r.__type!==void 0)return t(r.__type)}};class qt extends J{constructor(s){super();f(this,"settings");this.settings=s}async read(s,t){return this._read(s,typeof t=="string"?JSON.parse(t,Lt):await Gt(t,this.serdeContext))}readObject(s,t){return this._read(s,t)}_read(s,t){const o=t!==null&&typeof t=="object",i=k.of(s);if(o){if(i.isStructSchema()){const c=t,a=i.isUnionSchema(),u={};let d;const{jsonName:p}=this.settings;p&&(d={});let l;a&&(l=new Je(c,u));for(const[h,S]of Be(i,c,p?"jsonName":!1)){let m=h;p&&(m=S.getMergedTraits().jsonName??m,d[m]=h),a&&l.mark(m),c[m]!=null&&(u[h]=this._read(S,c[m]))}if(a)l.writeUnknown();else if(typeof c.__type=="string")for(const[h,S]of Object.entries(c)){const m=p?d[h]??h:h;m in u||(u[m]=S)}return u}if(Array.isArray(t)&&i.isListSchema()){const c=i.getValueSchema(),a=[],u=!!i.getMergedTraits().sparse;for(const d of t)(u||d!=null)&&a.push(this._read(c,d));return a}if(i.isMapSchema()){const c=i.getValueSchema(),a={},u=!!i.getMergedTraits().sparse;for(const[d,p]of Object.entries(t))(u||p!=null)&&(a[d]=this._read(c,p));return a}}if(i.isBlobSchema()&&typeof t=="string")return Ae(t);const n=i.getMergedTraits().mediaType;if(i.isStringSchema()&&typeof t=="string"&&n)return n==="application/json"||n.endsWith("+json")?Ce.from(t):t;if(i.isTimestampSchema()&&t!=null)switch(Pe(i,this.settings)){case 5:return Ke(t);case 6:return We(t);case 7:return Ve(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(i.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(i.isBigDecimalSchema()&&t!=null){if(t instanceof v)return t;const c=t;return c.type==="bigDecimal"&&"string"in c?new v(c.string,c.type):new v(String(t),"bigDecimal")}if(i.isNumericSchema()&&typeof t=="string"){switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return t}if(i.isDocumentSchema())if(o){const c=Array.isArray(t)?[]:{};for(const[a,u]of Object.entries(t))u instanceof v?c[a]=u:c[a]=this._read(i,u);return c}else return structuredClone(t);return t}}const oe="Î";class Jt{constructor(){f(this,"values",new Map);f(this,"counter",0);f(this,"stage",0)}createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(r,s)=>{if(s instanceof v){const t=`${oe+"nv"+this.counter++}_`+s.string;return this.values.set(`"${t}"`,s.string),t}if(typeof s=="bigint"){const t=s.toString(),o=`${oe+"b"+this.counter++}_`+t;return this.values.set(`"${o}"`,t),o}return s}}replaceInJson(r){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return r;for(const[s,t]of this.values)r=r.replace(s,t);return r}}class Bt extends J{constructor(s){super();f(this,"settings");f(this,"buffer");f(this,"useReplacer",!1);f(this,"rootSchema");this.settings=s}write(s,t){this.rootSchema=k.of(s),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(s,t){this.write(s,t),typeof this.buffer=="object"&&(this.buffer.__type=k.of(s).getName(!0))}flush(){const{rootSchema:s,useReplacer:t}=this;if(this.rootSchema=void 0,this.useReplacer=!1,s!=null&&s.isStructSchema()||s!=null&&s.isDocumentSchema()){if(!t)return JSON.stringify(this.buffer);const o=new Jt;return o.replaceInJson(JSON.stringify(this.buffer,o.createReplacer(),0))}return this.buffer}_write(s,t,o){var c,a;const i=t!==null&&typeof t=="object",n=k.of(s);if(i){if(n.isStructSchema()){const u=t,d={},{jsonName:p}=this.settings;let l;p&&(l={});for(const[h,S]of Qe(n,u)){const m=this._write(S,u[h],n);if(m!==void 0){let P=h;p&&(P=S.getMergedTraits().jsonName??h,l[h]=P),d[P]=m}}if(n.isUnionSchema()&&Object.keys(d).length===0){const{$unknown:h}=u;if(Array.isArray(h)){const[S,m]=h;d[S]=this._write(15,m)}}else if(typeof u.__type=="string")for(const[h,S]of Object.entries(u)){const m=p?l[h]??h:h;m in d||(d[m]=this._write(15,S))}return d}if(Array.isArray(t)&&n.isListSchema()){const u=n.getValueSchema(),d=[],p=!!n.getMergedTraits().sparse;for(const l of t)(p||l!=null)&&d.push(this._write(u,l));return d}if(n.isMapSchema()){const u=n.getValueSchema(),d={},p=!!n.getMergedTraits().sparse;for(const[l,h]of Object.entries(t))(p||h!=null)&&(d[l]=this._write(u,h));return d}if(t instanceof Uint8Array&&(n.isBlobSchema()||n.isDocumentSchema()))return n===this.rootSchema?t:(((c=this.serdeContext)==null?void 0:c.base64Encoder)??H)(t);if(t instanceof Date&&(n.isTimestampSchema()||n.isDocumentSchema()))switch(Pe(n,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return Xe(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}t instanceof v&&(this.useReplacer=!0)}if(!(t===null&&(o!=null&&o.isStructSchema()))){if(n.isStringSchema()){if(typeof t>"u"&&n.isIdempotencyToken())return Ye();const u=n.getMergedTraits().mediaType;return t!=null&&u&&(u==="application/json"||u.endsWith("+json"))?Ce.from(t):t}if(typeof t=="number"&&n.isNumericSchema())return Math.abs(t)===1/0||isNaN(t)?String(t):t;if(typeof t=="string"&&n.isBlobSchema())return n===this.rootSchema?t:(((a=this.serdeContext)==null?void 0:a.base64Encoder)??H)(t);if(typeof t=="bigint"&&(this.useReplacer=!0),n.isDocumentSchema())if(i){const u=Array.isArray(t)?[]:{};for(const[d,p]of Object.entries(t))p instanceof v?(this.useReplacer=!0,u[d]=p):u[d]=this._write(n,p);return u}else return structuredClone(t);return t}}}class Vt extends J{constructor(s){super();f(this,"settings");this.settings=s}createSerializer(){const s=new Bt(this.settings);return s.setSerdeContext(this.serdeContext),s}createDeserializer(){const s=new qt(this.settings);return s.setSerdeContext(this.serdeContext),s}}class Wt extends Ft{constructor({defaultNamespace:s,serviceTarget:t,awsQueryCompatible:o,jsonCodec:i}){super({defaultNamespace:s});f(this,"serializer");f(this,"deserializer");f(this,"serviceTarget");f(this,"codec");f(this,"mixin");f(this,"awsQueryCompatible");this.serviceTarget=t,this.codec=i??new Vt({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!o,this.mixin=new Ze(this.awsQueryCompatible)}async serializeRequest(s,t,o){const i=await super.serializeRequest(s,t,o);return i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${s.name}`}),this.awsQueryCompatible&&(i.headers["x-amzn-query-mode"]="true"),(et(s.input)==="unit"||!i.body)&&(i.body="{}"),i}getPayloadCodec(){return this.codec}async handleError(s,t,o,i,n){this.awsQueryCompatible&&this.mixin.setQueryCompatError(i,o);const c=Ht(o,i)??"Unknown",{errorSchema:a,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(c,this.options.defaultNamespace,o,i,n,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),d=k.of(a),p=i.message??i.Message??"Unknown",l=I.for(a[1]).getErrorCtor(a)??Error,h=new l(p),S={};for(const[m,P]of d.structIterator())i[m]!=null&&(S[m]=this.codec.createDeserializer().readObject(P,i[m]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(i,S),this.mixin.decorateServiceException(Object.assign(h,u,{$fault:d.getMergedTraits().error,message:p},S),i)}}class Kt extends Wt{constructor({defaultNamespace:r,serviceTarget:s,awsQueryCompatible:t,jsonCodec:o}){super({defaultNamespace:r,serviceTarget:s,awsQueryCompatible:t,jsonCodec:o})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}const Qt=e=>r=>async s=>{if(!q.isInstance(s.request))return r(s);const{request:t}=s,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!t.headers[":authority"])delete t.headers.host,t.headers[":authority"]=t.hostname+(t.port?":"+t.port:"");else if(!t.headers.host){let i=t.hostname;t.port!=null&&(i+=`:${t.port}`),t.headers.host=i}return r(s)},Xt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Yt=e=>({applyToStack:r=>{r.add(Qt(e),Xt)}}),Zt=()=>(e,r)=>async s=>{var t,o;try{const i=await e(s),{clientName:n,commandName:c,logger:a,dynamoDbDocumentClientOptions:u={}}=r,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:p}=u,l=d??r.inputFilterSensitiveLog,h=p??r.outputFilterSensitiveLog,{$metadata:S,...m}=i.output;return(t=a==null?void 0:a.info)==null||t.call(a,{clientName:n,commandName:c,input:l(s.input),output:h(m),metadata:S}),i}catch(i){const{clientName:n,commandName:c,logger:a,dynamoDbDocumentClientOptions:u={}}=r,{overrideInputFilterSensitiveLog:d}=u,p=d??r.inputFilterSensitiveLog;throw(o=a==null?void 0:a.error)==null||o.call(a,{clientName:n,commandName:c,input:p(s.input),error:i,metadata:i.$metadata}),i}},es={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ts=e=>({applyToStack:r=>{r.add(Zt(),es)}}),ss={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},rs=()=>e=>async r=>e(r),is=e=>({applyToStack:r=>{r.add(rs(),ss)}}),ns=void 0;function os(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function as(e){const r=tt(e.userAgentAppId??ns),{customUserAgent:s}=e;return Object.assign(e,{customUserAgent:typeof s=="string"?[[s]]:s,userAgentAppId:async()=>{var o,i;const t=await r();if(!os(t)){const n=((i=(o=e.logger)==null?void 0:o.constructor)==null?void 0:i.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof t!="string"?n==null||n.warn("userAgentAppId must be a string or undefined."):t.length>50&&(n==null||n.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return t}})}const Oe=(e,r=!1)=>{if(r){for(const s of e.split("."))if(!Oe(s))return!1;return!0}return!(!st(e)||e.length<3||e.length>63||e!==e.toLowerCase()||rt(e))},ae=":",cs="/",us=e=>{const r=e.split(ae);if(r.length<6)return null;const[s,t,o,i,n,...c]=r;if(s!=="arn"||t===""||o===""||c.join(ae)==="")return null;const a=c.map(u=>u.split(cs)).flat();return{partition:t,service:o,region:i,accountId:n,resourceId:a}},ds=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],ps={partitions:ds};let ls=ps;const hs=e=>{const{partitions:r}=ls;for(const t of r){const{regions:o,outputs:i}=t;for(const[n,c]of Object.entries(o))if(n===e)return{...i,...c}}for(const t of r){const{regionRegex:o,outputs:i}=t;if(new RegExp(o).test(e))return{...i}}const s=r.find(t=>t.id==="aws");if(!s)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...s.outputs}},ve={isVirtualHostableS3Bucket:Oe,parseArn:us,partition:hs};_e.aws=ve;const fs=/\d{12}\.ddb/;async function ms(e,r,s){var i,n,c,a,u,d,p;const t=s.request;if(((i=t==null?void 0:t.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&_(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){const l=await r.retryStrategy();typeof l.acquireInitialRetryToken=="function"?(c=(n=l.constructor)==null?void 0:n.name)!=null&&c.includes("Adaptive")?_(e,"RETRY_MODE_ADAPTIVE","F"):_(e,"RETRY_MODE_STANDARD","E"):_(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){const l=e.endpointV2;switch(String((a=l==null?void 0:l.url)==null?void 0:a.hostname).match(fs)&&_(e,"ACCOUNT_ID_ENDPOINT","O"),await((u=r.accountIdEndpointMode)==null?void 0:u.call(r))){case"disabled":_(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":_(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":_(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const o=(p=(d=e.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:p.identity;if(o!=null&&o.$source){const l=o;l.accountId&&_(e,"RESOLVED_ACCOUNT_ID","T");for(const[h,S]of Object.entries(l.$source??{}))_(e,h,S)}}const ce="user-agent",L="x-amz-user-agent",ue=" ",j="/",gs=/[^!$%&'*+\-.^_`|~\w]/g,Ss=/[^!$%&'*+\-.^_`|~\w#]/g,de="-",ys=1024;function Es(e){let r="";for(const s in e){const t=e[s];if(r.length+t.length+1<=ys){r.length?r+=","+t:r+=t;continue}break}return r}const ws=e=>(r,s)=>async t=>{var h,S,m,P;const{request:o}=t;if(!q.isInstance(o))return r(t);const{headers:i}=o,n=((h=s==null?void 0:s.userAgent)==null?void 0:h.map(F))||[],c=(await e.defaultUserAgentProvider()).map(F);await ms(s,e,t);const a=s;c.push(`m/${Es(Object.assign({},(S=s.__smithy_context)==null?void 0:S.features,(m=a.__aws_sdk_context)==null?void 0:m.features))}`);const u=((P=e==null?void 0:e.customUserAgent)==null?void 0:P.map(F))||[],d=await e.userAgentAppId();d&&c.push(F(["app",`${d}`]));const p=[].concat([...c,...n,...u]).join(ue),l=[...c.filter(je=>je.startsWith("aws-sdk-")),...u].join(ue);return e.runtime!=="browser"?(l&&(i[L]=i[L]?`${i[ce]} ${l}`:l),i[ce]=p):i[L]=p,r({...t,request:o})},F=e=>{var n;const r=e[0].split(j).map(c=>c.replace(gs,de)).join(j),s=(n=e[1])==null?void 0:n.replace(Ss,de),t=r.indexOf(j),o=r.substring(0,t);let i=r.substring(t+1);return o==="api"&&(i=i.toLowerCase()),[o,i,s].filter(c=>c&&c.length>0).reduce((c,a,u)=>{switch(u){case 0:return a;case 1:return`${c}/${a}`;default:return`${c}#${a}`}},"")},bs={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Is=e=>({applyToStack:r=>{r.add(ws(e),bs)}}),As=async(e,r,s)=>({operation:nt(r).operation,region:await Re(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Cs(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(r,s)=>({signingProperties:{config:r,context:s}})}}function z(e){return{schemeId:"smithy.api#noAuth"}}const Ps=e=>{const r=[];switch(e.operation){case"GetCredentialsForIdentity":{r.push(z());break}case"GetId":{r.push(z());break}case"GetOpenIdToken":{r.push(z());break}case"UnlinkIdentity":{r.push(z());break}default:r.push(Cs(e))}return r},_s=e=>{const r=it(e);return Object.assign(r,{authSchemePreference:Re(e.authSchemePreference??[])})},Rs=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),ke={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},xs="3.971.0",Ds={version:xs},Os=({serviceId:e,clientVersion:r})=>async s=>{var h,S,m;const t=typeof window<"u"?window.navigator:void 0,o=(t==null?void 0:t.userAgent)??"",i=((h=t==null?void 0:t.userAgentData)==null?void 0:h.platform)??pe.os(o)??"other",n=void 0,c=((S=t==null?void 0:t.userAgentData)==null?void 0:S.brands)??[],a=c[c.length-1],u=(a==null?void 0:a.brand)??pe.browser(o)??"unknown",d=(a==null?void 0:a.version)??"unknown",p=[["aws-sdk-js",r],["ua","2.1"],[`os/${i}`,n],["lang/js"],["md/browser",`${u}_${d}`]];e&&p.push([`api/${e}`,r]);const l=await((m=s==null?void 0:s.userAgentAppId)==null?void 0:m.call(s));return l&&p.push([`app/${l}`]),p},pe={os(e){if(/iPhone|iPad|iPod/.test(e))return"iOS";if(/Macintosh|Mac OS X/.test(e))return"macOS";if(/Windows NT/.test(e))return"Windows";if(/Android/.test(e))return"Android";if(/Linux/.test(e))return"Linux"},browser(e){if(/EdgiOS|EdgA|Edg\//.test(e))return"Microsoft Edge";if(/Firefox\//.test(e))return"Firefox";if(/Chrome\//.test(e))return"Chrome";if(/Safari\//.test(e))return"Safari"}},Te="required",E="fn",w="argv",M="ref",le=!0,he="isSet",$="booleanEquals",T="error",R="endpoint",O="tree",B="PartitionResult",V="getAttr",N="stringEquals",fe={[Te]:!1,type:"string"},me={[Te]:!0,default:!1,type:"boolean"},ge={[M]:"Endpoint"},Me={[E]:$,[w]:[{[M]:"UseFIPS"},!0]},Ne={[E]:$,[w]:[{[M]:"UseDualStack"},!0]},y={},U={[M]:"Region"},Se={[E]:V,[w]:[{[M]:B},"supportsFIPS"]},Ue={[M]:B},ye={[E]:$,[w]:[!0,{[E]:V,[w]:[Ue,"supportsDualStack"]}]},Ee=[Me],we=[Ne],be=[U],vs={parameters:{Region:fe,UseDualStack:me,UseFIPS:me,Endpoint:fe},rules:[{conditions:[{[E]:he,[w]:[ge]}],rules:[{conditions:Ee,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:T},{conditions:we,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:T},{endpoint:{url:ge,properties:y,headers:y},type:R}],type:O},{conditions:[{[E]:he,[w]:be}],rules:[{conditions:[{[E]:"aws.partition",[w]:be,assign:B}],rules:[{conditions:[Me,Ne],rules:[{conditions:[{[E]:$,[w]:[le,Se]},ye],rules:[{conditions:[{[E]:N,[w]:[U,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:y,headers:y},type:R},{conditions:[{[E]:N,[w]:[U,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:y,headers:y},type:R},{conditions:[{[E]:N,[w]:[U,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:y,headers:y},type:R},{conditions:[{[E]:N,[w]:[U,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:y,headers:y},type:R},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},type:R}],type:O},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:T}],type:O},{conditions:Ee,rules:[{conditions:[{[E]:$,[w]:[Se,le]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},type:R}],type:O},{error:"FIPS is enabled but this partition does not support FIPS",type:T}],type:O},{conditions:we,rules:[{conditions:[ye],rules:[{conditions:[{[E]:N,[w]:["aws",{[E]:V,[w]:[Ue,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:y,headers:y},type:R},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},type:R}],type:O},{error:"DualStack is enabled but this partition does not support DualStack",type:T}],type:O},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},type:R}],type:O}],type:O},{error:"Invalid Configuration: Missing Region",type:T}]},ks=vs,Ts=new ot({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ms=(e,r={})=>Ts.get(e,()=>at(ks,{endpointParams:e,logger:r.logger}));_e.aws=ve;const Ns=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??Ae,base64Encoder:(e==null?void 0:e.base64Encoder)??H,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Ms,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Ps,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new pt},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zt}],logger:(e==null?void 0:e.logger)??new dt,protocol:(e==null?void 0:e.protocol)??Kt,protocolSettings:(e==null?void 0:e.protocolSettings)??{defaultNamespace:"com.amazonaws.cognitoidentity",xmlNamespace:"http://cognito-identity.amazonaws.com/doc/2014-06-30/",version:"2014-06-30",serviceTarget:"AWSCognitoIdentityService"},serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??ut,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ct,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Ie}),Us=e=>{const r=lt(e),s=()=>r().then(It),t=Ns(e);return{...t,...e,runtime:"browser",defaultsMode:r,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Et,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Os({serviceId:t.serviceId,clientVersion:Ds.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??yt,region:(e==null?void 0:e.region)??St("Region is missing"),requestHandler:gt.create((e==null?void 0:e.requestHandler)??s),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await s()).retryMode||mt),sha256:(e==null?void 0:e.sha256)??ft,streamCollector:(e==null?void 0:e.streamCollector)??ht,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(bt)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(wt))}},$s=e=>({setRegion(r){e.region=r},region(){return e.region}}),Fs=e=>({region:e.region()}),zs=e=>{const r=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,t=e.credentials;return{setHttpAuthScheme(o){const i=r.findIndex(n=>n.schemeId===o.schemeId);i===-1?r.push(o):r.splice(i,1,o)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(o){s=o},httpAuthSchemeProvider(){return s},setCredentials(o){t=o},credentials(){return t}}},Ls=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),js=(e,r)=>{const s=Object.assign($s(e),At(e),Ct(e),zs(e));return r.forEach(t=>t.configure(s)),Object.assign(e,Fs(s),Pt(s),_t(s),Ls(s))};class zr extends Rt{constructor(...[s]){const t=Us(s||{});super(t);f(this,"config");this.initConfig=t;const o=Rs(t),i=as(o),n=xt(i),c=Dt(n),a=c,u=Ot(a),d=_s(u),p=js(d,(s==null?void 0:s.extensions)||[]);this.config=p,this.middlewareStack.use(vt(this.config)),this.middlewareStack.use(Is(this.config)),this.middlewareStack.use(kt(this.config)),this.middlewareStack.use(Tt(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(ts(this.config)),this.middlewareStack.use(is(this.config)),this.middlewareStack.use(Mt(this.config,{httpAuthSchemeParametersProvider:As,identityProviderConfigProvider:async l=>new Ut({"aws.auth#sigv4":l.credentials})})),this.middlewareStack.use(Nt(this.config))}destroy(){super.destroy()}}class b extends $t{constructor(r){super(r),Object.setPrototypeOf(this,b.prototype)}}class W extends b{constructor(s){super({name:"InternalErrorException",$fault:"server",...s});f(this,"name","InternalErrorException");f(this,"$fault","server");Object.setPrototypeOf(this,W.prototype)}}class K extends b{constructor(s){super({name:"InvalidParameterException",$fault:"client",...s});f(this,"name","InvalidParameterException");f(this,"$fault","client");Object.setPrototypeOf(this,K.prototype)}}class Q extends b{constructor(s){super({name:"LimitExceededException",$fault:"client",...s});f(this,"name","LimitExceededException");f(this,"$fault","client");Object.setPrototypeOf(this,Q.prototype)}}class X extends b{constructor(s){super({name:"NotAuthorizedException",$fault:"client",...s});f(this,"name","NotAuthorizedException");f(this,"$fault","client");Object.setPrototypeOf(this,X.prototype)}}class Y extends b{constructor(s){super({name:"ResourceConflictException",$fault:"client",...s});f(this,"name","ResourceConflictException");f(this,"$fault","client");Object.setPrototypeOf(this,Y.prototype)}}class Z extends b{constructor(s){super({name:"TooManyRequestsException",$fault:"client",...s});f(this,"name","TooManyRequestsException");f(this,"$fault","client");Object.setPrototypeOf(this,Z.prototype)}}class ee extends b{constructor(s){super({name:"ResourceNotFoundException",$fault:"client",...s});f(this,"name","ResourceNotFoundException");f(this,"$fault","client");Object.setPrototypeOf(this,ee.prototype)}}class te extends b{constructor(s){super({name:"ExternalServiceException",$fault:"client",...s});f(this,"name","ExternalServiceException");f(this,"$fault","client");Object.setPrototypeOf(this,te.prototype)}}class se extends b{constructor(s){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...s});f(this,"name","InvalidIdentityPoolConfigurationException");f(this,"$fault","client");Object.setPrototypeOf(this,se.prototype)}}class re extends b{constructor(s){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...s});f(this,"name","DeveloperUserAlreadyRegisteredException");f(this,"$fault","client");Object.setPrototypeOf(this,re.prototype)}}class ie extends b{constructor(s){super({name:"ConcurrentModificationException",$fault:"client",...s});f(this,"name","ConcurrentModificationException");f(this,"$fault","client");Object.setPrototypeOf(this,ie.prototype)}}const Gs="AccountId",Hs="AccessKeyId",$e="Credentials",qs="ConcurrentModificationException",Js="CustomRoleArn",Bs="DeveloperUserAlreadyRegisteredException",Vs="Expiration",Ws="ExternalServiceException",Ks="GetCredentialsForIdentity",Qs="GetCredentialsForIdentityInput",Xs="GetCredentialsForIdentityResponse",Ys="GetId",Zs="GetIdInput",er="GetIdResponse",tr="InternalErrorException",ne="IdentityId",sr="InvalidIdentityPoolConfigurationException",rr="InvalidParameterException",ir="IdentityPoolId",nr="IdentityProviderToken",Fe="Logins",or="LimitExceededException",ar="LoginsMap",cr="NotAuthorizedException",ur="ResourceConflictException",dr="ResourceNotFoundException",pr="SecretKey",lr="SecretKeyString",hr="SessionToken",fr="TooManyRequestsException",x="client",A="error",D="httpError",C="message",mr="server",ze="smithy.ts.sdk.synthetic.com.amazonaws.cognitoidentity",g="com.amazonaws.cognitoidentity";var gr=[0,g,nr,8,0],Sr=[0,g,lr,8,0],yr=[-3,g,qs,{[A]:x,[D]:400},[C],[0]];I.for(g).registerError(yr,ie);var Er=[3,g,$e,0,[Hs,pr,hr,Vs],[0,[()=>Sr,0],0,4]],wr=[-3,g,Bs,{[A]:x,[D]:400},[C],[0]];I.for(g).registerError(wr,re);var br=[-3,g,Ws,{[A]:x,[D]:400},[C],[0]];I.for(g).registerError(br,te);var Ir=[3,g,Qs,0,[ne,Fe,Js],[0,[()=>Le,0],0],1],Ar=[3,g,Xs,0,[ne,$e],[0,[()=>Er,0]]],Cr=[3,g,Zs,0,[ir,Gs,Fe],[0,0,[()=>Le,0]],1],Pr=[3,g,er,0,[ne],[0]],_r=[-3,g,tr,{[A]:mr},[C],[0]];I.for(g).registerError(_r,W);var Rr=[-3,g,sr,{[A]:x,[D]:400},[C],[0]];I.for(g).registerError(Rr,se);var xr=[-3,g,rr,{[A]:x,[D]:400},[C],[0]];I.for(g).registerError(xr,K);var Dr=[-3,g,or,{[A]:x,[D]:400},[C],[0]];I.for(g).registerError(Dr,Q);var Or=[-3,g,cr,{[A]:x,[D]:403},[C],[0]];I.for(g).registerError(Or,X);var vr=[-3,g,ur,{[A]:x,[D]:409},[C],[0]];I.for(g).registerError(vr,Y);var kr=[-3,g,dr,{[A]:x,[D]:404},[C],[0]];I.for(g).registerError(kr,ee);var Tr=[-3,g,fr,{[A]:x,[D]:429},[C],[0]];I.for(g).registerError(Tr,Z);var Mr=[-3,ze,"CognitoIdentityServiceException",0,[],[]];I.for(ze).registerError(Mr,b);var Le=[2,g,ar,0,[0,0],[()=>gr,0]],Nr=[9,g,Ks,0,()=>Ir,()=>Ar],Ur=[9,g,Ys,0,()=>Cr,()=>Pr];class Lr extends xe.classBuilder().ep(ke).m(function(r,s,t,o){return[De(t,r.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").sc(Nr).build(){}class jr extends xe.classBuilder().ep(ke).m(function(r,s,t,o){return[De(t,r.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").sc(Ur).build(){}export{zr as CognitoIdentityClient,Lr as GetCredentialsForIdentityCommand,jr as GetIdCommand};
