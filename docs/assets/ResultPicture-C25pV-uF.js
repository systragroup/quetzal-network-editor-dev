import{_ as C,u as D,a as L,am as R,c as z,r as d,d as y,f as m,g as f,A as g,l as A,j as c,C as _,m as N,E as x,H as P,I as $,i as v,V as w,B as V,a6 as E,aB as F,aC as T}from"./index-D7fX3MvK.js";import{M as j}from"./Markdown-CCEIFZxr.js";const G={class:"container"},H={class:"layout"},q={key:0},J={class:"toolbar elevation-2"},K={class:"slider"},O={__name:"ResultPicture",setup(Q){const{$gettext:p}=D();function b(l){return new Promise((e,t)=>{const a=new FileReader;a.onload=n=>{e(n.target.result)},a.onerror=n=>{t(n)},a.readAsDataURL(l)})}const r=L(),u=R(),k=z(()=>r.isMobile),s=d(50);y(()=>{s.value=k.value?100:50});const o=d([]),h=d(""),i=d("");async function B(){const l=u.scenario+"/",t=r.otherFiles.filter(n=>n.extension==="png");for(const n of t){if(n.content instanceof Uint8Array){const U=new Blob([n.content],{type:"image/png"});var a=await b(U)}else var a=await F.getImagesURL(u.model,l+n.path);const I=n.path.split("/").slice(-1)[0];o.value.push({name:I,src:a})}}async function M(){const l=u.scenario+"/",t=r.otherFiles.filter(a=>a.extension==="md");if(t.length>0){let a=t[0].content;a instanceof Uint8Array||(a=await F.readBytes(u.model,l+t[0].path)),i.value=new TextDecoder().decode(a)}}function S(){if(i.value.length>0){const l=[];for(const e of o.value)i.value.includes(e.name)&&(i.value=i.value.replace(e.name,e.src),l.push(e));o.value=o.value.filter(e=>!l.includes(e))}}return y(async()=>{r.changeLoading(!0),await B(),await M(),S(),r.changeLoading(!1),o.value.length===0&&i.value.length===0&&(h.value=p("Nothing to display"))}),(l,e)=>(f(),m("section",G,[g("div",H,[o.value.length===0?(f(),m("p",q,_(N(p)(h.value)),1)):A("",!0),c(j,{source:i.value,style:x({width:`${s.value}%`})},null,8,["source","style"]),(f(!0),m(P,null,$(o.value,t=>(f(),m("div",{key:t.name,class:"gallery",style:x({width:`${s.value}%`})},[c(T,{src:t.src,alt:t.name},null,8,["src","alt"])],4))),128))]),g("div",J,[g("div",K,[c(E,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value=t),class:"align-center",min:"0",max:"100",step:"1",density:"compact","track-size":"2","thumb-size":"10"},{prepend:v(()=>[c(w,{size:"x-small",onClick:e[0]||(e[0]=()=>{s.value=Math.max(0,s.value-10)})},{default:v(()=>e[3]||(e[3]=[V(" fa-solid fa-magnifying-glass-minus ")])),_:1})]),append:v(()=>[g("span",null,_(s.value),1),c(w,{class:"ml-2",size:"x-small",onClick:e[1]||(e[1]=()=>{s.value=Math.min(100,s.value+10)})},{default:v(()=>e[4]||(e[4]=[V(" fa-solid fa-magnifying-glass-plus ")])),_:1})]),_:1},8,["modelValue"])])])]))}},Y=C(O,[["__scopeId","data-v-2e1902b7"]]);export{Y as default};
