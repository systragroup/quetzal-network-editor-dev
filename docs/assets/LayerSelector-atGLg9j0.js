import{_ as v,u as L,r as f,p as g,w as m,g as c,h as V,i as t,v as b,j as r,C as h,G as x,aa as k,x as _,y as i,q as y,E as w,J as B,Q as S,K as C,I,F as T,L as E,B as F}from"./index-PvOg4A-m.js";const N={name:"LayerSelector",components:{},props:{choices:{type:Array,default:()=>[]},availableLayers:{type:Array,default:()=>[]}},setup(n){const s=L(),o=f(!1),a=f([]);g(()=>{a.value=s.visibleRasters}),m(a,d=>{const e=[];d.forEach(l=>e.push(l)),s.setVisibleRasters(e)}),m(n.choices,d=>{const e=d.map(l=>l.name);a.value=a.value.filter(l=>e.includes(l))});const p=f(0);return{show:o,selectedLayers:a,selectedOpacity:p}}},A={class:"layer-button"},D={key:0},M={key:1};function R(n,s,o,a,p,d){return c(),V(F,{modelValue:a.show,"onUpdate:modelValue":s[1]||(s[1]=e=>a.show=e),"close-on-content-click":!1,persistent:!1,"no-click-animation":"",location:"bottom",offset:"5",transition:"scale-transition"},{activator:t(({props:e})=>[b("div",A,[r(x,h(e,{color:a.selectedLayers.length>0?"success":"regular",icon:"fas fa-layer-group"}),null,16,["color"])])]),default:t(()=>[r(E,{"max-width":300},{default:t(()=>[r(k,{class:"subtitle"},{default:t(()=>[_(i(n.$gettext("Static Layers")),1)]),_:1}),(c(!0),y(T,null,w(o.choices,(e,l)=>(c(),V(B,{key:l},{prepend:t(()=>[r(S,{modelValue:a.selectedLayers,"onUpdate:modelValue":s[0]||(s[0]=u=>a.selectedLayers=u),value:e.name,"false-icon":o.availableLayers.includes(e.layer)?"fa-eye-slash fa":"fas fa-exclamation-triangle","true-icon":"fa-eye fa",disabled:!o.availableLayers.includes(e.layer)},null,8,["modelValue","value","false-icon","disabled"])]),default:t(()=>[r(C,{location:"top","open-delay":"300","content-class":"custom-tooltip"},{activator:t(({props:u})=>[r(I,h({style:{cursor:"default","padding-left":"1rem"}},u),{default:t(()=>[_(i(e.name),1)]),_:2},1040)]),default:t(()=>[o.availableLayers.includes(e.layer)?(c(),y("span",M,i(e.displaySettings.selectedFeature+" "+n.$gettext("from")+" "+e.layer),1)):(c(),y("span",D,i(n.$gettext("Data not found: ")+e.layer),1))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const j=v(N,[["render",R],["__scopeId","data-v-3950cd0d"]]);export{j as default};
