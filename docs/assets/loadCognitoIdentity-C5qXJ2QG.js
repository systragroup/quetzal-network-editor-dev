import{b9 as b,ba as Te,bb as $e,bc as Fe,bd as Ue,be as J,bf as Me,bg as ze,bh as ye,bi as He,bj as Le,bk as je,bl as Ge,bm as qe,bn as Be,bo as We,bp as Ve,bq as Ke,br as Je,bs as Xe,bt as Ze,bu as Qe,bv as Ye,bw as et,bx as tt,by as st,bz as nt,bA as it,bB as ot,bC as rt,bD as at,bE as ct,bF as dt,bG as ut,bH as h,bI as ge,bJ as lt,bK as D,bL as pt,bM as mt,bN as ht,bO as yt,bP as fe,bQ as we,bR as Se}from"./index-DtKTxbLG.js";const l=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(l);if(typeof e=="object"){const t={};for(const s of Object.keys(e))e[s]!=null&&(t[s]=l(e[s]));return t}return e};class gt{constructor(t){this.authSchemes=new Map;for(const[s,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(s,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}class ft{async sign(t,s,n){return t}}const wt=e=>t=>Ee(t)&&t.expiration.getTime()-Date.now()<e,St=3e5,Et=wt(St),Ee=e=>e.expiration!==void 0,bt=(e,t,s)=>{if(e===void 0)return;const n=typeof e!="function"?async()=>Promise.resolve(e):e;let i,r,o,a=!1;const c=async d=>{r||(r=n(d));try{i=await r,o=!0,a=!1}finally{r=void 0}return i};return t===void 0?async d=>((!o||d!=null&&d.forceRefresh)&&(i=await c(d)),i):async d=>((!o||d!=null&&d.forceRefresh)&&(i=await c(d)),a?i:s(i)?(t(i)&&await c(d),i):(a=!0,i))},I=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t};const vt=e=>t=>async s=>{if(!b.isInstance(s.request))return t(s);const{request:n}=s,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let r=n.hostname;n.port!=null&&(r+=`:${n.port}`),n.headers.host=r}return t(s)},xt={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},At=e=>({applyToStack:t=>{t.add(vt(e),xt)}}),Pt=()=>(e,t)=>async s=>{var n,i;try{const r=await e(s),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:S}=d,C=u??t.inputFilterSensitiveLog,_=S??t.outputFilterSensitiveLog,{$metadata:Ne,...Oe}=r.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:o,commandName:a,input:C(s.input),output:_(Oe),metadata:Ne}),r}catch(r){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:u}=d,S=u??t.inputFilterSensitiveLog;throw(i=c==null?void 0:c.error)==null||i.call(c,{clientName:o,commandName:a,input:S(s.input),error:r,metadata:r.$metadata}),r}},Ct={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},It=e=>({applyToStack:t=>{t.add(Pt(),Ct)}});var X={};const Z="X-Amzn-Trace-Id",Rt="AWS_LAMBDA_FUNCTION_NAME",kt="_X_AMZN_TRACE_ID",Dt=e=>t=>async s=>{const{request:n}=s;if(!b.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Z))return t(s);const i=X[Rt],r=X[kt],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(r)&&(n.headers[Z]=r),t({...s,request:n})},_t={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Nt=e=>({applyToStack:t=>{t.add(Dt(e),_t)}});function Ot(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const be=(e,t=!1)=>{if(t){for(const s of e.split("."))if(!be(s))return!1;return!0}return!(!Te(e)||e.length<3||e.length>63||e!==e.toLowerCase()||$e(e))},Tt=e=>{const t=e.split(":");if(t.length<6)return null;const[s,n,i,r,o,...a]=t;return s!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:r,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},$t=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],Ft="1.1",Ut={partitions:$t,version:Ft};let Mt=Ut;const zt=e=>{const{partitions:t}=Mt;for(const n of t){const{regions:i,outputs:r}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...r,...a}}for(const n of t){const{regionRegex:i,outputs:r}=n;if(new RegExp(i).test(e))return{...r}}const s=t.find(n=>n.id==="aws");if(!s)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...s.outputs}},Ht={isVirtualHostableS3Bucket:be,parseArn:Tt,partition:zt};Fe.aws=Ht;const Q="user-agent",N="x-amz-user-agent",Y=" ",O="/",Lt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,jt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ee="-",Gt=e=>(t,s)=>async n=>{var S,C;const{request:i}=n;if(!b.isInstance(i))return t(n);const{headers:r}=i,o=((S=s==null?void 0:s.userAgent)==null?void 0:S.map(T))||[],a=(await e.defaultUserAgentProvider()).map(T),c=((C=e==null?void 0:e.customUserAgent)==null?void 0:C.map(T))||[],d=[].concat([...a,...o,...c]).join(Y),u=[...a.filter(_=>_.startsWith("aws-sdk-")),...c].join(Y);return e.runtime!=="browser"?(u&&(r[N]=r[N]?`${r[Q]} ${u}`:u),r[Q]=d):r[N]=d,t({...n,request:i})},T=e=>{var o;const t=e[0].split(O).map(a=>a.replace(Lt,ee)).join(O),s=(o=e[1])==null?void 0:o.replace(jt,ee),n=t.indexOf(O),i=t.substring(0,n);let r=t.substring(n+1);return i==="api"&&(r=r.toLowerCase()),[i,r,s].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},qt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Bt=e=>({applyToStack:t=>{t.add(Gt(e),qt)}}),Wt=!1,Vt=!1,ve=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),te=e=>ve(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Kt=e=>{const{region:t,useFipsEndpoint:s}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return te(t);const n=await t();return te(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return ve(n)?!0:typeof s!="function"?Promise.resolve(!!s):s()}}},se="content-length";function Jt(e){return t=>async s=>{const n=s.request;if(b.isInstance(n)){const{body:i,headers:r}=n;if(i&&Object.keys(r).map(o=>o.toLowerCase()).indexOf(se)===-1)try{const o=e(i);n.headers={...n.headers,[se]:String(o)}}catch{}}return t({...s,request:n})}}const Xt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Zt=e=>({applyToStack:t=>{t.add(Jt(e.bodyLengthChecker),Xt)}}),ne=e=>{var t,s;return Ue.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((s=e.headers)==null?void 0:s.Date):void 0},xe=e=>new Date(Date.now()+e),Qt=(e,t)=>Math.abs(xe(t).getTime()-e)>=3e5,ie=(e,t)=>{const s=Date.parse(e);return Qt(s,t)?s-Date.now():t},A=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Yt=async e=>{var c,d,u;const t=A("context",e.context),s=A("config",e.config),n=(u=(d=(c=t.endpointV2)==null?void 0:c.properties)==null?void 0:d.authSchemes)==null?void 0:u[0],r=await A("signer",s.signer)(n),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingName;return{config:s,signer:r,signingRegion:o,signingName:a}};class es{async sign(t,s,n){if(!b.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:i,signer:r,signingRegion:o,signingName:a}=await Yt(n);return await r.sign(t,{signingDate:xe(i.systemClockOffset),signingRegion:o,signingService:a})}errorHandler(t){return s=>{const n=s.ServerTime??ne(s.$response);if(n){const i=A("config",t.config);i.systemClockOffset=ie(n,i.systemClockOffset)}throw s}}successHandler(t,s){const n=ne(t);if(n){const i=A("config",s.config);i.systemClockOffset=ie(n,i.systemClockOffset)}}}const ts=e=>{let t;e.credentials&&(t=bt(e.credentials,Et,Ee)),t||(e.credentialDefaultProvider?t=I(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:s=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let r;return e.signer?r=I(e.signer):e.regionInfoProvider?r=()=>I(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:c,signingService:d}=o;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;const u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},S=e.signerConstructor||J;return new S(u)}):r=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await I(e.region)(),properties:{}},o);const a=o.signingRegion,c=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},u=e.signerConstructor||J;return new u(d)},{...e,systemClockOffset:n,signingEscapePath:s,credentials:t,signer:r}},ss=async(e,t,s)=>({operation:Me(t).operation,region:await ze(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ns(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}function R(e){return{schemeId:"smithy.api#noAuth"}}const is=e=>{const t=[];switch(e.operation){case"GetCredentialsForIdentity":{t.push(R());break}case"GetId":{t.push(R());break}case"GetOpenIdToken":{t.push(R());break}case"UnlinkIdentity":{t.push(R());break}default:t.push(ns(e))}return t},os=e=>({...ts(e)}),rs=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),Ae={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},as="@aws-sdk/client-cognito-identity",cs="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",ds="3.515.0",us={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},ls="./dist-cjs/index.js",ps="./dist-types/index.d.ts",ms="./dist-es/index.js",hs=!1,ys={"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.515.0","@aws-sdk/core":"3.513.0","@aws-sdk/credential-provider-node":"3.515.0","@aws-sdk/middleware-host-header":"3.515.0","@aws-sdk/middleware-logger":"3.515.0","@aws-sdk/middleware-recursion-detection":"3.515.0","@aws-sdk/middleware-user-agent":"3.515.0","@aws-sdk/region-config-resolver":"3.515.0","@aws-sdk/types":"3.515.0","@aws-sdk/util-endpoints":"3.515.0","@aws-sdk/util-user-agent-browser":"3.515.0","@aws-sdk/util-user-agent-node":"3.515.0","@smithy/config-resolver":"^2.1.1","@smithy/core":"^1.3.2","@smithy/fetch-http-handler":"^2.4.1","@smithy/hash-node":"^2.1.1","@smithy/invalid-dependency":"^2.1.1","@smithy/middleware-content-length":"^2.1.1","@smithy/middleware-endpoint":"^2.4.1","@smithy/middleware-retry":"^2.1.1","@smithy/middleware-serde":"^2.1.1","@smithy/middleware-stack":"^2.1.1","@smithy/node-config-provider":"^2.2.1","@smithy/node-http-handler":"^2.3.1","@smithy/protocol-http":"^3.1.1","@smithy/smithy-client":"^2.3.1","@smithy/types":"^2.9.1","@smithy/url-parser":"^2.1.1","@smithy/util-base64":"^2.1.1","@smithy/util-body-length-browser":"^2.1.1","@smithy/util-body-length-node":"^2.2.1","@smithy/util-defaults-mode-browser":"^2.1.1","@smithy/util-defaults-mode-node":"^2.2.0","@smithy/util-endpoints":"^1.1.1","@smithy/util-middleware":"^2.1.1","@smithy/util-retry":"^2.1.1","@smithy/util-utf8":"^2.1.1",tslib:"^2.5.0"},gs={"@aws-sdk/client-iam":"3.515.0","@smithy/service-client-documentation-generator":"^2.1.1","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},fs={node:">=14.0.0"},ws={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},Ss=["dist-*/**"],Es={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},bs="Apache-2.0",vs={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},xs="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",As={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"},Ps={name:as,description:cs,version:ds,scripts:us,main:ls,types:ps,module:ms,sideEffects:hs,dependencies:ys,devDependencies:gs,engines:fs,typesVersions:ws,files:Ss,author:Es,license:bs,browser:vs,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:xs,repository:As},Cs=({serviceId:e,clientVersion:t})=>async()=>{var i,r,o,a,c;const s=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?ye.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((r=s==null?void 0:s.os)==null?void 0:r.name)||"other"}`,(o=s==null?void 0:s.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=s==null?void 0:s.browser)==null?void 0:a.name)??"unknown"}_${((c=s==null?void 0:s.browser)==null?void 0:c.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n},Is=e=>()=>Promise.reject(e);var $;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})($||($={}));const Rs=3,ks=$.STANDARD;function Ds(e){const t={};if(e=e.replace(/^\?/,""),e)for(const s of e.split("&")){let[n,i=null]=s.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const Pe=e=>{if(typeof e=="string")return Pe(new URL(e));const{hostname:t,pathname:s,port:n,protocol:i,search:r}=e;let o;return r&&(o=Ds(r)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:s,query:o}},Ce="required",g="fn",f="argv",v="ref",oe=!0,re="isSet",P="booleanEquals",E="error",x="endpoint",w="tree",F="PartitionResult",ae={[Ce]:!1,type:"String"},ce={[Ce]:!0,default:!1,type:"Boolean"},de={[v]:"Endpoint"},Ie={[g]:P,[f]:[{[v]:"UseFIPS"},!0]},Re={[g]:P,[f]:[{[v]:"UseDualStack"},!0]},y={},ue={[g]:"getAttr",[f]:[{[v]:F},"supportsFIPS"]},le={[g]:P,[f]:[!0,{[g]:"getAttr",[f]:[{[v]:F},"supportsDualStack"]}]},pe=[Ie],me=[Re],he=[{[v]:"Region"}],_s={version:"1.0",parameters:{Region:ae,UseDualStack:ce,UseFIPS:ce,Endpoint:ae},rules:[{conditions:[{[g]:re,[f]:[de]}],rules:[{conditions:pe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:E},{conditions:me,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:E},{endpoint:{url:de,properties:y,headers:y},type:x}],type:w},{conditions:[{[g]:re,[f]:he}],rules:[{conditions:[{[g]:"aws.partition",[f]:he,assign:F}],rules:[{conditions:[Ie,Re],rules:[{conditions:[{[g]:P,[f]:[oe,ue]},le],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},type:x}],type:w},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:E}],type:w},{conditions:pe,rules:[{conditions:[{[g]:P,[f]:[ue,oe]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},type:x}],type:w},{error:"FIPS is enabled but this partition does not support FIPS",type:E}],type:w},{conditions:me,rules:[{conditions:[le],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},type:x}],type:w},{error:"DualStack is enabled but this partition does not support DualStack",type:E}],type:w},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},type:x}],type:w}],type:w},{error:"Invalid Configuration: Missing Region",type:E}]},Ns=_s,Os=(e,t={})=>He(Ns,{endpointParams:e,logger:t.logger}),Ts=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??Le,base64Encoder:(e==null?void 0:e.base64Encoder)??je,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Os,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??is,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new es},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ft}],logger:(e==null?void 0:e.logger)??new Ge,serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??Pe,utf8Decoder:(e==null?void 0:e.utf8Decoder)??qe,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Be}),$s=["in-region","cross-region","mobile","standard","legacy"],Fs=({defaultsMode:e}={})=>We(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(Us()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${$s.join(", ")}, got ${t}`)}}),Us=()=>{var s,n;const e=typeof window<"u"&&((s=window==null?void 0:window.navigator)!=null&&s.userAgent)?ye.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},Ms=e=>{const t=Fs(e),s=()=>t().then(Ze),n=Ts(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Ve,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Cs({serviceId:n.serviceId,clientVersion:Ps.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??Rs,region:(e==null?void 0:e.region)??Is("Region is missing"),requestHandler:(e==null?void 0:e.requestHandler)??new Ke(s),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await s()).retryMode||ks),sha256:(e==null?void 0:e.sha256)??Je.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??Xe,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Wt)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Vt))}},zs=e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(i){const r=t.findIndex(o=>o.schemeId===i.schemeId);r===-1?t.push(i):t.splice(r,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){s=i},httpAuthSchemeProvider(){return s},setCredentials(i){n=i},credentials(){return n}}},Hs=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),k=e=>e,Ls=(e,t)=>{const s={...k(nt(e)),...k(Qe(e)),...k(Ye(e)),...k(zs(e))};return t.forEach(n=>n.configure(s)),{...e,...et(s),...tt(s),...st(s),...Hs(s)}};class ln extends it{constructor(...[t]){const s=Ms(t||{}),n=rs(s),i=Kt(n),r=ot(i),o=rt(r),a=o,c=Ot(a),d=os(c),u=Ls(d,(t==null?void 0:t.extensions)||[]);super(u),this.config=u,this.middlewareStack.use(at(this.config)),this.middlewareStack.use(Zt(this.config)),this.middlewareStack.use(At(this.config)),this.middlewareStack.use(It(this.config)),this.middlewareStack.use(Nt(this.config)),this.middlewareStack.use(Bt(this.config)),this.middlewareStack.use(ct(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return ss}getIdentityProviderConfigProvider(){return async t=>new gt({"aws.auth#sigv4":t.credentials})}}class p extends ut{constructor(t){super(t),Object.setPrototypeOf(this,p.prototype)}}class U extends p{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,U.prototype)}}class M extends p{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,M.prototype)}}class z extends p{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,z.prototype)}}class H extends p{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,H.prototype)}}class L extends p{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,L.prototype)}}class j extends p{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,j.prototype)}}class G extends p{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,G.prototype)}}class q extends p{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,q.prototype)}}class B extends p{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,B.prototype)}}class W extends p{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,W.prototype)}}class V extends p{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,V.prototype)}}const js=async(e,t)=>{const s=_e("GetCredentialsForIdentity");let n;return n=JSON.stringify(l(e)),De(t,s,"/",void 0,n)},Gs=async(e,t)=>{const s=_e("GetId");let n;return n=JSON.stringify(l(e)),De(t,s,"/",void 0,n)},qs=async(e,t)=>{if(e.statusCode>=300)return ke(e,t);const s=await K(e.body,t);let n={};return n=on(s),{$metadata:m(e),...n}},Bs=async(e,t)=>{if(e.statusCode>=300)return ke(e,t);const s=await K(e.body,t);let n={};return n=l(s),{$metadata:m(e),...n}},ke=async(e,t)=>{const s={...e,body:await cn(e.body,t)},n=dn(e,s.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Js(s);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Zs(s);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Qs(s);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Ys(s);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await en(s);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await sn(s);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await tn(s);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Ks(s);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Xs(s);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Vs(s);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await Ws(s);default:const i=s.body;return an({output:e,parsedBody:i,errorCode:n})}},Ws=async(e,t)=>{const s=e.body,n=l(s),i=new V({$metadata:m(e),...n});return h(i,s)},Vs=async(e,t)=>{const s=e.body,n=l(s),i=new W({$metadata:m(e),...n});return h(i,s)},Ks=async(e,t)=>{const s=e.body,n=l(s),i=new q({$metadata:m(e),...n});return h(i,s)},Js=async(e,t)=>{const s=e.body,n=l(s),i=new U({$metadata:m(e),...n});return h(i,s)},Xs=async(e,t)=>{const s=e.body,n=l(s),i=new B({$metadata:m(e),...n});return h(i,s)},Zs=async(e,t)=>{const s=e.body,n=l(s),i=new M({$metadata:m(e),...n});return h(i,s)},Qs=async(e,t)=>{const s=e.body,n=l(s),i=new z({$metadata:m(e),...n});return h(i,s)},Ys=async(e,t)=>{const s=e.body,n=l(s),i=new H({$metadata:m(e),...n});return h(i,s)},en=async(e,t)=>{const s=e.body,n=l(s),i=new L({$metadata:m(e),...n});return h(i,s)},tn=async(e,t)=>{const s=e.body,n=l(s),i=new G({$metadata:m(e),...n});return h(i,s)},sn=async(e,t)=>{const s=e.body,n=l(s),i=new j({$metadata:m(e),...n});return h(i,s)},nn=(e,t)=>ge(e,{AccessKeyId:D,Expiration:s=>mt(ht(yt(s))),SecretKey:D,SessionToken:D}),on=(e,t)=>ge(e,{Credentials:s=>nn(s),IdentityId:D}),m=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),rn=(e,t)=>pt(e,t).then(s=>t.utf8Encoder(s)),an=lt(p),De=async(e,t,s,n,i)=>{const{hostname:r,protocol:o="https",port:a,path:c}=await e.endpoint(),d={protocol:o,hostname:r,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+s:c+s,headers:t};return n!==void 0&&(d.hostname=n),i!==void 0&&(d.body=i),new b(d)};function _e(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}const K=(e,t)=>rn(e,t).then(s=>s.length?JSON.parse(s):{}),cn=async(e,t)=>{const s=await K(e,t);return s.message=s.message??s.Message,s},dn=(e,t)=>{const s=(r,o)=>Object.keys(r).find(a=>a.toLowerCase()===o.toLowerCase()),n=r=>{let o=r;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=s(e.headers,"x-amzn-errortype");if(i!==void 0)return n(e.headers[i]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};class pn extends fe.classBuilder().ep({...Ae}).m(function(t,s,n,i){return[we(n,this.serialize,this.deserialize),Se(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(js).de(qs).build(){}class mn extends fe.classBuilder().ep({...Ae}).m(function(t,s,n,i){return[we(n,this.serialize,this.deserialize),Se(n,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(Gs).de(Bs).build(){}export{ln as CognitoIdentityClient,pn as GetCredentialsForIdentityCommand,mn as GetIdCommand};
