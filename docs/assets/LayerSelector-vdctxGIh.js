import{_ as v,u as L,r as f,o as b,w as m,h as c,i as V,j as t,s as g,k as n,B as h,G as k,a9 as x,v as _,x as i,q as y,E as w,J as B,P as S,A as C,I,F as T,K as A,C as E}from"./index-B3LXOVr8.js";const F={name:"LayerSelector",components:{},props:{choices:{type:Array,default:()=>[]},availableLayers:{type:Array,default:()=>[]}},setup(r){const s=L(),o=f(!1),a=f([]);b(()=>{a.value=s.visibleRasters}),m(a,d=>{const e=[];d.forEach(l=>e.push(l)),s.setVisibleRasters(e)}),m(r.choices,d=>{const e=d.map(l=>l.name);a.value=a.value.filter(l=>e.includes(l))});const p=f(0);return{show:o,selectedLayers:a,selectedOpacity:p}}},N={class:"layer-button"},D={key:0},M={key:1};function P(r,s,o,a,p,d){return c(),V(E,{modelValue:a.show,"onUpdate:modelValue":s[1]||(s[1]=e=>a.show=e),"close-on-content-click":!1,persistent:!1,"no-click-animation":"",location:"bottom end",offset:"5",transition:"scale-transition"},{activator:t(({props:e})=>[g("div",N,[n(k,h(e,{color:a.selectedLayers.length>0?"success":"regular",icon:"fas fa-layer-group"}),null,16,["color"])])]),default:t(()=>[n(A,{"max-width":300},{default:t(()=>[n(x,{class:"subtitle"},{default:t(()=>[_(i(r.$gettext("Static Layers")),1)]),_:1}),(c(!0),y(T,null,w(o.choices,(e,l)=>(c(),V(B,{key:l},{prepend:t(()=>[n(S,{modelValue:a.selectedLayers,"onUpdate:modelValue":s[0]||(s[0]=u=>a.selectedLayers=u),value:e.name,"false-icon":o.availableLayers.includes(e.layer)?"fa-eye-slash fa":"fas fa-exclamation-triangle","true-icon":"fa-eye fa",disabled:!o.availableLayers.includes(e.layer)},null,8,["modelValue","value","false-icon","disabled"])]),default:t(()=>[n(C,{location:"top","open-delay":"300","content-class":"custom-tooltip"},{activator:t(({props:u})=>[n(I,h({style:{cursor:"default","padding-left":"1rem"}},u),{default:t(()=>[_(i(e.name),1)]),_:2},1040)]),default:t(()=>[o.availableLayers.includes(e.layer)?(c(),y("span",M,i(e.displaySettings.selectedFeature+" "+r.$gettext("from")+" "+e.layer),1)):(c(),y("span",D,i(r.$gettext("Data not found: ")+e.layer),1))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const U=v(F,[["render",P],["__scopeId","data-v-d8dc3626"]]);export{U as default};
