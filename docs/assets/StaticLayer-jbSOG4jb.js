import{_ as At,u as Ue,e as ve,g as se,q as ce,v as Wr,F as Wl,E as Yl,S as Ft,y as ie,l as Hl,aV as Nr,aW as Ot,aX as Ul,r as pr,aa as Ar,aA as Br,au as Zl,a6 as Jl,a7 as Ql,a8 as Kl,t as Vl,p as rf,o as ef,f as af,j as tf}from"./index-IR9OwQnz.js";const nf={class:"gradient"},uf={class:"domain-title"},of={class:"domain-min"},lf={class:"domain-med"},ff={class:"domain-max"},sf={__name:"MapLegend",props:{colorScale:{type:Array,default:()=>[]},displaySettings:{type:Object,default:()=>{}},baseOffset:{type:Number,default:()=>300},order:{type:Number,default:()=>0}},setup(F){const $=F,x=Ue(),A=ve(()=>x.showLeftPanel?50+180*$.order+$.baseOffset:50+180*$.order),P=ve(()=>!isNaN($.displaySettings.minVal)&&!isNaN($.displaySettings.minVal));return(O,y)=>P.value?(se(),ce("div",{key:0,class:"legend elevation-4",style:Ft({left:`${A.value}px !important`})},[Wr("div",nf,[(se(!0),ce(Wl,null,Yl(F.colorScale,(w,f)=>(se(),ce("span",{key:f,class:"grad-step",style:Ft({backgroundColor:w})},null,4))),128)),Wr("span",uf,ie(F.displaySettings.selectedFeature),1),Wr("span",of,ie(Math.round(F.displaySettings.minVal)),1),Wr("span",lf,ie(Math.round((F.displaySettings.maxVal+F.displaySettings.minVal)/2)),1),Wr("span",ff,ie(Math.round(F.displaySettings.maxVal)),1)])],4)):Hl("",!0)}},cf=At(sf,[["__scopeId","data-v-73680798"]]);var Rt={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(F,$){(function(x,A){F.exports=A()})(Nr,function(){for(var x=function(r,e,a){return e===void 0&&(e=0),a===void 0&&(a=1),r<e?e:r>a?a:r},A=x,P=function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=A(r[e],0,255)):e===3&&(r[e]=A(r[e],0,1));return r},O={},y=0,w=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];y<w.length;y+=1){var f=w[y];O["[object "+f+"]"]=f.toLowerCase()}var v=function(r){return O[Object.prototype.toString.call(r)]||"object"},m=v,s=function(r,e){return e===void 0&&(e=null),r.length>=3?Array.prototype.slice.call(r):m(r[0])=="object"&&e?e.split("").filter(function(a){return r[0][a]!==void 0}).map(function(a){return r[0][a]}):r[0]},h=v,k=function(r){if(r.length<2)return null;var e=r.length-1;return h(r[e])=="string"?r[e].toLowerCase():null},L=Math.PI,b={clip_rgb:P,limit:x,type:v,unpack:s,last:k,PI:L,TWOPI:L*2,PITHIRD:L/3,DEG2RAD:L/180,RAD2DEG:180/L},H={format:{},autodetect:[]},ir=b.last,dr=b.clip_rgb,hr=b.type,z=H,X=function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];var t=this;if(hr(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var u=ir(e),o=!1;if(!u){o=!0,z.sorted||(z.autodetect=z.autodetect.sort(function(g,_){return _.p-g.p}),z.sorted=!0);for(var n=0,l=z.autodetect;n<l.length;n+=1){var i=l[n];if(u=i.test.apply(i,e),u)break}}if(z.format[u]){var c=z.format[u].apply(null,o?e:e.slice(0,-1));t._rgb=dr(c)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)};X.prototype.toString=function(){return hr(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var S=X,V=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(V.Color,[null].concat(r)))};V.Color=S,V.version="2.4.2";var I=V,ar=b.unpack,rr=Math.max,E=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ar(r,"rgb"),t=a[0],u=a[1],o=a[2];t=t/255,u=u/255,o=o/255;var n=1-rr(t,rr(u,o)),l=n<1?1/(1-n):0,i=(1-t-n)*l,c=(1-u-n)*l,g=(1-o-n)*l;return[i,c,g,n]},N=E,q=b.unpack,Z=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=q(r,"cmyk");var a=r[0],t=r[1],u=r[2],o=r[3],n=r.length>4?r[4]:1;return o===1?[0,0,0,n]:[a>=1?0:255*(1-a)*(1-o),t>=1?0:255*(1-t)*(1-o),u>=1?0:255*(1-u)*(1-o),n]},cr=Z,wr=I,Jr=S,Yr=H,Qr=b.unpack,he=b.type,xr=N;Jr.prototype.cmyk=function(){return xr(this._rgb)},wr.cmyk=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Jr,[null].concat(r,["cmyk"])))},Yr.format.cmyk=cr,Yr.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Qr(r,"cmyk"),he(r)==="array"&&r.length===4)return"cmyk"}});var ge=b.unpack,ea=b.last,tr=function(r){return Math.round(r*100)/100},sr=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ge(r,"hsla"),t=ea(r)||"lsa";return a[0]=tr(a[0]||0),a[1]=tr(a[1]*100)+"%",a[2]=tr(a[2]*100)+"%",t==="hsla"||a.length>3&&a[3]<1?(a[3]=a.length>3?a[3]:1,t="hsla"):a.length=3,t+"("+a.join(",")+")"},pe=sr,de=b.unpack,be=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=de(r,"rgba");var a=r[0],t=r[1],u=r[2];a/=255,t/=255,u/=255;var o=Math.min(a,t,u),n=Math.max(a,t,u),l=(n+o)/2,i,c;return n===o?(i=0,c=Number.NaN):i=l<.5?(n-o)/(n+o):(n-o)/(2-n-o),a==n?c=(t-u)/(n-o):t==n?c=2+(u-a)/(n-o):u==n&&(c=4+(a-t)/(n-o)),c*=60,c<0&&(c+=360),r.length>3&&r[3]!==void 0?[c,i,l,r[3]]:[c,i,l]},Kr=be,Vr=b.unpack,Pt=b.last,It=pe,qt=Kr,ye=Math.round,Dt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Vr(r,"rgba"),t=Pt(r)||"rgb";return t.substr(0,3)=="hsl"?It(qt(a),t):(a[0]=ye(a[0]),a[1]=ye(a[1]),a[2]=ye(a[2]),(t==="rgba"||a.length>3&&a[3]<1)&&(a[3]=a.length>3?a[3]:1,t="rgba"),t+"("+a.slice(0,t==="rgb"?3:4).join(",")+")")},Gt=Dt,Tt=b.unpack,me=Math.round,jt=function(){for(var r,e=[],a=arguments.length;a--;)e[a]=arguments[a];e=Tt(e,"hsl");var t=e[0],u=e[1],o=e[2],n,l,i;if(u===0)n=l=i=o*255;else{var c=[0,0,0],g=[0,0,0],_=o<.5?o*(1+u):o+u-o*u,p=2*o-_,C=t/360;c[0]=C+1/3,c[1]=C,c[2]=C-1/3;for(var M=0;M<3;M++)c[M]<0&&(c[M]+=1),c[M]>1&&(c[M]-=1),6*c[M]<1?g[M]=p+(_-p)*6*c[M]:2*c[M]<1?g[M]=_:3*c[M]<2?g[M]=p+(_-p)*(2/3-c[M])*6:g[M]=p;r=[me(g[0]*255),me(g[1]*255),me(g[2]*255)],n=r[0],l=r[1],i=r[2]}return e.length>3?[n,l,i,e[3]]:[n,l,i,1]},aa=jt,ta=aa,na=H,ua=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,oa=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,la=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,fa=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ia=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,sa=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ca=Math.round,va=function(r){r=r.toLowerCase().trim();var e;if(na.format.named)try{return na.format.named(r)}catch{}if(e=r.match(ua)){for(var a=e.slice(1,4),t=0;t<3;t++)a[t]=+a[t];return a[3]=1,a}if(e=r.match(oa)){for(var u=e.slice(1,5),o=0;o<4;o++)u[o]=+u[o];return u}if(e=r.match(la)){for(var n=e.slice(1,4),l=0;l<3;l++)n[l]=ca(n[l]*2.55);return n[3]=1,n}if(e=r.match(fa)){for(var i=e.slice(1,5),c=0;c<3;c++)i[c]=ca(i[c]*2.55);return i[3]=+i[3],i}if(e=r.match(ia)){var g=e.slice(1,4);g[1]*=.01,g[2]*=.01;var _=ta(g);return _[3]=1,_}if(e=r.match(sa)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var C=ta(p);return C[3]=+e[4],C}};va.test=function(r){return ua.test(r)||oa.test(r)||la.test(r)||fa.test(r)||ia.test(r)||sa.test(r)};var Xt=va,Bt=I,ha=S,ga=H,Wt=b.type,Yt=Gt,pa=Xt;ha.prototype.css=function(r){return Yt(this._rgb,r)},Bt.css=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ha,[null].concat(r,["css"])))},ga.format.css=pa,ga.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Wt(r)==="string"&&pa.test(r))return"css"}});var da=S,Ht=I,Ut=H,Zt=b.unpack;Ut.format.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Zt(r,"rgba");return a[0]*=255,a[1]*=255,a[2]*=255,a},Ht.gl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(da,[null].concat(r,["gl"])))},da.prototype.gl=function(){var r=this._rgb;return[r[0]/255,r[1]/255,r[2]/255,r[3]]};var Jt=b.unpack,Qt=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Jt(r,"rgb"),t=a[0],u=a[1],o=a[2],n=Math.min(t,u,o),l=Math.max(t,u,o),i=l-n,c=i*100/255,g=n/(255-i)*100,_;return i===0?_=Number.NaN:(t===l&&(_=(u-o)/i),u===l&&(_=2+(o-t)/i),o===l&&(_=4+(t-u)/i),_*=60,_<0&&(_+=360)),[_,c,g]},Kt=Qt,Vt=b.unpack,rn=Math.floor,en=function(){for(var r,e,a,t,u,o,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=Vt(n,"hcg");var i=n[0],c=n[1],g=n[2],_,p,C;g=g*255;var M=c*255;if(c===0)_=p=C=g;else{i===360&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;var D=rn(i),j=i-D,W=g*(1-c),U=W+M*(1-j),lr=W+M*j,or=W+M;switch(D){case 0:r=[or,lr,W],_=r[0],p=r[1],C=r[2];break;case 1:e=[U,or,W],_=e[0],p=e[1],C=e[2];break;case 2:a=[W,or,lr],_=a[0],p=a[1],C=a[2];break;case 3:t=[W,U,or],_=t[0],p=t[1],C=t[2];break;case 4:u=[lr,W,or],_=u[0],p=u[1],C=u[2];break;case 5:o=[or,W,U],_=o[0],p=o[1],C=o[2];break}}return[_,p,C,n.length>3?n[3]:1]},an=en,tn=b.unpack,nn=b.type,un=I,ba=S,ya=H,on=Kt;ba.prototype.hcg=function(){return on(this._rgb)},un.hcg=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ba,[null].concat(r,["hcg"])))},ya.format.hcg=an,ya.autodetect.push({p:1,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=tn(r,"hcg"),nn(r)==="array"&&r.length===3)return"hcg"}});var ln=b.unpack,fn=b.last,re=Math.round,sn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=ln(r,"rgba"),t=a[0],u=a[1],o=a[2],n=a[3],l=fn(r)||"auto";n===void 0&&(n=1),l==="auto"&&(l=n<1?"rgba":"rgb"),t=re(t),u=re(u),o=re(o);var i=t<<16|u<<8|o,c="000000"+i.toString(16);c=c.substr(c.length-6);var g="0"+re(n*255).toString(16);switch(g=g.substr(g.length-2),l.toLowerCase()){case"rgba":return"#"+c+g;case"argb":return"#"+g+c;default:return"#"+c}},ma=sn,cn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,vn=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hn=function(r){if(r.match(cn)){(r.length===4||r.length===7)&&(r=r.substr(1)),r.length===3&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);var e=parseInt(r,16),a=e>>16,t=e>>8&255,u=e&255;return[a,t,u,1]}if(r.match(vn)){(r.length===5||r.length===9)&&(r=r.substr(1)),r.length===4&&(r=r.split(""),r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);var o=parseInt(r,16),n=o>>24&255,l=o>>16&255,i=o>>8&255,c=Math.round((o&255)/255*100)/100;return[n,l,i,c]}throw new Error("unknown hex color: "+r)},wa=hn,gn=I,xa=S,pn=b.type,ka=H,dn=ma;xa.prototype.hex=function(r){return dn(this._rgb,r)},gn.hex=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(xa,[null].concat(r,["hex"])))},ka.format.hex=wa,ka.autodetect.push({p:4,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&pn(r)==="string"&&[3,4,5,6,7,8,9].indexOf(r.length)>=0)return"hex"}});var bn=b.unpack,_a=b.TWOPI,yn=Math.min,mn=Math.sqrt,wn=Math.acos,xn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=bn(r,"rgb"),t=a[0],u=a[1],o=a[2];t/=255,u/=255,o/=255;var n,l=yn(t,u,o),i=(t+u+o)/3,c=i>0?1-l/i:0;return c===0?n=NaN:(n=(t-u+(t-o))/2,n/=mn((t-u)*(t-u)+(t-o)*(u-o)),n=wn(n),o>u&&(n=_a-n),n/=_a),[n*360,c,i]},kn=xn,_n=b.unpack,we=b.limit,Rr=b.TWOPI,xe=b.PITHIRD,zr=Math.cos,$n=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=_n(r,"hsi");var a=r[0],t=r[1],u=r[2],o,n,l;return isNaN(a)&&(a=0),isNaN(t)&&(t=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(l=(1-t)/3,o=(1+t*zr(Rr*a)/zr(xe-Rr*a))/3,n=1-(l+o)):a<2/3?(a-=1/3,o=(1-t)/3,n=(1+t*zr(Rr*a)/zr(xe-Rr*a))/3,l=1-(o+n)):(a-=2/3,n=(1-t)/3,l=(1+t*zr(Rr*a)/zr(xe-Rr*a))/3,o=1-(n+l)),o=we(u*o*3),n=we(u*n*3),l=we(u*l*3),[o*255,n*255,l*255,r.length>3?r[3]:1]},Mn=$n,Cn=b.unpack,Sn=b.type,Nn=I,$a=S,Ma=H,Fn=kn;$a.prototype.hsi=function(){return Fn(this._rgb)},Nn.hsi=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply($a,[null].concat(r,["hsi"])))},Ma.format.hsi=Mn,Ma.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Cn(r,"hsi"),Sn(r)==="array"&&r.length===3)return"hsi"}});var Ln=b.unpack,En=b.type,An=I,Ca=S,Sa=H,On=Kr;Ca.prototype.hsl=function(){return On(this._rgb)},An.hsl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Ca,[null].concat(r,["hsl"])))},Sa.format.hsl=aa,Sa.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Ln(r,"hsl"),En(r)==="array"&&r.length===3)return"hsl"}});var Rn=b.unpack,zn=Math.min,Pn=Math.max,In=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Rn(r,"rgb");var a=r[0],t=r[1],u=r[2],o=zn(a,t,u),n=Pn(a,t,u),l=n-o,i,c,g;return g=n/255,n===0?(i=Number.NaN,c=0):(c=l/n,a===n&&(i=(t-u)/l),t===n&&(i=2+(u-a)/l),u===n&&(i=4+(a-t)/l),i*=60,i<0&&(i+=360)),[i,c,g]},qn=In,Dn=b.unpack,Gn=Math.floor,Tn=function(){for(var r,e,a,t,u,o,n=[],l=arguments.length;l--;)n[l]=arguments[l];n=Dn(n,"hsv");var i=n[0],c=n[1],g=n[2],_,p,C;if(g*=255,c===0)_=p=C=g;else{i===360&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60;var M=Gn(i),D=i-M,j=g*(1-c),W=g*(1-c*D),U=g*(1-c*(1-D));switch(M){case 0:r=[g,U,j],_=r[0],p=r[1],C=r[2];break;case 1:e=[W,g,j],_=e[0],p=e[1],C=e[2];break;case 2:a=[j,g,U],_=a[0],p=a[1],C=a[2];break;case 3:t=[j,W,g],_=t[0],p=t[1],C=t[2];break;case 4:u=[U,j,g],_=u[0],p=u[1],C=u[2];break;case 5:o=[g,j,W],_=o[0],p=o[1],C=o[2];break}}return[_,p,C,n.length>3?n[3]:1]},jn=Tn,Xn=b.unpack,Bn=b.type,Wn=I,Na=S,Fa=H,Yn=qn;Na.prototype.hsv=function(){return Yn(this._rgb)},Wn.hsv=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Na,[null].concat(r,["hsv"])))},Fa.format.hsv=jn,Fa.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Xn(r,"hsv"),Bn(r)==="array"&&r.length===3)return"hsv"}});var ee={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Pr=ee,Hn=b.unpack,La=Math.pow,Un=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Hn(r,"rgb"),t=a[0],u=a[1],o=a[2],n=Zn(t,u,o),l=n[0],i=n[1],c=n[2],g=116*i-16;return[g<0?0:g,500*(l-i),200*(i-c)]},ke=function(r){return(r/=255)<=.04045?r/12.92:La((r+.055)/1.055,2.4)},_e=function(r){return r>Pr.t3?La(r,1/3):r/Pr.t2+Pr.t0},Zn=function(r,e,a){r=ke(r),e=ke(e),a=ke(a);var t=_e((.4124564*r+.3575761*e+.1804375*a)/Pr.Xn),u=_e((.2126729*r+.7151522*e+.072175*a)/Pr.Yn),o=_e((.0193339*r+.119192*e+.9503041*a)/Pr.Zn);return[t,u,o]},Ea=Un,Ir=ee,Jn=b.unpack,Qn=Math.pow,Kn=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=Jn(r,"lab");var a=r[0],t=r[1],u=r[2],o,n,l,i,c,g;return n=(a+16)/116,o=isNaN(t)?n:n+t/500,l=isNaN(u)?n:n-u/200,n=Ir.Yn*Me(n),o=Ir.Xn*Me(o),l=Ir.Zn*Me(l),i=$e(3.2404542*o-1.5371385*n-.4985314*l),c=$e(-.969266*o+1.8760108*n+.041556*l),g=$e(.0556434*o-.2040259*n+1.0572252*l),[i,c,g,r.length>3?r[3]:1]},$e=function(r){return 255*(r<=.00304?12.92*r:1.055*Qn(r,1/2.4)-.055)},Me=function(r){return r>Ir.t1?r*r*r:Ir.t2*(r-Ir.t0)},Aa=Kn,Vn=b.unpack,ru=b.type,eu=I,Oa=S,Ra=H,au=Ea;Oa.prototype.lab=function(){return au(this._rgb)},eu.lab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Oa,[null].concat(r,["lab"])))},Ra.format.lab=Aa,Ra.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Vn(r,"lab"),ru(r)==="array"&&r.length===3)return"lab"}});var tu=b.unpack,nu=b.RAD2DEG,uu=Math.sqrt,ou=Math.atan2,lu=Math.round,fu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=tu(r,"lab"),t=a[0],u=a[1],o=a[2],n=uu(u*u+o*o),l=(ou(o,u)*nu+360)%360;return lu(n*1e4)===0&&(l=Number.NaN),[t,n,l]},za=fu,iu=b.unpack,su=Ea,cu=za,vu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=iu(r,"rgb"),t=a[0],u=a[1],o=a[2],n=su(t,u,o),l=n[0],i=n[1],c=n[2];return cu(l,i,c)},hu=vu,gu=b.unpack,pu=b.DEG2RAD,du=Math.sin,bu=Math.cos,yu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=gu(r,"lch"),t=a[0],u=a[1],o=a[2];return isNaN(o)&&(o=0),o=o*pu,[t,bu(o)*u,du(o)*u]},Pa=yu,mu=b.unpack,wu=Pa,xu=Aa,ku=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=mu(r,"lch");var a=r[0],t=r[1],u=r[2],o=wu(a,t,u),n=o[0],l=o[1],i=o[2],c=xu(n,l,i),g=c[0],_=c[1],p=c[2];return[g,_,p,r.length>3?r[3]:1]},Ia=ku,_u=b.unpack,$u=Ia,Mu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=_u(r,"hcl").reverse();return $u.apply(void 0,a)},Cu=Mu,Su=b.unpack,Nu=b.type,qa=I,ae=S,Ce=H,Da=hu;ae.prototype.lch=function(){return Da(this._rgb)},ae.prototype.hcl=function(){return Da(this._rgb).reverse()},qa.lch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ae,[null].concat(r,["lch"])))},qa.hcl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ae,[null].concat(r,["hcl"])))},Ce.format.lch=Ia,Ce.format.hcl=Cu,["lch","hcl"].forEach(function(r){return Ce.autodetect.push({p:2,test:function(){for(var e=[],a=arguments.length;a--;)e[a]=arguments[a];if(e=Su(e,r),Nu(e)==="array"&&e.length===3)return r}})});var Fu={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ga=Fu,Lu=S,Ta=H,Eu=b.type,Hr=Ga,Au=wa,Ou=ma;Lu.prototype.name=function(){for(var r=Ou(this._rgb,"rgb"),e=0,a=Object.keys(Hr);e<a.length;e+=1){var t=a[e];if(Hr[t]===r)return t.toLowerCase()}return r},Ta.format.named=function(r){if(r=r.toLowerCase(),Hr[r])return Au(Hr[r]);throw new Error("unknown color name: "+r)},Ta.autodetect.push({p:5,test:function(r){for(var e=[],a=arguments.length-1;a-- >0;)e[a]=arguments[a+1];if(!e.length&&Eu(r)==="string"&&Hr[r.toLowerCase()])return"named"}});var Ru=b.unpack,zu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Ru(r,"rgb"),t=a[0],u=a[1],o=a[2];return(t<<16)+(u<<8)+o},Pu=zu,Iu=b.type,qu=function(r){if(Iu(r)=="number"&&r>=0&&r<=16777215){var e=r>>16,a=r>>8&255,t=r&255;return[e,a,t,1]}throw new Error("unknown num color: "+r)},Du=qu,Gu=I,ja=S,Xa=H,Tu=b.type,ju=Pu;ja.prototype.num=function(){return ju(this._rgb)},Gu.num=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ja,[null].concat(r,["num"])))},Xa.format.num=Du,Xa.autodetect.push({p:5,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r.length===1&&Tu(r[0])==="number"&&r[0]>=0&&r[0]<=16777215)return"num"}});var Xu=I,Se=S,Ba=H,Wa=b.unpack,Ya=b.type,Ha=Math.round;Se.prototype.rgb=function(r){return r===void 0&&(r=!0),r===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ha)},Se.prototype.rgba=function(r){return r===void 0&&(r=!0),this._rgb.slice(0,4).map(function(e,a){return a<3?r===!1?e:Ha(e):e})},Xu.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Se,[null].concat(r,["rgb"])))},Ba.format.rgb=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Wa(r,"rgba");return a[3]===void 0&&(a[3]=1),a},Ba.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=Wa(r,"rgba"),Ya(r)==="array"&&(r.length===3||r.length===4&&Ya(r[3])=="number"&&r[3]>=0&&r[3]<=1))return"rgb"}});var te=Math.log,Bu=function(r){var e=r/100,a,t,u;return e<66?(a=255,t=e<6?0:-155.25485562709179-.44596950469579133*(t=e-2)+104.49216199393888*te(t),u=e<20?0:-254.76935184120902+.8274096064007395*(u=e-10)+115.67994401066147*te(u)):(a=351.97690566805693+.114206453784165*(a=e-55)-40.25366309332127*te(a),t=325.4494125711974+.07943456536662342*(t=e-50)-28.0852963507957*te(t),u=255),[a,t,u,1]},Ua=Bu,Wu=Ua,Yu=b.unpack,Hu=Math.round,Uu=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];for(var a=Yu(r,"rgb"),t=a[0],u=a[2],o=1e3,n=4e4,l=.4,i;n-o>l;){i=(n+o)*.5;var c=Wu(i);c[2]/c[0]>=u/t?n=i:o=i}return Hu(i)},Zu=Uu,Ne=I,ne=S,Fe=H,Ju=Zu;ne.prototype.temp=ne.prototype.kelvin=ne.prototype.temperature=function(){return Ju(this._rgb)},Ne.temp=Ne.kelvin=Ne.temperature=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(ne,[null].concat(r,["temp"])))},Fe.format.temp=Fe.format.kelvin=Fe.format.temperature=Ua;var Qu=b.unpack,Le=Math.cbrt,Ku=Math.pow,Vu=Math.sign,ro=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=Qu(r,"rgb"),t=a[0],u=a[1],o=a[2],n=[Ee(t/255),Ee(u/255),Ee(o/255)],l=n[0],i=n[1],c=n[2],g=Le(.4122214708*l+.5363325363*i+.0514459929*c),_=Le(.2119034982*l+.6806995451*i+.1073969566*c),p=Le(.0883024619*l+.2817188376*i+.6299787005*c);return[.2104542553*g+.793617785*_-.0040720468*p,1.9779984951*g-2.428592205*_+.4505937099*p,.0259040371*g+.7827717662*_-.808675766*p]},Za=ro;function Ee(r){var e=Math.abs(r);return e<.04045?r/12.92:(Vu(r)||1)*Ku((e+.055)/1.055,2.4)}var eo=b.unpack,ue=Math.pow,ao=Math.sign,to=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=eo(r,"lab");var a=r[0],t=r[1],u=r[2],o=ue(a+.3963377774*t+.2158037573*u,3),n=ue(a-.1055613458*t-.0638541728*u,3),l=ue(a-.0894841775*t-1.291485548*u,3);return[255*Ae(4.0767416621*o-3.3077115913*n+.2309699292*l),255*Ae(-1.2684380046*o+2.6097574011*n-.3413193965*l),255*Ae(-.0041960863*o-.7034186147*n+1.707614701*l),r.length>3?r[3]:1]},Ja=to;function Ae(r){var e=Math.abs(r);return e>.0031308?(ao(r)||1)*(1.055*ue(e,1/2.4)-.055):r*12.92}var no=b.unpack,uo=b.type,oo=I,Qa=S,Ka=H,lo=Za;Qa.prototype.oklab=function(){return lo(this._rgb)},oo.oklab=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Qa,[null].concat(r,["oklab"])))},Ka.format.oklab=Ja,Ka.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=no(r,"oklab"),uo(r)==="array"&&r.length===3)return"oklab"}});var fo=b.unpack,io=Za,so=za,co=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];var a=fo(r,"rgb"),t=a[0],u=a[1],o=a[2],n=io(t,u,o),l=n[0],i=n[1],c=n[2];return so(l,i,c)},vo=co,ho=b.unpack,go=Pa,po=Ja,bo=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];r=ho(r,"lch");var a=r[0],t=r[1],u=r[2],o=go(a,t,u),n=o[0],l=o[1],i=o[2],c=po(n,l,i),g=c[0],_=c[1],p=c[2];return[g,_,p,r.length>3?r[3]:1]},yo=bo,mo=b.unpack,wo=b.type,xo=I,Va=S,rt=H,ko=vo;Va.prototype.oklch=function(){return ko(this._rgb)},xo.oklch=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return new(Function.prototype.bind.apply(Va,[null].concat(r,["oklch"])))},rt.format.oklch=yo,rt.autodetect.push({p:3,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=mo(r,"oklch"),wo(r)==="array"&&r.length===3)return"oklch"}});var et=S,_o=b.type;et.prototype.alpha=function(r,e){return e===void 0&&(e=!1),r!==void 0&&_o(r)==="number"?e?(this._rgb[3]=r,this):new et([this._rgb[0],this._rgb[1],this._rgb[2],r],"rgb"):this._rgb[3]};var $o=S;$o.prototype.clipped=function(){return this._rgb._clipped||!1};var Fr=S,Mo=ee;Fr.prototype.darken=function(r){r===void 0&&(r=1);var e=this,a=e.lab();return a[0]-=Mo.Kn*r,new Fr(a,"lab").alpha(e.alpha(),!0)},Fr.prototype.brighten=function(r){return r===void 0&&(r=1),this.darken(-r)},Fr.prototype.darker=Fr.prototype.darken,Fr.prototype.brighter=Fr.prototype.brighten;var Co=S;Co.prototype.get=function(r){var e=r.split("."),a=e[0],t=e[1],u=this[a]();if(t){var o=a.indexOf(t)-(a.substr(0,2)==="ok"?2:0);if(o>-1)return u[o];throw new Error("unknown channel "+t+" in mode "+a)}else return u};var qr=S,So=b.type,No=Math.pow,Fo=1e-7,Lo=20;qr.prototype.luminance=function(r){if(r!==void 0&&So(r)==="number"){if(r===0)return new qr([0,0,0,this._rgb[3]],"rgb");if(r===1)return new qr([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),a="rgb",t=Lo,u=function(n,l){var i=n.interpolate(l,.5,a),c=i.luminance();return Math.abs(r-c)<Fo||!t--?i:c>r?u(n,i):u(i,l)},o=(e>r?u(new qr([0,0,0]),this):u(this,new qr([255,255,255]))).rgb();return new qr(o.concat([this._rgb[3]]))}return Eo.apply(void 0,this._rgb.slice(0,3))};var Eo=function(r,e,a){return r=Oe(r),e=Oe(e),a=Oe(a),.2126*r+.7152*e+.0722*a},Oe=function(r){return r/=255,r<=.03928?r/12.92:No((r+.055)/1.055,2.4)},gr={},at=S,tt=b.type,oe=gr,nt=function(r,e,a){a===void 0&&(a=.5);for(var t=[],u=arguments.length-3;u-- >0;)t[u]=arguments[u+3];var o=t[0]||"lrgb";if(!oe[o]&&!t.length&&(o=Object.keys(oe)[0]),!oe[o])throw new Error("interpolation mode "+o+" is not defined");return tt(r)!=="object"&&(r=new at(r)),tt(e)!=="object"&&(e=new at(e)),oe[o](r,e,a).alpha(r.alpha()+a*(e.alpha()-r.alpha()))},ut=S,Ao=nt;ut.prototype.mix=ut.prototype.interpolate=function(r,e){e===void 0&&(e=.5);for(var a=[],t=arguments.length-2;t-- >0;)a[t]=arguments[t+2];return Ao.apply(void 0,[this,r,e].concat(a))};var ot=S;ot.prototype.premultiply=function(r){r===void 0&&(r=!1);var e=this._rgb,a=e[3];return r?(this._rgb=[e[0]*a,e[1]*a,e[2]*a,a],this):new ot([e[0]*a,e[1]*a,e[2]*a,a],"rgb")};var Re=S,Oo=ee;Re.prototype.saturate=function(r){r===void 0&&(r=1);var e=this,a=e.lch();return a[1]+=Oo.Kn*r,a[1]<0&&(a[1]=0),new Re(a,"lch").alpha(e.alpha(),!0)},Re.prototype.desaturate=function(r){return r===void 0&&(r=1),this.saturate(-r)};var lt=S,ft=b.type;lt.prototype.set=function(r,e,a){a===void 0&&(a=!1);var t=r.split("."),u=t[0],o=t[1],n=this[u]();if(o){var l=u.indexOf(o)-(u.substr(0,2)==="ok"?2:0);if(l>-1){if(ft(e)=="string")switch(e.charAt(0)){case"+":n[l]+=+e;break;case"-":n[l]+=+e;break;case"*":n[l]*=+e.substr(1);break;case"/":n[l]/=+e.substr(1);break;default:n[l]=+e}else if(ft(e)==="number")n[l]=e;else throw new Error("unsupported value for Color.set");var i=new lt(n,u);return a?(this._rgb=i._rgb,this):i}throw new Error("unknown channel "+o+" in mode "+u)}else return n};var Ro=S,zo=function(r,e,a){var t=r._rgb,u=e._rgb;return new Ro(t[0]+a*(u[0]-t[0]),t[1]+a*(u[1]-t[1]),t[2]+a*(u[2]-t[2]),"rgb")};gr.rgb=zo;var Po=S,ze=Math.sqrt,Dr=Math.pow,Io=function(r,e,a){var t=r._rgb,u=t[0],o=t[1],n=t[2],l=e._rgb,i=l[0],c=l[1],g=l[2];return new Po(ze(Dr(u,2)*(1-a)+Dr(i,2)*a),ze(Dr(o,2)*(1-a)+Dr(c,2)*a),ze(Dr(n,2)*(1-a)+Dr(g,2)*a),"rgb")};gr.lrgb=Io;var qo=S,Do=function(r,e,a){var t=r.lab(),u=e.lab();return new qo(t[0]+a*(u[0]-t[0]),t[1]+a*(u[1]-t[1]),t[2]+a*(u[2]-t[2]),"lab")};gr.lab=Do;var it=S,Gr=function(r,e,a,t){var u,o,n,l;t==="hsl"?(n=r.hsl(),l=e.hsl()):t==="hsv"?(n=r.hsv(),l=e.hsv()):t==="hcg"?(n=r.hcg(),l=e.hcg()):t==="hsi"?(n=r.hsi(),l=e.hsi()):t==="lch"||t==="hcl"?(t="hcl",n=r.hcl(),l=e.hcl()):t==="oklch"&&(n=r.oklch().reverse(),l=e.oklch().reverse());var i,c,g,_,p,C;(t.substr(0,1)==="h"||t==="oklch")&&(u=n,i=u[0],g=u[1],p=u[2],o=l,c=o[0],_=o[1],C=o[2]);var M,D,j,W;return!isNaN(i)&&!isNaN(c)?(c>i&&c-i>180?W=c-(i+360):c<i&&i-c>180?W=c+360-i:W=c-i,D=i+a*W):isNaN(i)?isNaN(c)?D=Number.NaN:(D=c,(p==1||p==0)&&t!="hsv"&&(M=_)):(D=i,(C==1||C==0)&&t!="hsv"&&(M=g)),M===void 0&&(M=g+a*(_-g)),j=p+a*(C-p),t==="oklch"?new it([j,M,D],t):new it([D,M,j],t)},Go=Gr,st=function(r,e,a){return Go(r,e,a,"lch")};gr.lch=st,gr.hcl=st;var To=S,jo=function(r,e,a){var t=r.num(),u=e.num();return new To(t+a*(u-t),"num")};gr.num=jo;var Xo=Gr,Bo=function(r,e,a){return Xo(r,e,a,"hcg")};gr.hcg=Bo;var Wo=Gr,Yo=function(r,e,a){return Wo(r,e,a,"hsi")};gr.hsi=Yo;var Ho=Gr,Uo=function(r,e,a){return Ho(r,e,a,"hsl")};gr.hsl=Uo;var Zo=Gr,Jo=function(r,e,a){return Zo(r,e,a,"hsv")};gr.hsv=Jo;var Qo=S,Ko=function(r,e,a){var t=r.oklab(),u=e.oklab();return new Qo(t[0]+a*(u[0]-t[0]),t[1]+a*(u[1]-t[1]),t[2]+a*(u[2]-t[2]),"oklab")};gr.oklab=Ko;var Vo=Gr,rl=function(r,e,a){return Vo(r,e,a,"oklch")};gr.oklch=rl;var Pe=S,el=b.clip_rgb,Ie=Math.pow,qe=Math.sqrt,De=Math.PI,ct=Math.cos,vt=Math.sin,al=Math.atan2,tl=function(r,e,a){e===void 0&&(e="lrgb"),a===void 0&&(a=null);var t=r.length;a||(a=Array.from(new Array(t)).map(function(){return 1}));var u=t/a.reduce(function(D,j){return D+j});if(a.forEach(function(D,j){a[j]*=u}),r=r.map(function(D){return new Pe(D)}),e==="lrgb")return nl(r,a);for(var o=r.shift(),n=o.get(e),l=[],i=0,c=0,g=0;g<n.length;g++)if(n[g]=(n[g]||0)*a[0],l.push(isNaN(n[g])?0:a[0]),e.charAt(g)==="h"&&!isNaN(n[g])){var _=n[g]/180*De;i+=ct(_)*a[0],c+=vt(_)*a[0]}var p=o.alpha()*a[0];r.forEach(function(D,j){var W=D.get(e);p+=D.alpha()*a[j+1];for(var U=0;U<n.length;U++)if(!isNaN(W[U]))if(l[U]+=a[j+1],e.charAt(U)==="h"){var lr=W[U]/180*De;i+=ct(lr)*a[j+1],c+=vt(lr)*a[j+1]}else n[U]+=W[U]*a[j+1]});for(var C=0;C<n.length;C++)if(e.charAt(C)==="h"){for(var M=al(c/l[C],i/l[C])/De*180;M<0;)M+=360;for(;M>=360;)M-=360;n[C]=M}else n[C]=n[C]/l[C];return p/=t,new Pe(n,e).alpha(p>.99999?1:p,!0)},nl=function(r,e){for(var a=r.length,t=[0,0,0,0],u=0;u<r.length;u++){var o=r[u],n=e[u]/a,l=o._rgb;t[0]+=Ie(l[0],2)*n,t[1]+=Ie(l[1],2)*n,t[2]+=Ie(l[2],2)*n,t[3]+=l[3]*n}return t[0]=qe(t[0]),t[1]=qe(t[1]),t[2]=qe(t[2]),t[3]>.9999999&&(t[3]=1),new Pe(el(t))},br=I,Tr=b.type,ul=Math.pow,Ge=function(r){var e="rgb",a=br("#ccc"),t=0,u=[0,1],o=[],n=[0,0],l=!1,i=[],c=!1,g=0,_=1,p=!1,C={},M=!0,D=1,j=function(d){if(d=d||["#fff","#000"],d&&Tr(d)==="string"&&br.brewer&&br.brewer[d.toLowerCase()]&&(d=br.brewer[d.toLowerCase()]),Tr(d)==="array"){d.length===1&&(d=[d[0],d[0]]),d=d.slice(0);for(var R=0;R<d.length;R++)d[R]=br(d[R]);o.length=0;for(var T=0;T<d.length;T++)o.push(T/(d.length-1))}return vr(),i=d},W=function(d){if(l!=null){for(var R=l.length-1,T=0;T<R&&d>=l[T];)T++;return T-1}return 0},U=function(d){return d},lr=function(d){return d},or=function(d,R){var T,G;if(R==null&&(R=!1),isNaN(d)||d===null)return a;if(R)G=d;else if(l&&l.length>2){var fr=W(d);G=fr/(l.length-2)}else _!==g?G=(d-g)/(_-g):G=1;G=lr(G),R||(G=U(G)),D!==1&&(G=ul(G,D)),G=n[0]+G*(1-n[0]-n[1]),G=Math.min(1,Math.max(0,G));var er=Math.floor(G*1e4);if(M&&C[er])T=C[er];else{if(Tr(i)==="array")for(var Y=0;Y<o.length;Y++){var J=o[Y];if(G<=J){T=i[Y];break}if(G>=J&&Y===o.length-1){T=i[Y];break}if(G>J&&G<o[Y+1]){G=(G-J)/(o[Y+1]-J),T=br.interpolate(i[Y],i[Y+1],G,e);break}}else Tr(i)==="function"&&(T=i(G));M&&(C[er]=T)}return T},vr=function(){return C={}};j(r);var B=function(d){var R=br(or(d));return c&&R[c]?R[c]():R};return B.classes=function(d){if(d!=null){if(Tr(d)==="array")l=d,u=[d[0],d[d.length-1]];else{var R=br.analyze(u);d===0?l=[R.min,R.max]:l=br.limits(R,"e",d)}return B}return l},B.domain=function(d){if(!arguments.length)return u;g=d[0],_=d[d.length-1],o=[];var R=i.length;if(d.length===R&&g!==_)for(var T=0,G=Array.from(d);T<G.length;T+=1){var fr=G[T];o.push((fr-g)/(_-g))}else{for(var er=0;er<R;er++)o.push(er/(R-1));if(d.length>2){var Y=d.map(function(Q,K){return K/(d.length-1)}),J=d.map(function(Q){return(Q-g)/(_-g)});J.every(function(Q,K){return Y[K]===Q})||(lr=function(Q){if(Q<=0||Q>=1)return Q;for(var K=0;Q>=J[K+1];)K++;var mr=(Q-J[K])/(J[K+1]-J[K]),Cr=Y[K]+mr*(Y[K+1]-Y[K]);return Cr})}}return u=[g,_],B},B.mode=function(d){return arguments.length?(e=d,vr(),B):e},B.range=function(d,R){return j(d),B},B.out=function(d){return c=d,B},B.spread=function(d){return arguments.length?(t=d,B):t},B.correctLightness=function(d){return d==null&&(d=!0),p=d,vr(),p?U=function(R){for(var T=or(0,!0).lab()[0],G=or(1,!0).lab()[0],fr=T>G,er=or(R,!0).lab()[0],Y=T+(G-T)*R,J=er-Y,Q=0,K=1,mr=20;Math.abs(J)>.01&&mr-- >0;)(function(){return fr&&(J*=-1),J<0?(Q=R,R+=(K-R)*.5):(K=R,R+=(Q-R)*.5),er=or(R,!0).lab()[0],J=er-Y})();return R}:U=function(R){return R},B},B.padding=function(d){return d!=null?(Tr(d)==="number"&&(d=[d,d]),n=d,B):n},B.colors=function(d,R){arguments.length<2&&(R="hex");var T=[];if(arguments.length===0)T=i.slice(0);else if(d===1)T=[B(.5)];else if(d>1){var G=u[0],fr=u[1]-G;T=ol(0,d,!1).map(function(K){return B(G+K/(d-1)*fr)})}else{r=[];var er=[];if(l&&l.length>2)for(var Y=1,J=l.length,Q=1<=J;Q?Y<J:Y>J;Q?Y++:Y--)er.push((l[Y-1]+l[Y])*.5);else er=u;T=er.map(function(K){return B(K)})}return br[R]&&(T=T.map(function(K){return K[R]()})),T},B.cache=function(d){return d!=null?(M=d,B):M},B.gamma=function(d){return d!=null?(D=d,B):D},B.nodata=function(d){return d!=null?(a=br(d),B):a},B};function ol(r,e,a){for(var t=[],u=r<e,o=a?u?e+1:e-1:e,n=r;u?n<o:n>o;u?n++:n--)t.push(n);return t}var Ur=S,ll=Ge,fl=function(r){for(var e=[1,1],a=1;a<r;a++){for(var t=[1],u=1;u<=e.length;u++)t[u]=(e[u]||0)+e[u-1];e=t}return e},il=function(r){var e,a,t,u,o,n,l;if(r=r.map(function(p){return new Ur(p)}),r.length===2)e=r.map(function(p){return p.lab()}),o=e[0],n=e[1],u=function(p){var C=[0,1,2].map(function(M){return o[M]+p*(n[M]-o[M])});return new Ur(C,"lab")};else if(r.length===3)a=r.map(function(p){return p.lab()}),o=a[0],n=a[1],l=a[2],u=function(p){var C=[0,1,2].map(function(M){return(1-p)*(1-p)*o[M]+2*(1-p)*p*n[M]+p*p*l[M]});return new Ur(C,"lab")};else if(r.length===4){var i;t=r.map(function(p){return p.lab()}),o=t[0],n=t[1],l=t[2],i=t[3],u=function(p){var C=[0,1,2].map(function(M){return(1-p)*(1-p)*(1-p)*o[M]+3*(1-p)*(1-p)*p*n[M]+3*(1-p)*p*p*l[M]+p*p*p*i[M]});return new Ur(C,"lab")}}else if(r.length>=5){var c,g,_;c=r.map(function(p){return p.lab()}),_=r.length-1,g=fl(_),u=function(p){var C=1-p,M=[0,1,2].map(function(D){return c.reduce(function(j,W,U){return j+g[U]*Math.pow(C,_-U)*Math.pow(p,U)*W[D]},0)});return new Ur(M,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return u},sl=function(r){var e=il(r);return e.scale=function(){return ll(e)},e},Te=I,yr=function(r,e,a){if(!yr[a])throw new Error("unknown blend mode "+a);return yr[a](r,e)},$r=function(r){return function(e,a){var t=Te(a).rgb(),u=Te(e).rgb();return Te.rgb(r(t,u))}},Mr=function(r){return function(e,a){var t=[];return t[0]=r(e[0],a[0]),t[1]=r(e[1],a[1]),t[2]=r(e[2],a[2]),t}},cl=function(r){return r},vl=function(r,e){return r*e/255},hl=function(r,e){return r>e?e:r},gl=function(r,e){return r>e?r:e},pl=function(r,e){return 255*(1-(1-r/255)*(1-e/255))},dl=function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},bl=function(r,e){return 255*(1-(1-e/255)/(r/255))},yl=function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)};yr.normal=$r(Mr(cl)),yr.multiply=$r(Mr(vl)),yr.screen=$r(Mr(pl)),yr.overlay=$r(Mr(dl)),yr.darken=$r(Mr(hl)),yr.lighten=$r(Mr(gl)),yr.dodge=$r(Mr(yl)),yr.burn=$r(Mr(bl));for(var ml=yr,je=b.type,wl=b.clip_rgb,xl=b.TWOPI,kl=Math.pow,_l=Math.sin,$l=Math.cos,ht=I,Ml=function(r,e,a,t,u){r===void 0&&(r=300),e===void 0&&(e=-1.5),a===void 0&&(a=1),t===void 0&&(t=1),u===void 0&&(u=[0,1]);var o=0,n;je(u)==="array"?n=u[1]-u[0]:(n=0,u=[u,u]);var l=function(i){var c=xl*((r+120)/360+e*i),g=kl(u[0]+n*i,t),_=o!==0?a[0]+i*o:a,p=_*g*(1-g)/2,C=$l(c),M=_l(c),D=g+p*(-.14861*C+1.78277*M),j=g+p*(-.29227*C-.90649*M),W=g+p*(1.97294*C);return ht(wl([D*255,j*255,W*255,1]))};return l.start=function(i){return i==null?r:(r=i,l)},l.rotations=function(i){return i==null?e:(e=i,l)},l.gamma=function(i){return i==null?t:(t=i,l)},l.hue=function(i){return i==null?a:(a=i,je(a)==="array"?(o=a[1]-a[0],o===0&&(a=a[1])):o=0,l)},l.lightness=function(i){return i==null?u:(je(i)==="array"?(u=i,n=i[1]-i[0]):(u=[i,i],n=0),l)},l.scale=function(){return ht.scale(l)},l.hue(a),l},Cl=S,Sl="0123456789abcdef",Nl=Math.floor,Fl=Math.random,Ll=function(){for(var r="#",e=0;e<6;e++)r+=Sl.charAt(Nl(Fl()*16));return new Cl(r,"hex")},Xe=v,gt=Math.log,El=Math.pow,Al=Math.floor,Ol=Math.abs,pt=function(r,e){e===void 0&&(e=null);var a={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Xe(r)==="object"&&(r=Object.values(r)),r.forEach(function(t){e&&Xe(t)==="object"&&(t=t[e]),t!=null&&!isNaN(t)&&(a.values.push(t),a.sum+=t,t<a.min&&(a.min=t),t>a.max&&(a.max=t),a.count+=1)}),a.domain=[a.min,a.max],a.limits=function(t,u){return dt(a,t,u)},a},dt=function(r,e,a){e===void 0&&(e="equal"),a===void 0&&(a=7),Xe(r)=="array"&&(r=pt(r));var t=r.min,u=r.max,o=r.values.sort(function(We,Ye){return We-Ye});if(a===1)return[t,u];var n=[];if(e.substr(0,1)==="c"&&(n.push(t),n.push(u)),e.substr(0,1)==="e"){n.push(t);for(var l=1;l<a;l++)n.push(t+l/a*(u-t));n.push(u)}else if(e.substr(0,1)==="l"){if(t<=0)throw new Error("Logarithmic scales are only possible for values > 0");var i=Math.LOG10E*gt(t),c=Math.LOG10E*gt(u);n.push(t);for(var g=1;g<a;g++)n.push(El(10,i+g/a*(c-i)));n.push(u)}else if(e.substr(0,1)==="q"){n.push(t);for(var _=1;_<a;_++){var p=(o.length-1)*_/a,C=Al(p);if(C===p)n.push(o[C]);else{var M=p-C;n.push(o[C]*(1-M)+o[C+1]*M)}}n.push(u)}else if(e.substr(0,1)==="k"){var D,j=o.length,W=new Array(j),U=new Array(a),lr=!0,or=0,vr=null;vr=[],vr.push(t);for(var B=1;B<a;B++)vr.push(t+B/a*(u-t));for(vr.push(u);lr;){for(var d=0;d<a;d++)U[d]=0;for(var R=0;R<j;R++)for(var T=o[R],G=Number.MAX_VALUE,fr=void 0,er=0;er<a;er++){var Y=Ol(vr[er]-T);Y<G&&(G=Y,fr=er),U[fr]++,W[R]=fr}for(var J=new Array(a),Q=0;Q<a;Q++)J[Q]=null;for(var K=0;K<j;K++)D=W[K],J[D]===null?J[D]=o[K]:J[D]+=o[K];for(var mr=0;mr<a;mr++)J[mr]*=1/U[mr];lr=!1;for(var Cr=0;Cr<a;Cr++)if(J[Cr]!==vr[Cr]){lr=!0;break}vr=J,or++,or>200&&(lr=!1)}for(var Sr={},jr=0;jr<a;jr++)Sr[jr]=[];for(var Xr=0;Xr<j;Xr++)D=W[Xr],Sr[D].push(o[Xr]);for(var _r=[],Lr=0;Lr<a;Lr++)_r.push(Sr[Lr][0]),_r.push(Sr[Lr][Sr[Lr].length-1]);_r=_r.sort(function(We,Ye){return We-Ye}),n.push(_r[0]);for(var Zr=1;Zr<_r.length;Zr+=2){var Er=_r[Zr];!isNaN(Er)&&n.indexOf(Er)===-1&&n.push(Er)}}return n},bt={analyze:pt,limits:dt},yt=S,Rl=function(r,e){r=new yt(r),e=new yt(e);var a=r.luminance(),t=e.luminance();return a>t?(a+.05)/(t+.05):(t+.05)/(a+.05)},mt=S,kr=Math.sqrt,nr=Math.pow,zl=Math.min,Pl=Math.max,wt=Math.atan2,xt=Math.abs,le=Math.cos,kt=Math.sin,Il=Math.exp,_t=Math.PI,ql=function(r,e,a,t,u){a===void 0&&(a=1),t===void 0&&(t=1),u===void 0&&(u=1);var o=function(Er){return 360*Er/(2*_t)},n=function(Er){return 2*_t*Er/360};r=new mt(r),e=new mt(e);var l=Array.from(r.lab()),i=l[0],c=l[1],g=l[2],_=Array.from(e.lab()),p=_[0],C=_[1],M=_[2],D=(i+p)/2,j=kr(nr(c,2)+nr(g,2)),W=kr(nr(C,2)+nr(M,2)),U=(j+W)/2,lr=.5*(1-kr(nr(U,7)/(nr(U,7)+nr(25,7)))),or=c*(1+lr),vr=C*(1+lr),B=kr(nr(or,2)+nr(g,2)),d=kr(nr(vr,2)+nr(M,2)),R=(B+d)/2,T=o(wt(g,or)),G=o(wt(M,vr)),fr=T>=0?T:T+360,er=G>=0?G:G+360,Y=xt(fr-er)>180?(fr+er+360)/2:(fr+er)/2,J=1-.17*le(n(Y-30))+.24*le(n(2*Y))+.32*le(n(3*Y+6))-.2*le(n(4*Y-63)),Q=er-fr;Q=xt(Q)<=180?Q:er<=fr?Q+360:Q-360,Q=2*kr(B*d)*kt(n(Q)/2);var K=p-i,mr=d-B,Cr=1+.015*nr(D-50,2)/kr(20+nr(D-50,2)),Sr=1+.045*R,jr=1+.015*R*J,Xr=30*Il(-nr((Y-275)/25,2)),_r=2*kr(nr(R,7)/(nr(R,7)+nr(25,7))),Lr=-_r*kt(2*n(Xr)),Zr=kr(nr(K/(a*Cr),2)+nr(mr/(t*Sr),2)+nr(Q/(u*jr),2)+Lr*(mr/(t*Sr))*(Q/(u*jr)));return Pl(0,zl(100,Zr))},$t=S,Dl=function(r,e,a){a===void 0&&(a="lab"),r=new $t(r),e=new $t(e);var t=r.get(a),u=e.get(a),o=0;for(var n in t){var l=(t[n]||0)-(u[n]||0);o+=l*l}return Math.sqrt(o)},Gl=S,Tl=function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];try{return new(Function.prototype.bind.apply(Gl,[null].concat(r))),!0}catch{return!1}},Mt=I,Ct=Ge,jl={cool:function(){return Ct([Mt.hsl(180,1,.9),Mt.hsl(250,.7,.4)])},hot:function(){return Ct(["#000","#f00","#ff0","#fff"]).mode("rgb")}},fe={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Be=0,St=Object.keys(fe);Be<St.length;Be+=1){var Nt=St[Be];fe[Nt.toLowerCase()]=fe[Nt]}var Xl=fe,ur=I;ur.average=tl,ur.bezier=sl,ur.blend=ml,ur.cubehelix=Ml,ur.mix=ur.interpolate=nt,ur.random=Ll,ur.scale=Ge,ur.analyze=bt.analyze,ur.contrast=Rl,ur.deltaE=ql,ur.distance=Dl,ur.limits=bt.limits,ur.valid=Tl,ur.scales=jl,ur.colors=Ga,ur.brewer=Xl;var Bl=ur;return Bl})})(Rt);var vf=Rt.exports;const Lt=Ot(vf);var Ze={exports:{}};Ze.exports;(function(F){(function($,x,A){function P(f){var v=this,m=w();v.next=function(){var s=2091639*v.s0+v.c*23283064365386963e-26;return v.s0=v.s1,v.s1=v.s2,v.s2=s-(v.c=s|0)},v.c=1,v.s0=m(" "),v.s1=m(" "),v.s2=m(" "),v.s0-=m(f),v.s0<0&&(v.s0+=1),v.s1-=m(f),v.s1<0&&(v.s1+=1),v.s2-=m(f),v.s2<0&&(v.s2+=1),m=null}function O(f,v){return v.c=f.c,v.s0=f.s0,v.s1=f.s1,v.s2=f.s2,v}function y(f,v){var m=new P(f),s=v&&v.state,h=m.next;return h.int32=function(){return m.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,s&&(typeof s=="object"&&O(s,m),h.state=function(){return O(m,{})}),h}function w(){var f=4022871197,v=function(m){m=String(m);for(var s=0;s<m.length;s++){f+=m.charCodeAt(s);var h=.02519603282416938*f;f=h>>>0,h-=f,h*=f,f=h>>>0,h-=f,f+=h*4294967296}return(f>>>0)*23283064365386963e-26};return v}x&&x.exports?x.exports=y:A&&A.amd?A(function(){return y}):this.alea=y})(Nr,F,!1)})(Ze);var hf=Ze.exports,Je={exports:{}};Je.exports;(function(F){(function($,x,A){function P(w){var f=this,v="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var s=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^s^s>>>8},w===(w|0)?f.x=w:v+=w;for(var m=0;m<v.length+64;m++)f.x^=v.charCodeAt(m)|0,f.next()}function O(w,f){return f.x=w.x,f.y=w.y,f.z=w.z,f.w=w.w,f}function y(w,f){var v=new P(w),m=f&&f.state,s=function(){return(v.next()>>>0)/4294967296};return s.double=function(){do var h=v.next()>>>11,k=(v.next()>>>0)/4294967296,L=(h+k)/(1<<21);while(L===0);return L},s.int32=v.next,s.quick=s,m&&(typeof m=="object"&&O(m,v),s.state=function(){return O(v,{})}),s}x&&x.exports?x.exports=y:A&&A.amd?A(function(){return y}):this.xor128=y})(Nr,F,!1)})(Je);var gf=Je.exports,Qe={exports:{}};Qe.exports;(function(F){(function($,x,A){function P(w){var f=this,v="";f.next=function(){var s=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(s^s<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,w===(w|0)?f.x=w:v+=w;for(var m=0;m<v.length+64;m++)f.x^=v.charCodeAt(m)|0,m==v.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function O(w,f){return f.x=w.x,f.y=w.y,f.z=w.z,f.w=w.w,f.v=w.v,f.d=w.d,f}function y(w,f){var v=new P(w),m=f&&f.state,s=function(){return(v.next()>>>0)/4294967296};return s.double=function(){do var h=v.next()>>>11,k=(v.next()>>>0)/4294967296,L=(h+k)/(1<<21);while(L===0);return L},s.int32=v.next,s.quick=s,m&&(typeof m=="object"&&O(m,v),s.state=function(){return O(v,{})}),s}x&&x.exports?x.exports=y:A&&A.amd?A(function(){return y}):this.xorwow=y})(Nr,F,!1)})(Qe);var pf=Qe.exports,Ke={exports:{}};Ke.exports;(function(F){(function($,x,A){function P(w){var f=this;f.next=function(){var m=f.x,s=f.i,h,k;return h=m[s],h^=h>>>7,k=h^h<<24,h=m[s+1&7],k^=h^h>>>10,h=m[s+3&7],k^=h^h>>>3,h=m[s+4&7],k^=h^h<<7,h=m[s+7&7],h=h^h<<13,k^=h^h<<9,m[s]=k,f.i=s+1&7,k};function v(m,s){var h,k=[];if(s===(s|0))k[0]=s;else for(s=""+s,h=0;h<s.length;++h)k[h&7]=k[h&7]<<15^s.charCodeAt(h)+k[h+1&7]<<13;for(;k.length<8;)k.push(0);for(h=0;h<8&&k[h]===0;++h);for(h==8?k[7]=-1:k[h],m.x=k,m.i=0,h=256;h>0;--h)m.next()}v(f,w)}function O(w,f){return f.x=w.x.slice(),f.i=w.i,f}function y(w,f){w==null&&(w=+new Date);var v=new P(w),m=f&&f.state,s=function(){return(v.next()>>>0)/4294967296};return s.double=function(){do var h=v.next()>>>11,k=(v.next()>>>0)/4294967296,L=(h+k)/(1<<21);while(L===0);return L},s.int32=v.next,s.quick=s,m&&(m.x&&O(m,v),s.state=function(){return O(v,{})}),s}x&&x.exports?x.exports=y:A&&A.amd?A(function(){return y}):this.xorshift7=y})(Nr,F,!1)})(Ke);var df=Ke.exports,Ve={exports:{}};Ve.exports;(function(F){(function($,x,A){function P(w){var f=this;f.next=function(){var m=f.w,s=f.X,h=f.i,k,L;return f.w=m=m+1640531527|0,L=s[h+34&127],k=s[h=h+1&127],L^=L<<13,k^=k<<17,L^=L>>>15,k^=k>>>12,L=s[h]=L^k,f.i=h,L+(m^m>>>16)|0};function v(m,s){var h,k,L,b,H,ir=[],dr=128;for(s===(s|0)?(k=s,s=null):(s=s+"\0",k=0,dr=Math.max(dr,s.length)),L=0,b=-32;b<dr;++b)s&&(k^=s.charCodeAt((b+32)%s.length)),b===0&&(H=k),k^=k<<10,k^=k>>>15,k^=k<<4,k^=k>>>13,b>=0&&(H=H+1640531527|0,h=ir[b&127]^=k+H,L=h==0?L+1:0);for(L>=128&&(ir[(s&&s.length||0)&127]=-1),L=127,b=4*128;b>0;--b)k=ir[L+34&127],h=ir[L=L+1&127],k^=k<<13,h^=h<<17,k^=k>>>15,h^=h>>>12,ir[L]=k^h;m.w=H,m.X=ir,m.i=L}v(f,w)}function O(w,f){return f.i=w.i,f.w=w.w,f.X=w.X.slice(),f}function y(w,f){w==null&&(w=+new Date);var v=new P(w),m=f&&f.state,s=function(){return(v.next()>>>0)/4294967296};return s.double=function(){do var h=v.next()>>>11,k=(v.next()>>>0)/4294967296,L=(h+k)/(1<<21);while(L===0);return L},s.int32=v.next,s.quick=s,m&&(m.X&&O(m,v),s.state=function(){return O(v,{})}),s}x&&x.exports?x.exports=y:A&&A.amd?A(function(){return y}):this.xor4096=y})(Nr,F,!1)})(Ve);var bf=Ve.exports,ra={exports:{}};ra.exports;(function(F){(function($,x,A){function P(w){var f=this,v="";f.next=function(){var s=f.b,h=f.c,k=f.d,L=f.a;return s=s<<25^s>>>7^h,h=h-k|0,k=k<<24^k>>>8^L,L=L-s|0,f.b=s=s<<20^s>>>12^h,f.c=h=h-k|0,f.d=k<<16^h>>>16^L,f.a=L-s|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,w===Math.floor(w)?(f.a=w/4294967296|0,f.b=w|0):v+=w;for(var m=0;m<v.length+20;m++)f.b^=v.charCodeAt(m)|0,f.next()}function O(w,f){return f.a=w.a,f.b=w.b,f.c=w.c,f.d=w.d,f}function y(w,f){var v=new P(w),m=f&&f.state,s=function(){return(v.next()>>>0)/4294967296};return s.double=function(){do var h=v.next()>>>11,k=(v.next()>>>0)/4294967296,L=(h+k)/(1<<21);while(L===0);return L},s.int32=v.next,s.quick=s,m&&(typeof m=="object"&&O(m,v),s.state=function(){return O(v,{})}),s}x&&x.exports?x.exports=y:A&&A.amd?A(function(){return y}):this.tychei=y})(Nr,F,!1)})(ra);var yf=ra.exports,zt={exports:{}};(function(F){(function($,x,A){var P=256,O=6,y=52,w="random",f=A.pow(P,O),v=A.pow(2,y),m=v*2,s=P-1,h;function k(z,X,S){var V=[];X=X==!0?{entropy:!0}:X||{};var I=ir(H(X.entropy?[z,hr(x)]:z??dr(),3),V),ar=new L(V),rr=function(){for(var E=ar.g(O),N=f,q=0;E<v;)E=(E+q)*P,N*=P,q=ar.g(1);for(;E>=m;)E/=2,N/=2,q>>>=1;return(E+q)/N};return rr.int32=function(){return ar.g(4)|0},rr.quick=function(){return ar.g(4)/4294967296},rr.double=rr,ir(hr(ar.S),x),(X.pass||S||function(E,N,q,Z){return Z&&(Z.S&&b(Z,ar),E.state=function(){return b(ar,{})}),q?(A[w]=E,N):E})(rr,I,"global"in X?X.global:this==A,X.state)}function L(z){var X,S=z.length,V=this,I=0,ar=V.i=V.j=0,rr=V.S=[];for(S||(z=[S++]);I<P;)rr[I]=I++;for(I=0;I<P;I++)rr[I]=rr[ar=s&ar+z[I%S]+(X=rr[I])],rr[ar]=X;(V.g=function(E){for(var N,q=0,Z=V.i,cr=V.j,wr=V.S;E--;)N=wr[Z=s&Z+1],q=q*P+wr[s&(wr[Z]=wr[cr=s&cr+N])+(wr[cr]=N)];return V.i=Z,V.j=cr,q})(P)}function b(z,X){return X.i=z.i,X.j=z.j,X.S=z.S.slice(),X}function H(z,X){var S=[],V=typeof z,I;if(X&&V=="object")for(I in z)try{S.push(H(z[I],X-1))}catch{}return S.length?S:V=="string"?z:z+"\0"}function ir(z,X){for(var S=z+"",V,I=0;I<S.length;)X[s&I]=s&(V^=X[s&I]*19)+S.charCodeAt(I++);return hr(X)}function dr(){try{var z;return h&&(z=h.randomBytes)?z=z(P):(z=new Uint8Array(P),($.crypto||$.msCrypto).getRandomValues(z)),hr(z)}catch{var X=$.navigator,S=X&&X.plugins;return[+new Date,$,S,$.screen,hr(x)]}}function hr(z){return String.fromCharCode.apply(0,z)}if(ir(A.random(),x),F.exports){F.exports=k;try{h=Ul}catch{}}else A["seed"+w]=k})(typeof self<"u"?self:Nr,[],Math)})(zt);var mf=zt.exports,wf=hf,xf=gf,kf=pf,_f=df,$f=bf,Mf=yf,Or=mf;Or.alea=wf;Or.xor128=xf;Or.xorwow=kf;Or.xorshift7=_f;Or.xor4096=$f;Or.tychei=Mf;var Cf=Or;const Sf=Ot(Cf),Nf=F=>F,Et={selectedFeature:null,maxWidth:10,minWidth:1,numStep:100,scale:"linear",fixScale:!1,minVal:0,maxVal:1,cmap:"OrRd",opacity:100,offset:!1,showNaN:!0,reverseColor:!1,extrusion:!1,padding:[0,100]};function Ff(F){return/^#([0-9A-Fa-f]{3}){1,2}$/i.test(F)}function He(F,$,x,A,P,O){if(typeof F=="string")return O?0:Sf(F)();if(O){if(F<$?F=$:F>x&&(F=x),F=Math.abs(F),$<0&&x>0)x=Math.max(Math.abs($),Math.abs(x)),$=0;else if($<0&&x<=0){const w=Math.abs(x);x=Math.max(Math.abs($),w),$=Math.min(Math.abs($),w)}}else{if(F<$)return A?1:0;if(F>x)return A?0:1;$<0&&(F=F-$,x=x-$,$=0)}let y=F;return P==="log"?($<1&&(x+=1,F+=1,$+=1),$=$>0?Math.log10($):0,x=x>0?Math.log10(x):0,y=F>0?Math.log10(F):0):P==="sqrt"?($=Math.sqrt($),x=Math.sqrt(x),y=Math.sqrt(F)):P==="exp"?($=$/x,F=F/x,x=1,$=10**$,x=10**x,y=10**F):P==="quad"&&($=$**2,x=x**2,y=F**2),A?y=(-y+x)/(x-$):y=(y-$)/(x-$),y}function Lf(){const F=Ue(),$=pr(Br),x=pr(Br),A=pr(Br),P=pr("LineString"),O=pr([]),y=pr(Ar.cloneDeep(Et)),w=pr(""),f=pr([]),v=pr(!1),m=pr({}),s=pr([]),h=pr({}),k=pr({});function L(){$.value=Ar.cloneDeep(Br),x.value=Ar.cloneDeep(Br),A.value=Ar.cloneDeep(Br),P.value="LineString",O.value=[],y.value=Ar.cloneDeep(Et),w.value="",f.value=[],v.value=!1,m.value={},s.value=[],h.value={},k.value=null}function b(E,N,q=null){var Z;L(),$.value=Ar.cloneDeep(Zl(E)),P.value=(Z=$.value.features[0])==null?void 0:Z.geometry.type,P.value=P.value==="MultiPolygon"?"Polygon":P.value,P.value!=="Polygon"&&(y.value.extrusion=!1),v.value=typeof N=="object"&&N!==null,v.value&&H(N),["urn:ogc:def:crs:OGC:1.3:CRS84","EPSG:4326"].includes($.value.crs.properties.name)?(hr(),O.value.includes(q==null?void 0:q.selectedFeature)?y.value.selectedFeature=q==null?void 0:q.selectedFeature:y.value.selectedFeature=null,q!=null&&I(q,!0),z(),X()):alert("invalid CRS. use CRS84 / EPSG:4326")}function H(E){Object.keys(E).forEach(N=>{m.value[N+" (OD)"]=E[N]}),s.value=Object.keys(m.value),$.value.features.forEach(N=>N.properties.index=String(N.properties.index)),$.value.features.length>0&&s.value.forEach(N=>{h.value[N]=Object.keys(m.value[N]),$.value.features.forEach(q=>q.properties[N]=null)})}function ir(E){const N=y.value.selectedFeature;return s.value.includes(N)?h.value[N].includes(E):!1}function dr(E){const N=y.value.selectedFeature;if(s.value.includes(N)&&v.value){k.value=E;const q=m.value[N][k.value];$.value.features.forEach(Z=>Z.properties[N]=q?q[Z.properties.index]:null)}z(),X()}function hr(){const E=new Set([]);$.value.features.forEach(N=>{Object.keys(N.properties).forEach(q=>E.add(q))}),O.value=Array.from(E),O.value=O.value.filter(N=>!["display_width","display_color"].includes(N)),w.value=E.has("route_type")?"route_type":E.has("highway")?"highway":O.value[0],f.value=Array.from(new Set($.value.features.map(N=>N.properties[w.value])))}function z(){const E=new Set(f.value),N=w.value,q=y.value.selectedFeature;x.value.features=$.value.features.filter(Z=>E.has(Z.properties[N])),y.value.showNaN||(A.value.features=x.value.features.filter(cr=>!cr.properties[q]),$.value.features.filter(cr=>cr.properties[q]).length===0&&v.value&&Object.keys(h.value).includes(q)||(x.value.features=x.value.features.filter(cr=>cr.properties[q])))}function X(){const E=y.value.selectedFeature,N=y.value.maxWidth,q=y.value.minWidth,Z=y.value.scale,cr=y.value.numStep,wr=y.value.cmap,Jr=x.value.features.filter(tr=>tr.properties[E]).map(tr=>tr.properties[E]);if(!y.value.fixScale){const tr=de=>de.reduce(([be,Kr],Vr)=>[Math.min(be,Vr),Math.max(Kr,Vr)],[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),[sr,pe]=tr(Jr);y.value.minVal=Math.round(sr*100)/100,y.value.maxVal=Math.round(pe*100)/100}const Yr=y.value.minVal,Qr=y.value.maxVal,he=y.value.reverseColor;x.value.features.forEach(tr=>{let sr=tr.properties[E];sr=He(sr,Yr,Qr,!1,Z,!0),tr.properties.display_width=(N-q)*sr+q});let xr=Ar.cloneDeep(y.value.padding);xr=[xr[0]/100,1-xr[1]/100],xr=y.value.reverseColor?xr.reverse():xr;const ge=Lt.scale(wr).padding(xr).domain([0,1],Z).classes(cr);if(x.value.features.forEach(tr=>{const sr=tr.properties[E];Ff(sr)?tr.properties.display_color=sr:tr.properties.display_color=ge(He(sr,Yr,Qr,he,Z,!1)).hex()}),$.value.features.filter(tr=>tr.properties[E]).length===0&&v.value&&Object.keys(h.value).includes(E)){const tr=new Set(h.value[E]);x.value.features.forEach(sr=>{tr.has(sr.properties.index)&&(sr.properties.display_width=10,sr.properties.display_color="#4CAF50")}),F.changeNotification({text:Nf("Clickable element in green"),autoClose:!0,color:"success"})}}function S(E){w.value=E,f.value=Array.from(new Set($.value.features.map(N=>N.properties[w.value]))),z()}function V(E){f.value=E,z()}function I(E,N=!1){const q=Object.keys(E);for(const Z of q)y.value[Z]=E[Z];N||(z(),X())}const ar=ve(()=>Array.from(new Set($.value.features.map(N=>N.properties[w.value])))),rr=ve(()=>{const E=[];let N=y.value.padding;N=[N[0]/100,1-N[1]/100],N=y.value.reverseColor?N.reverse():N;const q=Lt.scale(y.value.cmap).padding(N).domain([0,1]).classes(y.value.numStep);for(let Z=0;Z<100;Z++)E.push(q(He(Z,0,100,y.value.reverseColor,y.value.scale,!1)));return E});return{layer:$,type:P,attributes:O,visibleLayer:x,NaNLayer:A,displaySettings:y,selectedFilter:w,selectedCategory:f,hasOD:v,ODfeatures:s,matAvailableIndex:h,matSelectedIndex:k,changeOD:dr,isIndexAvailable:ir,loadLayer:b,getLinksProperties:hr,refreshVisibleLinks:z,updateSelectedFeature:X,changeSelectedFilter:S,changeSelectedCategory:V,applySettings:I,filteredCategory:ar,colorScale:rr}}const Ef=F=>F,Af={name:"StaticLayer",components:{MapLegend:cf},props:["preset","map","order","visibleRasters"],setup(F){const $=Jl(),x=Ql(),A=Kl(),P=Ue(),{preset:O,map:y,order:w,visibleRasters:f}=Vl(F),v=O.value.name,m=v+"-source",s=v+"-layer",{visibleLayer:h,type:k,loadLayer:L,displaySettings:b,attributes:H,changeSelectedFilter:ir,changeSelectedCategory:dr,colorScale:hr,isIndexAvailable:z,changeOD:X}=Lf(),S=O.value.displaySettings.opacity,V=O.value.displaySettings.offset?-1:1;async function I(ar,rr=null){switch(ar){case"links":await L($.links,null,rr);break;case"rlinks":await L(x.rlinks,null,rr);break;case"nodes":await L($.nodes,null,rr);break;case"rnodes":await L(x.rnodes,null,rr);break;case"od":await L(A.layer,null,rr);break;default:const E=await P.getOtherFile(ar,"geojson"),N=await P.getOtherFile(ar,"json");await L(E,N,rr);break}}return rf(async()=>{var rr;await I(O.value.layer,O.value.displaySettings),H.value.includes((rr=O.value)==null?void 0:rr.selectedFilter)?(ir(O.value.selectedFilter),Object.keys(O.value).includes("selectedCategory")&&dr(O.value.selectedCategory)):Object.keys(O.value).includes("selectedFilter")&&P.changeNotification({text:O.value.selectedFilter+" "+Ef("filter does not exist. use default one"),autoClose:!0,color:"error"}),Object.keys(O.value).includes("selectedIndex")&&z(O.value.selectedIndex)&&(X(O.value.selectedIndex),P.changeNotification({})),h.value.features=h.value.features.map(E=>({geometry:E.geometry,properties:{display_color:E.properties.display_color,display_width:E.properties.display_width}})),y.value.addSource(m,{type:"geojson",data:h.value}),k.value==="LineString"?y.value.addLayer({id:s,type:"line",minzoom:5,source:m,layout:{"line-sort-key":["to-number",["get","display_width"]],"line-cap":"round"},paint:{"line-color":["get","display_color"],"line-opacity":S/100,"line-offset":["*",V*.5,["to-number",["get","display_width"]]],"line-width":["get","display_width"]}}):k.value==="Point"?y.value.addLayer({id:s,type:"circle",minzoom:5,source:m,layout:{"circle-sort-key":["to-number",["get","display_width"]]},paint:{"circle-color":["get","display_color"],"circle-radius":["get","display_width"],"circle-opacity":S/100}}):["MultiPolygon","Polygon"].includes(k.value)&&!b.value.extrusion?y.value.addLayer({id:s,type:"fill",minzoom:5,source:m,paint:{"fill-color":["get","display_color"],"fill-opacity":S/100}}):["MultiPolygon","Polygon"].includes(k.value)&&b.value.extrusion&&y.value.addLayer({id:s,type:"fill-extrusion",minzoom:5,source:m,paint:{"fill-extrusion-color":["get","display_color"],"fill-extrusion-opacity":S/100,"fill-extrusion-height":["*",1e3,["to-number",["get","display_width"]]]}});const ar=f.value.indexOf(v);if(ar>0){const E=f.value[ar-1]+"-layer";y.value.moveLayer(s,E)}else y.value.getLayer("results")?y.value.moveLayer(s,"results"):y.value.getLayer("staticrLinks")?y.value.moveLayer(s,"staticrLinks"):y.value.getLayer("links")&&y.value.moveLayer(s,"links")}),ef(()=>{y.value.getLayer(s)&&(y.value.removeLayer(s),y.value.removeSource(m))}),{displaySettings:b,zorder:w,colorScale:hr}}},Of={class:"map-legend"};function Rf(F,$,x,A,P,O){const y=af("MapLegend");return se(),ce("section",null,[Wr("div",Of,[tf(y,{"color-scale":A.colorScale,"display-settings":A.displaySettings,"base-offset":350,order:A.zorder},null,8,["color-scale","display-settings","order"])])])}const zf=At(Af,[["render",Rf],["__scopeId","data-v-7f23db4c"]]),If=Object.freeze(Object.defineProperty({__proto__:null,default:zf},Symbol.toStringTag,{value:"Module"}));export{cf as M,zf as S,If as a,Lt as c,Lf as u};
