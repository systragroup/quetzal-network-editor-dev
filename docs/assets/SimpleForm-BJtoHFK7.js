import{an as A,b7 as D,u as H,b8 as M,e as f,f as t,i as n,h as o,H as N,I as R,g as h,k as U,j as x,p as y,L as k,r as d,B as w,C as z,l as i,a8 as L,a9 as T,V as j,$ as q,Y as E,D as G,ap as W,W as Y,_ as J}from"./index-CVO2KWKY.js";import{g as K}from"./form-B2uRhppC.js";const O=A({__name:"SimpleForm",props:{modelValue:{default:[]},modelModifiers:{}},emits:D(["change"],["update:modelValue"]),setup(g,{expose:C,emit:_}){const{$gettext:c}=H(),S=M(g,"modelValue"),$=_,v=d(!1),p=d(),l=d(!1);async function F(){const a=await p.value.validate();return a.valid||(v.value=!0,setTimeout(()=>{v.value=!1},500)),a.valid}function m(a){$("change",a)}C({validate:F});function B(a){switch(a){case"number":return"v-number-input";case"boolean":return"v-switch";case"select":return"v-select";default:return"v-text-field"}}const r=d(!1),V=y(()=>[...S.value].sort((a,s)=>a.advanced===s.advanced?0:a.advanced?1:-1)),I=y(()=>V.value.findIndex(a=>a.advanced));return(a,s)=>(t(),f("div",{class:E(["box",{shake:v.value}])},[n(q,{ref_key:"formRef",ref:p},{default:o(()=>[(t(!0),f(N,null,R(V.value,(e,b)=>(t(),f("div",{key:b,class:"form"},[b===I.value?(t(),h(k,{key:0,variant:"text",class:"lower-button",onClick:s[0]||(s[0]=u=>r.value=!r.value)},{default:o(()=>[w(z(r.value?i(c)("▾ Hide Advanced"):i(c)("▸ Show Advanced")),1)]),_:1})):U("",!0),x(a.$slots,e.key,{item:e,showHint:l.value,"onUpdate:modelValue":u=>m(e)},()=>[G((t(),h(W(B(e.type)),{modelValue:e.value,"onUpdate:modelValue":[u=>e.value=u,u=>m(e)],"control-variant":"stacked",hint:l.value?e.hint:"",density:e.type==="boolean"?"compact":"default","persistent-hint":l.value,variant:e.disabled?"underlined":"filled",disabled:e.disabled,units:e.units,color:e.type==="boolean"?"primary":void 0,precision:e.precision===void 0?null:e.precision,suffix:e.units,items:e.items,rules:i(K)(e.rules),label:i(c)(e.label),multiple:e.multiple},null,8,["modelValue","onUpdate:modelValue","hint","density","persistent-hint","variant","disabled","units","color","precision","suffix","items","rules","label","multiple"])),[[Y,!e.advanced||r.value]])],!0)]))),128)),n(L,null,{default:o(()=>[x(a.$slots,"default",{},void 0,!0),n(T),n(k,{size:"small",onClick:s[1]||(s[1]=e=>l.value=!l.value)},{default:o(()=>[n(j,null,{default:o(()=>[...s[2]||(s[2]=[w("far fa-question-circle small",-1)])]),_:1})]),_:1})]),_:3})]),_:3},512)],2))}}),X=J(O,[["__scopeId","data-v-5c73d9f3"]]);export{X as S};
