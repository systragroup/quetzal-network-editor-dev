import{_ as h,u as L,a2 as f,a3 as b,af as p,o as c,f as m,w as t,l as g,g as n,s as V,A as x,a6 as k,n as v,t as i,k as y,z as w,D as S,J as B,q as C,C as I,F as T,E as A,x as D}from"./index-a65a44c4.js";const E={name:"LayerSelector",components:{},props:{choices:{type:Array,default:()=>[]},availableLayers:{type:Array,default:()=>[]}},setup(r){const s=L(),o=f(!1),a=f([]);b(()=>{a.value=s.visibleRasters}),p(a,d=>{const e=[];d.forEach(l=>e.push(l)),s.setVisibleRasters(e)}),p(r.choices,d=>{const e=d.map(l=>l.name);a.value=a.value.filter(l=>e.includes(l))});const _=f(0);return{show:o,selectedLayers:a,selectedOpacity:_}}},F={class:"layer-button"},N={key:0},M={key:1};function R(r,s,o,a,_,d){return c(),m(D,{modelValue:a.show,"onUpdate:modelValue":s[1]||(s[1]=e=>a.show=e),"close-on-content-click":!1,persistent:!1,"no-click-animation":"",location:"bottom end",offset:"5",transition:"scale-transition"},{activator:t(({props:e})=>[g("div",F,[n(x,V(e,{color:a.selectedLayers.length>0?"success":"regular",icon:"fas fa-layer-group"}),null,16,["color"])])]),default:t(()=>[n(A,{"max-width":300},{default:t(()=>[n(k,{class:"subtitle"},{default:t(()=>[v(i(r.$gettext("Static Layers")),1)]),_:1}),(c(!0),y(T,null,w(o.choices,(e,l)=>(c(),m(S,{key:l},{prepend:t(()=>[n(B,{modelValue:a.selectedLayers,"onUpdate:modelValue":s[0]||(s[0]=u=>a.selectedLayers=u),value:e.name,"false-icon":o.availableLayers.includes(e.layer)?"fa-eye-slash fa":"fas fa-exclamation-triangle","true-icon":"fa-eye fa",disabled:!o.availableLayers.includes(e.layer)},null,8,["modelValue","value","false-icon","disabled"])]),default:t(()=>[n(C,{location:"top","open-delay":"300","content-class":"custom-tooltip"},{activator:t(({props:u})=>[n(I,V({style:{cursor:"default","padding-left":"1rem"}},u),{default:t(()=>[v(i(e.name),1)]),_:2},1040)]),default:t(()=>[o.availableLayers.includes(e.layer)?(c(),y("span",M,i(e.displaySettings.selectedFeature+" "+r.$gettext("from")+" "+e.layer),1)):(c(),y("span",N,i(r.$gettext("Data not found: ")+e.layer),1))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}const q=h(E,[["render",R],["__scopeId","data-v-e2b9c235"]]);export{q as default};
