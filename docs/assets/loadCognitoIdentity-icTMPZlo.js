import{b8 as k,b9 as pt,ba as be,bb as yt,bc as mt,bd as ee,be as te,bf as ne,bg as bt,bh as _t,bi as vt,bj as wt,bk as gt,bl as St,bm as xt,bn as Et,bo as At,bp as Pt,bq as Ct,br as It,bs as Ot,bt as Rt,bu as $t,bv as Dt,bw as Tt,bx as Ht,by as jt,bz as Lt,bA as Mt,bB as kt,bC as Nt,bD as Ut,bE as Ft,bF as zt,bG as Bt,bH as qt,bI as Gt,bJ as Kt,bK as Wt,bL as Vt,bM as Zt,bN as Xt,bO as Jt,bP as w,bQ as qe,bR as Yt,bS as z,bT as Qt,bU as en,bV as tn,bW as nn,bX as Ge,bY as Ke,bZ as We}from"./index-DXtDxCc4.js";const m=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(m);if(typeof e=="object"){const t={};for(const n of Object.keys(e))e[n]!=null&&(t[n]=m(e[n]));return t}return e};class rn{constructor(t){this.authSchemes=new Map;for(const[n,r]of Object.entries(t))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(t){return this.authSchemes.get(t)}}class sn{async sign(t,n,r){return t}}const on=e=>t=>Ve(t)&&t.expiration.getTime()-Date.now()<e,an=3e5,cn=on(an),Ve=e=>e.expiration!==void 0,un=(e,t,n)=>{if(e===void 0)return;const r=typeof e!="function"?async()=>Promise.resolve(e):e;let i,s,o,a=!1;const u=async c=>{s||(s=r(c));try{i=await s,o=!0,a=!1}finally{s=void 0}return i};return t===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(i=await u(c)),i):async c=>((!o||c!=null&&c.forceRefresh)&&(i=await u(c)),a?i:n(i)?(t(i)&&await u(c),i):(a=!0,i))},N=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t};const dn=e=>t=>async n=>{if(!k.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let s=r.hostname;r.port!=null&&(s+=`:${r.port}`),r.headers.host=s}return t(n)},ln={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},fn=e=>({applyToStack:t=>{t.add(dn(e),ln)}}),hn=()=>(e,t)=>async n=>{var r,i;try{const s=await e(n),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:f}=c,l=d??t.inputFilterSensitiveLog,p=f??t.outputFilterSensitiveLog,{$metadata:h,...y}=s.output;return(r=u==null?void 0:u.info)==null||r.call(u,{clientName:o,commandName:a,input:l(n.input),output:p(y),metadata:h}),s}catch(s){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:d}=c,f=d??t.inputFilterSensitiveLog;throw(i=u==null?void 0:u.error)==null||i.call(u,{clientName:o,commandName:a,input:f(n.input),error:s,metadata:s.$metadata}),s}},pn={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},yn=e=>({applyToStack:t=>{t.add(hn(),pn)}});var _e={};const ve="X-Amzn-Trace-Id",mn="AWS_LAMBDA_FUNCTION_NAME",bn="_X_AMZN_TRACE_ID",_n=e=>t=>async n=>{const{request:r}=n;if(!k.isInstance(r)||e.runtime!=="node"||r.headers.hasOwnProperty(ve))return t(n);const i=_e[mn],s=_e[bn],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(r.headers[ve]=s),t({...n,request:r})},vn={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},wn=e=>({applyToStack:t=>{t.add(_n(e),vn)}});function gn(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const we="user-agent",B="x-amz-user-agent",ge=" ",q="/",Sn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,xn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Se="-",En=e=>(t,n)=>async r=>{var f,l;const{request:i}=r;if(!k.isInstance(i))return t(r);const{headers:s}=i,o=((f=n==null?void 0:n.userAgent)==null?void 0:f.map(G))||[],a=(await e.defaultUserAgentProvider()).map(G),u=((l=e==null?void 0:e.customUserAgent)==null?void 0:l.map(G))||[],c=[].concat([...a,...o,...u]).join(ge),d=[...a.filter(p=>p.startsWith("aws-sdk-")),...u].join(ge);return e.runtime!=="browser"?(d&&(s[B]=s[B]?`${s[we]} ${d}`:d),s[we]=c):s[B]=c,t({...r,request:i})},G=e=>{var o;const t=e[0].split(q).map(a=>a.replace(Sn,Se)).join(q),n=(o=e[1])==null?void 0:o.replace(xn,Se),r=t.indexOf(q),i=t.substring(0,r);let s=t.substring(r+1);return i==="api"&&(s=s.toLowerCase()),[i,s,n].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},An={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Pn=e=>({applyToStack:t=>{t.add(En(e),An)}}),xe=e=>{var t,n;return pt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((n=e.headers)==null?void 0:n.Date):void 0},Ze=e=>new Date(Date.now()+e),Cn=(e,t)=>Math.abs(Ze(t).getTime()-e)>=3e5,Ee=(e,t)=>{const n=Date.parse(e);return Cn(n,t)?n-Date.now():t},H=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},In=async e=>{var u,c,d;const t=H("context",e.context),n=H("config",e.config),r=(d=(c=(u=t.endpointV2)==null?void 0:u.properties)==null?void 0:c.authSchemes)==null?void 0:d[0],s=await H("signer",n.signer)(r),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingName;return{config:n,signer:s,signingRegion:o,signingName:a}};class On{async sign(t,n,r){if(!k.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:i,signer:s,signingRegion:o,signingName:a}=await In(r);return await s.sign(t,{signingDate:Ze(i.systemClockOffset),signingRegion:o,signingService:a})}errorHandler(t){return n=>{const r=n.ServerTime??xe(n.$response);if(r){const i=H("config",t.config);i.systemClockOffset=Ee(r,i.systemClockOffset)}throw n}}successHandler(t,n){const r=xe(t);if(r){const i=H("config",n.config);i.systemClockOffset=Ee(r,i.systemClockOffset)}}}const Rn=e=>{let t;e.credentials&&(t=un(e.credentials,cn,Ve)),t||(e.credentialDefaultProvider?t=N(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=N(e.signer):e.regionInfoProvider?s=()=>N(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},f=e.signerConstructor||be;return new f(d)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await N(e.region)(),properties:{}},o);const a=o.signingRegion,u=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:n},d=e.signerConstructor||be;return new d(c)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:s}},$n=async(e,t,n)=>({operation:yt(t).operation,region:await mt(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Dn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function U(e){return{schemeId:"smithy.api#noAuth"}}const Tn=e=>{const t=[];switch(e.operation){case"GetCredentialsForIdentity":{t.push(U());break}case"GetId":{t.push(U());break}case"GetOpenIdToken":{t.push(U());break}case"UnlinkIdentity":{t.push(U());break}default:t.push(Dn(e))}return t},Hn=e=>({...Rn(e)}),jn=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),Xe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Ln="@aws-sdk/client-cognito-identity",Mn="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",kn="3.514.0",Nn={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},Un="./dist-cjs/index.js",Fn="./dist-types/index.d.ts",zn="./dist-es/index.js",Bn=!1,qn={"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.513.0","@aws-sdk/core":"3.513.0","@aws-sdk/credential-provider-node":"3.514.0","@aws-sdk/middleware-host-header":"3.511.0","@aws-sdk/middleware-logger":"3.511.0","@aws-sdk/middleware-recursion-detection":"3.511.0","@aws-sdk/middleware-user-agent":"3.511.0","@aws-sdk/region-config-resolver":"3.511.0","@aws-sdk/types":"3.511.0","@aws-sdk/util-endpoints":"3.511.0","@aws-sdk/util-user-agent-browser":"3.511.0","@aws-sdk/util-user-agent-node":"3.511.0","@smithy/config-resolver":"^2.1.1","@smithy/core":"^1.3.2","@smithy/fetch-http-handler":"^2.4.1","@smithy/hash-node":"^2.1.1","@smithy/invalid-dependency":"^2.1.1","@smithy/middleware-content-length":"^2.1.1","@smithy/middleware-endpoint":"^2.4.1","@smithy/middleware-retry":"^2.1.1","@smithy/middleware-serde":"^2.1.1","@smithy/middleware-stack":"^2.1.1","@smithy/node-config-provider":"^2.2.1","@smithy/node-http-handler":"^2.3.1","@smithy/protocol-http":"^3.1.1","@smithy/smithy-client":"^2.3.1","@smithy/types":"^2.9.1","@smithy/url-parser":"^2.1.1","@smithy/util-base64":"^2.1.1","@smithy/util-body-length-browser":"^2.1.1","@smithy/util-body-length-node":"^2.2.1","@smithy/util-defaults-mode-browser":"^2.1.1","@smithy/util-defaults-mode-node":"^2.2.0","@smithy/util-endpoints":"^1.1.1","@smithy/util-middleware":"^2.1.1","@smithy/util-retry":"^2.1.1","@smithy/util-utf8":"^2.1.1",tslib:"^2.5.0"},Gn={"@aws-sdk/client-iam":"3.514.0","@smithy/service-client-documentation-generator":"^2.1.1","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},Kn={node:">=14.0.0"},Wn={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},Vn=["dist-*/**"],Zn={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},Xn="Apache-2.0",Jn={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},Yn="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",Qn={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"},er={name:Ln,description:Mn,version:kn,scripts:Nn,main:Un,types:Fn,module:zn,sideEffects:Bn,dependencies:qn,devDependencies:Gn,engines:Kn,typesVersions:Wn,files:Vn,author:Zn,license:Xn,browser:Jn,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:Yn,repository:Qn};var Je={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V=function(e,t){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},V(e,t)};function tr(e,t){V(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Z=function(){return Z=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Z.apply(this,arguments)};function nr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function rr(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function sr(e,t){return function(n,r){t(n,r,e)}}function ir(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function or(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}function ar(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return u([c,d])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cr(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function ur(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function X(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function dr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ye(arguments[t]));return e}function lr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function j(e){return this instanceof j?(this.v=e,this):new j(e)}function fr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){r[l]&&(i[l]=function(p){return new Promise(function(h,y){s.push([l,p,h,y])>1||a(l,p)})})}function a(l,p){try{u(r[l](p))}catch(h){f(s[0][3],h)}}function u(l){l.value instanceof j?Promise.resolve(l.value.v).then(c,d):f(s[0][2],l)}function c(l){a("next",l)}function d(l){a("throw",l)}function f(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function hr(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:j(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function pr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof X=="function"?X(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function yr(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function mr(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function br(e){return e&&e.__esModule?e:{default:e}}function _r(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function vr(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const wr=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Z},__asyncDelegator:hr,__asyncGenerator:fr,__asyncValues:pr,__await:j,__awaiter:or,__classPrivateFieldGet:_r,__classPrivateFieldSet:vr,__createBinding:cr,__decorate:rr,__exportStar:ur,__extends:tr,__generator:ar,__importDefault:br,__importStar:mr,__makeTemplateObject:yr,__metadata:ir,__param:sr,__read:Ye,__rest:nr,__spread:dr,__spreadArrays:lr,__values:X},Symbol.toStringTag,{value:"Module"})),gr=ee(wr);var C={},I={},O={},Ae;function Sr(){if(Ae)return O;Ae=1,Object.defineProperty(O,"__esModule",{value:!0}),O.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return O.isEmptyData=e,O}var K={},Pe;function Qe(){return Pe||(Pe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(K)),K}const xr=e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(n+1<e.length&&(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Er=e=>{let t="";for(let n=0,r=e.length;n<r;n++){const i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++n];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++n],e[++n],e[++n]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++n]&63)<<6|e[++n]&63)}return t};function Ar(e){return new TextEncoder().encode(e)}function Pr(e){return new TextDecoder("utf-8").decode(e)}const Cr=e=>typeof TextEncoder=="function"?Ar(e):xr(e),Ir=e=>typeof TextDecoder=="function"?Pr(e):Er(e),Or=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Cr,toUtf8:Ir},Symbol.toStringTag,{value:"Module"})),Rr=ee(Or);var Ce;function et(){if(Ce)return I;Ce=1,Object.defineProperty(I,"__esModule",{value:!0}),I.Sha256=void 0;var e=Sr(),t=Qe(),n=Rr,r=te,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(d){return d.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},d.process(o(u)),d}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,d){u.onerror=function(){d(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),d(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,r.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,r.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();I.Sha256=i;function s(a){return new Promise(function(u,c){var d=(0,r.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);d.oncomplete=function(){d.result&&u(d.result),c(new Error("ImportKey completed without importing key."))},d.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,n.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return I}var R={},Ie;function tt(){if(Ie)return R;Ie=1,Object.defineProperty(R,"__esModule",{value:!0}),R.Sha256=void 0;var e=ne(),t=Qe(),n=te,r=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,n.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,n.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return R.Sha256=r,R}var W={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J=function(e,t){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},J(e,t)};function $r(e,t){J(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Y=function(){return Y=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Y.apply(this,arguments)};function Dr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Tr(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Hr(e,t){return function(n,r){t(n,r,e)}}function jr(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Lr(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function u(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}function Mr(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return u([c,d])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function kr(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function Nr(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Q(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Ur(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nt(arguments[t]));return e}function Fr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function L(e){return this instanceof L?(this.v=e,this):new L(e)}function zr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(l){r[l]&&(i[l]=function(p){return new Promise(function(h,y){s.push([l,p,h,y])>1||a(l,p)})})}function a(l,p){try{u(r[l](p))}catch(h){f(s[0][3],h)}}function u(l){l.value instanceof L?Promise.resolve(l.value.v).then(c,d):f(s[0][2],l)}function c(l){a("next",l)}function d(l){a("throw",l)}function f(l,p){l(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Br(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:L(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function qr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Q=="function"?Q(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Gr(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Kr(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Wr(e){return e&&e.__esModule?e:{default:e}}function Vr(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Zr(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const Xr=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Y},__asyncDelegator:Br,__asyncGenerator:zr,__asyncValues:qr,__await:L,__awaiter:Lr,__classPrivateFieldGet:Vr,__classPrivateFieldSet:Zr,__createBinding:kr,__decorate:Tr,__exportStar:Nr,__extends:$r,__generator:Mr,__importDefault:Wr,__importStar:Kr,__makeTemplateObject:Gr,__metadata:jr,__param:Hr,__read:nt,__rest:Dr,__spread:Ur,__spreadArrays:Fr,__values:Q},Symbol.toStringTag,{value:"Module"})),rt=ee(Xr);var $={},_={},Oe;function st(){return Oe||(Oe=1,Object.defineProperty(_,"__esModule",{value:!0}),_.MAX_HASHABLE_LENGTH=_.INIT=_.KEY=_.DIGEST_LENGTH=_.BLOCK_SIZE=void 0,_.BLOCK_SIZE=64,_.DIGEST_LENGTH=32,_.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],_.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),_}var D={},Re;function Jr(){if(Re)return D;Re=1,Object.defineProperty(D,"__esModule",{value:!0}),D.RawSha256=void 0;var e=st(),t=function(){function n(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n.prototype.update=function(r){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=r.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=r[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},n.prototype.digest=function(){if(!this.finished){var r=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(r/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,r),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},n.prototype.hashBuffer=function(){for(var r=this,i=r.buffer,s=r.state,o=s[0],a=s[1],u=s[2],c=s[3],d=s[4],f=s[5],l=s[6],p=s[7],h=0;h<e.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(i[h*4]&255)<<24|(i[h*4+1]&255)<<16|(i[h*4+2]&255)<<8|i[h*4+3]&255;else{var y=this.temp[h-2],lt=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10;y=this.temp[h-15];var ft=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;this.temp[h]=(lt+this.temp[h-7]|0)+(ft+this.temp[h-16]|0)}var me=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&f^~d&l)|0)+(p+(e.KEY[h]+this.temp[h]|0)|0)|0,ht=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;p=l,l=f,f=d,d=c+me|0,c=u,u=a,a=o,o=me+ht|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=d,s[5]+=f,s[6]+=l,s[7]+=p},n}();return D.RawSha256=t,D}var $e;function Yr(){if($e)return $;$e=1,Object.defineProperty($,"__esModule",{value:!0}),$.Sha256=void 0;var e=rt,t=st(),n=Jr(),r=ne(),i=function(){function o(a){this.secret=a,this.hash=new n.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,r.isEmptyData)(a)||this.error))try{this.hash.update((0,r.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new n.RawSha256,this.secret){this.outer=new n.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();$.Sha256=i;function s(o){var a=(0,r.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new n.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return $}var De;function Qr(){return De||(De=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=rt;t.__exportStar(Yr(),e)}(W)),W}var Te;function es(){if(Te)return C;Te=1,Object.defineProperty(C,"__esModule",{value:!0}),C.Sha256=void 0;var e=et(),t=tt(),n=Qr(),r=bt(),i=_t(),s=te,o=ne(),a=function(){function u(c){(0,r.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new n.Sha256(c)}return u.prototype.update=function(c,d){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return C.Sha256=a,C}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=gr;t.__exportStar(es(),e);var n=et();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return n.Sha256}});var r=tt();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return r.Sha256}})})(Je);const ts=({serviceId:e,clientVersion:t})=>async()=>{var i,s,o,a,u;const n=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?vt.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",t],["ua","2.0"],[`os/${((s=n==null?void 0:n.os)==null?void 0:s.name)||"other"}`,(o=n==null?void 0:n.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=n==null?void 0:n.browser)==null?void 0:a.name)??"unknown"}_${((u=n==null?void 0:n.browser)==null?void 0:u.version)??"unknown"}`]];return e&&r.push([`api/${e}`,t]),r},it="required",S="fn",x="argv",P="ref",He=!0,je="isSet",M="booleanEquals",A="error",T="endpoint",E="tree",re="PartitionResult",Le={[it]:!1,type:"String"},Me={[it]:!0,default:!1,type:"Boolean"},ke={[P]:"Endpoint"},ot={[S]:M,[x]:[{[P]:"UseFIPS"},!0]},at={[S]:M,[x]:[{[P]:"UseDualStack"},!0]},g={},Ne={[S]:"getAttr",[x]:[{[P]:re},"supportsFIPS"]},Ue={[S]:M,[x]:[!0,{[S]:"getAttr",[x]:[{[P]:re},"supportsDualStack"]}]},Fe=[ot],ze=[at],Be=[{[P]:"Region"}],ns={version:"1.0",parameters:{Region:Le,UseDualStack:Me,UseFIPS:Me,Endpoint:Le},rules:[{conditions:[{[S]:je,[x]:[ke]}],rules:[{conditions:Fe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:A},{conditions:ze,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:A},{endpoint:{url:ke,properties:g,headers:g},type:T}],type:E},{conditions:[{[S]:je,[x]:Be}],rules:[{conditions:[{[S]:"aws.partition",[x]:Be,assign:re}],rules:[{conditions:[ot,at],rules:[{conditions:[{[S]:M,[x]:[He,Ne]},Ue],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:g,headers:g},type:T}],type:E},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:A}],type:E},{conditions:Fe,rules:[{conditions:[{[S]:M,[x]:[Ne,He]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:g,headers:g},type:T}],type:E},{error:"FIPS is enabled but this partition does not support FIPS",type:A}],type:E},{conditions:ze,rules:[{conditions:[Ue],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:g,headers:g},type:T}],type:E},{error:"DualStack is enabled but this partition does not support DualStack",type:A}],type:E},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:g,headers:g},type:T}],type:E}],type:E},{error:"Invalid Configuration: Missing Region",type:A}]},rs=ns,ss=(e,t={})=>wt(rs,{endpointParams:e,logger:t.logger}),is=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??gt,base64Encoder:(e==null?void 0:e.base64Encoder)??St,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??ss,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Tn,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new On},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sn}],logger:(e==null?void 0:e.logger)??new xt,serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??Et,utf8Decoder:(e==null?void 0:e.utf8Decoder)??At,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Pt}),os=e=>{const t=jt(e),n=()=>t().then(Lt),r=is(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Ct,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ts({serviceId:r.serviceId,clientVersion:er.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??It,region:(e==null?void 0:e.region)??Ot("Region is missing"),requestHandler:(e==null?void 0:e.requestHandler)??new Rt(n),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await n()).retryMode||$t),sha256:(e==null?void 0:e.sha256)??Je.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??Dt,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Tt)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Ht))}},as=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(i){const s=t.findIndex(o=>o.schemeId===i.schemeId);s===-1?t.push(i):t.splice(s,1,i)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(i){n=i},httpAuthSchemeProvider(){return n},setCredentials(i){r=i},credentials(){return r}}},cs=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),F=e=>e,us=(e,t)=>{const n={...F(zt(e)),...F(Mt(e)),...F(kt(e)),...F(as(e))};return t.forEach(r=>r.configure(n)),{...e,...Nt(n),...Ut(n),...Ft(n),...cs(n)}};class Ds extends Bt{constructor(...[t]){const n=os(t||{}),r=jn(n),i=qt(r),s=Gt(i),o=Kt(s),a=o,u=gn(a),c=Hn(u),d=us(c,(t==null?void 0:t.extensions)||[]);super(d),this.config=d,this.middlewareStack.use(Wt(this.config)),this.middlewareStack.use(Vt(this.config)),this.middlewareStack.use(fn(this.config)),this.middlewareStack.use(yn(this.config)),this.middlewareStack.use(wn(this.config)),this.middlewareStack.use(Pn(this.config)),this.middlewareStack.use(Zt(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use(Xt(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return $n}getIdentityProviderConfigProvider(){return async t=>new rn({"aws.auth#sigv4":t.credentials})}}class b extends Jt{constructor(t){super(t),Object.setPrototypeOf(this,b.prototype)}}class se extends b{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,se.prototype)}}class ie extends b{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,ie.prototype)}}class oe extends b{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,oe.prototype)}}class ae extends b{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,ae.prototype)}}class ce extends b{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,ce.prototype)}}class ue extends b{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,ue.prototype)}}class de extends b{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,de.prototype)}}class le extends b{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,le.prototype)}}class fe extends b{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,fe.prototype)}}class he extends b{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,he.prototype)}}class pe extends b{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,pe.prototype)}}const ds=async(e,t)=>{const n=dt("GetCredentialsForIdentity");let r;return r=JSON.stringify(m(e)),ut(t,n,"/",void 0,r)},ls=async(e,t)=>{const n=dt("GetId");let r;return r=JSON.stringify(m(e)),ut(t,n,"/",void 0,r)},fs=async(e,t)=>{if(e.statusCode>=300)return ct(e,t);const n=await ye(e.body,t);let r={};return r=Ps(n),{$metadata:v(e),...r}},hs=async(e,t)=>{if(e.statusCode>=300)return ct(e,t);const n=await ye(e.body,t);let r={};return r=m(n),{$metadata:v(e),...r}},ct=async(e,t)=>{const n={...e,body:await Os(e.body,t)},r=Rs(e,n.body);switch(r){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await bs(n);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await vs(n);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await ws(n);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await gs(n);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Ss(n);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await Es(n);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await xs(n);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await ms(n);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await _s(n);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await ys(n);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await ps(n);default:const i=n.body;return Is({output:e,parsedBody:i,errorCode:r})}},ps=async(e,t)=>{const n=e.body,r=m(n),i=new pe({$metadata:v(e),...r});return w(i,n)},ys=async(e,t)=>{const n=e.body,r=m(n),i=new he({$metadata:v(e),...r});return w(i,n)},ms=async(e,t)=>{const n=e.body,r=m(n),i=new le({$metadata:v(e),...r});return w(i,n)},bs=async(e,t)=>{const n=e.body,r=m(n),i=new se({$metadata:v(e),...r});return w(i,n)},_s=async(e,t)=>{const n=e.body,r=m(n),i=new fe({$metadata:v(e),...r});return w(i,n)},vs=async(e,t)=>{const n=e.body,r=m(n),i=new ie({$metadata:v(e),...r});return w(i,n)},ws=async(e,t)=>{const n=e.body,r=m(n),i=new oe({$metadata:v(e),...r});return w(i,n)},gs=async(e,t)=>{const n=e.body,r=m(n),i=new ae({$metadata:v(e),...r});return w(i,n)},Ss=async(e,t)=>{const n=e.body,r=m(n),i=new ce({$metadata:v(e),...r});return w(i,n)},xs=async(e,t)=>{const n=e.body,r=m(n),i=new de({$metadata:v(e),...r});return w(i,n)},Es=async(e,t)=>{const n=e.body,r=m(n),i=new ue({$metadata:v(e),...r});return w(i,n)},As=(e,t)=>qe(e,{AccessKeyId:z,Expiration:n=>en(tn(nn(n))),SecretKey:z,SessionToken:z}),Ps=(e,t)=>qe(e,{Credentials:n=>As(n),IdentityId:z}),v=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Cs=(e,t)=>Qt(e,t).then(n=>t.utf8Encoder(n)),Is=Yt(b),ut=async(e,t,n,r,i)=>{const{hostname:s,protocol:o="https",port:a,path:u}=await e.endpoint(),c={protocol:o,hostname:s,port:a,method:"POST",path:u.endsWith("/")?u.slice(0,-1)+n:u+n,headers:t};return r!==void 0&&(c.hostname=r),i!==void 0&&(c.body=i),new k(c)};function dt(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}const ye=(e,t)=>Cs(e,t).then(n=>n.length?JSON.parse(n):{}),Os=async(e,t)=>{const n=await ye(e,t);return n.message=n.message??n.Message,n},Rs=(e,t)=>{const n=(s,o)=>Object.keys(s).find(a=>a.toLowerCase()===o.toLowerCase()),r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=n(e.headers,"x-amzn-errortype");if(i!==void 0)return r(e.headers[i]);if(t.code!==void 0)return r(t.code);if(t.__type!==void 0)return r(t.__type)};class Ts extends Ge.classBuilder().ep({...Xe}).m(function(t,n,r,i){return[Ke(r,this.serialize,this.deserialize),We(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(ds).de(fs).build(){}class Hs extends Ge.classBuilder().ep({...Xe}).m(function(t,n,r,i){return[Ke(r,this.serialize,this.deserialize),We(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(ls).de(hs).build(){}export{Ds as CognitoIdentityClient,Ts as GetCredentialsForIdentityCommand,Hs as GetIdCommand};
