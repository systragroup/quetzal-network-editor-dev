"use strict";(self.webpackChunkquetzal_network_editor=self.webpackChunkquetzal_network_editor||[]).push([[370],{1509:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(7537),o=i.n(n),s=i(3645),r=i.n(s)()(o());r.push([t.id,".left-panel[data-v-4621d0f6]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-4621d0f6]{transition:.3s}.left-panel-content[data-v-4621d0f6]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-4621d0f6]{padding:0}.left-panel-toggle-btn[data-v-4621d0f6]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-4621d0f6]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-4621d0f6]{height:height;padding-left:20px}.scrollable[data-v-4621d0f6]{overflow-y:scroll}.drawer-list-item[data-v-4621d0f6]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-4621d0f6]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/LinksSidePanel.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n@import "src/scss/variables.scss";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=r},906:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(7537),o=i.n(n),s=i(3645),r=i.n(s)()(o());r.push([t.id,".map-view[data-v-50648cab]{width:100%}.setting[data-v-50648cab]{position:absolute;top:10px;right:20px}.my-custom-dialog[data-v-50648cab]{position:absolute !important;top:10px !important;right:20px !important}","",{version:3,sources:["webpack://./src/components/Map.vue"],names:[],mappings:"AAEA,2BACE,UAAA,CAGF,0BACE,iBAAA,CACA,QAAA,CACA,UAAA,CAEF,mCACE,4BAAA,CACA,mBAAA,CACA,qBAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.map-view {\n  width: 100%;\n\n}\n.setting {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n.my-custom-dialog {\n  position: absolute !important;\n  top: 10px !important;\n  right: 20px !important;\n}\n'],sourceRoot:""}]);const a=r},5750:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(7537),o=i.n(n),s=i(3645),r=i.n(s)()(o());r.push([t.id,".left-panel[data-v-71d6d73f]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-71d6d73f]{transition:.3s}.left-panel-content[data-v-71d6d73f]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-71d6d73f]{padding:0}.left-panel-toggle-btn[data-v-71d6d73f]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-71d6d73f]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-71d6d73f]{height:height;padding-left:20px}.scrollable[data-v-71d6d73f]{overflow-y:scroll}.drawer-list-item[data-v-71d6d73f]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-71d6d73f]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/RoadSidePanel.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n@import "src/scss/variables.scss";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=r},9552:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(7537),o=i.n(n),s=i(3645),r=i.n(s)()(o());r.push([t.id,".layout[data-v-46cbd68e]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-46cbd68e]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-46cbd68e]{width:500px;overflow-y:auto;padding:40px}.title[data-v-46cbd68e]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-46cbd68e]{font-size:2em;color:#2c3e4e !important;font-weight:bold;padding:1rem}.card button[data-v-46cbd68e]{margin-top:40px}.shake[data-v-46cbd68e]{animation:shake-46cbd68e .5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)}@keyframes shake-46cbd68e{10%,90%{transform:translate3d(-1px, 0, 0)}20%,80%{transform:translate3d(2px, 0, 0)}30%,50%,70%{transform:translate3d(-4px, 0, 0)}40%,60%{transform:translate3d(4px, 0, 0)}}","",{version:3,sources:["webpack://./src/components/Settings.vue"],names:[],mappings:"AAGA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,wBAAA,CACA,gBAAA,CACA,YAAA,CAGF,8BACE,eAAA,CAEF,wBACE,sEAAA,CACA,8BAAA,CAEF,0BACE,QACE,iCAAA,CAEF,QACE,gCAAA,CAEF,YACE,iCAAA,CAEF,QACE,gCAAA,CAAA",sourcesContent:['@import "@scss/variables.scss";\n\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  width: 500px;\n  overflow-y: auto;\n  padding: 40px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color: $secondary !important;\n  font-weight: bold;\n  padding:1rem\n\n}\n.card button {\n  margin-top: 40px;\n}\n.shake {\n  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;\n  transform: translate3d(0, 0, 0);\n}\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n}\n'],sourceRoot:""}]);const a=r},1225:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(7537),o=i.n(n),s=i(3645),r=i.n(s)()(o());r.push([t.id,".left-panel[data-v-6c0bdcb5]{height:100%;background-color:#7ebaac;transition:.3s;position:absolute;display:flex;z-index:20}.left-panel-close[data-v-6c0bdcb5]{transition:.3s}.left-panel-content[data-v-6c0bdcb5]{display:inline-block;width:100%;flex-direction:column;justify-content:space-between;height:100%;overflow:auto}.v-list__tile[data-v-6c0bdcb5]{padding:0}.left-panel-toggle-btn[data-v-6c0bdcb5]{left:100%;width:25px;z-index:1;background-color:#7ebaac;display:flex;position:relative;align-items:center;justify-content:center;height:50px;transition:.3s;cursor:pointer}.left-panel-title[data-v-6c0bdcb5]{height:50px;line-height:55px;padding-left:20px;font-size:1.1em;margin-bottom:10px}.trip-list[data-v-6c0bdcb5]{height:height;padding-left:20px}.scrollable[data-v-6c0bdcb5]{overflow-y:scroll}.drawer-list-item[data-v-6c0bdcb5]{padding:0 13px !important;justify-content:flex-start !important;flex:0;transition:.3s}.list-item-icon[data-v-6c0bdcb5]{display:flex !important;flex-flow:row !important;justify-content:center !important;margin:0 !important;color:#fff}","",{version:3,sources:["webpack://./src/components/SidePanel.vue","webpack://./src/scss/variables.scss"],names:[],mappings:"AAGA,6BACE,WAAA,CACA,wBCJkB,CDKlB,cAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CAGF,mCACA,cAAA,CAEA,qCACE,oBAAA,CACA,UAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAEA,aAAA,CAGF,+BACE,SAAA,CAEF,wCACE,SAAA,CACA,UAAA,CACA,SAAA,CACA,wBC/BkB,CDgClB,YAAA,CACA,iBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,cAAA,CACA,cAAA,CAEF,mCACE,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEF,4BACE,aAAA,CACA,iBAAA,CAGF,6BACG,iBAAA,CAIH,mCACE,yBAAA,CACA,qCAAA,CACA,MAAA,CACA,cAAA,CAGF,iCACE,uBAAA,CACA,wBAAA,CACA,iCAAA,CACA,mBAAA,CACA,UAAA",sourcesContent:['@import "@scss/variables.scss";\n\n@import "src/scss/variables.scss";\n.left-panel {\n  height: 100%;\n  background-color: $primary-dark;\n  transition: 0.3s;\n  position: absolute;\n  display:flex;\n  z-index: 20;\n\n}\n.left-panel-close {\ntransition:0.3s\n}\n.left-panel-content {\n  display:inline-block;\n  width : 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  //resize: horizontal;\n  overflow: auto;\n\n}\n.v-list__tile {\n  padding: 0\n}\n.left-panel-toggle-btn {\n  left: 100%;\n  width: 25px;\n  z-index: 1;\n  background-color: $primary-dark;\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  height: 50px;\n  transition: 0.3s;\n  cursor: pointer;\n}\n.left-panel-title {\n  height: 50px;\n  line-height: 55px;\n  padding-left: 20px;\n  font-size: 1.1em;\n  margin-bottom: 10px;\n}\n.trip-list {\n  height: height;\n  padding-left:20px\n}\n\n.scrollable {\n   overflow-y:scroll;\n\n}\n\n.drawer-list-item {\n  padding: 0 13px !important;\n  justify-content: flex-start !important;\n  flex: 0;\n  transition: 0.3s;\n}\n\n.list-item-icon {\n  display: flex !important;\n  flex-flow: row !important;\n  justify-content: center !important;\n  margin: 0 !important;\n  color: white;\n}\n\n',"$primary          : #B5E0D6;\n$primary-dark     : #7EBAAC;\n$secondary        : #2C3E4E;\n$secondary-dark   : #0F1C27;\n$secondary-light  : #334453;\n\n$grey-ultralight  : #F5F5F5;\n$grey-light       : #E3E3E3;\n$grey-medium      : #9E9E9E;\n$grey-dark        : #5B5B5B;\n\n$negative         : #E42626;\n$warning          : #FF7B30;\n$positive         : #4CAF50;\n\n$chart-lightgreen : #CDDC39;\n$chart-darkgreen  : #4CAF50;\n$chart-lightblue  : #00BCD4;\n$chart-darkblue   : #2196F3;\n$chart-purple     : #673AB7;\n$chart-pink       : #E91E63;\n$chart-orange     : #FF7B30;\n$chart-yellow     : #FFC107;\n\n$list-item-padding : 0px;"],sourceRoot:""}]);const a=r},7315:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(7537),o=i.n(n),s=i(3645),r=i.n(s)()(o());r.push([t.id,".map-view[data-v-7a0c2e1a]{height:calc(100% - 50px);width:100%;display:flex}","",{version:3,sources:["webpack://./src/pages/Home.vue"],names:[],mappings:"AAEA,2BACE,wBAAA,CACA,UAAA,CACA,YAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.map-view {\n  height: calc(100% - 50px);\n  width: 100%;\n  display: flex;\n}\n\n'],sourceRoot:""}]);const a=r},2370:(t,e,i)=>{i.r(e),i.d(e,{default:()=>et});var n=function(){var t=this,e=t._self._c;return e("section",{staticClass:"map-view"},[e("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"300"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyAction.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelAction.apply(null,arguments)}]},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e("v-card",{attrs:{"max-height":"60rem"}},[t.editorForm.length>1?e("v-tabs",{attrs:{grow:""},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},t._l(t.selectedLink,(function(i){return e("v-tab",{key:i},[t._v("\n          "+t._s(i)+"\n        ")])})),1):t._e(),t._v(" "),e("v-card-title",{staticClass:"text-h5"},[t._v("\n        "+t._s(["deleteTrip","deleterGroup"].includes(t.action)?t.$gettext("Delete")+" "+t.message+"?":t.$gettext("Edit Properties"))+"\n      ")]),t._v(" "),e("v-divider"),t._v(" "),["Edit Line Info","Edit Link Info","Edit Node Info","Edit Group Info","Edit rLink Info","Edit Road Group Info","Edit Visible Road Info","Edit rNode Info"].includes(t.action)?e("v-card-text",[e("v-list",t._l(t.orderedForm,(function(i,n){return e("v-text-field",{key:n,attrs:{label:n,filled:!i.disabled,type:t.$store.getters.attributeType(n),placeholder:i.placeholder?t.$gettext("multiple Values"):"","persistent-placeholder":!!i.placeholder,disabled:i.disabled},on:{wheel:function(t){return t.target.blur()}},scopedSlots:t._u(["route_color"===n?{key:"append",fn:function(){return[e("color-picker",{model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"value['value']"}})]},proxy:!0}:null],null,!0),model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"value['value']"}})})),1)],1):t._e(),t._v(" "),["cloneTrip"].includes(t.action)?e("v-card-text",[e("v-text-field",{attrs:{label:t.$gettext("New name")},model:{value:t.cloneName,callback:function(e){t.cloneName=e},expression:"cloneName"}})],1):t._e(),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"grey",text:""},on:{click:t.cancelAction}},[t._v("\n          "+t._s(t.$gettext("Cancel"))+"\n        ")]),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.applyAction}},[t._v("\n          "+t._s(t.$gettext("Save"))+"\n        ")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"300"},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.duplicate()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancelClone.apply(null,arguments)}]},model:{value:t.cloneDialog,callback:function(e){t.cloneDialog=e},expression:"cloneDialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"text-h5"},[t._v(t._s(t.$gettext("Duplicate and reverse")))]),t._v(" "),e("span",{staticClass:"text-h5"},[t._v(t._s(t.message+" ?"))])]),t._v(" "),e("v-card-text",[e("v-text-field",{attrs:{label:t.$gettext("New name")},model:{value:t.cloneName,callback:function(e){t.cloneName=e},expression:"cloneName"}})],1),t._v(" "),e("v-card-text",{style:{textAlign:"center",color:"red"}},[t._v("\n        "+t._s(t.errorMessage)+"\n      ")]),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"grey",text:""},on:{click:t.cancelClone}},[t._v("\n          "+t._s(t.$gettext("Cancel"))+"\n        ")]),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.duplicate()}}},[t._v("\n          "+t._s(t.$gettext("Save"))+"\n        ")])],1)],1)],1),t._v(" "),e("SidePanel",{attrs:{"selected-trips":t.selectedTrips,"selectedr-group":t.selectedrGroup},on:{"update-tripList":t.updateSelectedTrips,confirmChanges:t.confirmChanges,abortChanges:t.abortChanges,deleteButton:t.deleteButton,cloneButton:t.cloneButton,propertiesButton:t.actionClick,isRoadMode:e=>t.isRoadMode=e}}),t._v(" "),e("Map",{ref:"mapref",attrs:{"selected-trips":t.selectedTrips,"is-road-mode":t.isRoadMode},on:{clickFeature:t.actionClick}})],1)};n._withStripped=!0;var o=function(){var t=this,e=t._self._c;return e("section",{class:t.showLeftPanel?"left-panel elevation-4":"left-panel-close",style:{width:t.showLeftPanel?"400px":"0px"}},[e("div",{staticClass:"left-panel-toggle-btn elevation-4",on:{click:function(e){return t.$store.commit("changeLeftPanel")}}},[e("v-icon",{attrs:{small:"",color:"secondary"}},[t._v("\n      "+t._s(t.showLeftPanel?"fas fa-chevron-left":"fas fa-chevron-right")+"\n    ")])],1),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLeftPanelContent,expression:"showLeftPanelContent"},{name:"resize",rawName:"v-resize",value:t.onResize,expression:"onResize"}],ref:"leftPanel",staticClass:"left-panel-content",attrs:{id:"left-panel"}},[e("div",[e("div",{style:{"margin-top":"20px","margin-bottom":"20px","margin-right":"20px"}},[e("v-tabs",{attrs:{"background-color":"secondarylight",dark:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",[t._v(t._s(t.$gettext("PT Links")))]),t._v(" "),e("v-tab",[t._v(t._s(t.$gettext("Road Links")))])],1),t._v(" "),e("LinksSidePanel",{directives:[{name:"show",rawName:"v-show",value:!t.roadMode,expression:"!roadMode"}],attrs:{height:t.height,"selected-trips":t.selectedTrips},on:{"update-tripList":e=>t.$emit("update-tripList",{type:"links",data:e}),confirmChanges:e=>t.$emit("confirmChanges",e),abortChanges:e=>t.$emit("abortChanges",e),cloneButton:e=>t.$emit("cloneButton",e),deleteButton:e=>t.$emit("deleteButton",e),propertiesButton:e=>t.$emit("propertiesButton",e)}}),t._v(" "),e("RoadSidePanel",{directives:[{name:"show",rawName:"v-show",value:t.roadMode,expression:"roadMode"}],attrs:{height:t.height,"selectedr-goup":t.selectedrGroup},on:{"update-tripList":e=>t.$emit("update-tripList",{type:"rlinks",data:e}),confirmChanges:e=>t.$emit("confirmChanges",e),abortChanges:e=>t.$emit("abortChanges",e),deleteButton:e=>t.$emit("deleteButton",e),propertiesButton:e=>t.$emit("propertiesButton",e)}})],1)])])])],1)};o._withStripped=!0;var s=function(){var t=this,e=t._self._c;return e("section",[e("v-card-title",{staticClass:"white--text secondary"},[e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"ma-2",attrs:{icon:"",color:"white"},on:{click:function(e){return t.showAll()}}},"v-btn",n,!1),i),[e("v-icon",{staticClass:"list-item-icon"},[t._v("\n            "+t._s(t.tripList==t.tripId?"fa-eye fa":"fa-eye-slash fa")+"\n          ")])],1)]}}])},[t._v(" "),e("span",[t._v(t._s(t.tripList==t.tripId?t.$gettext("Hide All"):t.$gettext("Show All")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"ma-2",attrs:{icon:"",color:"white"},on:{click:function(e){return t.propertiesButton(t.tripList)}}},"v-btn",n,!1),i),[e("v-icon",{staticClass:"list-item-icon"},[t._v("\n            fas fa-list\n          ")])],1)]}}])},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Visibles Properties")))])]),t._v(" "),e("v-spacer"),t._v("\n    "+t._s(t.$gettext("Lines"))+"\n    "),e("v-spacer"),t._v(" "),e("v-spacer"),t._v(" "),e("v-menu",{attrs:{"offset-y":"","open-on-hover":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"ma-2",attrs:{icon:"",color:"white",dark:""}},"v-btn",n,!1),i),[e("v-icon",[t._v("fa-solid fa-download")])],1)]}}])},[t._v(" "),e("v-list",[e("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$store.commit("exportFiles")}}},[e("v-list-item-title",[t._v("\n            "+t._s(t.$gettext("Export All"))+"\n          ")])],1),t._v(" "),e("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$store.commit("exportFiles","visibles")}}},[e("v-list-item-title",[t._v("\n            "+t._s(t.$gettext("Export Only Visible"))+"\n          ")])],1)],1)],1)],1),t._v(" "),e("v-card",{staticClass:"mx-auto scrollable",attrs:{"max-width":"100%","min-width":"100%",height:t.height}},[e("v-list-item",[e("v-select",{attrs:{items:t.filterChoices,"prepend-icon":"fas fa-filter",label:"filter","item-color":"secondary",color:"secondary"},model:{value:t.vmodelSelectedFilter,callback:function(e){t.vmodelSelectedFilter=e},expression:"vmodelSelectedFilter"}})],1),t._v(" "),t._l(t.classifiedTripId,(function(i,n){return e("v-list-group",{key:String(i.name)+String(n),attrs:{color:"secondary",value:!1,"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[e("v-list-item-action",[e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.showGroup(i.tripId)}}},"v-btn",o,!1),n),[e("v-icon",{staticClass:"list-item-icon"},[t._v("\n                  "+t._s(i.tripId.some((e=>t.tripList.includes(e)))?"fa-eye fa":"fa-eye-slash fa")+"\n                ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v("\n              "+t._s(i.tripId.some((e=>t.tripList.includes(e)))?t.$gettext("Hide All"):t.$gettext("Show All"))+"\n            ")])])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[e("strong",[t._v("\n              "+t._s("undefined"==i.name?t.$gettext(i.name):i.name)+"\n            ")])])],1),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:null!=t.editorTrip},on:{click:function(e){return e.stopPropagation(),t.propertiesButton(i.tripId)}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{color:"regular"}},[t._v("\n                fas fa-list\n              ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Group Properties")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!t.editorTrip},on:{click:function(e){return e.stopPropagation(),t.deleteButton({trip:i.tripId,message:i.name,action:"deleteTrip"})}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{small:"",color:"regular"}},[t._v("\n                fas fa-trash\n              ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Delete Group")))])])]},proxy:!0}],null,!0)},[t._v(" "),e("v-virtual-scroll",{attrs:{items:i.tripId,"item-height":45,height:Math.min(t.height-220,45*i.tripId.length+3)},scopedSlots:t._u([{key:"default",fn:function({item:i}){return[e("v-list-item",{key:i,staticClass:"pl-2"},[e("v-list-item-action",[e("v-checkbox",{staticClass:"pl-2",attrs:{"on-icon":"fa-eye fa","off-icon":"fa-eye-slash fa",color:"primary",value:i,size:"10","hide-details":""},model:{value:t.tripList,callback:function(e){t.tripList=e},expression:"tripList"}})],1),t._v(" "),i==t.editorTrip?e("v-list-item-title",[e("strong",[t._v(t._s(i))])]):e("v-list-item-title",[t._v("\n              "+t._s(i)+"\n            ")]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!(i!=t.editorTrip&null!=t.editorTrip)},on:{click:function(e){return t.editButton(i)}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{color:(t.editorTrip,"regular")}},[t._v("\n                    fas fa-pen\n                  ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Line")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!(i!=t.editorTrip&null!=t.editorTrip)},on:{click:function(e){return t.propertiesButton(i)}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{color:(t.editorTrip,"regular")}},[t._v("\n                    fas fa-list\n                  ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Line Properties")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!(i!=t.editorTrip&null!=t.editorTrip)},on:{click:function(e){return t.cloneButton({trip:i,message:i})}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{color:(t.editorTrip,"regular")}},[t._v("\n                    fas fa-clone\n                  ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Duplicate")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!!t.editorTrip},on:{click:function(e){return t.deleteButton({trip:i,message:i,action:"deleteTrip"})}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{small:"",color:"regular"}},[t._v("\n                    fas fa-trash\n                  ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Delete Line")))])])],1)]}}],null,!0)})],1)})),t._v(" "),e("v-divider")],2),t._v(" "),e("v-card",{staticClass:"mx-auto"},[t.editorTrip?e("v-list-item",[e("v-tooltip",{attrs:{right:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{color:t.$store.getters.anchorMode?"grey":"regular"},on:{click:function(e){return t.$store.commit("changeAnchorMode")}}},"v-btn",n,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("\n              fas fa-bezier-curve\n            ")])],1)]}}],null,!1,724455018)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Line geometry")))])]),t._v(" "),e("v-btn",{on:{click:function(e){return t.$emit("abortChanges")}}},[e("v-icon",{attrs:{small:"",left:""}},[t._v("\n          fas fa-times-circle\n        ")]),t._v("\n        "+t._s(t.$gettext("Abort"))+"\n      ")],1),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$emit("confirmChanges")}}},[e("v-icon",{attrs:{small:"",left:""}},[t._v("\n          fas fa-save\n        ")]),t._v("\n        "+t._s(t.$gettext("Confirm"))+"\n      ")],1)],1):t._e(),t._v(" "),e("v-list-item",{directives:[{name:"show",rawName:"v-show",value:!t.editorTrip,expression:"editorTrip ? false: true"}]},[e("v-spacer"),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"text--primary",attrs:{color:"primary",fab:"",small:""},on:{click:t.createNewLine}},"v-btn",n,!1),i),[e("v-icon",[t._v("fas fa-plus")])],1)]}}])},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Create new Line")))])])],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"290"},on:{keydown:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$emit("confirmChanges"),t.showDialog=!t.showDialog},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showDialog=!1}]},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v("\n        "+t._s(t.$gettext("Save Changes?"))+"\n      ")]),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"regular",left:""},on:{click:function(e){t.showDialog=!1}}},[t._v("\n          "+t._s(t.$gettext("Cancel"))+"\n        ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"regular"},on:{click:function(e){t.$emit("abortChanges"),t.showDialog=!t.showDialog}}},[t._v("\n          "+t._s(t.$gettext("No"))+"\n        ")]),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.$emit("confirmChanges"),t.showDialog=!t.showDialog}}},[t._v("\n          "+t._s(t.$gettext("Yes"))+"\n        ")])],1)],1)],1)],1)};s._withStripped=!0;const r=i(7597),a={name:"LinksSidePanel",components:{},props:["selectedTrips","height"],events:["selectEditorTrip","confirmChanges","abortChanges","cloneButton","deleteButton","propertiesButton","newLine"],data:()=>({showDialog:!1,tripList:[],selectedFilter:"",vmodelSelectedFilter:""}),computed:{filterChoices(){return this.$store.getters.lineAttributes},editorTrip(){return this.$store.getters.editorTrip},tripId(){return this.$store.getters.tripId},arrayUniqueTripId(){return[...new Map(this.$store.getters.links.features.map((t=>[t.properties.trip_id,t.properties]))).values()]},filteredCat(){return Array.from(new Set(this.arrayUniqueTripId.map((t=>t[this.selectedFilter]))))},classifiedTripId(){const t=[],e={name:"undefined",tripId:[]};return this.filteredCat.forEach((i=>{const n=this.arrayUniqueTripId.filter((t=>t[this.selectedFilter]===i)).map((t=>t.trip_id));null===i|""===i|void 0===i?e.tripId.push(...n):t.push({name:i,tripId:n})})),e.tripId.length>0&&t.push(e),t}},watch:{tripList(t){this.$emit("update-tripList",t)},tripId(t,e){if(t.length<e.length)this.tripList=this.tripList.filter((e=>t.includes(e)));else if(t.length>e.length){const i=t.filter((t=>!e.includes(t)))[0];this.tripList.push(i)}else{const i={};e.forEach((function(e,n){i[e]=t[n]})),this.tripList=this.tripList.map((t=>i[t]))}},vmodelSelectedFilter(t,e){this.selectedFilter=t,this.filteredCat.length>500&&(this.selectedFilter=e,this.$store.commit("changeNotification",{text:"Cannot filter by this field. There is more than 500 groups",autoClose:!0,color:"red darken-2"}),this.$nextTick((()=>this.vmodelSelectedFilter=e)))}},created(){this.tripList=this.selectedTrips,this.selectedFilter="route_type",this.vmodelSelectedFilter=this.selectedFilter},methods:{editButton(t){this.editorTrip===t?this.showDialog=!0:(this.$store.commit("setEditorTrip",{tripId:t,changeBounds:!0}),this.$store.commit("changeNotification",{text:"",autoClose:!0}))},propertiesButton(t){"object"==typeof t?this.$emit("propertiesButton",{action:"Edit Group Info",lingering:!1,tripIds:t}):this.editorTrip?(this.$emit("propertiesButton",{action:"Edit Line Info",lingering:!0}),this.$store.commit("changeNotification",{text:"",autoClose:!0})):(this.$store.commit("setEditorTrip",{tripId:t,changeBounds:!1}),this.$emit("propertiesButton",{action:"Edit Line Info",lingering:!1}))},createNewLine(){const t="trip_"+r.generate();this.$store.commit("setEditorTrip",{tripId:t,changeBounds:!1}),this.$emit("propertiesButton",{action:"Edit Line Info",lingering:!0})},cloneButton(t){this.$emit("cloneButton",t)},deleteButton(t){this.$emit("deleteButton",t)},showAll(){this.tripList===this.tripId?this.tripList=[]:this.tripList=this.tripId},showGroup(t){t.some((t=>this.tripList.includes(t)))?this.tripList=this.tripList.filter((e=>!t.includes(e))):this.tripList=Array.from(new Set([...this.tripList,...t]))}}};var l=i(3379),d=i.n(l),c=i(7795),p=i.n(c),h=i(569),A=i.n(h),u=i(3565),m=i.n(u),g=i(9216),v=i.n(g),f=i(4589),C=i.n(f),b=i(1509),y={};y.styleTagTransform=C(),y.setAttributes=m(),y.insert=A().bind(null,"head"),y.domAPI=p(),y.insertStyleElement=v(),d()(b.Z,y),b.Z&&b.Z.locals&&b.Z.locals;var k=i(1900);const x=(0,k.Z)(a,s,[],!1,null,"4621d0f6",null).exports;var w=function(){var t=this,e=t._self._c;return e("section",[e("v-card-title",{staticClass:"white--text secondary"},[e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"ma-2",attrs:{icon:"",color:"white"},on:{click:function(e){return t.showAll()}}},"v-btn",n,!1),i),[e("v-icon",{staticClass:"list-item-icon"},[t._v("\n            "+t._s(t.tripList.length>0?"fa-eye fa":"fa-eye-slash fa")+"\n          ")])],1)]}}])},[t._v(" "),e("span",[t._v(t._s(t.tripList.length>0?t.$gettext("Hide All"):t.$gettext("Show All")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"ma-2",attrs:{icon:"",color:"white",disabled:0===t.tripList.length},on:{click:function(e){return t.editVisible()}}},"v-btn",n,!1),i),[e("v-icon",{staticClass:"list-item-icon"},[t._v("\n            fas fa-list\n          ")])],1)]}}])},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Visibles Properties")))])]),t._v(" "),e("v-spacer"),t._v("\n    "+t._s(t.$gettext("Roads"))+"\n    "),e("v-spacer"),t._v(" "),e("v-spacer"),t._v(" "),e("v-menu",{attrs:{"offset-y":"","open-on-hover":"","close-delay":"100",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"ma-2",attrs:{icon:"",color:"white",dark:""}},"v-btn",n,!1),i),[e("v-icon",[t._v("fa-solid fa-download")])],1)]}}])},[t._v(" "),e("v-list",[e("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$store.commit("exportFiles","all")}}},[e("v-list-item-title",[t._v("\n            "+t._s(t.$gettext("Export All"))+"\n          ")])],1),t._v(" "),e("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$store.commit("exportFiles","visible")}}},[e("v-list-item-title",[t._v("\n            "+t._s(t.$gettext("Export Only Visible"))+"\n          ")])],1)],1)],1)],1),t._v(" "),e("v-card",{staticClass:"mx-auto scrollable",attrs:{"max-width":"100%","min-width":"100%",height:t.height}},[e("v-list-item",[e("v-select",{attrs:{items:t.filterChoices,"prepend-icon":"fas fa-filter",label:"filter","item-color":"secondary",color:"secondary"},model:{value:t.vmodelSelectedFilter,callback:function(e){t.vmodelSelectedFilter=e},expression:"vmodelSelectedFilter"}})],1),t._v(" "),e("v-virtual-scroll",{attrs:{items:t.filteredCat,"item-height":45,height:t.height-71},scopedSlots:t._u([{key:"default",fn:function({item:i}){return[e("v-list-item",{key:t.vmodelSelectedFilter.concat(i),staticClass:"pl-2"},[e("v-list-item-action",[e("v-checkbox",{staticClass:"pl-2",attrs:{"on-icon":"fa-eye fa","off-icon":"fa-eye-slash fa",color:"primary",value:i,size:"10","hide-details":""},model:{value:t.tripList,callback:function(e){t.tripList=e},expression:"tripList"}})],1),t._v(" "),e("v-list-item-title",[t._v("\n            "+t._s(i)+"\n          ")]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!1},on:{click:function(e){return t.propertiesButton(i)}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{color:"regular"}},[t._v("\n                  fas fa-list\n                ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Line Properties")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:n,attrs:o}){return[e("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{icon:"",disabled:!1},on:{click:function(e){return t.deleteButton({trip:i,group:t.selectedFilter,message:i,action:"deleterGroup"})}}},"v-btn",o,!1),n),[e("v-icon",{attrs:{small:"",color:"regular"}},[t._v("\n                  fas fa-trash\n                ")])],1)]}}],null,!0)},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Delete Line")))])])],1)]}}])}),t._v(" "),e("v-divider")],1),t._v(" "),e("v-card",{staticClass:"mx-auto"},[e("v-list-item",[e("v-tooltip",{attrs:{right:"","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{color:t.$store.getters.anchorMode?"grey":"regular"},on:{click:function(e){return t.$store.commit("changeAnchorMode")}}},"v-btn",n,!1),i),[e("v-icon",{attrs:{small:""}},[t._v("\n              fas fa-bezier-curve\n            ")])],1)]}}])},[t._v(" "),e("span",[t._v(t._s(t.$gettext("Edit Line geometry")))])]),t._v(" "),e("v-spacer")],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"","max-width":"290"},on:{keydown:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.$emit("confirmChanges"),t.showDialog=!t.showDialog},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.showDialog=!1}]},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e("v-card",[e("v-card-title",{staticClass:"text-h5"},[t._v("\n        "+t._s(t.$gettext("Save Changes?"))+"\n      ")]),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"regular",left:""},on:{click:function(e){t.showDialog=!1}}},[t._v("\n          "+t._s(t.$gettext("Cancel"))+"\n        ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"regular"},on:{click:function(e){t.$emit("abortChanges"),t.showDialog=!t.showDialog}}},[t._v("\n          "+t._s(t.$gettext("No"))+"\n        ")]),t._v(" "),e("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.$emit("confirmChanges"),t.showDialog=!t.showDialog}}},[t._v("\n          "+t._s(t.$gettext("Yes"))+"\n        ")])],1)],1)],1)],1)};w._withStripped=!0;const _={name:"RoadSidePanel",components:{},props:["selectedrGoup","height"],events:["selectEditorTrip","confirmChanges","abortChanges","deleteButton","propertiesButton","newLine"],data(){return{showDialog:!1,tripList:this.selectedrGoup,selectedFilter:"",vmodelSelectedFilter:""}},computed:{filterChoices(){return this.$store.getters.rlineAttributes},filteredCat(){return this.$store.getters.filteredrCategory}},watch:{tripList(t,e){let i="",n="add";t===this.filteredCat?(i=t,n="showAll"):0===t.length?(i=[],n="hideAll"):t.length<e.length?(i=e.filter((e=>!t.includes(e))),n="remove"):t.length>e.length&&(i=t.filter((t=>!e.includes(t))),n="add"),""!==i&&this.$emit("update-tripList",{category:this.vmodelSelectedFilter,data:i,method:n})},selectedrGoup(t){const e=new Set(t),i=new Set(this.tripList);e.size===i.size&&new Set([...e,...i]).size===e.size||(this.tripList=structuredClone(t))},vmodelSelectedFilter(t,e){this.selectedFilter=t,this.$store.commit("changeSelectedrFilter",this.selectedFilter),e&&(this.tripList=[])}},mounted(){this.tripList=this.selectedrGoup,this.selectedFilter=this.$store.getters.selectedrFilter,this.vmodelSelectedFilter=this.selectedFilter},methods:{propertiesButton(t){this.$emit("propertiesButton",{action:"Edit Road Group Info",lingering:!1,category:this.vmodelSelectedFilter,group:t})},editVisible(){this.$emit("propertiesButton",{action:"Edit Visible Road Info",lingering:!1})},deleteButton(t){this.$emit("deleteButton",t)},showAll(){this.tripList===this.filteredCat?this.tripList=[]:this.tripList=this.filteredCat},showGroup(t){this.tripList=Array.from(new Set([...this.tripList,...t]))}}};var $=i(5750),E={};E.styleTagTransform=C(),E.setAttributes=m(),E.insert=A().bind(null,"head"),E.domAPI=p(),E.insertStyleElement=v(),d()($.Z,E),$.Z&&$.Z.locals&&$.Z.locals;const B={name:"SidePanel",components:{LinksSidePanel:x,RoadSidePanel:(0,k.Z)(_,w,[],!1,null,"71d6d73f",null).exports},props:["selectedTrips","selectedrGroup"],events:["selectEditorTrip","confirmChanges","abortChanges","cloneButton","deleteButton","propertiesButton","newLine","isRoadMode"],data:()=>({showLeftPanelContent:!0,height:null,tab:0,roadMode:!1}),computed:{showLeftPanel(){return this.$store.getters.showLeftPanel}},watch:{showLeftPanel(t){t?setTimeout((()=>{this.showLeftPanelContent=!0}),500):this.showLeftPanelContent=!1},tab(t){this.roadMode=1===t,this.$emit("isRoadMode",this.roadMode)}},created(){this.height=window.innerHeight-80-60-60},methods:{onResize(){this.height=this.$refs.leftPanel.clientHeight-250}}};var L=i(1225),I={};I.styleTagTransform=C(),I.setAttributes=m(),I.insert=A().bind(null,"head"),I.domAPI=p(),I.insertStyleElement=v(),d()(L.Z,I),L.Z&&L.Z.locals&&L.Z.locals;const F=(0,k.Z)(B,o,[],!1,null,"6c0bdcb5",null).exports;var N=function(){var t=this,e=t._self._c;return e("MglMap",{style:{width:"100%"},attrs:{"access-token":t.mapboxPublicKey,"map-style":"mapbox://styles/mapbox/light-v9?optimize=true"},on:{load:t.onMapLoaded,mousemove:t.draw,mouseout:function(e){return t.resetDraw()},click:t.addPoint,mouseup:t.rightClickMap}},[e("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!1,origin:"top right",transition:"scale-transition","position-y":30,"nudge-width":200,"offset-x":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:n}){return[e("v-btn",t._g(t._b({staticClass:"setting",attrs:{fab:"",small:""}},"v-btn",n,!1),i),[e("v-icon",{attrs:{color:"regular"}},[t._v("\n          fa-solid fa-cog\n        ")])],1)]}}]),model:{value:t.showSettings,callback:function(e){t.showSettings=e},expression:"showSettings"}},[t._v(" "),t.showSettings?e("Settings",{on:{submit:function(e){t.showSettings=!1}}}):t._e()],1),t._v(" "),e("MglScaleControl",{attrs:{position:"bottom-right"}}),t._v(" "),e("MglNavigationControl",{attrs:{position:"bottom-right"}}),t._v(" "),t.mapIsLoaded&&!t.$store.getters.rlinksIsEmpty?[e("RoadLinks",t._g({ref:"roadref",attrs:{map:t.map,"is-editor-mode":t.isEditorMode,"is-road-mode":t.isRoadMode,"anchor-mode":t.anchorMode}},t.isEditorMode?{}:t.anchorMode?{clickFeature:t.clickFeature}:{onHover:t.onHoverRoad,offHover:t.offHover,clickFeature:t.clickFeature}))]:t._e(),t._v(" "),t.mapIsLoaded&&!t.$store.getters.linksIsEmpty?[e("StaticLinks",{attrs:{map:t.map,"showed-trips":t.selectedTrips,"is-editor-mode":t.isEditorMode},on:{rightClick:e=>t.$emit("clickFeature",e)}})]:t._e(),t._v(" "),!t.mapIsLoaded||t.$store.getters.linksIsEmpty&&!t.isEditorMode?t._e():[e("EditorLinks",t._g({attrs:{map:t.map,"anchor-mode":t.anchorMode}},t.anchorMode?{clickFeature:t.clickFeature}:{onHover:t.onHover,offHover:t.offHover,clickFeature:t.clickFeature}))],t._v(" "),t.mapIsLoaded?[t.drawMode?e("MglGeojsonLayer",{attrs:{"source-id":"drawLink",source:{type:"geojson",data:t.drawLink,buffer:0,generateId:!0},"layer-id":"drawLink",layer:{type:"line",minzoom:2,paint:{"line-opacity":1,"line-color":"#7EBAAC","line-width":["case",["boolean",t.connectedDrawLink,!1],5,3],"line-dasharray":["case",["boolean",t.connectedDrawLink,!1],["literal",[]],["literal",[0,2,4]]]}}}}):t._e()]:t._e()],2)};N._withStripped=!0;var S=i(6158),T=i.n(S),M=i(1963),D=i(9182),P=i(9903),R=i.n(P),z=function(){var t=this,e=t._self._c;return e("v-card",{class:{shake:t.shake},attrs:{"max-width":300},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel.apply(null,arguments)}]}},[e("v-card-title",{staticClass:"subtitle"},[t._v("\n    "+t._s(t.$gettext("Settings"))+"\n  ")]),t._v(" "),e("v-card-text",[e("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e("v-container",[e("v-col",[e("v-text-field",{attrs:{type:t.linkSpeed.type,label:t.$gettext(t.linkSpeed.name),suffix:t.linkSpeed.units,hint:t.showHint?t.$gettext(t.linkSpeed.hint):"","persistent-hint":t.showHint,rules:t.rules,required:""},on:{wheel:()=>{}},model:{value:t.linkSpeed.value,callback:function(e){t.$set(t.linkSpeed,"value",e)},expression:"linkSpeed.value"}}),t._v(" "),e("v-text-field",{attrs:{type:t.roadSpeed.type,label:t.$gettext(t.roadSpeed.name),suffix:t.roadSpeed.units,hint:t.showHint?t.$gettext(t.roadSpeed.hint):"","persistent-hint":t.showHint,rules:t.rules,required:""},on:{wheel:()=>{}},model:{value:t.roadSpeed.value,callback:function(e){t.$set(t.roadSpeed,"value",e)},expression:"roadSpeed.value"}}),t._v(" "),e("v-select",{attrs:{items:t.linksPopupContent.choices,label:t.$gettext(t.linksPopupContent.name),hint:t.showHint?t.$gettext(t.linksPopupContent.hint):"","persistent-hint":t.showHint,required:""},model:{value:t.linksPopupContent.value,callback:function(e){t.$set(t.linksPopupContent,"value",e)},expression:"linksPopupContent.value"}}),t._v(" "),e("v-select",{attrs:{items:t.roadsPopupContent.choices,label:t.$gettext(t.roadsPopupContent.name),hint:t.showHint?t.$gettext(t.roadsPopupContent.hint):"","persistent-hint":t.showHint,required:""},model:{value:t.roadsPopupContent.value,callback:function(e){t.$set(t.roadsPopupContent,"value",e)},expression:"roadsPopupContent.value"}}),t._v(" "),e("v-text-field",{attrs:{type:t.defaultHighway.type,label:t.$gettext(t.defaultHighway.name),suffix:t.defaultHighway.units,hint:t.showHint?t.$gettext(t.defaultHighway.hint):"","persistent-hint":t.showHint,rules:t.zipRules,required:""},model:{value:t.defaultHighway.value,callback:function(e){t.$set(t.defaultHighway,"value",e)},expression:"defaultHighway.value"}}),t._v(" "),e("v-text-field",{attrs:{type:t.outputName.type,label:t.$gettext(t.outputName.name),suffix:t.outputName.units,hint:t.showHint?t.$gettext(t.outputName.hint):"","persistent-hint":t.showHint,rules:t.zipRules,required:""},model:{value:t.outputName.value,callback:function(e){t.$set(t.outputName,"value",e)},expression:"outputName.value"}})],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"grey",text:""},on:{click:t.cancel}},[t._v("\n      "+t._s(t.$gettext("Cancel"))+"\n    ")]),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.submit}},[t._v("\n      "+t._s(t.$gettext("Save"))+"\n    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.showHint=!t.showHint}}},[e("v-icon",[t._v("far fa-question-circle small")])],1)],1)],1)};z._withStripped=!0;const H={name:"Settings",events:["submit"],data(){return{linkSpeed:{name:"PT speed",type:"Number",value:this.$store.getters.linkSpeed,units:"km/h",hint:"Speed used to calculate travel time when a link is drawn, extend or a node is moved"},roadSpeed:{name:"Road speed",type:"Number",value:this.$store.getters.roadSpeed,units:"km/h",hint:"Speed used to calculate road travel time when a link is drawn"},linksPopupContent:{name:"PT Popup Content",type:"String",choices:this.$store.getters.linksPopupChoices,value:this.$store.getters.linksPopupContent,hint:"Link field to display when hovering a trip on the map"},roadsPopupContent:{name:"Road Popup Content",type:"String",choices:this.$store.getters.roadPopupChoices,value:this.$store.getters.roadsPopupContent,hint:"Link field to display when hovering road link on the map"},defaultHighway:{name:"Road Highway name",type:"String",value:this.$store.getters.defaultHighway,hint:"New road links Highway property name"},outputName:{name:"Export name",type:"String",value:this.$store.getters.outputName,units:".zip",hint:"the name of the exported zip file"},errorMessage:null,showHint:!1,shake:!1,rules:[t=>!!t||"Required",t=>t>=0||"should be larger than 0"],zipRules:[t=>".zip"!==t.slice(-4)||"do not add .zip to the end"],showDialog:!0}},methods:{submit(){if(this.$refs.form.validate()){const t={linkSpeed:this.linkSpeed.value,roadSpeed:this.roadSpeed.value,linksPopupContent:this.linksPopupContent.value,roadsPopupContent:this.roadsPopupContent.value,outputName:this.outputName.value,defaultHighway:this.defaultHighway.value};this.$store.commit("applySettings",t),this.$emit("submit",!0),this.$store.commit("changeNotification",{text:"modification applied",autoClose:!0,color:"success"})}else this.shake=!0,setTimeout((()=>{this.shake=!1}),500)},cancel(){this.$emit("submit",!1)}}};var G=i(9552),Z={};Z.styleTagTransform=C(),Z.setAttributes=m(),Z.insert=A().bind(null,"head"),Z.domAPI=p(),Z.insertStyleElement=v(),d()(G.Z,Z),G.Z&&G.Z.locals&&G.Z.locals;const j=(0,k.Z)(H,z,[],!1,null,"46cbd68e",null).exports,q={name:"Map",components:{MglMap:M.Q3,MglNavigationControl:M.RV,MglScaleControl:M.RQ,MglGeojsonLayer:M.tf,StaticLinks:()=>i.e(265).then(i.bind(i,9265)),EditorLinks:()=>i.e(681).then(i.bind(i,8681)),RoadLinks:()=>Promise.all([i.e(452),i.e(100)]).then(i.bind(i,9100)),Settings:j},props:{selectedTrips:{type:Array,default:()=>[]},isRoadMode:{type:Boolean,default:!1}},events:["clickFeature"],data:()=>({mapboxPublicKey:null,selectedFeature:null,isEditorMode:!1,mapIsLoaded:!1,drawMode:!1,hoverId:null,hoverLayer:null,mapDiv:null,drawLink:null,mouseout:!1,selectedNode:{id:null,layerId:null},connectedDrawLink:!1,showSettings:!1}),computed:{showLeftPanel(){return this.$store.getters.showLeftPanel},editorTrip(){return this.$store.getters.editorTrip},editorNodes(){return this.$store.getters.editorNodes},firstNode(){return this.$store.getters.firstNode},lastNode(){return this.$store.getters.lastNode},anchorMode(){return this.$store.getters.anchorMode}},watch:{showLeftPanel(){setTimeout((()=>this.map.resize()),250)},anchorMode(t){t?(this.drawMode=!1,this.$store.commit("changeNotification",{text:"Left click to add an anchor point, right click to delete",autoClose:!1})):this.$store.commit("changeNotification",{text:"",autoClose:!0})},isRoadMode(t){t||(this.drawMode=!1)},editorNodes(t,e){if(this.$store.commit("setAnchorMode",!1),this.isEditorMode=t.features.length>0,this.isEditorMode&&this.$store.getters.changeBounds){const e=new(T().LngLatBounds);t.features.forEach((t=>{e.extend(t.geometry.coordinates)})),this.map.fitBounds(e,{padding:100})}},drawMode(t){this.map?.getStyle().layers.filter((t=>"drawLink"===t.id)).length>0&&(t?this.map.setLayoutProperty("drawLink","visibility","visible"):this.map.setLayoutProperty("drawLink","visibility","none"))},editorTrip(t){t&&(this.isEditorMode=!0,this.connectedDrawLink=!1)},isEditorMode(t){t&&this.editorNodes.features.length>0&&!this.anchorMode&&this.mapIsLoaded?this.drawMode=!0:this.drawMode=!1,!t&this.drawMode&&(this.drawMode=!1)},"firstNode.geometry.coordinates"(t){this.editorTrip&&(this.drawLink=R()([t,t]),this.selectedNode.layerId="nodes",this.selectedNode.id=this.firstNode.properties.index)},"lastNode.geometry.coordinates"(t){this.editorTrip&&(this.drawLink=R()([t,t]),this.selectedNode.layerId="nodes",this.selectedNode.id=this.lastNode.properties.index)}},created(){this.editorTrip&&(this.isEditorMode=!0),this.mapboxPublicKey=D.C,this.drawLink=structuredClone(this.$store.getters.linksHeader)},methods:{onMapLoaded(t){const e=new(T().LngLatBounds);this.$store.getters.links.features.length>0?this.$store.getters.links.features.forEach((t=>{e.extend([t.geometry.coordinates[0],t.geometry.coordinates[t.geometry.coordinates.length-1]])})):this.$store.getters.rlinks.features.forEach((t=>{e.extend([t.geometry.coordinates[0],t.geometry.coordinates[t.geometry.coordinates.length-1]])})),0!==Object.keys(e).length&&t.map.fitBounds(e,{padding:100}),t.map.loadImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAhCAYAAADOHBvaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGzSURBVHgBvZcxUsJAFIbfe2gfb4A38AhQOJbijNZwA7TXIYW9R8BeHWjFQm7AEfQIaSw0ZNdNJoyE5CXvJcSv2tl98OfN7LebINTg9vV5QARTsBAYCzf3Z5dzUEJQA0J4cKGeG3bdeOq/zzxQog6+W7yM4sCtKS/6Xo9AiToYwU5yf0J4DkpUwf7bUw+y3SZYgF661k6wtTTk13ACClBa6DZQ14TRR1kNHXaO/P5FAALEHdvQVHZkftbXIEQeDLZXWYQ4lqolCi5QiEOslii4SCG2lmAoqasM5hQqiT6RqFUZbIHGoESiVqlOEoU4nFrHTq1Pdr3sxxKFONwDl6rFdhx3a8No5Y5D9c2TEqRdFx4obMdRaHoNQmO8sgOFDdYoxII4VAUrDowqupxaVDxpRYeABE6t3OZqohAHoe37p1fLzNxuUROFOIzFwe5cpuM2uk3JqZXpOFYI2iGnViZ4LwpxuLu6MHiPCnF422rR32B/CnFsq5VsLn8xOzEQreAf2KiVdGzBqO/cumxekbFFhTgStahFhTiSF0LqYKOrrxYdooDggB4RUf19Wxe3m5fwRfNfmmG2eRYZIh0AAAAASUVORK5CYII=",(function(e,i){e?console.error("err image",e):t.map.addImage("arrow",i,{sdf:!0})})),this.map=t.map,t.map.dragRotate.disable(),this.mapIsLoaded=!0},draw(t){if(!this.connectedDrawLink&&(this.drawMode&&this.mouseout&&(this.map.setLayoutProperty("drawLink","visibility","visible"),this.mouseout=!1),this.drawMode&&!this.anchorMode)){const e=[this.drawLink.geometry.coordinates[0],Object.values(t.mapboxEvent.lngLat)];this.drawLink=R()(e)}},addPoint(t){if(this.drawMode){if("rnodes"===this.selectedNode.layerId){const e=Object.values(t.mapboxEvent.lngLat),i={nodeIdA:this.selectedNode.id,nodeIdB:this.hoverId,geom:e,layerId:this.hoverLayer};this.$store.commit("createrLink",i),this.drawMode=!1,this.onHoverRoad({layerId:"rnodes",selectedId:[i.nodeIdB]}),this.offHover(),this.$refs.roadref.getBounds()}else if(this.drawMode&!this.anchorMode&!this.hoverId){const e=this.selectedNode.id===this.$store.getters.lastNodeId?"Extend Line Upward":"Extend Line Downward",i=Object.values(t.mapboxEvent.lngLat);this.$store.commit("applyNewLink",{nodeId:this.selectedNode.id,geom:i,action:e})}}else 0===this.editorNodes.features.length&&this.editorTrip&&(this.$store.commit("createNewNode",Object.values(t.mapboxEvent.lngLat)),this.$store.commit("changeNotification",{text:"",autoClose:!0}))},resetDraw(t){this.drawMode&&(this.mouseout=!0,this.map.setLayoutProperty("drawLink","visibility","none"))},rightClickMap(t){2===t.mapboxEvent.originalEvent.button&!this.hoverId&&(this.drawMode=!1)},onHover(t){if(this.hoverId=t.selectedId,this.drawMode&&this.map.setLayoutProperty("drawLink","visibility","none"),[this.$store.getters.lastNodeId,this.$store.getters.firstNodeId].includes(this.hoverId)){const e=this.$store.getters.editorNodes.features.filter((e=>e.properties.index===t.selectedId));this.drawLink=R()([e[0].geometry.coordinates,e[0].geometry.coordinates]),this.selectedNode.id=this.hoverId,this.selectedNode.layerId=t.layerId,this.drawMode=!0}},onHoverRoad(t){if("rnodes"===t?.layerId)if(this.hoverLayer=t.layerId,this.hoverId=t.selectedId[0],this.drawMode)this.connectedDrawLink=!0;else{this.connectedDrawLink=!1;const t=this.$store.getters.visiblerNodes.features.filter((t=>t.properties.index===this.hoverId));this.drawLink=R()([t[0].geometry.coordinates,t[0].geometry.coordinates]),this.drawMode=!0,this.connectedDrawLink=!1,this.selectedNode.id=this.hoverId,this.selectedNode.layerId=this.hoverLayer}else"rlinks"===t?.layerId&&(this.hoverLayer=t.layerId,this.hoverId=t.selectedId)},offHover(t){this.hoverId=null,this.hoverLayer=null,this.drawMode&&(this.map.setLayoutProperty("drawLink","visibility","visible"),this.connectedDrawLink=!1)},clickFeature(t){["Move rNode","Delete rLink"].includes(t.action)&&(this.drawMode=!1),"Add Road Node Inline"===t.action&&this.drawMode||this.$emit("clickFeature",t)}}};var O=i(906),U={};U.styleTagTransform=C(),U.setAttributes=m(),U.insert=A().bind(null,"head"),U.domAPI=p(),U.insertStyleElement=v(),d()(O.Z,U),O.Z&&O.Z.locals&&O.Z.locals;const Y=(0,k.Z)(q,N,[],!1,null,"50648cab",null).exports;var V=function(){var t=this,e=t._self._c;return e("v-menu",{attrs:{top:"","nudge-bottom":"105","nudge-left":"16","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("div",t._g({style:t.swatchStyle},i))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),e("v-card",[e("v-card-text",{staticClass:"pa-0"},[e("v-color-picker",{attrs:{mode:"hexa",swatches:t.swatches,"show-swatches":"",flat:""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"grey",outlined:""},on:{click:t.cancel}},[t._v("\n        "+t._s(t.$gettext("cancel"))+"\n      ")]),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",outlined:""},on:{click:t.updateColor}},[t._v("\n        "+t._s(t.$gettext("apply"))+"\n      ")])],1)],1)],1)};V._withStripped=!0;const Q={name:"EmptyComponent",components:{},model:{prop:"pcolor",event:"update-color"},props:["pcolor"],events:["update-color"],data:()=>({color:"$primary",menu:!1,swatches:[]}),computed:{swatchStyle(){const{color:t,menu:e}=this;return{backgroundColor:t,"border-style":"solid","border-width":"1px","border-color":"#868686",cursor:"pointer",height:"20px",width:"20px",borderRadius:e?"50%":"4px",transition:"border-radius 200ms ease-in-out"}}},watch:{pcolor(t){"#"!==this.pcolor[0]&&(this.color="#".concat(this.pcolor),this.$emit("update-color",this.pcolor.slice(0,6))),"#"===this.pcolor[0]&&this.$emit("update-color",this.pcolor.slice(1,7))}},mounted(){const t=Object.keys(this.$vuetify.theme.currentTheme.chart);let e=[];t.map((t=>{e.push(this.$vuetify.theme.currentTheme.chart[t]),2===e.length&&(this.swatches.push(e),e=[])})),[null,void 0,""].includes(this.pcolor)?this.color=this.$vuetify.theme.currentTheme.chart.lightblue:"#"!==this.pcolor[0]?this.color="#".concat(this.pcolor):this.color=this.pcolor},methods:{updateColor(){this.$emit("update-color",this.color),this.menu=!1},cancel(){this.color=this.pcolor,this.menu=!1}}},W=(0,k.Z)(Q,V,[],!1,null,"858aa142",null).exports;var K=i(6955);const J={name:"Home",components:{Map:Y,SidePanel:F,ColorPicker:W},data:()=>({editorTrip:null,action:null,selectedNode:null,selectedLink:null,selectedIndex:null,showDialog:!1,cloneDialog:!1,editorForm:{},cursorPosition:[],tripToDelete:null,tripToClone:null,message:"",cloneName:null,errorMessage:null,lingering:!0,groupTripIds:[],selectedTab:0,isRoadMode:!1}),computed:{selectedTrips(){return this.$store.getters.selectedTrips},selectedrGroup(){return this.$store.getters.selectedrGroup},orderedForm(){let t=this.editorForm;t.length>=1&&(t=t[this.selectedTab]);const e=Object.keys(t).filter((e=>!t[e].disabled)).sort();return e.push(...Object.keys(t).filter((e=>t[e].disabled)).sort()),e.reduce(((e,i)=>(e[i]=t[i],e)),{})}},watch:{showDialog(t){t&&this.$store.commit("changeNotification",{text:"",autoClose:!0})}},created(){this.editorTrip=this.$store.getters.editorTrip,window.addEventListener("keydown",(t=>{"Control"===t.key&&this.$store.commit("changeAnchorMode")}))},methods:{updateSelectedTrips(t){"links"===t.type?this.$store.commit("changeSelectedTrips",t.data):"rlinks"===t.type&&this.$store.commit("changeVisibleRoads",t.data)},actionClick(t){if(this.action=t.action,"Edit Line Info"===this.action)this.editorForm=structuredClone(this.$store.getters.editorLineInfo),this.lingering=t.lingering,this.showDialog=!0;else if("Edit Group Info"===this.action){this.groupTripIds=t.tripIds;const e=["index","length","a","b","link_sequence","trip_id"],i=this.$store.getters.lineAttributes,n=structuredClone(this.$store.getters.links.features.filter((t=>this.groupTripIds.includes(t.properties.trip_id))));this.editorForm=(0,K.Vh)(n,i,e),this.lingering=t.lingering,this.showDialog=!0}else if("Edit Link Info"===this.action){this.selectedLink=t.selectedFeature.properties;const e=["a","b","index","link_sequence","trip_id"],i=this.$store.getters.lineAttributes,n=this.$store.getters.editorLinks.features.filter((t=>t.properties.index===this.selectedLink.index));this.editorForm=(0,K.Vh)(n,i,e),this.lingering=t.lingering,this.showDialog=!0}else if("Edit rLink Info"===this.action)this.selectedLink=t.selectedIndex,this.selectedTab=0,this.editorForm=this.selectedLink.map((t=>this.$store.getters.rlinksForm(t))),this.showDialog=!0;else if("Edit Road Group Info"===this.action){const e=this.$store.getters.grouprLinks(t.category,t.group);this.selectedLinks=e;const i=this.$store.getters.rlineAttributes,n=["index","length","a","b"];this.editorForm=(0,K.Vh)(e,i,n),this.lingering=t.lingering,this.showDialog=!0}else if("Edit Visible Road Info"===this.action){const e=this.$store.getters.visiblerLinks.features;this.selectedLinks=e;const i=this.$store.getters.rlineAttributes,n=["index","length","a","b"];this.editorForm=(0,K.Vh)(e,i,n),this.lingering=t.lingering,this.showDialog=!0}else if(["Edit Node Info","Edit rNode Info"].includes(this.action)){this.selectedNode=t.selectedFeature.properties,"Edit Node Info"===this.action?this.editorForm=this.$store.getters.editorNodes.features.filter((t=>t.properties.index===this.selectedNode.index)):"Edit rNode Info"===this.action&&(this.editorForm=this.$store.getters.visiblerNodes.features.filter((t=>t.properties.index===this.selectedNode.index))),this.editorForm=this.editorForm[0].properties;const e=["index","route_width"],i=Object.keys(this.editorForm).reduce(((t,i)=>(t[i]={value:this.editorForm[i],disabled:e.includes(i),placeholder:!1},t)),{});this.editorForm=i,this.showDialog=!0}else["Cut Before Node","Cut After Node","Move Stop","Delete Stop","Delete Anchor","Delete Road Anchor"].includes(this.action)?(this.selectedNode=t.selectedFeature.properties,this.applyAction()):["Add Stop Inline","Add Anchor Inline"].includes(this.action)?(this.selectedLink=t.selectedFeature.properties,this.cursorPosition=t.lngLat,this.applyAction()):["Add Road Node Inline","Add Road Anchor Inline","Delete rLink"].includes(this.action)?(this.selectedIndex=t.selectedIndex,this.cursorPosition=t.lngLat,this.applyAction()):["Move Node","Move Anchor","Move rNode","Move rAnchor"].includes(this.action)&&(this.selectedNode=t.selectedFeature,this.cursorPosition=t.lngLat,this.applyAction())},applyAction(){switch(this.showDialog=!1,this.action){case"Cut Before Node":this.$store.commit("cutLineAtNode",{selectedNode:this.selectedNode});break;case"Cut After Node":this.$store.commit("cutLineFromNode",{selectedNode:this.selectedNode});break;case"Delete Stop":this.$store.commit("deleteNode",{selectedNode:this.selectedNode});break;case"Edit Link Info":this.$store.commit("editLinkInfo",{selectedLinkId:this.selectedLink.index,info:this.editorForm});break;case"Edit Node Info":this.$store.commit("editNodeInfo",{selectedNodeId:this.selectedNode.index,info:this.editorForm});break;case"Edit Line Info":this.editorForm.trip_id.value!==this.$store.getters.editorTrip&&this.$store.getters.tripId.includes(this.editorForm.trip_id.value)&&(this.lingering=!0,this.editorTrip=null,this.$store.commit("setEditorTrip",{tripId:null,changeBounds:!1}),this.action=null,this.$store.commit("changeNotification",{text:"Could not apply modification. Trip_id already exist",autoClose:!0,color:"red darken-2"})),this.$store.commit("editLineInfo",this.editorForm),0===this.$store.getters.editorNodes.features.length&&this.$store.commit("changeNotification",{text:"Click on the map to start drawing",autoClose:!1});break;case"Edit Group Info":this.$store.commit("editGroupInfo",{groupTripIds:this.groupTripIds,info:this.editorForm});break;case"deleteTrip":this.$store.commit("deleteTrip",this.tripToDelete);break;case"Add Stop Inline":this.$store.commit("addNodeInline",{selectedLink:this.selectedLink,lngLat:this.cursorPosition,nodes:"editorNodes"});break;case"Add Anchor Inline":this.$store.commit("addNodeInline",{selectedLink:this.selectedLink,lngLat:this.cursorPosition,nodes:"anchorNodes"});break;case"Delete Anchor":this.$store.commit("deleteAnchorNode",{selectedNode:this.selectedNode});break;case"Edit rLink Info":this.$store.commit("editrLinkInfo",{selectedLinkId:this.selectedLink,info:this.editorForm});break;case"Edit Road Group Info":this.$store.commit("editrGroupInfo",{selectedLinks:this.selectedLinks,info:this.editorForm}),this.$refs.mapref.$refs.roadref.getBounds();break;case"Edit Visible Road Info":this.$store.commit("editrVisiblesInfo",{info:this.editorForm}),this.$refs.mapref.$refs.roadref.getBounds();break;case"Edit rNode Info":this.$store.commit("editrNodeInfo",{selectedNodeId:this.selectedNode.index,info:this.editorForm});break;case"Add Road Node Inline":this.$store.commit("addRoadNodeInline",{selectedIndex:this.selectedIndex,lngLat:this.cursorPosition,nodes:"rnodes"});break;case"Add Road Anchor Inline":this.$store.commit("addRoadNodeInline",{selectedIndex:this.selectedIndex,lngLat:this.cursorPosition,nodes:"anchorrNodes"});break;case"Move Node":this.$store.commit("moveNode",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Move Anchor":this.$store.commit("moveAnchor",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Move rNode":this.$store.commit("moverNode",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Move rAnchor":this.$store.commit("moverAnchor",{selectedNode:this.selectedNode,lngLat:this.cursorPosition});break;case"Delete Road Anchor":this.$store.commit("deleteAnchorrNode",{selectedNode:this.selectedNode});break;case"Delete rLink":this.$store.commit("deleterLink",{selectedIndex:this.selectedIndex});break;case"deleterGroup":this.$store.commit("deleterGroup",this.tripToDelete)}this.lingering||(this.confirmChanges(),this.lingering=!0)},cancelAction(){this.showDialog=!1,this.lingering||(this.abortChanges(),this.lingering=!0)},confirmChanges(){this.$store.commit("confirmChanges"),this.editorTrip=null,this.$store.commit("setEditorTrip",{tripId:null,changeBounds:!1}),this.action=null,this.$store.commit("changeNotification",{text:"modification applied",autoClose:!0,color:"success"})},abortChanges(){this.editorTrip=null,this.$store.commit("setEditorTrip",{tripId:null,changeBounds:!1}),this.action=null,this.$store.commit("changeNotification",{text:"modification aborted",autoClose:!0})},deleteButton(t){this.tripToDelete=t.trip,this.message=t.message,this.action=t.action,this.showDialog=!0},duplicate(){this.$store.getters.tripId.includes(this.cloneName)?this.errorMessage="already exist":(this.$store.commit("cloneTrip",{tripId:this.tripToClone,name:this.cloneName}),this.errorMessage="",this.cloneDialog=!1)},cloneButton(t){this.tripToClone=t.trip,this.message=t.message,this.cloneName=t.trip+" copy",this.cloneDialog=!0},cancelClone(){this.errorMessage="",this.cloneDialog=!1}}};var X=i(7315),tt={};tt.styleTagTransform=C(),tt.setAttributes=m(),tt.insert=A().bind(null,"head"),tt.domAPI=p(),tt.insertStyleElement=v(),d()(X.Z,tt),X.Z&&X.Z.locals&&X.Z.locals;const et=(0,k.Z)(J,n,[],!1,null,"7a0c2e1a",null).exports}}]);
//# sourceMappingURL=370.build.js.map