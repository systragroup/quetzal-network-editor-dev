"use strict";(self.webpackChunkquetzal_network_editor=self.webpackChunkquetzal_network_editor||[]).push([[525],{78229:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(87537),a=n.n(r),o=n(23645),s=n.n(o)()(a());s.push([t.id,".layout[data-v-7545e3e7]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-7545e3e7]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.subtitle[data-v-7545e3e7]{font-size:2em;color:var(--v-secondary-dark);font-weight:bold;margin:10px;margin-left:0px}.title[data-v-7545e3e7]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.v-card__text[data-v-7545e3e7]{max-height:80%;overflow-y:auto}.v-form[data-v-7545e3e7]{max-height:80%}.categorie[data-v-7545e3e7]{font-size:1.5em;font-weight:bold;background:var(--v-background-lighten3)}","",{version:3,sources:["webpack://./src/components/run/ParamForm.vue"],names:[],mappings:"AAEA,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,2BACE,aAAA,CACA,6BAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,+BACE,cAAA,CACA,eAAA,CAEF,yBACE,cAAA,CAEF,4BACE,eAAA,CACA,gBAAA,CACA,uCAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.subtitle {\n  font-size: 2em;\n  color:var(--v-secondary-dark);\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0px;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.v-card__text {\n  max-height: 80%;\n  overflow-y: auto;\n}\n.v-form {\n  max-height: 80%;\n}\n.categorie {\n  font-size: 1.5em;\n  font-weight: bold;\n  background:var(--v-background-lighten3);\n}\n\n'],sourceRoot:""}]);const i=s},52330:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(87537),a=n.n(r),o=n(23645),s=n.n(o)()(a());s.push([t.id,".container[data-v-7cab841d]{width:100%;overflow:hidden;margin-left:0 auto;margin-right:0 auto;padding:0 0 0 0}.layout[data-v-7cab841d]{position:absolute;width:100%;height:calc(100% - 50px);display:flex;flex-flow:row;justify-content:center;align-items:center}.layout-overlay[data-v-7cab841d]{height:100%;width:100%;background-color:rgba(0,0,0,.5);position:absolute}.card[data-v-7cab841d]{height:100%;overflow-y:auto;padding:40px}.v-card__text[data-v-7cab841d]{max-height:80%;overflow-y:auto}.row[data-v-7cab841d]{height:calc(100% - 38px)}.col[data-v-7cab841d]{max-height:100%}.title[data-v-7cab841d]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:3.5em;color:#b5e0d6 !important;font-weight:bold}.subtitle[data-v-7cab841d]{font-size:2em;color:var(--v-secondary-dark);font-weight:bold;margin:10px;margin-left:0px}.card button[data-v-7cab841d]{margin-top:0px}.v-stepper__content[data-v-7cab841d]{border-left:4px solid rgba(0,0,0,.12)}.v-sheet.v-stepper[data-v-7cab841d]:not(.v-sheet--outlined){box-shadow:none}.background[data-v-7cab841d]{background-color:var(--v-background-base)}","",{version:3,sources:["webpack://./src/pages/Run.vue"],names:[],mappings:"AAEA,4BACE,UAAA,CACA,eAAA,CACA,kBAAA,CACA,mBAAA,CACA,eAAA,CAEF,yBACE,iBAAA,CACA,UAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CAEF,iCACE,WAAA,CACA,UAAA,CACA,+BAAA,CACA,iBAAA,CAEF,uBACE,WAAA,CACA,eAAA,CACA,YAAA,CAGF,+BACE,cAAA,CACA,eAAA,CAEF,sBACE,wBAAA,CAEF,sBACE,eAAA,CAEF,wBACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,wBAAA,CACA,gBAAA,CAEF,2BACE,aAAA,CACA,6BAAA,CACA,gBAAA,CACA,WAAA,CACA,eAAA,CAEF,8BACE,cAAA,CAEF,qCACE,qCAAA,CAEF,4DACE,eAAA,CAEF,6BACE,yCAAA",sourcesContent:['@import "@scss/variables.scss";\n\n.container {\n  width: 100%;\n  overflow: hidden;\n  margin-left: 0 auto;\n  margin-right: 0 auto;\n  padding: 0 0 0 0;\n}\n.layout {\n  position: absolute;\n  width: calc(100%);\n  height: calc(100% - 50px);\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  align-items: center;\n}\n.layout-overlay {\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  position: absolute;\n}\n.card {\n  height: 100%;\n  overflow-y: auto;\n  padding: 40px;\n}\n\n.v-card__text {\n  max-height: 80%;\n  overflow-y: auto;\n}\n.row {\n  height: calc(100% - 38px)\n}\n.col {\n  max-height: 100%;\n}\n.title {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 3.5em;\n  color: $primary !important;\n  font-weight: bold;\n}\n.subtitle {\n  font-size: 2em;\n  color:var(--v-secondary-dark);\n  font-weight: bold;\n  margin: 10px;\n  margin-left: 0px;\n}\n.card button {\n  margin-top: 0px;\n}\n.v-stepper__content {\n  border-left: 4px solid rgba(0,0,0,.12);\n}\n.v-sheet.v-stepper:not(.v-sheet--outlined) {\n  box-shadow: none;\n}\n.background {\n  background-color:var(--v-background-base);\n}\n'],sourceRoot:""}]);const i=s},25525:(t,e,n)=>{n.r(e),n.d(e,{default:()=>_});var r=function(){var t=this,e=t._self._c;return e("v-row",{staticClass:"ma-0 pa-2 background"},[e("v-col",{attrs:{order:"1"}},[e("ParamForm")],1),t._v(" "),e("v-col",{attrs:{order:"2"}},[e("v-card",{staticClass:"card"},[e("v-card-title",{staticClass:"subtitle"},[t._v("\n        "+t._s(t.$gettext("Scenario Simulation"))+"\n      ")]),t._v(" "),e("v-stepper",{staticStyle:{"background-color":"var(--v-background-lighten4)"},attrs:{vertical:""},model:{value:t.currentStep,callback:function(e){t.currentStep=e},expression:"currentStep"}},[t.synchronized?t._e():e("v-alert",{attrs:{dense:"",outlined:"",text:"",type:"warning"}},[t._v("\n          "+t._s(t.$gettext("Results are not synchronized with latest modifications.           Please relauch simulation to update results."))+"\n        ")]),t._v(" "),t.error?e("v-alert",{attrs:{dense:"",outlined:"",text:"",type:"error"}},[t._v("\n          "+t._s(t.$gettext("Simulation ended with an execution error or have been aborted.           Please relauch simulation. If the problem persist, contact us."))+"\n        ")]):t._e(),t._v(" "),t.isProtected?e("v-alert",{attrs:{dense:"",outlined:"",text:"",type:"error"}},[t._v("\n          "+t._s(t.$gettext("This scenario is protected. You can not run simulation."))+"\n        ")]):t._e(),t._v(" "),e("v-btn",{attrs:{loading:t.running,disabled:t.running||t.isProtected||!t.modelIsLoaded,color:"success"},on:{click:function(e){return t.run()}}},[e("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{small:""}},[t._v("\n            fa-solid fa-play\n          ")]),t._v("\n          "+t._s(t.$gettext("Run Simulation"))+"\n        ")],1),t._v(" "),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.running&&1!==t.currentStep,expression:"running && currentStep!==1"}],attrs:{color:"grey",text:""},on:{click:function(e){return t.stopRun()}}},[t._v("\n          "+t._s(t.$gettext("Abort Simulation"))+"\n        ")]),t._v(" "),t.modelIsLoaded?e("div",t._l(t.steps,(function(n,r){return e("v-container",{key:r+1},[e("v-stepper-content",{attrs:{step:r+1}}),t._v(" "),e("v-stepper-step",{attrs:{complete:t.currentStep>r+1,step:r+1,rules:[()=>!(r+1==t.currentStep&&t.error)]}},[t._v("\n              "+t._s(n.name)+"\n            ")])],1)})),1):t._e()],1)],1)],1)],1)};r._withStripped=!0;var a=function(){var t=this,e=t._self._c;return e("v-card",{staticClass:"card"},[e("v-card-title",{staticClass:"subtitle"},[t._v("\n    "+t._s(t.$gettext("Scenario Settings"))+"\n  ")]),t._v(" "),e("v-card-text",[e("v-form",{ref:"form",attrs:{"lazy-validation":""}},[e("v-expansion-panels",{attrs:{multiple:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.parameters,(function(n,r){return e("v-expansion-panel",{key:r},[e("v-expansion-panel-header",{staticClass:"categorie"},[t._v("\n            "+t._s(n.category)+"\n          ")]),t._v(" "),e("v-expansion-panel-content",{staticStyle:{"background-color":"var(--v-background-lighten4) !important"}},t._l(n.params,(function(n,r){return e("li",{key:r},[void 0===n.items&&"boolean"!=typeof n.value?e("v-text-field",{attrs:{type:n.type,label:t.$gettext(n.text),suffix:n.units,hint:t.showHint?t.$gettext(n.hint):"","persistent-hint":t.showHint,rules:n.rules.map((e=>t.rules[e])),required:""},on:{wheel:()=>{}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}}):void 0===n.items&&"boolean"==typeof n.value?e("v-switch",{attrs:{label:t.$gettext(n.text),hint:t.showHint?t.$gettext(n.hint):"","persistent-hint":t.showHint},on:{wheel:()=>{}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}}):e("v-select",{attrs:{type:n.type,items:n.items,label:t.$gettext(n.text),suffix:n.units,hint:t.showHint?t.$gettext(n.hint):"","persistent-hint":t.showHint,rules:n.rules.map((e=>t.rules[e])),required:""},on:{wheel:()=>{}},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}})],1)})),0)],1)})),1)],1)],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"grey",text:""},on:{click:t.reset}},[t._v("\n      "+t._s(t.$gettext("back to default"))+"\n    ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{text:""},on:{click:t.expandAll}},[t._v("\n      "+t._s(t.panel.length!=t.parameters.length?t.$gettext("Expand all"):t.$gettext("Collapse all"))+"\n    ")]),t._v(" "),e("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){t.showHint=!t.showHint}}},[e("v-icon",[t._v("far fa-question-circle small")])],1)],1)],1)};a._withStripped=!0;const o={name:"Settings",data(){return{projectName:{name:"Project Name",text:"project Name",type:"String",value:this.$store.getters.projectId,hint:"Change project Name",rules:["required"]},rules:{required:t=>!!t||"Required",largerThanZero:t=>t>0||"should be larger than 0",nonNegative:t=>t>=0||"should be larger or equal to 0"},errorMessage:null,showHint:!1,panel:[]}},computed:{parameters(){return this.$store.getters["run/parameters"]}},mounted(){this.panel=[...Array(this.parameters.length).keys()].map(((t,e)=>e))},methods:{expandAll(){this.panel.length<this.parameters.length?this.panel=[...Array(this.parameters.length).keys()].map(((t,e)=>e)):this.panel=[]},change(t){},reset(){this.$store.dispatch("run/getParameters",{model:this.$store.getters.model,path:this.$store.getters.scenario+"/"+this.$store.getters.config.parameters_path})}}};var s=n(93379),i=n.n(s),A=n(7795),l=n.n(A),c=n(90569),u=n.n(c),d=n(3565),p=n.n(d),h=n(19216),v=n.n(h),g=n(44589),C=n.n(g),m=n(78229),b={};b.styleTagTransform=C(),b.setAttributes=p(),b.insert=u().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=v(),i()(m.Z,b),m.Z&&m.Z.locals&&m.Z.locals;var f=n(51900);const x={name:"Run",components:{ParamForm:(0,f.Z)(o,a,[],!1,null,"7545e3e7",null).exports},computed:{steps(){return this.$store.getters["run/steps"]},running(){return this.$store.getters["run/running"]},currentStep(){return this.$store.getters["run/currentStep"]},error(){return this.$store.getters["run/error"]},synchronized(){return this.$store.getters["run/synchronized"]},isProtected(){return this.$store.getters.protected.includes(this.$store.getters.scenario)},modelIsLoaded(){return null!==this.$store.getters.model}},created(){this.modelIsLoaded&&this.$store.dispatch("run/getSteps")},methods:{async run(){this.$store.commit("run/startExecution"),this.$store.dispatch("exportToS3").then((()=>{this.$store.dispatch("run/startExecution",{scenario:this.$store.getters.scenario})})).catch((t=>{this.$store.commit("run/terminateExecution"),this.$store.commit("changeAlert",t)}))},stopRun(){this.$store.dispatch("run/stopExecution")}}};var y=n(52330),w={};w.styleTagTransform=C(),w.setAttributes=p(),w.insert=u().bind(null,"head"),w.domAPI=l(),w.insertStyleElement=v(),i()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;const _=(0,f.Z)(x,r,[],!1,null,"7cab841d",null).exports}}]);
//# sourceMappingURL=525.build.js.map