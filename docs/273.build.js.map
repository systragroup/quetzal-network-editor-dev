{"version":3,"file":"273.build.js","mappings":"oLAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,ukBAAwkB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,2CAA2C,MAAQ,GAAG,SAAW,mQAAmQ,eAAiB,CAAC,wpBAA0pB,WAAa,MAEzoD,S,gDCPA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACRC,EAAKF,EAAIG,MAAMD,GACjB,OAAOA,EACL,UACA,CAAEE,YAAa,UACf,CACsB,IAApBJ,EAAIK,KAAKC,OACLJ,EAAG,IAAK,CACNF,EAAIO,GAAG,SAAWP,EAAIQ,GAAGR,EAAIS,SAAST,EAAIU,UAAY,UAExDV,EAAIW,KACRX,EAAIO,GAAG,KACPP,EAAIY,GAAGZ,EAAIK,MAAM,SAAUQ,EAAKC,GAC9B,OAAOZ,EACL,MACA,CAAEY,IAAKA,EAAKV,YAAa,WACzB,CAACF,EAAG,QAAS,CAAEa,MAAO,CAAEC,IAAKH,EAAKI,IAAK,YACvC,EAEJ,KAEF,EAEJ,EAEAlB,EAAOmB,eAAgB,E,eCxBvB,MCFiI,EDIjI,CACEC,KAAM,gBACNC,WAAY,CACZ,EACAC,KAAK,KACI,CACLhB,KAAM,GACNK,QAAS,KAGbY,MAAO,CAEP,EACAC,gBACEtB,KAAKuB,OAAOC,OAAO,iBAAiB,SAC9BxB,KAAKyB,SAEXzB,KAAKuB,OAAOC,OAAO,iBAAiB,GACX,IAArBxB,KAAKI,KAAKC,SACZL,KAAKS,QAAmB,qBAE5B,EAEAiB,QAAS,CACPJ,eAGE,MAAMK,EAAW3B,KAAKuB,OAAOK,QAAQD,SAAW,IAE1CE,EADa7B,KAAKuB,OAAOK,QAAQE,WACXC,QAAOC,GAAQA,EAAKC,KAAKC,WAAW,aAAeF,EAAKC,KAAKE,SAAS,UAClG,IAAK,MAAMH,KAAQH,EACjB,GAAMG,EAAKI,mBAAmBC,WAGvB,CACL,MAAMC,EAAO,IAAIC,KAAK,CAACP,EAAKI,SAAU,CAAEI,KAAM,cAExCC,EAAS,IAAIC,WACnBD,EAAOE,OAAUC,IACf,MAAMC,EAAMD,EAAME,OAAOC,OAEzB,OADA/C,KAAKI,KAAKT,KAAKkD,GACRA,GAETJ,EAAOO,cAAcV,EACvB,KAb2C,CACzC,MAAMO,QAAY,IAAGI,aAAajD,KAAKuB,OAAOK,QAAQsB,MAAOvB,EAAWK,EAAKC,MAC7EjC,KAAKI,KAAKT,KAAKkD,EACjB,CAYJ,I,qIEvCAM,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,IAAQM,QAAS,IAAQA,OCP1D,SAXgB,E,SAAA,GACd,EACA3D,EJeoB,IIbpB,EACA,KACA,WACA,MAI8B,O","sources":["webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?a61e","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?a493","webpack://quetzal-network-editor/src/pages/ResultPicture.vue","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?549e","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue?2acb","webpack://quetzal-network-editor/./src/pages/ResultPicture.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-334fb0f6]{background-color:var(--v-white-base);display:flex;height:100%;align-items:center;flex-direction:column;overflow-y:scroll;padding-top:15px;padding-bottom:60px}div.gallery[data-v-334fb0f6]{margin:5px;background-color:var(--v-white-base);border:1px solid var(--v-lightgrey-base);float:left;width:50rem}div.gallery[data-v-334fb0f6]:hover{border:1px solid var(--v-darkgrey-base)}div.gallery img[data-v-334fb0f6]{width:100%;height:auto}div.desc[data-v-334fb0f6]{padding:15px;text-align:center}.image-fit[data-v-334fb0f6]{height:100%;width:100%;object-fit:cover}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultPicture.vue\"],\"names\":[],\"mappings\":\"AAGA,yBACE,oCAAA,CACA,YAAA,CACA,WAAA,CACA,kBAAA,CACA,qBAAA,CACA,iBAAA,CACA,gBAAA,CACA,mBAAA,CAEF,6BACE,UAAA,CACA,oCAAA,CACA,wCAAA,CACA,UAAA,CACA,WAAA,CAGF,mCACE,uCAAA,CAGF,iCACE,UAAA,CACA,WAAA,CAGF,0BACE,YAAA,CACA,iBAAA,CAEF,4BACE,WAAA,CACA,UAAA,CACA,gBAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.layout {\\n  background-color:var(--v-white-base);\\n  display: flex;\\n  height: 100%;\\n  align-items: center;\\n  flex-direction: column;\\n  overflow-y: scroll;\\n  padding-top: 15px;\\n  padding-bottom: 60px;\\n}\\ndiv.gallery {\\n  margin: 5px;\\n  background-color: var(--v-white-base);\\n  border: 1px solid var(--v-lightgrey-base);\\n  float: left;\\n  width: 50rem;\\n}\\n\\ndiv.gallery:hover {\\n  border: 1px solid var(--v-darkgrey-base);\\n}\\n\\ndiv.gallery img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\ndiv.desc {\\n  padding: 15px;\\n  text-align: center;\\n}\\n.image-fit{\\n  height: 100%;\\n  width: 100%;\\n  object-fit: cover;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"layout\" },\n    [\n      _vm.imgs.length === 0\n        ? _c(\"p\", [\n            _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(_vm.message)) + \"\\n  \"),\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm._l(_vm.imgs, function (img, key) {\n        return _c(\n          \"div\",\n          { key: key, staticClass: \"gallery\" },\n          [_c(\"v-img\", { attrs: { src: img, alt: \"image\" } })],\n          1\n        )\n      }),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport s3 from '../AWSClient'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultPicture',\n  components: {\n  },\n  data () {\n    return {\n      imgs: [],\n      message: '',\n    }\n  },\n  watch: {\n\n  },\n  async created () {\n    this.$store.commit('changeLoading', true)\n    await this.getImg()\n\n    this.$store.commit('changeLoading', false)\n    if (this.imgs.length === 0) {\n      this.message = $gettext('Nothing to display')\n    }\n  },\n\n  methods: {\n    async getImg () {\n      // get the list of CSV from output files.\n      // if its undefined (its on s3). fetch it.\n      const scenario = this.$store.getters.scenario + '/'\n      const otherFiles = this.$store.getters.otherFiles\n      const imgFiles = otherFiles.filter(file => file.path.startsWith('outputs/') && file.path.endsWith('.png'))\n      for (const file of imgFiles) {\n        if (!(file.content instanceof Uint8Array)) {\n          const url = await s3.getImagesURL(this.$store.getters.model, scenario + file.path)\n          this.imgs.push(url)\n        } else {\n          const blob = new Blob([file.content], { type: 'image/png' })\n          // Create a data URL from the Blob\n          const reader = new FileReader()\n          reader.onload = (event) => {\n            const url = event.target.result\n            this.imgs.push(url)\n            return url\n          }\n          reader.readAsDataURL(blob)\n        }\n      }\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"layout\">\n    <p v-if=\"imgs.length===0\">\n      {{ $gettext(message) }}\n    </p>\n    <div\n      v-for=\"(img,key) in imgs\"\n      :key=\"key\"\n      class=\"gallery\"\n    >\n      <v-img\n        :src=\"img\"\n        :alt=\"'image'\"\n      />\n    </div>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n.layout {\n  background-color:var(--v-white-base);\n  display: flex;\n  height: 100%;\n  align-items: center;\n  flex-direction: column;\n  overflow-y: scroll;\n  padding-top: 15px;\n  padding-bottom: 60px;\n}\ndiv.gallery {\n  margin: 5px;\n  background-color: var(--v-white-base);\n  border: 1px solid var(--v-lightgrey-base);\n  float: left;\n  width: 50rem;\n}\n\ndiv.gallery:hover {\n  border: 1px solid var(--v-darkgrey-base);\n}\n\ndiv.gallery img {\n  width: 100%;\n  height: auto;\n}\n\ndiv.desc {\n  padding: 15px;\n  text-align: center;\n}\n.image-fit{\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n}\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=style&index=0&id=334fb0f6&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultPicture.vue?vue&type=style&index=0&id=334fb0f6&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultPicture.vue?vue&type=template&id=334fb0f6&scoped=true&\"\nimport script from \"./ResultPicture.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultPicture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultPicture.vue?vue&type=style&index=0&id=334fb0f6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"334fb0f6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_c","_self","staticClass","imgs","length","_v","_s","$gettext","message","_e","_l","img","key","attrs","src","alt","_withStripped","name","components","data","watch","async","$store","commit","getImg","methods","scenario","getters","imgFiles","otherFiles","filter","file","path","startsWith","endsWith","content","Uint8Array","blob","Blob","type","reader","FileReader","onload","event","url","target","result","readAsDataURL","getImagesURL","model","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}