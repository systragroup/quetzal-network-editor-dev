{"version":3,"file":"866.build.js","mappings":"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","sources":["webpack://quetzal-network-editor/./src/pages/ResultTable.vue?bf5c","webpack://quetzal-network-editor/./src/pages/ResultTable.vue?3cf7*","webpack://quetzal-network-editor/src/pages/ResultTable.vue","webpack://quetzal-network-editor/./src/pages/ResultTable.vue?3cf7","webpack://quetzal-network-editor/./src/pages/ResultTable.vue?29fd","webpack://quetzal-network-editor/./src/pages/ResultTable.vue"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.layout[data-v-3e25f457]{background-color:var(--v-white-base);display:flex;height:100%;width:100%;align-items:center;flex-direction:column;overflow-y:scroll;padding-top:15px;padding-bottom:60px}.card[data-v-3e25f457]{width:80%;margin:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/ResultTable.vue\"],\"names\":[],\"mappings\":\"AAGA,yBACE,oCAAA,CACA,YAAA,CACA,WAAA,CACA,UAAA,CACA,kBAAA,CACA,qBAAA,CACA,iBAAA,CACA,gBAAA,CACA,mBAAA,CAEF,uBACE,SAAA,CACA,WAAA\",\"sourcesContent\":[\"@import \\\"@scss/variables.scss\\\";\\n\\n\\n.layout {\\n  background-color:var(--v-white-base);\\n  display: flex;\\n  height: 100%;\\n  width:100%;\\n  align-items: center;\\n  flex-direction: column;\\n  overflow-y: scroll;\\n  padding-top: 15px;\\n  padding-bottom: 60px;\\n}\\n.card {\\n  width:80%;\\n  margin: 10px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"section\",\n    { staticClass: \"layout\" },\n    [\n      _vm.tables.length === 0\n        ? _c(\"p\", [\n            _vm._v(\"\\n    \" + _vm._s(_vm.$gettext(_vm.message)) + \"\\n  \"),\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm._l(_vm.tables, function (table, key) {\n        return _c(\n          \"v-card\",\n          { key: key, staticClass: \"card\" },\n          [\n            _c(\"v-data-table\", {\n              staticClass: \"elevation-3\",\n              attrs: {\n                headers: table.headers,\n                height: table.data.length >= 10 ? \"35rem\" : \"auto\",\n                \"fixed-header\": \"\",\n                \"fixed-footer\": \"\",\n                items: table.data,\n                \"items-per-page\": 10,\n                \"footer-props\": {\n                  \"items-per-page-options\":\n                    table.data.length <= 500\n                      ? [10, 20, 100, 200, -1]\n                      : [10, 20, 100, 200, 500],\n                },\n              },\n              scopedSlots: _vm._u(\n                [\n                  {\n                    key: \"top\",\n                    fn: function () {\n                      return [\n                        _c(\n                          \"v-toolbar\",\n                          { attrs: { flat: \"\" } },\n                          [\n                            _c(\"v-toolbar-title\", [_vm._v(_vm._s(table.name))]),\n                            _vm._v(\" \"),\n                            _c(\"v-spacer\"),\n                          ],\n                          1\n                        ),\n                      ]\n                    },\n                    proxy: true,\n                  },\n                ],\n                null,\n                true\n              ),\n            }),\n          ],\n          1\n        )\n      }),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<script>\nimport s3 from '../AWSClient'\nimport { csvJSON } from '../components/utils/utils.js'\nconst $gettext = s => s\n\nexport default {\n  name: 'ResultTable',\n  components: {\n  },\n  data () {\n    return {\n      tables: [],\n      message: '',\n    }\n  },\n  watch: {\n\n  },\n  async created () {\n    this.$store.commit('changeLoading', true)\n    const files = await this.getCSV()\n    for (const file of files) {\n      const name = file.path.split('/').splice(-1)[0].slice(0, -4)\n      const data = csvJSON(file.content)\n      const headers = []\n      Object.keys(data[0]).forEach(val => headers.push({ text: val, value: val, width: '1%' }))\n      this.tables.push({ headers: headers, data: data, name: name })\n    }\n    this.$store.commit('changeLoading', false)\n    if (this.tables.length === 0) {\n      this.message = $gettext('Nothing to display')\n    }\n  },\n\n  methods: {\n    async getCSV () {\n      // get the list of CSV from output files.\n      // if its undefined (its on s3). fetch it.\n      const scenario = this.$store.getters.scenario + '/'\n      const otherFiles = this.$store.getters.otherFiles\n      const csvFiles = otherFiles.filter(file => file.path.startsWith('outputs/') && file.path.endsWith('.csv'))\n      for (const file of csvFiles) {\n        if (!(file.content instanceof Uint8Array)) {\n          file.content = await s3.readBytes(this.$store.getters.model, scenario + file.path)\n        }\n      }\n      return csvFiles\n    },\n\n  },\n}\n</script>\n<template>\n  <section class=\"layout\">\n    <p v-if=\"tables.length===0\">\n      {{ $gettext(message) }}\n    </p>\n    <v-card\n      v-for=\"(table,key) in tables\"\n      :key=\"key\"\n      class=\"card\"\n    >\n      <v-data-table\n        :headers=\"table.headers\"\n        :height=\"table.data.length >= 10 ? '35rem':'auto'\"\n        fixed-header\n        fixed-footer\n        :items=\"table.data\"\n        :items-per-page=\"10\"\n        :footer-props=\"{\n          'items-per-page-options': table.data.length <= 500? [10, 20, 100, 200, -1] : [10, 20, 100, 200, 500]\n        }\"\n        class=\"elevation-3\"\n      >\n        <template v-slot:top>\n          <v-toolbar\n            flat\n          >\n            <v-toolbar-title>{{ table.name }}</v-toolbar-title>\n\n            <v-spacer />\n          </v-toolbar>\n        </template>\n      </v-data-table>\n    </v-card>\n  </section>\n</template>\n<style lang=\"scss\" scoped>\n\n.layout {\n  background-color:var(--v-white-base);\n  display: flex;\n  height: 100%;\n  width:100%;\n  align-items: center;\n  flex-direction: column;\n  overflow-y: scroll;\n  padding-top: 15px;\n  padding-bottom: 60px;\n}\n.card {\n  width:80%;\n  margin: 10px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultTable.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultTable.vue?vue&type=style&index=0&id=3e25f457&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultTable.vue?vue&type=style&index=0&id=3e25f457&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ResultTable.vue?vue&type=template&id=3e25f457&scoped=true&\"\nimport script from \"./ResultTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResultTable.vue?vue&type=style&index=0&id=3e25f457&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e25f457\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","render","_vm","this","_c","_self","staticClass","tables","length","_v","_s","$gettext","message","_e","_l","table","key","attrs","headers","height","data","items","scopedSlots","_u","fn","flat","name","proxy","_withStripped","components","watch","async","$store","commit","files","getCSV","file","path","split","splice","slice","content","Object","keys","forEach","val","text","value","width","methods","scenario","getters","csvFiles","otherFiles","filter","startsWith","endsWith","Uint8Array","readBytes","model","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}